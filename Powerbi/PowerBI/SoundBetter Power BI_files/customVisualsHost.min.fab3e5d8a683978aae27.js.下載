!function(){"use strict";var ie,ve,Vl={3188:function(ie,ve,v){v.d(ve,{Jh:function(){return D},ZT:function(){return l},_T:function(){return g},ev:function(){return Y},gn:function(){return V},mG:function(){return h},pi:function(){return n},w6:function(){return S}});var c=function(C,d){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,y){u.__proto__=y}||function(u,y){for(var M in y)Object.prototype.hasOwnProperty.call(y,M)&&(u[M]=y[M])})(C,d)};function l(C,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function u(){this.constructor=C}c(C,d),C.prototype=null===d?Object.create(d):(u.prototype=d.prototype,new u)}var n=function(){return n=Object.assign||function(d){for(var u,y=1,M=arguments.length;y<M;y++)for(var L in u=arguments[y])Object.prototype.hasOwnProperty.call(u,L)&&(d[L]=u[L]);return d},n.apply(this,arguments)};function g(C,d){var u={};for(var y in C)Object.prototype.hasOwnProperty.call(C,y)&&d.indexOf(y)<0&&(u[y]=C[y]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(y=Object.getOwnPropertySymbols(C);M<y.length;M++)d.indexOf(y[M])<0&&Object.prototype.propertyIsEnumerable.call(C,y[M])&&(u[y[M]]=C[y[M]])}return u}function V(C,d,u,y){var O,M=arguments.length,L=M<3?d:null===y?y=Object.getOwnPropertyDescriptor(d,u):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)L=Reflect.decorate(C,d,u,y);else for(var H=C.length-1;H>=0;H--)(O=C[H])&&(L=(M<3?O(L):M>3?O(d,u,L):O(d,u))||L);return M>3&&L&&Object.defineProperty(d,u,L),L}function S(C,d){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(C,d)}function h(C,d,u,y){return new(u||(u=Promise))(function(L,O){function H(W){try{X(y.next(W))}catch(J){O(J)}}function Q(W){try{X(y.throw(W))}catch(J){O(J)}}function X(W){W.done?L(W.value):function(L){return L instanceof u?L:new u(function(O){O(L)})}(W.value).then(H,Q)}X((y=y.apply(C,d||[])).next())})}function D(C,d){var y,M,L,O,u={label:0,sent:function(){if(1&L[0])throw L[1];return L[1]},trys:[],ops:[]};return O={next:H(0),throw:H(1),return:H(2)},"function"==typeof Symbol&&(O[Symbol.iterator]=function(){return this}),O;function H(X){return function(W){return function(X){if(y)throw new TypeError("Generator is already executing.");for(;u;)try{if(y=1,M&&(L=2&X[0]?M.return:X[0]?M.throw||((L=M.return)&&L.call(M),0):M.next)&&!(L=L.call(M,X[1])).done)return L;switch(M=0,L&&(X=[2&X[0],L.value]),X[0]){case 0:case 1:L=X;break;case 4:return u.label++,{value:X[1],done:!1};case 5:u.label++,M=X[1],X=[0];continue;case 7:X=u.ops.pop(),u.trys.pop();continue;default:if(!(L=(L=u.trys).length>0&&L[L.length-1])&&(6===X[0]||2===X[0])){u=0;continue}if(3===X[0]&&(!L||X[1]>L[0]&&X[1]<L[3])){u.label=X[1];break}if(6===X[0]&&u.label<L[1]){u.label=L[1],L=X;break}if(L&&u.label<L[2]){u.label=L[2],u.ops.push(X);break}L[2]&&u.ops.pop(),u.trys.pop();continue}X=d.call(C,u)}catch(W){X=[6,W],M=0}finally{y=L=0}if(5&X[0])throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}([X,W])}}}function Y(C,d,u){if(u||2===arguments.length)for(var L,y=0,M=d.length;y<M;y++)(L||!(y in d))&&(L||(L=Array.prototype.slice.call(d,0,y)),L[y]=d[y]);return C.concat(L||d)}},9064:function(ie,ve,v){v.d(ve,{s:function(){return n}});var c=v(255),l={},n=function(){function S(){}return S.clearQueryString=function(h){var D=S.parseQueryString();return delete D[h],S.rebuildQueryString(D)},S.clearQueryStrings=function(h){for(var D=S.parseQueryString(),b=0,N=h;b<N.length;b++)delete D[N[b]];return S.rebuildQueryString(D)},S.addOrUpdateQueryString=function(h,D){var b=S.parseQueryString();return b[h]=D,S.rebuildQueryString(b)},S.addOrUpdateQueryStringToUrl=function(h,D){for(var b=S.parseUrl(h),N=S.clearAllQueriesFromUrl(h),f=0,F=Object.keys(D);f<F.length;f++){var A=F[f];b[A]=D[A]}return N+S.rebuildQueryString(b)},S.getQueryStringValue=function(h){return S.parseQueryString()[h]},S.isQueryParamSet=function(h,D){var b=l[h];if(!D||void 0===b){var N=S.getQueryStringValue(h);b=null!=N&&"false"!==N&&("1"===N||"true"===N.toLowerCase()||N.length>1),D&&(l[h]=b)}return b},S.parseUrl=function(h){var D=h.indexOf("?"),b=D>=0?h.substr(D):void 0;return S.parseQueryString(b)},S.parseQueryString=function(h){void 0===h&&(h=window.location.search);var D={},b=h;if(b&&"?"===b.substr(0,1))for(var f=0,F=b.substr(1).split("&");f<F.length;f++){var k=F[f].split("="),Y=k[0],G=k.slice(1).join("=");D[decodeURIComponent(Y)]=decodeURIComponent(G)}return D},S.parseQueryStringWithMultipleKeyValues=function(h){void 0===h&&(h=window.location.search);var D={},b=h;if(b&&"?"===b.substr(0,1))for(var f=0,F=b.substr(1).split("&");f<F.length;f++){var k=F[f].split("="),Y=k[0],G=k.slice(1).join("="),I=decodeURIComponent(G);D[decodeURIComponent(Y)]?D[decodeURIComponent(Y)].push(I):D[decodeURIComponent(Y)]=[I]}return D},S.rebuildQueryString=function(h){var D="",b=!0;for(var N in h)b||(D+="&"),D+=encodeURIComponent(N)+"=",h[N]&&(D+=encodeURIComponent(h[N])),b=!1;return b||(D="?"+D),D},S.clearAllQueriesFromUrl=function(h){var D=h.indexOf("?"),b=h.indexOf("#");return b>=0&&(b<D||-1===D)&&(D=b),D>=0?h.substr(0,D):h},S.fileOfUrl=function(h){var D=(h=S.clearAllQueriesFromUrl(h)).lastIndexOf("/");return-1!==D&&(h=h.substring(D+1)),h},S.OriginClientActivityIdParameterName="caid",S.OriginRootActivityIdParameterName="raid",S.OriginActivityIdParameterName="aid",S}();function g(){var S=(0,c.kx)();return S.QueryStringUtil||(S.QueryStringUtil={}),S.QueryStringUtil}var P=!1;!function(){if(!P){var S=n.getQueryStringValue;g().getQueryStringValue=function(D){return S(D)};var h=n.parseQueryString;g().parseQueryString=function(D){return void 0===D&&(D=window.location.search),h(D)},P=!0}}()},9796:function(ie,ve,v){v.d(ve,{cx:function(){return P},lG:function(){return N},b1:function(){return k}});var c=v(3188),l=v(8955),n=v(8611),g=v(8974),P={},S=g.b$.generateGuid;function N(E,T,m){l.fF.assertAnyValue(E,"requiredFields"),l.fF.assertAnyValue(T,"optionalFields"),l.fF.assertAnyValue(m,"target");var z=m||E||{};if(m&&E&&(m=function(E,T,m){if(E||T)return!E||T?E||!T?$.extend(E,T,m):T:E}(m,E)),T)for(var R in T)if(T.hasOwnProperty(R)){var w=T[R];void 0!==w&&!1!==w&&(z[R]=w)}return z}function k(E,T){return function(m){return(0,c.pi)((0,c.pi)({name:E,time:(0,n.z)(),id:S()},T),{info:m,formatted:function(){return function(E,T,m){if(m){var z=[];for(var R in m){var w=T[m[R]];(void 0===w||!1===w)&&z.push(m[R])}T=_.omit(T,z)}return _.extend(E,T),E}({},m,null==T?void 0:T.optionalParameters)}})}}},7777:function(ie,ve,v){function c(Ze){return{class:Ze,selector:"."+Ze}}v.d(ve,{AI:function(){return Le},BF:function(){return ot},CH:function(){return c},ei:function(){return g},en:function(){return Je},f0:function(){return bt},kP:function(){return V},zu:function(){return te}});var g="height",V="width",te="none",Le="normal",Je="bold",ot="italic",bt="underline"},8078:function(ie,ve,v){v.d(ve,{BM:function(){return h},Eo:function(){return T},GG:function(){return k},GW:function(){return y},Po:function(){return Y},QO:function(){return w},U:function(){return u},Uy:function(){return E},W0:function(){return R},Xo:function(){return g},aP:function(){return G},bA:function(){return I},bl:function(){return j},cT:function(){return m},iD:function(){return z},kg:function(){return V},mv:function(){return F},oI:function(){return d},p8:function(){return A},qO:function(){return S},wA:function(){return f}});var c=v(8955),g=-308,V=308,S=1e-4,h=12,D=Math.log(10),b=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],N=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0];function f(L){return c.fF.assertValue(L,"exp"),L>=0?L<b.length?b[L]:1/0:(L=-L)>0&&L<N.length?N[L]:0}function F(L){return c.fF.assert(function(){return L>=0},"val"),L>1&&L<1e16?L<1e8?L<1e4?L<100?L<10?0:1:L<1e3?2:3:L<1e6?L<1e5?4:5:L<1e7?6:7:L<1e12?L<1e10?L<1e9?8:9:L<1e11?10:11:L<1e14?L<1e13?12:13:L<1e15?14:15:L>1e-16&&L<1?L<1e-8?L<1e-12?L<1e-14?L<1e-15?-16:-15:L<1e-13?-14:-13:L<1e-10?L<1e-11?-12:-11:L<1e-9?-10:-9:L<1e-4?L<1e-6?L<1e-7?-8:-7:L<1e-5?-6:-5:L<.01?L<.001?-4:-3:L<.1?-2:-1:E(Math.log(L)/D)}function A(L,O){if(void 0===O?O=h:c.fF.assert(function(){return O>=0},"decimalDigits"),L&&isFinite(L)){var H=F(Math.abs(L));return H<g?0:f(Math.max(H-O,1-N.length))}}function k(L,O,H){return H=M(H,L,O),c.fF.assert(function(){return H>=0},"precision"),L===O||Math.abs(L-O)<H}function Y(L,O,H){return H=M(H,L,O),c.fF.assert(function(){return H>=0},"precision"),L<O&&Math.abs(L-O)>H}function j(L,O,H){return H=M(H,L,O),c.fF.assert(function(){return H>=0},"precision"),L<O||Math.abs(L-O)<H}function G(L,O,H){return H=M(H,L,O),c.fF.assert(function(){return H>=0},"precision"),L>O&&Math.abs(L-O)>H}function I(L,O,H){return H=M(H,L,O),c.fF.assert(function(){return H>=0},"precision"),L>O||Math.abs(L-O)<H}function E(L,O){O=null!=O?O:S,c.fF.assert(function(){return O>=0},"precision");var H=Math.round(L);return Math.abs(L-H)<O?H:Math.floor(L)}function T(L,O){O=M(O,S),c.fF.assert(function(){return O>=0},"precision");var H=Math.round(L);return Math.abs(L-H)<O?H:Math.ceil(L)}function m(L,O){return O=M(O,S),c.fF.assert(function(){return O>=0},"precision"),0===O||0===L?L:Math.floor(L/O)*O}function z(L,O){return O=M(O,S),c.fF.assert(function(){return O>=0},"precision"),0===O||0===L?L:Math.ceil(L/O)*O}function R(L,O){if(O=M(O,S),c.fF.assert(function(){return O>=0},"precision"),0===O||0===L)return L;var H=Math.round(L/O)*O,Q=Math.round(F(Math.abs(L))-F(O))+1;return Q>0&&Q<16&&(H=parseFloat(H.toPrecision(Q))),H}function w(L,O,H){return c.fF.assert(function(){return O<=H},"min must be less or equal to max"),null==L?L:L<O?O:L>H?H:L}function d(L){return R(L,A(L))}function u(L){return null!==L&&L%1==0}function y(L,O){return Math.round(L/O)*O}function M(L,O,H){return void 0!==L?L:A(H?O?Math.min(Math.abs(O),Math.abs(H)):H:O)||S}},6725:function(ie,ve,v){v.d(ve,{DH:function(){return D},ap:function(){return P},dV:function(){return V},q$:function(){return g},wJ:function(){return h}});var c=v(3188),n=function(b){function N(f,F,A){var k=b.call(this,f,F+": "+A)||this;return k.argument=A,k}return(0,c.ZT)(N,b),N}(function(b){function N(f,F){var A=b.call(this,F)||this;return A.name=f,A}return(0,c.ZT)(N,b),N}(Error));function g(b){return new n("argumentNull","Argument was null",b)}function V(b){return new n("argumentUndefined","Argument was undefined",b)}function P(b){return new n("argumentOutOfRange","Argument was out of range",b)}var h=function(b){function N(f){return b.call(this,f)||this}return(0,c.ZT)(N,b),N}(Error);function D(b){var N,f;void 0===b&&(b=1);try{throw new Error}catch(F){null!=(N=F.stack)&&((f=N.split("\n")).splice(1,b),N=f.join("\n"))}return N}},4216:function(ie,ve,v){v.d(ve,{o:function(){return l}});var c=v(8955),l=function(){function n(g){c.fF.assertValue(g,"factoryMethod"),this.factoryMethod=g}return n.prototype.getValue=function(){return null!==this.factoryMethod&&(this.value=this.factoryMethod(),this.factoryMethod=null),this.value},n}()},3775:function(ie,ve,v){function c(P,S){if(null===P)return null;var h=Object.create(P);return S&&S(h),h}function n(P){return null===P?null:(function(P){if(null==P)return!1;var S=Object.getPrototypeOf(P);return S!==Object.prototype&&S!==Array.prototype}(P)||(P=c(P)),P)}function g(P,S){if(null!=P){for(var h,D=0,b=P.length;D<b;D++){var N=S(P[D]);N&&(h||(h=c(P)),h[D]=N)}return h}}function V(P,S){if(P&&S&&"object"==typeof P)for(var h in Object.getPrototypeOf(P)!==Object.getPrototypeOf(S)&&(S.__proto__=P.__proto__),P)V(P[h],S[h])}v.d(ve,{ED:function(){return c},VW:function(){return g},Zx:function(){return V},qO:function(){return n}})},6023:function(ie,ve,v){v.d(ve,{FP:function(){return h},Gj:function(){return g},KH:function(){return D},PR:function(){return V},fS:function(){return n}});var c=v(8955);function n(b,N){return b===N||JSON.stringify(b)===JSON.stringify(N)}var g=8,V=60,h=function(){function b(){}return b.fromPoint=function(N){return b.toString(b.fromPointToPixel(N))},b.fromPointToPixel=function(N){return b.PxPtRatio*N},b.toPoint=function(N){return N/b.PxPtRatio},b.toString=function(N){return N+b.PixelString},b.PxPtRatio=4/3,b.PixelString="px",b}();function D(b,N,f){return c.fF.assertValue(b,"regex"),b.lastIndex=f||0,b.exec(N)}},1598:function(ie,ve,v){v.d(ve,{Js:function(){return P},yE:function(){return l}});var c=v(8955);function l(S,h){return c.fF.assert(function(){return!!h},"flag must be specified and nonzero."),(S&h)===h}function P(S){if(null===S||S%1!=0)return 0;for(var h=0,D=S;0!==D;)1==(1&D)&&h++,D>>>=1;return h}},8974:function(ie,ve,v){v.d(ve,{BL:function(){return Xe},HZ:function(){return Ne},Jj:function(){return u},Nx:function(){return Se},Ny:function(){return E},Oi:function(){return w},S5:function(){return Fe},aT:function(){return N},b$:function(){return we},ko:function(){return y},m5:function(){return R},ms:function(){return z},r3:function(){return m},vr:function(){return I},yQ:function(){return Q},zE:function(){return L},zb:function(){return pe}});var c=v(8955),l=v(255),n=v(6725),g=v(8611),V=v(3708),P=v(1338),S=v(1190),h=window,D=window.location.protocol+"//"+window.location.host,b="__DataProperty__5941464455110614";function N(Oe,ce,fe){if(c.fF.assertValue(Oe,"element"),null!=Oe){var ae=Oe[b];if(!ae){if(void 0===fe)return;ae=Oe[b]={}}return void 0===fe?ae[ce]:ae[ce]=fe}}function I(Oe,ce){return R(Oe)===R(ce)}function E(Oe,ce){return null!=Oe&&0===Oe.indexOf(ce)}function m(Oe,ce){return null!=Oe&&-1!==Oe.indexOf(ce)}function z(Oe,ce){return null!=Oe&&m(R(Oe),R(ce))}function R(Oe){return we.throwIfNullOrUndefined(Oe,we,"normalizeCase","value"),Oe.toUpperCase()}function w(Oe){return we.throwIfNullOrUndefined(Oe,we,"containsWhitespace","str"),/\s/.test(Oe)}function u(Oe){return Oe.replace(/\s/g,"")}function y(Oe,ce,fe){if(!ce)return Oe;var ae=function(Oe){return Oe.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}(ce);return Oe.replace(new RegExp(ae,"gi"),fe)}function L(Oe,ce,fe,ae){c.fF.assertValue(Oe,"usedNames"),c.fF.assertValue(ce,"baseName"),c.fF.assert(function(){return null==fe||fe>=0},"startSuffix == null || startSuffix >= 0");var te=ae?" ":"",oe=fe||0,Ce=ce;for(fe&&(Ce+=te+fe);O(Oe,Ce);)Ce=ce+te+ ++oe;return Ce}function O(Oe,ce){return _.isSet(Oe)?Oe.has(ce):Oe[ce]}function Q(Oe,ce,fe){if(!Oe||0===Oe.length)return"";null==fe&&(fe=Number.MAX_VALUE);for(var ae=Math.min(fe,Oe.length),te=[],oe=0;oe<2;oe++)for(var Ce="{"+oe+"}",he="_|_<"+oe+">_|_",Le=0;Le<ae;Le++)Oe[Le].indexOf(Ce)>-1&&(Oe[Le]=Oe[Le].replace(Ce,he),te.push({targetValue:Ce,replaceValue:he}));var Je="";for(Le=0;Le<ae;Le++)Je=0===Le?Oe[Le]:(0,S.W)(ce.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),Je,Oe[Le]);for(var ot=0,bt=te;ot<bt.length;ot++){var Ft=bt[ot];Je=Je.replace(Ft.replaceValue,Ft.targetValue)}return Je}function Ne(Oe,ce,fe){if(void 0===ce&&(ce=!1),void 0===fe&&(fe=!1),!Oe||fe&&"&nbsp;"===Oe)return Oe;var ae=Oe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(te){return"&#"+(1024*(te.charCodeAt(0)-55296)+(te.charCodeAt(1)-56320)+65536)+";"}).replace(/([^!-~ ])/g,function(te){return"&#"+te.charCodeAt(0)+";"});return ce&&(ae=ae.replace(/\ /g,"&nbsp;")),ae}function Se(Oe){return Oe>=0&&Oe<=55295||Oe>=57344&&Oe<=65535}var we=function(){function Oe(){}return Oe.ensureError=function(ce){return ce instanceof Error||(ce=new Error(ce?ce.message||ce.toString():"<null-or-undefined> error was thrown")),ce},Oe.throwIfNullOrUndefined=function(ce,fe,ae,te){null===ce?this.throwException((0,n.q$)(this.getComponentName(fe)+ae+"."+te)):void 0===ce&&this.throwException((0,n.dV)(this.getComponentName(fe)+ae+"."+te))},Oe.throwIfNullOrEmptyString=function(ce,fe,ae,te){this.throwIfNullOrUndefined(ce,fe,ae,te),ce.length<1&&this.throwException((0,n.ap)(this.getComponentName(fe)+ae+"."+te))},Oe.valueOrDefault=function(ce,fe){return null!=ce?ce:fe},Oe.urlCombine=function(ce,fe){if(this.throwIfNullOrUndefined(ce,Oe,"urlCombine","baseUrl"),this.throwIfNullOrUndefined(fe,Oe,"urlCombine","path"),(0,S.g)(fe))return ce;if((0,S.g)(ce))return fe;var ae=ce;return"/"===ae.charAt(ae.length-1)?"/"===fe.charAt(0)&&(fe=fe.slice(1)):"/"!==fe.charAt(0)&&(fe="/"+fe),ae+fe},Oe.getAbsoluteUri=function(ce){this.throwIfNullOrUndefined(ce,Oe,"getAbsoluteUri","path");var fe=ce;return fe&&-1===fe.indexOf("http")&&(fe=this.urlCombine(h.clusterUri,fe)),fe},Oe.getStaticResourceUri=function(ce){this.throwIfNullOrUndefined(ce,Oe,"getStaticResourceUri","path");var fe=ce;return fe&&-1===fe.indexOf("http")&&(fe=this.urlCombine(D,fe)),fe},Oe.getComponentName=function(ce){return ce?(typeof ce).toString()+".":""},Oe.throwException=function(ce){throw V.f.error("Throwing exception: ".concat(JSON.stringify(ce)),null==ce.stack),this.ensureError(ce)},Oe.createClassSelector=function(ce){return this.throwIfNullOrEmptyString(ce,null,"CreateClassSelector","className"),"."+ce},Oe.createIdSelector=function(ce){return this.throwIfNullOrEmptyString(ce,null,"CreateIdSelector","id"),"#"+ce},Oe.clampValue=function(ce,fe,ae){return c.fF.assert(function(){return fe<=ae},"min value must be less than or equal the max value"),ce=Math.min(ce,ae),Math.max(ce,fe)},Oe.generateGuid=function(){var ce="",fe=0;for(fe=0;fe<32;fe+=1){var ae=16*Math.random()|0;switch(fe){case 8:case 12:case 16:case 20:ce+="-"}ce+=ae.toString(16)}return ce},Oe.getCookieValue=function(ce){for(var ae=0,te=document.cookie.split(";");ae<te.length;ae++){var oe=te[ae],Ce=oe.split("=");if(Ce.length>0&&Ce[0].trim()===ce)return oe.substr(oe.indexOf("=")+1)}return null},Oe.getDomainForUrl=function(ce){var fe=this.getHrefObjectFromUrl(ce);return fe.prop("protocol")+"//"+fe.prop("hostname")},Oe.getHostNameForUrl=function(ce){var fe=this.getHrefObjectFromUrl(ce);return this.urlCombine(fe.prop("hostname"),fe.prop("pathname"))},Oe.getUrlWithoutQueryString=function(ce){var fe=this.getHrefObjectFromUrl(ce);return fe.prop("protocol")+"//"+this.urlCombine(fe.prop("host"),fe.prop("pathname"))},Oe.getProtocolFromUrl=function(ce){return this.getHrefObjectFromUrl(ce).prop("protocol").replace(":","")},Oe.getHrefObjectFromUrl=function(ce){var fe=$("<a>");return fe.prop("href",ce)},Oe.getDateFromWcfJsonString=function(ce,fe){if(_.isEmpty(ce))return null;var ae=ce.indexOf("("),te=ce.indexOf(")");if(-1!==ae&&-1!==te){var oe=parseInt(ce.substring(ae+1,te),10);if(isNaN(oe)&&(oe=0),fe)return new Date(oe);var Ce=new Date(0);return Ce.setUTCMilliseconds(oe),Ce}return null},Oe.isValidImageDataUrl=function(ce){return this.ImageDataRegex.test(ce)},Oe.encodeUriForImageDataSvg=function(ce){if(this.ImageDataSvgRegex.test(ce)){var fe=ce.indexOf(",");if(fe>-1){var ae=ce.substring(0,fe).split(";"),te=ce.substring(fe+1);try{te=decodeURIComponent(te)}catch(oe){}return"".concat(ae[0],",").concat(encodeURIComponent(te))}}return ce},Oe.isLocalUrl=function(ce){return _.startsWith(ce,"data:")||_.startsWith(ce,"blob:")},Oe.extractFileNameFromPath=function(ce){return ce.replace(/^.*[\\\/]/,"")},Oe.is64BitOperatingSystem=function(){return-1!==navigator.userAgent.indexOf("WOW64")||-1!==navigator.userAgent.indexOf("Win64")},Oe.isWindows10=function(){return-1!==navigator.userAgent.indexOf("Windows NT 10.0")},Oe.parseNumber=function(ce,fe){if(null===ce)return null;if(void 0===ce)return fe;var ae=Number(ce);return isFinite(ae)?ae:isNaN(ae)&&"number"!=typeof ce&&"NaN"!==ce?fe:ae},Oe.getURLParamValue=function(ce){var fe=new RegExp("[?&]"+ce+"=([^&#]*)").exec(window.location.href);return null==fe?null:fe[1]||0},Oe.getLocalTimeZoneString=function(){var fe=-1*new Date(Date.UTC(2005,6,30,0,0,0,0)).getTimezoneOffset(),te=-1*new Date(Date.UTC(2005,12,30,0,0,0,0)).getTimezoneOffset();return-720===fe&&-720===te?"Dateline Standard Time":-660===fe&&-660===te?"UTC-11":-660===fe&&-660===te?"Samoa Standard Time":-600===fe&&-600===te?"Hawaiian Standard Time":-480===fe&&-540===te?"Alaskan Standard Time":-420===fe&&-480===te?"Pacific Standard Time":-420===fe&&-420===te?"US Mountain Standard Time":-360===fe&&-420===te?"Mountain Standard Time":-360===fe&&-360===te?"Central America Standard Time":-300===fe&&-360===te?"Central Standard Time":-300===fe&&-300===te?"SA Pacific Standard Time":-240===fe&&-300===te?"Eastern Standard Time":-270===fe&&-270===te?"Venezuela Standard Time":-240===fe&&-240===te?"SA Western Standard Time":-240===fe&&-180===te?"Central Brazilian Standard Time":-180===fe&&-240===te?"Atlantic Standard Time":-180===fe&&-180===te?"Montevideo Standard Time":-180===fe&&-120===te?"E. South America Standard Time":-150===fe&&-210===te?"Mid-Atlantic Standard Time":-120===fe&&-120===te?"SA Eastern Standard Time":0===fe&&0===te?"UTC":60===fe&&0===te?"GMT Standard Time":60===fe&&120===te?"Namibia Standard Time":120===fe&&60===te?"Romance Standard Time":120===fe&&120===te?"South Africa Standard Time":180===fe&&120===te?"GTB Standard Time":180===fe&&180===te?"E. Africa Standard Time":240===fe&&180===te?"Russian Standard Time":240===fe&&240===te?"Arabian Standard Time":270===fe&&210===te?"Iran Standard Time":270===fe&&270===te?"Afghanistan Standard Time":300===fe&&240===te?"Pakistan Standard Time":300===fe&&300===te?"West Asia Standard Time":330===fe&&330===te?"India Standard Time":345===fe&&345===te?"Nepal Standard Time":360===fe&&300===te?"N. Central Asia Standard Time":360===fe&&360===te?"Central Asia Standard Time":390===fe&&390===te?"Myanmar Standard Time":420===fe&&360===te?"North Asia Standard Time":420===fe&&420===te?"SE Asia Standard Time":480===fe&&420===te?"North Asia East Standard Time":480===fe&&480===te?"China Standard Time":540===fe&&480===te?"Yakutsk Standard Time":540===fe&&540===te?"Tokyo Standard Time":570===fe&&570===te?"Cen. Australia Standard Time":600===fe&&600===te?"E. Australia Standard Time":600===fe&&660===te?"AUS Eastern Standard Time":660===fe&&600===te?"Tasmania Standard Time":660===fe&&660===te?"West Pacific Standard Time":690===fe&&690===te?"Central Pacific Standard Time":720===fe&&660===te?"Magadan Standard Time":720===fe&&720===te?"Fiji Standard Time":720===fe&&780===te?"New Zealand Standard Time":780===fe&&780===te?"Tonga Standard Time":"UTC"},Oe.ImageDataRegex=new RegExp("data:(image/(png|jpg|jpeg|gif|svg))"),Oe.ImageDataSvgRegex=new RegExp("data:(image/svg)"),Oe}(),ze=0;function Xe(Oe){var ce=window.performance;if(!ce||!ce.mark)return function(){return 0};var fe="Begin "+(Oe=++ze+" "+Oe);ce.mark(fe);var ae=(0,g.z)();return function(){var te="End "+Oe;return ce.mark(te),ce.measure&&ce.measure(Oe,fe,te),(0,g.z)()-ae}}function pe(Oe){var ce=(0,g.z)();return Oe(),(0,g.z)()-ce}function Fe(Oe){var ce,fe,ae;return window.requestAnimationFrame||(window.requestAnimationFrame=function(te){return setTimeout(te,20)}),function(){ce||(ce=!0,fe=arguments,ae=this,P.l.requestAnimationFrame(function(){ce=!1,Oe.apply(ae,fe)}))}}var lt=!1;!function(){if(!lt){var Oe=S.W;(function(){var Oe=(0,l.kx)();return Oe.StringExtensions||(Oe.StringExtensions={}),Oe.StringExtensions}()).format=function(){for(var ce=[],fe=0;fe<arguments.length;fe++)ce[fe]=arguments[fe];return Oe.apply(void 0,ce)},lt=!0}}()},8836:function(ie,ve,v){v.d(ve,{D:function(){return n},M:function(){return l}});var c=v(8955),l=function(){function g(){}return g.getLanguage=function(){return this.navigator.userLanguage||this.navigator.language},g.isChrome=function(){if(null!=this.isChromeCache)return this.isChromeCache;var V=this.navigator.vendor||"",P=this.navigator.userAgent.toLowerCase();return this.isChromeCache=V.toLowerCase().indexOf("google")>-1&&P.indexOf("chrome")>-1&&-1===P.indexOf("edge")&&-1===P.indexOf("opr"),this.isChromeCache},g.isInternetExplorerOrEdge=function(){if(null!=this.isInternetExplorerOrEdgeCache)return this.isInternetExplorerOrEdgeCache;var V=this.navigator.userAgent.toLowerCase();return this.isInternetExplorerOrEdgeCache=V.indexOf("msie")>-1||V.indexOf("trident")>-1||V.indexOf("edge")>-1,this.isInternetExplorerOrEdgeCache},g.isInternetExplorer11=function(){var V=this.navigator.userAgent.toLowerCase(),P=V.match(/rv:(\d+)/i);return!!(P&&P[1]&&parseInt&&11===parseInt(P[1],10))&&V.indexOf("trident")>-1&&-1===V.indexOf("msie")},g.isEdgeLegacy=function(){return!g.isInternetExplorer11()&&"StyleMedia"in window},g.isWindows10=function(){return-1!==this.navigator.userAgent.indexOf("Windows NT 10.0")},g.isKeyboardClick=function(V){return 0===V.clientX&&0===V.clientX},g.isCtrlOrMeta=function(V){return!0===V[g.isMacOs()?"metaKey":"ctrlKey"]},g.noModifierPressed=function(V){var P=g.isMacOs()?"metaKey":"ctrlKey";return!V.shiftKey&&!V.altKey&&!V[P]},g.isPointerTypeTouch=function(V){return"touch"===V.pointerType},g.getInternetExplorerVersion=function(){var V=0;if("Microsoft Internet Explorer"===this.navigator.appName||this.navigator.userAgent.indexOf("MSIE")>=0){var S=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(this.navigator.userAgent);S&&(V=parseFloat(S[1]))}return V},g.isFirefox=function(){return this.navigator.userAgent.toLowerCase().indexOf("firefox")>-1},g.isMacOs=function(){return this.navigator.userAgent.indexOf("Macintosh")>=0},g.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(this.navigator.userAgent)},g.isSafari11OrHigher=function(){if(!this.isSafari())return!1;var V=this.navigator.userAgent.match(/version\/(\d+)/i),P=null==V?void 0:V[1];return!(null==P||!parseInt)&&parseInt(P,10)>=11},g.isIOSWebView=function(){var V=this.navigator.userAgent.toLowerCase();return V.indexOf("iphone")>-1||V.indexOf("ipad")>-1||V.indexOf("macintosh")>-1&&this.navigator.maxTouchPoints>1},g.isAndroidWebView=function(){return this.navigator.userAgent.toLowerCase().indexOf("android")>-1},g.focus=function(V,P){if(V)if(V.focus)P?V.focus(P):V.focus();else try{HTMLElement.prototype.focus.apply(V)}catch(S){c.fF.assertFail("BrowserUtils.focus: failed to set focus on element: "+S)}},g.setBrowserSupportsHttp2=function(V){this.browserSupportsHttp2=V},g.calculateBrowserSupportsHttp2=function(){if(!window||!window.performance)return!1;var V=window.performance;return"h2"===(V.getEntriesByType&&V.getEntriesByType("navigation")&&V.getEntriesByType("navigation")[0]&&V.getEntriesByType("navigation")[0].nextHopProtocol)||!(!window.navigator||!window.navigator.userAgent)&&!!(this.isInternetExplorer11()&&this.isWindows10()||this.isMacOs()&&this.isSafari11OrHigher()||this.isIOSWebView())},g.navigator=window.navigator,g.browserSupportsHttp2=function(){return null!=g.browserSupportsHttp2Cache||(g.browserSupportsHttp2Cache=g.calculateBrowserSupportsHttp2()),g.browserSupportsHttp2Cache},g}();function n(g){return g.shiftKey?1:l.isCtrlOrMeta(g)?3:0}},6274:function(ie,ve,v){v.d(ve,{BT:function(){return Xe},CQ:function(){return Q},Gp:function(){return we},IN:function(){return H},IW:function(){return g},JN:function(){return Je},Jr:function(){return bt},LB:function(){return he},M$:function(){return Me},Nq:function(){return C},Qs:function(){return u},Qu:function(){return V},SS:function(){return M},UH:function(){return F},UN:function(){return lt},_m:function(){return Oe},bD:function(){return ce},bd:function(){return vt},fq:function(){return Ft},hz:function(){return pe},k0:function(){return Le},lg:function(){return y},mQ:function(){return X},mu:function(){return oe},n$:function(){return I},oM:function(){return ze},ob:function(){return ae},tL:function(){return Pe},uM:function(){return te},uY:function(){return Fe},vX:function(){return ot},vi:function(){return Ne},wZ:function(){return B}});var c=v(3188),l=v(8955),n=v(8974);function g(xe){return void 0===xe.control.properties.descriptor}function V(xe){return!!xe.type}function F(xe,Ee){return{name:xe,source:"host",type:"card",suppressDefaultValue:Ee}}function I(xe){return function(xe){return"slice"===xe.type}(xe)}function B(xe){var Ee={};for(var Ze in xe)if(_.isString(Ze)){var be={},We=xe[Ze].properties;for(var qe in We)_.isString(qe)?be[qe]={objectName:Ze,propertyName:qe}:l.fF.assertFail('Expected propertyName "'.concat(qe,'" to be a string'));Ee[Ze]=be}else l.fF.assertFail('Expected objectName "'.concat(Ze,'" to be a string'));return Ee}var C=function(){function xe(){for(var Ee=[],Ze=0;Ze<arguments.length;Ze++)Ee[Ze]=arguments[Ze];this.cards=Ee}return xe.prototype.addCards=function(){for(var Ee,Ze=[],be=0;be<arguments.length;be++)Ze[be]=arguments[be];return(Ee=this.cards).push.apply(Ee,Ze),this},xe.prototype.withWarnings=function(Ee){return this.warnings=Ee,this},xe.prototype.build=function(){var Ee=this;return{cards:this.cards.reduce(function(be,Ve){if(!Ve)return be;var We;if(!(We=_.isFunction(Ve)?Ve():Ve))return be;if(_.isArray(We))for(var qe=0,mt=We;qe<mt.length;qe++){var et=mt[qe];et&&(V(et)||(ut=Ee.shouldDisableCard(et,Ee.disabledCards))&&(et=(0,c.pi)((0,c.pi)({},et),{disabled:ut.disabled,disabledReason:ut.disabledReason})),be.push(et))}else{var ut,ct=We;V(ct)||(ut=Ee.shouldDisableCard(ct,Ee.disabledCards))&&(ct=(0,c.pi)((0,c.pi)({},ct),{disabled:ut.disabled,disabledReason:ut.disabledReason})),be.push(ct)}return be},[]),warnings:this.warnings}},xe.prototype.withDisabledCards=function(Ee){return this.disabledCards=Ee,this},xe.prototype.shouldDisableCard=function(Ee,Ze){var be=null==Ze?void 0:Ze[Ee.uid];if(be)return{disabled:!0,disabledReason:be.disabledReason}},xe}();function u(xe){var Ee=xe.uid.split(" "),Ze=function(xe){return new y(xe)}(Ee[0]);return Ze.withGroup(Ee[1])}var y=function(){function xe(Ee){this.cardName=Ee,this.groupNames=new Set}return xe.prototype.build=function(){return(0,n.Jj)(this.cardName)},xe.prototype.withGroup=function(Ee){var Ze=this;return void 0===Ee&&(Ee="default"),l.fF.assert(function(){return!Ze.groupNames.has(Ee)},'Already have group "'.concat(Ee,'"')),this.groupNames.add((0,n.Jj)(Ee)),new M(this,Ee)},xe}(),M=function(){function xe(Ee,Ze){this.cardUidBuilder=Ee,this.groupName=Ze,this.sliceNames=new Set}return xe.getGroupUid=function(Ee){var Ze=Ee.split("-");return l.fF.assert(function(){return Ze.length>=2},"GroupUid must have at least two sections in the uid"),"".concat(Ze[Ze.length-1])},xe.prototype.build=function(){this.cardUid||(this.cardUid=this.cardUidBuilder.build());var Ee=(0,n.Jj)(this.groupName);return"".concat(this.cardUid,"-").concat(Ee)},xe.prototype.withSlice=function(Ee){return this.sliceNames.add(Ee),new H(this,Ee)},xe.prototype.withContainer=function(Ee){return new O(this,Ee)},xe}(),L=function(){function xe(Ee,Ze){this.containerUidBuilder=Ee,this.itemName=Ze,this.sliceNames=new Set,this.groupNames=new Set}return xe.prototype.build=function(){this.containerUid||(this.containerUid=this.containerUidBuilder.build());var Ee=(0,n.Jj)(this.itemName);return"".concat(this.containerUid,"-").concat(Ee)},xe.prototype.withSlice=function(Ee){return this.sliceNames.add(Ee),new H(this,Ee)},xe.prototype.withGroup=function(Ee){return void 0===Ee&&(Ee="default"),this.groupNames.add(Ee),new M(this,Ee)},xe.prototype.withContainer=function(Ee){return new O(this,Ee)},xe}(),O=function(){function xe(Ee,Ze){this.groupUidBuilder=Ee,this.containerName=Ze}return xe.prototype.build=function(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var Ee=(0,n.Jj)(this.containerName);return"".concat(this.groupUid,"-").concat(Ee)},xe.prototype.withContainerItem=function(Ee){return new L(this,Ee)},xe}(),H=function(){function xe(Ee,Ze){this.groupUidBuilder=Ee,this.sliceName=Ze}return xe.getGroupAndSliceUid=function(Ee){var Ze=Ee.split("-");return l.fF.assert(function(){return Ze.length>=3},"SliceUid must have at least three sections in the uid"),"".concat(Ze[Ze.length-2],"-").concat(Ze[Ze.length-1])},xe.getSliceUid=function(Ee){var Ze=Ee.split("-");return l.fF.assert(function(){return Ze.length>=3},"SliceUid must have at least three sections in the uid"),"".concat(Ze[Ze.length-1])},xe.prototype.build=function(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var Ee=(0,n.Jj)(this.sliceName);return"".concat(this.groupUid,"-").concat(Ee)},xe}(),Q=function(){function xe(Ee,Ze,be,Ve,We,qe){void 0===We&&(We=!0),this.uidBuilder=Ee,this.displayName=Ze,this.localize=Ve,this.localizeDisplayName=We,this.analyticsPane=qe,this.suppressDisplayName=!1,this.groups=[],be&&(this.revertToDefaultDescriptors=_.isArray(be)?be:_.values(be))}return xe.prototype.withDisabled=function(Ee,Ze){return this.disabled=Ee,this.disabledReason=Ze?this.localize(Ze):void 0,this},xe.prototype.withDisabledLocalized=function(Ee,Ze){return this.disabled=Ee,this.disabledReason=Ze,this},xe.prototype.withDescription=function(Ee){return this.description=Ee,this},xe.prototype.withAliasName=function(Ee){var Ze;return this.aliasNames=null!==(Ze=this.aliasNames)&&void 0!==Ze?Ze:[],this.aliasNames.push(this.localize(Ee)),this},xe.prototype.withGroups=function(Ee){return this.groups=Ee,this},xe.prototype.addGroupPlaceholder=function(Ee){return this.groups.push(Ee),this},xe.prototype.addGroup=function(Ee,Ze){var be=this.getGroupBuilder(Ee);return Ze(be),this.groups.push(be.build()),this},xe.prototype.getGroupBuilder=function(Ee){var Ze=this;return void 0===Ee&&(Ee="default"),new X(this.uidBuilder.withGroup(Ee),function(be){return Ze.localize(be)})},xe.prototype.addTopLevelToggle=function(Ee,Ze,be){var Ve=this.uidBuilder.withGroup("topLevelToggle").withSlice(Ee),We=Ze(),mt=new Mt({control:We,localize:this.localize,uidBuilder:Ve});return be&&be(mt),this.topLevelToggle=mt.build(),this},xe.prototype.assertDescriptorsAreAdded=function(){if(this.revertToDefaultDescriptors){var Ee=[];this.groups.forEach(function(Ve){!V(Ve)&&Ve.slices&&Ve.slices.forEach(function(We){V(We)||Ee.push(We)})});var Ze=new Set,be="revertToDefaultDescriptors must contain descriptors of all the slices in the card";this.revertToDefaultDescriptors.forEach(function(Ve){return Ze.add(Ve.objectName+"-"+Ve.propertyName)}),Ee.forEach(function(Ve){if(!V(Ve))if(g(Ve)){var We=Ve.control.properties;Object.keys(We).forEach(function(et){var ut,ct=null===(ut=We[et])||void 0===ut?void 0:ut.descriptor;if(void 0!==ct){var Vt=ct.objectName+"-"+ct.propertyName;l.fF.assert(function(){return Ze.has(Vt)},"".concat(be," ").concat(Vt?"- missing '".concat(Vt,"'"):""))}})}else{var qe=Ve.control.properties.descriptor,mt=qe.objectName+"-"+qe.propertyName;l.fF.assert(function(){return Ze.has(mt)},"".concat(be," ").concat(mt?"- missing '".concat(mt,"'"):""))}})}},xe.prototype.build=function(){var Ee=this.localizeDisplayName?this.localize(this.displayName):this.displayName;return{disabled:!!this.disabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,disabledReason:this.disabledReason,displayName:Ee,groups:this.groups,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),revertToDefaultDescriptors:this.revertToDefaultDescriptors,analyticsPane:this.analyticsPane}},xe}(),X=function(){function xe(Ee,Ze){this.uidBuilder=Ee,this.localize=Ze,this.collapsible=!0,this.inheritDisabled=!0,this.suppressDisplayName=!0,this.slices=[]}return xe.prototype.withContainer=function(Ee){return this.container=Ee,this},xe.prototype.withContainerDisabled=function(Ee){return void 0===Ee&&(Ee=!0),this.containerDisabled=Ee,this.sliceWithContainer=!0,this},xe.prototype.withDescription=function(Ee){return this.description=Ee,this},xe.prototype.withAliasName=function(Ee){var Ze;return this.aliasNames=null!==(Ze=this.aliasNames)&&void 0!==Ze?Ze:[],this.aliasNames.push(this.localize(Ee)),this},xe.prototype.withInheritDisabled=function(Ee){return this.inheritDisabled=Ee,this},xe.prototype.withDelaySaveSlices=function(){return this.delaySaveSlices=!0,this},xe.prototype.withCollapsible=function(Ee){return void 0===Ee&&(Ee=!0),this.collapsible=Ee,this},xe.prototype.withDisplayName=function(Ee,Ze){return void 0===Ze&&(Ze=!0),this.displayName=Ze?Ee?this.localize(Ee):void 0:Ee,this.suppressDisplayName=!1,this},xe.prototype.withSlices=function(Ee){return this.slices=Ee,this},xe.prototype.withDisabled=function(Ee,Ze){return this.disabled=Ee,this.disabledReason=Ze?this.localize(Ze):void 0,this},xe.prototype.addSlicePlaceholder=function(Ee){return this.slices.push(Ee),this},xe.prototype.addSlice=function(Ee){return this.slices.push(Ee),this},xe.prototype.addSimpleSlice=function(Ee,Ze,be){var Ve=this.getSliceName(Ee),We=_.isFunction(Ze)?Ze():Ze,qe=this.getSimpleSliceBuilder(Ve,We);return be&&be(qe),this.slices.push(qe.build()),this},xe.prototype.addCompositeSlice=function(Ee,Ze,be,Ve){var We=_.isFunction(be)?be():be,qe=this.getCompositeSliceBuilder(Ee,Ze,We);return Ve&&Ve(qe),this.slices.push(qe.build()),this},xe.prototype.addSlices=function(Ee){return this.slices=this.slices.concat(Ee),this},xe.prototype.getSimpleSliceBuilder=function(Ee,Ze){var be=this.getSliceName(Ee),Ve=this.uidBuilder.withSlice(be);return new Ne({control:Ze,localize:this.localize,uidBuilder:Ve})},xe.prototype.addTopLevelToggle=function(Ee,Ze,be){var Ve=this.uidBuilder.withSlice(Ee),We=Ze(),mt=new Mt({control:We,localize:this.localize,uidBuilder:Ve});return be&&be(mt),this.topLevelToggle=mt.build(),this},xe.prototype.getCompositeSliceBuilder=function(Ee,Ze,be){var Ve=this.getSliceName(Ee),We=this.uidBuilder.withSlice(Ve);return new Ae({control:be,displayName:Ze,localize:this.localize,uidBuilder:We})},xe.prototype.getSliceName=function(Ee){if(_.isString(Ee))return(0,n.Jj)(Ee);var be=Ee;return"".concat(be.objectName,"-").concat(be.propertyName)},xe.prototype.addContainer=function(Ee,Ze){var be=this.getContainerBuilder(Ee);return Ze(be),this.container=be.build(),this},xe.prototype.getContainerBuilder=function(Ee){return new ee(this.uidBuilder.withContainer(Ee),this.localize)},xe.prototype.build=function(){var Ee,Ze=null!==(Ee=this.displayName)&&void 0!==Ee?Ee:"";return{disabled:!!this.disabled,disabledReason:this.disabledReason,container:this.container,containerDisabled:this.containerDisabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,inheritDisabled:this.inheritDisabled,displayName:Ze,collapsible:this.collapsible,slices:this.slices,sliceWithContainer:this.sliceWithContainer,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),delaySaveSlices:this.delaySaveSlices}},xe}(),W=function(xe){function Ee(){return null!==xe&&xe.apply(this,arguments)||this}return(0,c.ZT)(Ee,xe),Ee.prototype.build=function(){return xe.prototype.build.call(this)},Ee}(X),J=function(){function xe(Ee,Ze,be){this.uidBuilder=Ee,this.displayName=Ze,this.localize=be,this.slices=[],this.groups=[]}return xe.prototype.withSlices=function(Ee){return this.slices=Ee,this},xe.prototype.addSimpleSlice=function(Ee,Ze,be){var Ve=this.getSliceName(Ee),We=_.isFunction(Ze)?Ze():Ze,qe=this.getSimpleSliceBuilder(Ve,We);return be&&be(qe),this.slices.push(qe.build()),this},xe.prototype.addCompositeSlice=function(Ee,Ze,be,Ve){var We=_.isFunction(be)?be():be,qe=this.getCompositeSliceBuilder(Ee,Ze,We);return Ve&&Ve(qe),this.slices.push(qe.build()),this},xe.prototype.getSimpleSliceBuilder=function(Ee,Ze){var be=this.getSliceName(Ee),Ve=this.uidBuilder.withSlice(be);return new Ne({control:Ze,localize:this.localize,uidBuilder:Ve})},xe.prototype.getCompositeSliceBuilder=function(Ee,Ze,be){var Ve=this.getSliceName(Ee),We=this.uidBuilder.withSlice(Ve);return new Ae({control:be,displayName:Ze,localize:this.localize,uidBuilder:We})},xe.prototype.addContainer=function(Ee,Ze){var be=this.getContainerBuilder(Ee);return Ze(be),this.container=be.build(),this},xe.prototype.getContainerBuilder=function(Ee){return new ee(this.uidBuilder.withContainer(Ee),this.localize)},xe.prototype.getSliceName=function(Ee){if(_.isString(Ee))return Ee;var be=Ee;return"".concat(be.objectName,"-").concat(be.propertyName)},xe.prototype.withGroups=function(Ee){return this.groups=Ee,this},xe.prototype.addGroup=function(Ee,Ze){var be=Ee?(0,n.Jj)(Ee):void 0,Ve=this.getGroupBuilder(be);return Ze(Ve),this.groups.push(Ve.build()),this},xe.prototype.getGroupBuilder=function(Ee){return void 0===Ee&&(Ee="default"),new W(this.uidBuilder.withGroup(Ee),this.localize)},xe.prototype.build=function(){return{displayName:this.displayName,slices:this.slices,groups:this.groups,container:this.container,uid:this.uidBuilder.build()}},xe}(),ee=function(){function xe(Ee,Ze){this.uidBuilder=Ee,this.localize=Ze,this.suppressDisplayName=!0,this.containerItems=[]}return xe.prototype.withDisplayName=function(Ee){return this.displayName=Ee,this.suppressDisplayName=!1,this},xe.prototype.withDescription=function(Ee){return this.description=Ee,this},xe.prototype.addContainerItem=function(Ee,Ze,be){var Ve=(0,n.Jj)(Ee),We=this.getContainerItemBuilder(Ve,Ze);return be(We),this.containerItems.push(We.build()),this},xe.prototype.getContainerItemBuilder=function(Ee,Ze){return new J(this.uidBuilder.withContainerItem(""),Ze,this.localize)},xe.prototype.build=function(){var Ee=this.displayName?this.localize(this.displayName):"";return{description:this.description?this.localize(this.description):void 0,displayName:Ee,containerItems:this.containerItems,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}},xe}(),le=function(){function xe(Ee){this.control=Ee.control,this.localize=Ee.localize,this.uidBuilder=Ee.uidBuilder}return xe.prototype.withDisabled=function(Ee){return this.disabled=Ee,this},xe.prototype.withHidden=function(Ee){return this.hidden=Ee,this},xe}(),Ne=function(xe){function Ee(Ze){return xe.call(this,Ze)||this}return(0,c.ZT)(Ee,xe),Ee.prototype.withCustomDisplayName=function(Ze,be){return void 0===be&&(be=!0),this.displayName=be?this.localize(Ze):Ze,this},Ee.prototype.withSuppressDisplayName=function(Ze){return this.suppressDisplayName=Ze,this},Ee.prototype.withCustomDescription=function(Ze,be){return void 0===be&&(be=!0),l.fF.assertValue(Ze,"description"),this.description=be?this.localize(Ze):Ze,this},Ee.prototype.withCustomDescriptionIf=function(Ze,be,Ve){return void 0===Ve&&(Ve=!0),Ze()?this.withCustomDescription(be,Ve):this},Ee.prototype.withAliasName=function(Ze){var be;return this.aliasNames=null!==(be=this.aliasNames)&&void 0!==be?be:[],this.aliasNames.push(this.localize(Ze)),this},Ee.prototype.withInfoIconText=function(Ze){return this.infoIconText=Ze,this},Ee.prototype.build=function(){var Ze=this;return l.fF.assert(function(){return!!Ze.control},"control must exist"),{control:this.control,description:this.description,aliasNames:this.aliasNames,disabled:this.disabled,displayName:this.displayName,infoIconText:this.infoIconText,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build(),hidden:this.hidden}},Ee}(le),Ae=function(xe){function Ee(Ze){var be=xe.call(this,Ze)||this;return be.displayName=Ze.displayName,be.description=Ze.description,be}return(0,c.ZT)(Ee,xe),Ee.prototype.withInfoIconText=function(Ze){return this.infoIconText=Ze,this},Ee.prototype.withAliasName=function(Ze){var be;return this.aliasNames=null!==(be=this.aliasNames)&&void 0!==be?be:[],this.aliasNames.push(this.localize(Ze)),this},Ee.prototype.withSuppressDisplayName=function(Ze){return this.suppressDisplayName=Ze,this},Ee.prototype.build=function(){return{control:this.control,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,infoIconText:this.infoIconText,disabled:this.disabled,displayName:this.localize(this.displayName),suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}},Ee}(le),we=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"AlignmentGroup",properties:this.properties}},xe}(),Pe=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"EmptyControl",properties:this.properties}},xe}(),ze=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"FlagsSelection",properties:this.properties}},xe}(),Xe=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"ColorPicker",properties:this.properties}},xe}(),Me=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"ConditionalFormattingControl",properties:this.properties}},xe}(),pe=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"DatePicker",properties:this.properties}},xe}(),Fe=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"Dropdown",properties:this.properties}},xe}(),rt={minValue:{type:0,value:8},maxValue:{type:1,value:60}},lt=function(){function xe(){}return xe.prototype.withFontSizeProperties=function(Ee){var Ve,Ze=Ee.options,be=(0,c.pi)({},rt);Ve=Ze?(0,c.pi)((0,c.pi)({},be),Ze):be;var We=(0,c.pi)((0,c.pi)({},Ee),{options:Ve});return this.fontSize=We,this},xe.prototype.withFontFamily=function(Ee){return this.fontFamily=Ee,this},xe.prototype.withBold=function(Ee){return this.bold=Ee,this},xe.prototype.withItalic=function(Ee){return this.italic=Ee,this},xe.prototype.withUnderline=function(Ee){return this.underline=Ee,this},xe.prototype.build=function(){return{type:"FontControl",properties:{fontFamily:this.fontFamily,fontSize:this.fontSize,bold:this.bold,italic:this.italic,underline:this.underline}}},xe}(),Oe=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"GradientBar",properties:this.properties}},xe}(),ce=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"ImageUpload",properties:this.properties}},xe}(),ae=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"SeriesDialogLink",properties:this.properties}},xe}(),te=function(){function xe(){}return xe.prototype.withLeft=function(Ee){return this.left=Ee,this},xe.prototype.withRight=function(Ee){return this.right=Ee,this},xe.prototype.withTop=function(Ee){return this.top=Ee,this},xe.prototype.withBottom=function(Ee){return this.bottom=Ee,this},xe.prototype.build=function(){return{type:"MarginPadding",properties:{left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},xe}(),oe=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){var Ee=this.properties;return null==Ee.placeholderText&&(Ee=(0,c.pi)({},Ee)),{type:"NumUpDown",properties:Ee}},xe}(),he=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"ErrorRangeControl",properties:this.properties}},xe}(),Le=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"FieldPicker",properties:this.properties}},xe}(),Je=function(){function xe(Ee){this.properties=Ee}return xe.getTransparencySliderBuilder=function(Ee,Ze){var qe={descriptor:Ee.descriptor,value:Ee.value,localize:Ee.localize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:"Slider_Percent"}};return new xe(Ze?Ze(qe):qe)},xe.getRotationSliderBuilder=function(Ee,Ze){var qe={descriptor:Ee.descriptor,value:Ee.value,localize:Ee.localize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:360},unitSymbol:"Slider_Degree"}};return new xe(Ze?Ze(qe):qe)},xe.prototype.build=function(){var Ee=(0,c.pi)({},this.properties);return delete Ee.localize,{type:"Slider",properties:Ee}},xe}(),ot=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"ShapeMapSelector",properties:this.properties}},xe}(),bt=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){var Ee=this.properties.placeholder;Ee&&(Ee=this.properties.localize(Ee));var Ze=(0,c.pi)((0,c.pi)({},this.properties),{placeholder:Ee});return delete Ze.localize,{type:"TextArea",properties:Ze}},xe}(),Ft=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"TextInput",properties:this.properties}},xe}(),vt=function(){function xe(Ee){this.properties=Ee}return xe.prototype.build=function(){return{type:"ToggleSwitch",properties:this.properties}},xe}(),Mt=function(xe){function Ee(Ze){return xe.call(this,Ze)||this}return(0,c.ZT)(Ee,xe),Ee.prototype.build=function(){var Ze=this;return l.fF.assert(function(){return!!Ze.control},"control must exist"),{control:this.control,disabled:this.disabled,uid:this.uidBuilder.build(),suppressDisplayName:!0,noDefaultImpact:this.noDefaultImpact}},Ee.prototype.withNoDefaultImpact=function(Ze){return this.noDefaultImpact=Ze,this},Ee}(le)},8207:function(ie,ve,v){function c(P){return P instanceof Date&&"number"==typeof P.epochTimeStamp}function l(P){var S=new Date(P.getTime());return S.epochTimeStamp=P.epochTimeStamp,S}function n(P,S,h,D,b,N,f){void 0===S&&(S=0),void 0===h&&(h=1),void 0===D&&(D=0),void 0===b&&(b=0),void 0===N&&(N=0),void 0===f&&(f=0);var F=new Date(P,S,h,D,b,N,f);return F.epochTimeStamp=Date.UTC(P,S,h,D,b,N,f),F}function g(P){var S=P;return S.epochTimeStamp=Date.UTC(S.getFullYear(),S.getMonth(),S.getDate(),S.getHours(),S.getMinutes(),S.getSeconds(),S.getMilliseconds()),S}v.d(ve,{Fg:function(){return g},Fh:function(){return l},M4:function(){return c},yI:function(){return n}})},9613:function(ie,ve,v){function c(l){l&&Object.getOwnPropertyNames(l).forEach(function(n){"constructor"!==n&&Object.defineProperty(l,n,{enumerable:!0})})}v.d(ve,{y:function(){return c}})},1190:function(ie,ve,v){function c(n){return _.isEmpty(n)||_.isEmpty(n.trim())}function l(){for(var n=[],g=0;g<arguments.length;g++)n[g]=arguments[g];var V=n[0];if(c(V))return V;for(var P=0;P<n.length-1;P++){var S=new RegExp("\\{"+P+"\\}","gm");V=V.replace(S,n[P+1])}return V}v.d(ve,{W:function(){return l},g:function(){return c}})},25:function(ie,ve,v){v.d(ve,{GG:function(){return D},DR:function(){return b}});var c=v(8955);function l(f,F){return new n(f,F)}var n=function(){function f(F,A){this.deferMethod=F,this.drainMethod=A,this.asyncQueue=[],this.processing=!1}return f.prototype.defer=function(F,A){for(var k=[],Y=2;Y<arguments.length;Y++)k[Y-2]=arguments[Y];c.fF.assertValue(F,"callback"),this.deferMethod?this.deferMethod(F):this.deferInternal(F,A,k)},f.prototype.drain=function(){this.drainMethod?this.drainMethod():this.drainQueue()},f.prototype.deferInternal=function(F,A){for(var k=this,Y=[],j=2;j<arguments.length;j++)Y[j-2]=arguments[j];!this.processing&&!this.asyncQueue.length&&setTimeout(function(){k.asyncQueue.length>0&&k.drainQueue()},A),this.asyncQueue.push({callback:F,args:Y})},f.prototype.drainQueue=function(){this.processing=!0;for(var F=0,A=this.asyncQueue;F<A.length;F++){var k=A[F];k.callback(k.args)}this.asyncQueue.length=0,this.processing=!1},f}(),g=v(3708);function V(f){return f&&_.isObject(f)&&f.then&&_.isFunction(f.then)}function P(f){return V(f)?f.then:null}var h=function(){function f(A,k){var Y=this;if(this[F]="Promise",this.timeout=f.ensurePbiTimeout(),this.autoFlush=f.autoFlushInitialized||!!k,this.state={status:0},A){if(f.useNativePromise)return new Promise(A);A(function(j){return f.resolvePromise(Y,j)},function(j){return f.rejectPromise(Y,j)})}}var F;return f.prototype.then=function(A,k){if(_.isUndefined(A)&&_.isUndefined(k))return this;var Y=new f(null,this.autoFlush);return this.state.pending=this.state.pending||[],this.state.pending.push({result:Y,onFulfilled:A,onRejected:k}),this.state.status>0&&this.scheduleProcessQueue(),Y},f.prototype.catch=function(A){return this.then(null,A)},f.prototype.finally=function(A){return this.then(function(k){return f.handleCallback(k,f.resolve,A)},function(k){return f.handleCallback(k,f.reject,A)})},f.all=function(A,k){if(f.useNativePromise)return Promise.all(A);var Y,j,G=new f(function(R,w){Y=R,j=w},k),I=[],E=A.length;if(E>0)for(var T=0,m=function(w){var B=A[w];P(B)||(B=f.resolve(B,k)),B.then(function(u){I[w]=u}).catch(function(u){j(u)}).finally(function(){++T===E&&Y(I)})},z=0;z<E;z++)m(z);else Y(I);return G},f.setUseNativePromise=function(A){f.useNativePromise=A},f.resolvePromise=function(A,k){this.useNativePromise&&this.traceError&&(this.traceError=!1,g.f.error("resolvePromise should not be called when useNativePromise is true")),!A.state.status&&(k===A?A.rejectInternal("Expected promise to be resolved with value other than itself"):A.resolveInternal(k))},f.rejectPromise=function(A,k){this.useNativePromise&&this.traceError&&(this.traceError=!1,g.f.error("rejectPromise should not be called when useNativePromise is true")),!A.state.status&&A.rejectInternal(k)},f.reset=function(){f.usingMicrotask=void 0,f.pbiTimeout=void 0,f.autoFlushInitialized=void 0},f.init=function(A,k,Y,j){void 0!==j&&(f.useNativePromise=j)||f.usingMicrotask||(f.autoFlushInitialized=k,Y?(f.pbiTimeout=l(function(G){Zone.current.scheduleMicroTask("PbiPromise.useMicrotask",G)}),f.usingMicrotask=!0):(c.fF.assertValue(A,"pbiTimeout"),f.pbiTimeout=A||f.pbiTimeout))},f.resolve=function(A,k,Y,j){if(f.useNativePromise)return Promise.resolve(A);var G=new f(null,k);return f.resolvePromise(G,A),G.then(null!=Y?Y:null,j)},f.reject=function(A,k){return f.useNativePromise?Promise.reject(A):new f(function(Y,j){return j(A)},k)},f.prototype.defer=function(A){c.fF.assert(function(){return _.isFunction(A)},"callback"),this.autoFlush&&this.state.status>0?A():(c.fF.assertValue(this.timeout,"timeout object should have been allocated!"),this.timeout.defer(A,0))},f.prototype.resolveInternal=function(A){var Y,k=this;try{(Y=P(A))?(this.state.status=-1,Y.call(A,function(j){k.resolveInternal(j)},function(j){k.rejectInternal(j)})):(this.state.value=A,this.state.status=1,this.scheduleProcessQueue())}catch(j){this.rejectInternal(j)}},f.prototype.rejectInternal=function(A){this.state.value=A,this.state.status=2,this.scheduleProcessQueue()},f.prototype.scheduleProcessQueue=function(){var A=this.state;A.processScheduled||_.isEmpty(A.pending)||(A.processScheduled=!0,this.defer(function(){return f.processQueue(A)}))},f.ensurePbiTimeout=function(){var A=f.pbiTimeout;return A||(A=f.pbiTimeout=l()),A},f.handleCallback=function(A,k,Y){var j=null;try{_.isFunction(Y)&&(j=Y())}catch(G){return f.reject(G)}return V(j)?j.then(function(G){return k(A)},f.reject):k(A)},f.processQueue=function(A){var k=A.pending;A.processScheduled=!1,A.pending=void 0;for(var Y=0,j=k;Y<j.length;Y++){var G=j[Y],I=G.result,E=void 0;E=1===A.status?G.onFulfilled:E,E=2===A.status?G.onRejected:E;try{_.isFunction(E)?f.resolvePromise(I,E(A.value)):1===A.status?f.resolvePromise(I,A.value):f.rejectPromise(I,A.value)}catch(T){f.rejectPromise(I,T)}}},F=Symbol.toStringTag,f.useNativePromise=!0,f.traceError=!0,f}(),D=function(){function f(F){void 0===F&&(F=!1);var A=this;this.promise=new h(function(k,Y){A.resolver=k,A.rejector=Y})}return f.prototype.resolve=function(F){this.resolver(F)},f.prototype.reject=function(F){this.rejector(F)},f}();function b(f){if(h.useNativePromise)return Promise.resolve(f);var F=new D(!0);return F.resolve(f),F.promise}},1034:function(ie,ve,v){v.d(ve,{B:function(){return g},J:function(){return n}});var c=v(8955),l=v(2933),n=function(){function P(h){var D=this;if(this[S]="Promise",P.useNativePromise)return new window.Promise(h);this.defer=P.ensureFactory().defer(),h(function(b){return D.onResolve(b)},function(b){return D.onReject(b)})}var S;return P.prototype.then=function(h,D){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==D,this.defer.promise.then(h,D)},P.prototype.catch=function(h){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==h,this.defer.promise.catch(h)},P.prototype.finally=function(h){return this.defer.promise.finally(h)},P.init=function(h,D,b,N){c.fF.assertValue(h,"promiseFactory"),c.fF.assertAnyValue(D,"exceptionHandler"),c.fF.assert(function(){return b||!P.defaultFactoryWasProvided},"powerbi.Promise was used before being initialized - that is legitimate in test scenarios only"),void 0!==N&&(P.useNativePromise=N),P.factory=h,P.exceptions=D,P.defaultFactoryWasProvided=!1},P.setUseNativePromise=function(h){P.useNativePromise=h},P.ensureFactory=function(){var h=P.factory;return h||(h=P.factory=(0,l.p)(),P.defaultFactoryWasProvided=!0),h},P.resolve=function(h){return P.useNativePromise?window.Promise.resolve(h):new P(function(D,b){return D(h)})},P.reject=function(h){return P.useNativePromise?window.Promise.reject(h):new P(function(D,b){return b(h)})},P.allSettled=function(h){return P.useNativePromise?window.Promise.allSettled(h):new P(function(D,b){var N=h.length;if(N>0)for(var f=[],F=0;F<N;F++)h[F].then(function(A){return f.push({value:A,type:0})}).catch(function(A){return f.push({value:A,type:1})}).finally(function(){f.length===N&&D(f)});else D([])})},P.prototype.onResolve=function(h){var D=this;c.fF.assertAnyValue(h,"value"),function(P){return P&&_.isFunction(P.then)}(h)?h.then(function(b){return D.onResolve(b)},function(b){return D.onReject(b)}):this.defer.resolve(h)},P.prototype.onReject=function(h){if(c.fF.assertAnyValue(h,"error"),!this.hasRejectionHandling&&h instanceof Error&&!h.suppressExceptionHandler){var D=P.exceptions;D&&(h.suppressExceptionHandler=!0,D(h))}this.defer.reject(h)},S=Symbol.toStringTag,P.useNativePromise=!0,P}(),g=function(){function P(){var S=this;this.promise=new n(function(h,D){S.resolver=h,S.rejector=D})}return P.prototype.resolve=function(S){this.resolver(S)},P.prototype.reject=function(S){this.rejector(S)},P}()},517:function(ie,ve,v){v.d(ve,{AD:function(){return A},Ay:function(){return j},I2:function(){return P},Iu:function(){return n},O7:function(){return V},OH:function(){return l},Pu:function(){return I},aI:function(){return h},bL:function(){return N},fg:function(){return G},jL:function(){return k},lO:function(){return f},nd:function(){return F},y4:function(){return g}});var c=v(8955),l=1e-6;function n(E,T){return c.fF.assertValue(E,"x"),c.fF.assertValue(T,"y"),"translate("+E+","+T+")"}function g(E){return c.fF.assertValue(E,"x"),"translateX("+E+"px)"}function V(E,T){return c.fF.assertValue(E,"x"),c.fF.assertValue(T,"y"),"translate("+E+"px,"+T+"px)"}function P(E,T,m,z,R){return c.fF.assertValue(E,"x"),c.fF.assertValue(T,"y"),c.fF.assertValue(m,"px"),c.fF.assertValue(z,"py"),c.fF.assertValue(R,"angle"),"translate("+E+","+T+") rotate("+R+","+m+","+z+")"}function h(E,T,m){return c.fF.assertValue(E,"x"),c.fF.assertValue(T,"y"),c.fF.assertValue(m,"ratio"),"translate("+E+","+T+") scale("+m+")"}function b(E){return function(){E.forEach(function(T){null!=T&&T.each(function(){var m;if(null!=this.__transition){if(_.some(this.__transition,function(H){return 0===H.state})){var z=d3.select(this);return void requestAnimationFrame(b([z]))}for(var R=this.__transition||{},B=0,C=Object.keys(R);B<C.length;B++){var u=R[C[B]];u&&(null===(m=u.timer)||void 0===m||m._call());for(var M=0,L=u.on._.end;M<L.length;M++)L[M].value.apply(this)}}})})}}function N(E){for(var T=[],m=1;m<arguments.length;m++)T[m-1]=arguments[m];if(E){var z=E,R=E;R.animation&&(z=R.animation),z&&z.transitionImmediate&&(_.isEmpty(T)||requestAnimationFrame(b(T)))}}function f(E){isNaN(E.x)&&(E.x=0),isNaN(E.y)&&(E.y=0)}function F(E){if(!E||0===E.length)return{x:"0",y:"0"};var T=E.split(/[\s,]+/);c.fF.assertValue(T,"translateCoordinates"),c.fF.assert(function(){return T.length>0},"translate array must atleast have one value");var z,m="0",R=T[0];if(1===T.length)z=R.substring(10,R.length-1);else{var w=T[1];m=w.substring(0,w.length-1),z=R.substring(10,R.length)}return{x:z,y:m}}function A(E,T,m){var R="M0 0";return R+="L0 "+T,{path:R+="L"+E+" "+T/2+" Z",transform:"rotate("+m+" "+E/2+" "+T/2+")"}}function k(E){var T;try{T=E.getBBox()}catch(m){}return T||{x:0,y:0,width:0,height:0}}function j(E){return _.map(E,function(z,R){return function(R){return 1==(1&R)?",":0===R?"M":"L"}(R)+z}).join("")+"z"}function G(E,T){if(!(E.length<4||E.length%2!=0)){var m=_.map(E,function(y){return Math.round(y*T)}),z=[],R=m[0],w=m[1];z.push(R),z.push(w);for(var B=2;B<m.length;B+=2){var C=m[B],d=m[B+1];Math.abs(R-C)+Math.abs(w-d)<2||(z.push(C),z.push(d))}return j(z)}}function I(E,T,m){if("vectorEffect"in document.documentElement.style)return m;var z=E.split(" ");return c.fF.assert(function(){return 4===z.length},"viewBox must be of length 4"),m*(Math.max(+z[2],+z[3])/T)}},7262:function(ie,ve,v){function l(y,M){if(void 0===M&&(M=!0),_.isEmpty(y))return!1;var L=T(y);if(!L)return!1;switch(C(L.scheme)){case m.http:case m.https:return M||!_.isEmpty(L.host);default:return!1}}function n(y){return l(y)}function g(y){return!(!y||0!==y.indexOf("data:"))}function G(y){var M=d(y);if(M)return u(M)}function I(y,M,L){void 0===L&&(L=!1);var O=E(y),H=O.baseUrl;if(L&&_.assign(M,O.queryParameters),_.isEmpty(M))return H;var Q=[];for(var X in M){var W=M[X];if(null==W)Q.push(encodeURIComponent(X));else if("string"==typeof W)Q.push(encodeURIComponent(X)+"="+encodeURIComponent(W));else for(var J=0,ee=W;J<ee.length;J++){var le=ee[J];Q.push(encodeURIComponent(X)+"="+encodeURIComponent(le))}}return H+"?"+Q.join("&")}function E(y){var M=d(y);return{baseUrl:M?y.slice(0,y.indexOf("?")):y,queryParameters:u(M)}}function T(y){var M={scheme:"",host:"",path:"",query:"",fragment:""};if(null==y)return M;var L=y.match(/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return L?{scheme:L[1],host:L[2],path:L[3],query:L[4],fragment:L[5]}:M}v.d(ve,{HH:function(){return l},MN:function(){return z},av:function(){return m},en:function(){return T},fS:function(){return I},gU:function(){return n},mA:function(){return G},oB:function(){return E},pU:function(){return g}}),v(1854);var m=function(y){return y[y.NONE=0]="NONE",y[y.http=1]="http",y[y.https=2]="https",y[y.file=3]="file",y[y.ftp=4]="ftp",y[y.mailto=5]="mailto",y[y.news=6]="news",y[y.telnet=7]="telnet",y}({});function z(y){var M=T(y);return null==M||null==M.scheme?m.NONE:C(M.scheme)}function C(y){if(_.isEmpty(y))return m.NONE;switch(y.toLowerCase()){case"http":return m.http;case"https":return m.https;case"file":return m.file;case"ftp":return m.ftp;case"mailto":return m.mailto;case"news":return m.news;case"telnet":return m.telnet;default:return m.NONE}}function d(y){var M=document.createElement("a");return M.href=y,M.search}function u(y){if(!y)return{};_.startsWith(y,"?")&&(y=y.substring(1));for(var L={},O=0,H=y.split("&");O<H.length;O++){var X=H[O].split("="),W=decodeURIComponent(X[0]),J=decodeURIComponent(X[1]),ee=L[W];null==ee?L[W]=J:"string"==typeof ee?L[W]=[ee,J]:ee.push(J)}return L}},9172:function(ie,ve,v){v.d(ve,{sE:function(){return S},bY:function(){return b},r:function(){return h},ql:function(){return k},iD:function(){return D}});var c=v(8955),l=/\n+/g,n=/[\s\n]+/g,g=/([^\S\r\n])/g,V=" ";function P(E,T,m){if(m){for(var z=E-1;z>-1;z--)if(h(T[z]))return z+1}else{z=E;for(var R=T.length;z<R;z++)if(h(T[z]))return z}return m?0:T.length}function S(E,T){c.fF.assert(function(){return E>=0&&E<=T.length},"index within content string bounds");var m={start:0,end:0};return 0===T.length||(m.start=P(E,T,!0),m.end=P(E,T,!1)),m}function h(E){return n.lastIndex=0,n.test(E)}function D(E){var T=1;for(n.lastIndex=0,n.exec(E);0!==n.lastIndex;)T++,n.exec(E);return T}function b(E,T,m){for(var R=0,w=0,B=I(E);w<B.length;w++)m.text=B[w],R=Math.max(R,T(m));return R}function N(E,T,m){return T.text=E,m(T)}var F=function(){function E(){this.words=[],this.width=0}return E.prototype.getWidth=function(){return this.width},E.prototype.addWord=function(T,m){this.words.push(T),this.width+=m},E.prototype.toString=function(T){return this.words.join(T?"":V)},E.prototype.isEmpty=function(){return _.isEmpty(this.words)},E}(),A=function(){function E(){this.lastLine=new F,this.lines=[this.lastLine]}return E.prototype.newLine=function(){var T=this.lastLine;return this.lastLine=new F,this.lines.push(this.lastLine),T},Object.defineProperty(E.prototype,"count",{get:function(){return this.lines.length},enumerable:!1,configurable:!0}),E.prototype.getLastLine=function(){return this.lastLine},E.prototype.getLastLineWidth=function(){return this.getLastLine().getWidth()},E.prototype.addWord=function(T,m){this.lastLine.addWord(T,m)},E.prototype.getLines=function(){return this.lines},E}();function k(E,T,m,z,R,w,B,C,d){if(void 0===d&&(d=!1),!E)return[""];if("string"!=typeof E&&(E=String(E)),c.fF.assert(function(){return"string"==typeof E},"splitByWidth: content should be of type string"),R<1&&(R=Number.POSITIVE_INFINITY),C){for(var y=[],M=0,L=E.split(l);M<L.length;M++){var H=k(L[M],T,m,z,Math.max(1,R),w,B,!1,d);if(R>0)y.push.apply(y,H||[]),R-=H.length;else{var Q=_.last(y);y[y.length-1]=Q+V+H}}return y}w=w||function(De,Qe){return De.text};for(var X=N(V,T,m),W=new A,ee=0,le=I(E,d);ee<le.length;ee++){var Ne=le[ee],Ae=N(Ne,T,m),Se=Ae,we=W.getLastLine().isEmpty();if(!we&&Ne!==V&&(Se+=X),W.getLastLineWidth()+Se<=z||W.count>=R)W.addWord(Ne,Se);else if(we||W.newLine(),Ae<=z)W.addWord(Ne,Ae);else{var Pe=R-W.count;if(!B||Pe<=0)W.addWord(Ne,Ae);else for(var ze=Y(Ne,T,m,z,Pe+1),Xe=0,Me=ze.chunks.length;Xe<Me;Xe++){var pe=ze.chunks[Xe];Xe<Me-1?(W.addWord(pe,z),W.newLine()):W.addWord(pe,ze.lastChunkWidth)}}}var Fe=_.map(W.getLines(),function(De){return De.getWidth()>z?function(E,T,m,z){return T.text=E,m(T,z)}(De.toString(d),T,w,z):De.toString(d)});return Fe}function Y(E,T,m,z,R){var w={chunks:[],lastChunkWidth:0};if(R<1||0===E.length)return w;for(var B=function(E,T,m){return E.text="a",Math.floor(m/T(E))}(T,m,z),C=E,d=function(){if(w.chunks.length===R-1)return w.chunks.push(C),w.lastChunkWidth=N(C,T,m),"break";var M=function(E,T,m,z,R){if(_.isEmpty(E))return{sizeInCharacters:0,sizeInPixels:0};if(0===z)return{sizeInCharacters:1,sizeInPixels:N(E.substr(0,1),T,m)};for(var B={sizeInCharacters:0,sizeInPixels:0},C=Math.min(R,E.length),d=-1,u=E.length+1;d<u-1;){var y=N(E.substr(0,C),T,m),M=y/z;if(y<=z){d=C,B.sizeInCharacters=C,B.sizeInPixels=y;var L=M>0?Math.ceil(C/M):C+1;L=Math.max(L,C+1),C=L=Math.min(L,u-1)}else u=C,L=M>0?Math.floor(C/M):C-1,L=Math.min(L,C-1),C=L=Math.max(L,d+1)}return 0===B.sizeInCharacters?{sizeInCharacters:1,sizeInPixels:N(E.substr(0,1),T,m)}:B}(C,T,m,z,B);B=M.sizeInCharacters;var L=M.sizeInCharacters;if(c.fF.assert(function(){return L<=C.length},"Chunk size is greater than the whole text"),w.chunks.push(C.substr(0,L)),w.lastChunkWidth=M.sizeInPixels,L===C.length)return"break";C=C.substr(L,C.length-L)};C.length>0&&"break"!==d(););return w}function I(E,T){return T&&(E=E.replace(l,"")),E.split(T?g:n)}},1338:function(ie,ve,v){v.d(ve,{l:function(){return l}});var l=new(function(){function n(){}return n.prototype.initialize=function(g){this.runOutsideAngular=function(V){return g.runOutsideAngular(V)}},n.prototype.setInterval=function(g,V){return this.runOutsideAngular(function(){return setInterval(g,V)})},n.prototype.setTimeout=function(g,V){return this.runOutsideAngular(function(){return setTimeout(g,V)})},n.prototype.requestAnimationFrame=function(g){this.runOutsideAngular(function(){return requestAnimationFrame(g)})},n.prototype.runOutsideAngular=function(g){return g()},n}())},2490:function(ie,ve,v){v.d(ve,{JG:function(){return D},JN:function(){return L},NF:function(){return b},U1:function(){return F},UU:function(){return Q},pT:function(){return M},qn:function(){return h},rY:function(){return O},rd:function(){return y},rm:function(){return N},s_:function(){return J},w6:function(){return S},z8:function(){return I}});var c=v(8955);function S(Se,we,Pe){c.fF.assert(function(){return we>=0&&we<Se.length},"startIndex is out of range."),c.fF.assert(function(){return Pe>=0&&Pe<Se.length},"endIndex is out of range.");for(var ze=[],Xe=we;Xe<=Pe;++Xe)ze.push(Se[Xe]);return ze}function h(Se,we){c.fF.assert(function(){return we>=0},"Count is negative."),c.fF.assert(function(){return we<=Se.length},"Count is too large.");for(var Pe=[],ze=0;ze<we;++ze)Pe.push(Se[ze]);return Pe}function D(Se){return c.fF.assertValue(Se,"source"),h(Se,Se.length)}function b(Se,we,Pe){var ze;if(Se||(Se=null),we||(we=null),Se===we)return!0;if(!!Se!=!!we)return!1;var Xe=null!==(ze=null==Se?void 0:Se.length)&&void 0!==ze?ze:0;if(Xe!==(null==we?void 0:we.length))return!1;for(var Me=0;Me<Xe&&Pe(null==Se?void 0:Se[Me],null==we?void 0:we[Me]);)++Me;return Me===Xe}function N(Se){return Se&&0===Se.length?null:Se}function F(Se,we){if(0===we)return Se.slice();var Pe=Se.slice(we);return Array.prototype.push.apply(Pe,Se.slice(0,we)),Pe}function I(Se){c.fF.assertValue(Se,"array");var we=Se;return we.withName=w,we}function w(Se){return function(Se,we){var Pe=function(Se,we){for(var Pe=0,ze=Se.length;Pe<ze;Pe++)if(Se[Pe].name===we)return Pe;return-1}(Se,we);if(Pe>=0)return Se[Pe]}(this,Se)}function y(Se){c.fF.assertValue(Se,"obj");for(var we=Se;null!=we;){if(_.isArray(we))return!0;we=Object.getPrototypeOf(we)}return!1}function M(Se,we){c.fF.assertValue(Se,"values"),c.fF.assertValue(we,"compareFunction");var Pe=Se.length;if(Pe>=2)for(var ze=1;ze<Pe;ze++)if(we(Se[ze-1],Se[ze])>0)return!1;return!0}function L(Se,we){return c.fF.assertValue(Se,"values"),c.fF.assertAnyValue(we,"descendingOrder"),M(Se,we?function(ze,Xe){return Xe-ze}:function(ze,Xe){return ze-Xe})}function O(Se){return _.isArray(Se)?Se:[Se]}function Q(Se,we){c.fF.assertValue(Se,"array");for(var Pe,ze=0,Xe=Se.length;ze<Xe;ze++){var Me=Se[ze],pe=we(Me);Me!==pe&&!Pe&&(Pe=h(Se,ze)),Pe&&Pe.push(pe)}return Pe||Se}function J(Se,we,Pe){return _.isEmpty(Se)||_.isEmpty(we)?_.isEmpty(Se)&&_.isEmpty(we):Se.length===we.length&&function(Se,we,Pe){for(var ze=new Array(we.length),Xe=0,Me=Se;Xe<Me.length;Xe++){for(var pe=Me[Xe],Fe=!1,De=0;De<we.length;De++)if(!ze[De]&&Pe(pe,we[De])){Fe=!0,ze[De]=!0;break}if(!Fe)return!1}return!0}(Se,we,Pe)}},2006:function(ie,ve,v){v.d(ve,{Bm:function(){return V},Gx:function(){return k},Hx:function(){return A},N6:function(){return h},RU:function(){return D},e$:function(){return b},j:function(){return P},jK:function(){return g},mB:function(){return N},nE:function(){return S},xs:function(){return G},zd:function(){return n}});var c=v(8955),n="Client Error Code",g="Error Code",V="Error Details",P="HTTP Request Id",S="Job Id",h="OData Error Message",D="Stack Trace",b="QueryCacheMissError",N=function(){function I(E){this.code=E,this.ignorable=!1,c.fF.assertValue(E,"code")}return I.prototype.getDetails=function(E){return{resourceKey:"ClientError_UnknownClientErrorKey",message:E.get("ClientError_UnknownClientErrorValue"),displayableErrorInfo:[{errorInfoKey:E.get("ClientError_UnknownClientErrorKey"),errorInfoValue:E.get("ClientError_UnknownClientErrorValue")}],debugErrorInfo:[{errorInfoKey:n,errorInfoValue:this.code}]}},I}(),f={additionalInfoKey:"Rls_Unauthorized_VisualErrorTitle",additionalInfoValue:"Rls_Unauthorized_VisualErrorMessage",localizedMessage:"Rls_Unauthorized_VisualError",helpLinkInfo:{helpLink:"https://go.microsoft.com/fwlink/?LinkID=785016",helpLinkType:1}},F={RLSNotAuthorizedForModel:f,NotAuthorizedForImpersonation:f};function A(I){return null!=I&&void 0!==I.code&&void 0!==I.ignorable&&void 0!==I.requestId&&void 0!==I.getDetails}var k=function(){function I(E,T,m,z,R){this.statusCode=E,this.httpRequestId=T,this.detailedErrorCode=m,this.detailedMessage=z,this.source=R,c.fF.assertValue(E,"httpStatusCode")}return Object.defineProperty(I.prototype,"code",{get:function(){return this.detailedErrorCode||"HttpClientError"},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"requestId",{get:function(){return this.httpRequestId},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"httpStatusCode",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),I.prototype.getDetails=function(E){var T=this.detailedErrorCode&&F[this.detailedErrorCode];if(T){var m=T.localizedMessage,z=T.additionalInfoKey||"DsrError_Key",R=T.additionalInfoValue||m||"DsrError_UnknownErrorValue",w=T.helpLinkInfo;return{resourceKey:z,message:m?E.get(m):null,displayableErrorInfo:[{errorInfoKey:E.get(z),errorInfoValue:E.get(R)}],debugErrorInfo:[],helpLink:w&&w.helpLink,helpLinkType:w&&w.helpLinkType,hideAdditionalErrorInfo:!0,source:this.source}}return this.getGenericErrorDetails(E)},I.prototype.getGenericErrorDetails=function(E){var T={resourceKey:"DsrError_Key",message:null,displayableErrorInfo:[{errorInfoKey:E.get("DsrError_Key"),errorInfoValue:E.get("DsrError_UnknownErrorValue")},{errorInfoKey:E.get("ClientError_HttpResponseStatusCodeKey"),errorInfoValue:this.httpStatusCode.toString()}],debugErrorInfo:[{errorInfoKey:P,errorInfoValue:this.httpRequestId},{errorInfoKey:n,errorInfoValue:this.code}],source:this.source};return this.detailedMessage&&T.debugErrorInfo&&T.debugErrorInfo.push({errorInfoKey:V,errorInfoValue:this.detailedMessage}),this.detailedErrorCode&&T.debugErrorInfo&&T.debugErrorInfo.push({errorInfoKey:g,errorInfoValue:this.detailedErrorCode}),T},I}(),G=function(){function I(){this.errorCode=b}return Object.defineProperty(I.prototype,"code",{get:function(){return this.errorCode},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),I.prototype.getDetails=function(E){return{message:E.get("ServiceError_QueryExecutionIsPaused"),displayableErrorInfo:[{errorInfoKey:E.get("ServiceError_QueryExecutionRequired"),errorInfoValue:E.get("ServiceError_VisualCannotBeUpdatedWithoutQuery")},{errorInfoKey:E.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:n,errorInfoValue:this.code}]}},I}()},6096:function(ie,ve,v){v.d(ve,{$Q:function(){return w},A7:function(){return Y},Bx:function(){return k},HO:function(){return d},HS:function(){return I},TD:function(){return F},U1:function(){return n},U8:function(){return A},WV:function(){return V},X6:function(){return B},_j:function(){return D},b9:function(){return b},ci:function(){return g},iC:function(){return y},jd:function(){return z},ok:function(){return E}});var c=v(8955),l=v(8078);function n(M,L){if(0===L)return M;var O=V(M);if(O){var H=P(O);if(H){var Q=function(M,L){var O=M.H+L;return{H:O>1?O-1:O,S:M.S,V:M.V}}(H,L);if(Q){var X=S(Q);if(X)return k(X)}}}}function g(M){var L=V(M);if(L)return k(L)}function V(M){if(M.indexOf("#")>=0){if(7===M.length)return null==(L=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(M))||L.length<4?void 0:{R:parseInt(L[1],16),G:parseInt(L[2],16),B:parseInt(L[3],16)};if(4===M.length)return null==(L=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(M))||L.length<4?void 0:{R:parseInt(L[1]+L[1],16),G:parseInt(L[2]+L[2],16),B:parseInt(L[3]+L[3],16)}}else{var L;if(M.indexOf("rgb(")>=0)return null==(L=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(M))||L.length<4?void 0:{R:parseInt(L[1],10),G:parseInt(L[2],10),B:parseInt(L[3],10)};if(M.indexOf("rgba(")>=0)return null==(L=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/.exec(M))||L.length<5?void 0:{R:parseInt(L[1],10),G:parseInt(L[2],10),B:parseInt(L[3],10),A:parseFloat(L[4])}}}function P(M){if(M){var L,O,H=M.R/255,Q=M.G/255,X=M.B/255,W=Math.min(H,Math.min(Q,X)),J=Math.max(H,Math.max(Q,X)),le=J-W;return 0===J||0===le?(L=0,O=0):(L=le/J,O=H===J?(Q-X)/le:Q===J?2+(X-H)/le:4+(H-Q)/le),(O/=6)<0&&(O+=1),{H:O,S:L,V:J}}}function S(M){var L,O,H,J,ee,le,Ne,Ae,Se,X=M.S,W=M.V;if(0===X)L=W,O=W,H=W;else switch(J=W*(1-X),ee=W*(1-X*(Ne=(Se=6*M.H)-(Ae=Math.floor(Se)))),le=W*(1-X*(1-Ne)),Ae){case 0:L=W,O=le,H=J;break;case 1:L=ee,O=W,H=J;break;case 2:L=J,O=W,H=le;break;case 3:L=J,O=ee,H=W;break;case 4:L=le,O=J,H=W;break;case 5:L=W,O=J,H=ee;break;default:return void c.fF.assertFail("unexpected")}return{R:Math.floor(255*L),G:Math.floor(255*O),B:Math.floor(255*H)}}function D(M,L){var O=Math.floor(L);return{R:Math.max(0,M.R-O),G:Math.max(0,M.G-O),B:Math.max(0,M.B-O)}}function b(M,L){return M.A=L,M}function F(M){return 1-M/100}function A(M){return null==M.A?"rgb("+M.R+","+M.G+","+M.B+")":"rgba("+M.R+","+M.G+","+M.B+","+M.A+")"}function k(M){return"#"+R(M.R)+R(M.G)+R(M.B)}function Y(M){return/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(M)}function I(M){return/(#([\da-f]{3}){1,2}|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1.0|1|0|0?\.\d+)\)|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/gi.test(M)}function E(M,L,O){var H=V(M),Q=V(O);if(H&&Q)return k(function(M,L,O){return L=(0,l.QO)(L,0,1),{R:m(M.R,L,O.R),G:m(M.G,L,O.G),B:m(M.B,L,O.B)}}(H,L,Q))}function m(M,L,O){return L=(0,l.QO)(L,0,1),M=(0,l.QO)(M,0,255),O=(0,l.QO)(O,0,255),Math.round(L*M+(1-L)*O)}function z(M,L,O){var H=P(M);if(H){(L+O>1||L<=0||O<=0)&&(c.fF.assert(function(){return!1},"Invalid lumianceThreshold and highlightColor adjusting delta."),L=.8,O=.2),H.V=H.V<L?H.V+O:H.V-O;var Q=S(H);if(Q)return k(Q)}}function R(M){var O=(0,l.QO)(M,0,255).toString(16).toUpperCase();return 1===O.length?"0"+O:O}function w(M,L,O){c.fF.assert(function(){return M.length===L.length},"createLinearColorScale - domain and range must be the same size"),c.fF.assert(function(){return M.length>1},"createLinearColorScale - domain and range must contain at least 2 values");var H=L.map(function(Q){return V(Q)});return function(Q){if(null==Q&&(Q=0),!isNaN(Q)){if(O){var X=_.last(M);if(null==X||Q>=X)return _.last(L);if(Q<=M[0])return L[0]}for(var W,J,ee,le,Ne=1,Ae=M.length;Ne<Ae;Ne++){if(J=M[Ne],(W=M[Ne-1])===Number.NEGATIVE_INFINITY&&isNaN(J))return L[Ne];if(isNaN(W)||isNaN(J))return;if(Q===J)return L[Ne];if(Q>=W&&Q<=J){ee=H[Ne-1],le=H[Ne];break}}if(void 0!==W&&void 0!==J&&void 0!==ee&&void 0!==le)return k({R:C(Q,W,J,ee.R,le.R),G:C(Q,W,J,ee.G,le.G),B:C(Q,W,J,ee.B,le.B)})}}}function B(M,L){void 0===L&&(L=.25),c.fF.assert(function(){return L>0&&L<=.5},"valueOffset must be positive and less than 0.5");var H=P(V(M));if(H){H.V=H.V>1-L?1-L:H.V<L?L:H.V;var Q=_.clone(H),X=_.clone(H);Q.V=Math.min(H.V+L,1),X.V=Math.max(H.V-L,0);var W=S(Q),J=S(X);if(W&&J)return w([0,1],[k(W),k(J)],!0)}}function C(M,L,O,H,Q){return L===Number.NEGATIVE_INFINITY&&O===Number.POSITIVE_INFINITY?Math.round((Q+H)/2):L===Number.NEGATIVE_INFINITY?Q:O===Number.POSITIVE_INFINITY?H:Math.round(H+(M-L)*(Q-H)/(O-L))}function d(M,L){var O=parseInt(M.slice(1),16),H=L<0?0:255,Q=L<0?-1*L:L,X=O>>16,W=O>>8&255,J=255&O;return"#"+(16777216+65536*(Math.round((H-X)*Q)+X)+256*(Math.round((H-W)*Q)+W)+(Math.round((H-J)*Q)+J)).toString(16).slice(1)}var u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function y(M){return c.fF.assertValue(M,"getWebColorValue - colorName"),u[M.toLocaleLowerCase()]}},6976:function(ie,ve,v){v.d(ve,{U:function(){return n},fA:function(){return c},md:function(){return l}});var c="foreground",l="foregroundDark",n="background"},5867:function(ie,ve,v){function c(V,P){!0!==V&&g(P||"condition: "+V)}function g(V){throw new Error("Contract check failed: "+V)}v.d(ve,{BF:function(){return c},bG:function(){return g}})},8955:function(ie,ve,v){v.d(ve,{fF:function(){return l}}),v(3188);var l=function(){function V(){}return V.setAssertFailFunction=function(P){V.assertFailFunction=P},V.assert=function(P,S){},V.setAssert=function(P){V.assert=P},V.assertValue=function(P,S){},V.assertNonEmpty=function(P,S){},V.assertAnyValue=function(P,S){},V.assertFail=function(P){},V.log=function(P){for(var S=[],h=1;h<arguments.length;h++)S[h-1]=arguments[h]},V.logDebug=function(P){for(var S=[],h=1;h<arguments.length;h++)S[h-1]=arguments[h]},V.warn=function(P){for(var S=[],h=1;h<arguments.length;h++)S[h-1]=arguments[h]},V.assertNever=function(P){},V.breakDebugger=function(){},V.execute=function(P){},V.isDisabled=function(){return this.disbaled},V.disable=function(){window.DEBUG=!1,this.disbaled=!0},V.disbaled=!1,V}(),g=!1;g||(window.debug=l,window.DEBUG=!1,g=!0)},1854:function(ie,ve,v){v.d(ve,{AK:function(){return g},YU:function(){return n},x9:function(){return V}});var n=window.escape,g=window.unescape;function V(P){}},255:function(ie,ve,v){function c(){return window.powerbi||(window.powerbi={}),window.powerbi}function l(){var V=c();return V.common||(V.common={}),V.common}function n(){var V=c();return V.visuals||(V.visuals={}),V.visuals}function g(){return window.jsCommon||(window.jsCommon={}),window.jsCommon}v.d(ve,{Z7:function(){return n},hG:function(){return l},kx:function(){return g},wg:function(){return c}})},9249:function(ie,ve,v){v.d(ve,{Wn:function(){return g},_b:function(){return P},bw:function(){return V}});var n=function(){function D(b){this.families=b}return Object.defineProperty(D.prototype,"family",{get:function(){return this.getFamily()},enumerable:!1,configurable:!0}),D.prototype.getFamily=function(){return this.families.join(", ")},Object.defineProperty(D.prototype,"css",{get:function(){return this.getCSS()},enumerable:!1,configurable:!0}),D.prototype.getCSS=function(){return this.families?this.families.map(function(b){return b.indexOf(" ")>-1?"'".concat(b,"'"):b}).join(", "):null},D}(),g={light:new n(["Segoe UI Light","wf_segoe-ui_light","helvetica","arial","sans-serif"]),semilight:new n(["Segoe UI Semilight","wf_segoe-ui_semilight","helvetica","arial","sans-serif"]),regular:new n(["Segoe UI","wf_segoe-ui_normal","helvetica","arial","sans-serif"]),semibold:new n(["Segoe UI Semibold","wf_segoe-ui_semibold","helvetica","arial","sans-serif"]),bold:new n(["Segoe UI Bold","wf_segoe-ui_bold","helvetica","arial","sans-serif"]),lightSecondary:new n(["wf_standard-font_light","helvetica","arial","sans-serif"]),regularSecondary:new n(["wf_standard-font","helvetica","arial","sans-serif"]),boldSecondary:new n(["wf_standard-font_bold","helvetica","arial","sans-serif"]),glyphs:new n(["PowerVisuals"])},V={"Segoe UI Light":g.light,"Segoe UI Semilight":g.semilight,"Segoe UI":g.regular,"Segoe UI Semibold":g.semibold,"Segoe (Bold)":g.bold,"Segoe UI Bold":g.bold,DIN:g.regularSecondary,"DIN Light":g.lightSecondary,Heading:g.light,Body:g.regular};function P(D,b){return void 0===b&&(b=!0),null==D||""===D?D:-1===D.indexOf(",")?-1===D.indexOf(" ")?D:b?function(D){if(D)return'"'+D.replace(/['"]+/g,"")+'"'}(D):function(D){if(D)return D.replace(/['"]+/g,"")}(D):D.split(",").map(function(f){return P(f.trim(),b)}).join(", ")}},5654:function(ie,ve,v){v.d(ve,{ao:function(){return f},fS:function(){return n},oY:function(){return N}});var c=v(9918);function n(F,A){return null!=F&&null!=A&&F.x===A.x&&F.y===A.y}function N(F,A,k){var Y=(A.y-F.y)*(k.x-A.x)-(A.x-F.x)*(k.y-A.y);return 0===Y?c.i.Colinear:Y>0?c.i.Clockwise:c.i.Counterclockwise}function f(F,A,k){return k.x<=Math.max(F.x,A.x)&&k.x>=Math.min(F.x,A.x)&&k.y<=Math.max(F.y,A.y)&&k.y>=Math.min(F.y,A.y)}},6471:function(ie,ve,v){v.d(ve,{BD:function(){return B},HL:function(){return C},WN:function(){return H},d9:function(){return F},fS:function(){return f},rr:function(){return G},wf:function(){return d}});var c=v(8955),l=v(8078);function f(Q,X){return null!=X&&Q.left===X.left&&Q.top===X.top&&Q.width===X.width&&Q.height===X.height}function F(Q){return null!==Q?{left:Q.left,top:Q.top,width:Q.width,height:Q.height}:null}function G(Q,X){var W=F(Q);return W?(X&&(W.left-=X.left,W.top-=X.top,W.width+=X.left+X.right,W.height+=X.top+X.bottom),W):null}function B(Q,X,W){return void 0===W&&(W=!1),null!==Q&&null!==X&&(W?(0,l.Po)(Q.left,X.x)&&(0,l.Po)(X.x,Q.left+Q.width)&&(0,l.Po)(Q.top,X.y)&&(0,l.Po)(X.y,Q.top+Q.height):(0,l.bl)(Q.left,X.x)&&(0,l.bl)(X.x,Q.left+Q.width)&&(0,l.bl)(Q.top,X.y)&&(0,l.bl)(X.y,Q.top+Q.height))}function C(Q,X){return!(!Q||!X||X.left>Q.left+Q.width||X.left+X.width<Q.left||X.top>Q.top+Q.height||X.top+X.height<Q.top)}function d(Q,X){if(!Q)return X;if(!X)return Q;var W=Math.max(Q.left,X.left),J=Math.max(Q.top,X.top),ee=Math.min(Q.left+Q.width,X.left+X.width),le=Math.min(Q.top+Q.height,X.top+X.height);return W<=ee&&J<=le?{left:W,top:J,width:ee-W,height:le-J}:{left:0,top:0,width:0,height:0}}function H(Q,X,W,J){return void 0!==Q&&void 0!==X&&void 0!==W&&void 0!==J&&(c.fF.assert(function(){return Q<=X},"Lower bound for range should not be greater than upper bound."),c.fF.assert(function(){return W<=J},"Lower bound for range should not be greater than upper bound."),(0,l.bl)(Q,J)&&(0,l.bl)(W,X))}},8611:function(ie,ve,v){v.d(ve,{z:function(){return l}});var l=void 0!==window.performance&&window.performance.now&&window.performance.timeOrigin?function(){return window.performance.now()+window.performance.timeOrigin}:Date.now},2933:function(ie,ve,v){v.d(ve,{O:function(){return g},p:function(){return n}});var l,c=v(8955);function n(){return new V}var g=function(h){return h[h.pending=0]="pending",h[h.resolved=1]="resolved",h[h.rejected=2]="rejected",h}({}),V=function(){function h(){}return h.prototype.defer=function(D){return new P($.Deferred())},h.prototype.reject=function(D){var b=this.defer();return b.reject(D),b.promise},h.prototype.resolve=function(D){var b=this.defer();return b.resolve(D),b.promise},h.prototype.all=function(D){return this.when.apply(this,D).then(function(){return Array.prototype.slice.call(arguments)})},h.prototype.allSettled=function(D){var b=this.defer(),N=D.length;if(N>0)for(var f=0,F=[],A=function(j){D[j].then(function(G){F[j]={value:G,type:0}}).catch(function(G){F[j]={value:G,type:1}}).finally(function(){++f===N&&b.resolve(F)})},k=0;k<N;k++)A(k);else b.resolve([]);return b.promise},h.prototype.when=function(){for(var D=[],b=0;b<arguments.length;b++)D[b]=arguments[b];var N=D.map(function(F){return F&&F.promise?F.promise:F});if(1===N.length){var f=N[0];return null!=f&&f.pipe?new S(f):this.resolve(f)}return new S($.when.apply($,N))},h}(),P=function(){function h(D){c.fF.assertValue(D,"deferred"),this.deferred=D,this.promise=new S(D.promise())}return h.prototype.resolve=function(D){this.deferred.resolveWith(this.deferred.promise,[D])},h.prototype.reject=function(D){this.deferred.rejectWith(this.deferred.promise,[D])},h}(),S=function(){function h(D){this[l]="Promise",c.fF.assertValue(D,"promise"),this.promise=D}return h.prototype.then=function(D,b){var N=h.wrapCallback(D),f=h.wrapCallback(b);return new h(this.promise.pipe(N||null,f))},h.prototype.catch=function(D){return this.then(null,D)},h.prototype.finally=function(D){return this.promise.always(h.wrapCallback(D)),this},h.wrapCallback=function(D){return D&&function(){var b=D.apply(this,arguments);return b instanceof h?b.promise:b}},h}();l=Symbol.toStringTag},775:function(ie,ve,v){v.d(ve,{DU:function(){return n},UD:function(){return g}});var c=function(){function V(){}return V.prototype.getData=function(P){try{if(localStorage){var S=localStorage[P];if(S)return JSON.parse(S)}}catch(h){}},V.prototype.setData=function(P,S){try{if(localStorage)return void(void 0===S?localStorage.removeItem(P):localStorage[P]=JSON.stringify(S))}catch(h){}},V.prototype.setJSONData=function(P,S){try{localStorage&&(void 0===S?localStorage.removeItem(P):localStorage[P]=S)}catch(h){}},V.prototype.forEach=function(P){try{if(!localStorage)return;for(var S=localStorage.length;S-- >0;)P(localStorage.key(S))}catch(h){}},V}(),l=function(){function V(P){this.cache={},this.clearCacheInterval=null!=P?P:V.defaultClearCacheInterval,this.clearCache()}return V.prototype.getData=function(P){return this.cache[P]},V.prototype.setData=function(P,S){var h=this;this.cache[P]=S,null==this.clearCacheTimerId&&(this.clearCacheTimerId=setTimeout(function(){return h.clearCache()},this.clearCacheInterval))},V.prototype.clearCache=function(){this.cache={},this.clearCacheTimerId=void 0},V.defaultClearCacheInterval=864e5,V}(),n=new c,g=new l},563:function(ie,ve,v){v.d(ve,{b:function(){return D}});var c=v(7777),l=v(8955),n=v(1854),g=v(8078),V=v(6023),P=v(517),S=v(9172),h=v(775),D=function(){function b(){}return b.setCanvasCtx=function(N){b.canvasCtx=N},b.ensureDOM=function(){var N;if(!b.canvasCtx){if(b.spanElement||(b.spanElement=$("<span></span>"),$("body").append(b.spanElement)),null==b.letterSpacing)try{var f=window.getComputedStyle(null===(N=b.spanElement)||void 0===N?void 0:N.get(0));f.letterSpacing.indexOf("px")>0&&(b.letterSpacing=+f.letterSpacing.replace("px",""))}catch(A){}b.svgTextElement||(b.svgTextElement=d3.select($("body").get(0)).append("svg").styles({height:"0px",width:"0px",position:"absolute"}).append("text")),b.canvasCtx=$("<canvas></canvas>").get(0).getContext("2d");var F=window.getComputedStyle(b.svgTextElement.node());b.fallbackFontFamily=F?F.fontFamily:""}},b.removeSpanElement=function(){b.spanElement&&b.spanElement.remove&&b.spanElement.remove(),b.spanElement=null},b.measureSvgTextWidth=function(N,f){if(l.fF.assertValue(N,"textProperties"),l.fF.assert(function(){return _.isEmpty(N.fontSize)||-1!==N.fontSize.indexOf("px")},"TextProperties' text size should be in px."),!N||!N.fontSize)return 0;if(b.ensureDOM(),!b.canvasCtx)return((null!=f?f.length:null!=N.text&&N.text.length)||0)*(parseInt(N.fontSize,10)||9);if(!b.setCanvasFont(b.canvasCtx,N)||null==f&&null==N.text)return 0;var A=null!=f?f:N.text;return b.canvasCtx.measureText(A).width+(null!=b.letterSpacing?b.letterSpacing*A.length:0)},b.measureSvgTextRect=function(N,f){return l.fF.assertValue(N,"textProperties"),l.fF.assert(function(){return _.isEmpty(N.fontSize)||-1!==N.fontSize.indexOf("px")},"TextProperties' text size should be in px."),b.ensureDOM(),b.svgTextElement.text(f||N.text).attrs({visibility:"hidden","font-family":N.fontFamily||b.fallbackFontFamily,"font-variant":N.fontVariant,"font-size":N.fontSize,"font-weight":N.fontWeight,"font-style":N.fontStyle,"text-decoration":N.textDecoration||"none","white-space":N.whiteSpace||"nowrap"}),(0,P.jL)(b.svgTextElement.node())},b.measureSvgTextHeight=function(N,f){var F=b.measureSvgTextRect(N,f);return F?F.height:0},b.measureSvgGlyphHeight=function(N,f,F){l.fF.assert(function(){return-1!==N.indexOf("px")},"Font size should be in px."),b.ensureDOM(),b.svgTextElement.classed(f,!0).style("font-size",N).style("position","absolute").style("visibility","hidden");var k=b.measureSvgTextRect({fontFamily:null,fontSize:N},F);return b.svgTextElement.classed(f,!1).text(null).style("font-size",null).style("position",null).style("visibility",null),k?k.height:0},b.estimateSvgTextRect=function(N){l.fF.assertValue(N,"textProperties"),l.fF.assert(function(){return _.isEmpty(N.fontSize)||-1!==N.fontSize.indexOf("px")},"TextProperties' text size should be in px.");var f=(N.fontFamily||"")+(N.fontSize||""),F=h.UD.getData(f),A=null==F?void 0:F.rect,k={fontFamily:N.fontFamily,fontSize:N.fontSize,text:"M"},Y=b.isFontLoaded(k);return null!=A&&F.fontLoaded||!1===Y?null==A&&(A=b.measureSvgTextRect(k),h.UD.setData(f,{rect:A,fontLoaded:!1})):(A=b.measureSvgTextRect(k)).height>0&&h.UD.setData(f,{rect:A,fontLoaded:!0}),A},b.isFontLoaded=function(N){var f="16px",F=document.fonts,A=N.fontFamily,k=!1;if(b.fontLoadCache[A])return!0;if(F&&A)try{k=F.check(f+" "+A)}catch(G){}else{N.fontSize=f;var Y=b.measureSvgTextRect(N),j=A?A.split(",")[0]:"";if(-1!==j.indexOf("Segoe UI"))k=(0,g.GG)(Y.height,21.28,1e-5);else{if(-1===j.indexOf("wf_standard-font"))return null;k=(0,g.GG)(Y.height,16.35,1e-5)}}return b.fontLoadCache[A]=k,k},b.clearFontLoadedCache=function(){b.fontLoadCache={}},b.estimateSvgTextBaselineDelta=function(N){var f=b.estimateSvgTextRect(N);return f.y+f.height},b.estimateSvgTextHeight=function(N,f){void 0===f&&(f=!1);var F=b.estimateSvgTextRect(N).height;return f&&(F*=.7),F},b.measureSvgTextElementWidth=function(N){return l.fF.assertValue(N,"svgElement"),b.measureSvgTextWidth(b.getSvgMeasurementProperties(N))},b.getMeasurementProperties=function(N){return l.fF.assertValue(N,"element"),{text:N.val()||N.text(),fontFamily:N.css("font-family"),fontSize:N.css("font-size"),fontWeight:N.css("font-weight"),fontStyle:N.css("font-style"),fontVariant:N.css("font-variant"),whiteSpace:N.css("white-space")}},b.getSvgMeasurementProperties=function(N){l.fF.assertValue(N,"svgElement");var f=window.getComputedStyle(N,null);return f?{text:N.textContent,fontFamily:f.fontFamily,fontSize:f.fontSize,fontWeight:f.fontWeight,fontStyle:f.fontStyle,fontVariant:f.fontVariant,whiteSpace:f.whiteSpace}:{text:N&&N.textContent,fontFamily:"",fontSize:"0"}},b.getDivElementWidth=function(N){l.fF.assert(function(){return N.is("div")},"Given element is not a div type. Cannot get width");var f=getComputedStyle(N[0]);return f?f.width:"0"},b.getTailoredTextOrDefault=function(N,f){if(l.fF.assertValue(N,"properties"),l.fF.assertValue(N.text,"properties.text"),l.fF.assert(function(){return _.isEmpty(N.fontSize)||-1!==N.fontSize.indexOf("px")},"TextProperties' text size should be in px."),!N||!N.fontSize)return"";b.ensureDOM();var F=N.text;if(!F||!b.canvasCtx||!b.setCanvasFont(b.canvasCtx,N))return"";var A=b.canvasCtx.measureText(F).width+(null!=b.letterSpacing?b.letterSpacing*F.length:0);if(A<=f)return F;for(var k=1,Y=(F=b.ellipsis+F).length;k<Y;){var j=k+Y>>1,G=F.substr(0,j);f>(A=b.canvasCtx.measureText(G).width+(null!=b.letterSpacing?b.letterSpacing*G.length:0))?k=j+1:f<A?Y=j-1:(k=j,Y=j)}var I=F.substr(0,k);return(A=b.canvasCtx.measureText(F.substr(0,k)).width+(null!=b.letterSpacing?b.letterSpacing*I.length:0))>f&&k--,F.substr(b.ellipsis.length,k-b.ellipsis.length)+b.ellipsis},b.setCanvasFont=function(N,f){try{N.font=(f.fontStyle||"")+" "+(f.fontVariant||"")+" "+(f.fontWeight||"")+" "+f.fontSize+" "+(f.fontFamily||b.fallbackFontFamily)}catch(F){return!1}return!0},b.svgEllipsis=function(N,f,F){l.fF.assertValue(N,"textElement"),F||(F=b.getSvgMeasurementProperties(N));var A=F.text,k=b.getTailoredTextOrDefault(F,f);A!==k&&(N.textContent=k)},b.wordBreak=function(N,f,F,A){void 0===A&&(A=0),(0,n.x9)("powerbi.TextMeasurementService.wordBreak is deprecated. Use powerbi.visuals.TextUtil.wordBreak instead"),l.fF.assertValue(N,"textElement");var k=b.getSvgMeasurementProperties(N),Y=b.estimateSvgTextHeight(k)+A,j=Math.max(1,Math.floor(F/Y)),G=d3.select(N),I=G.attr("y"),E=N.textContent;N.textContent="";for(var T=(0,S.ql)(E,k,b.measureSvgTextWidth,f,j),m=0,z=T.length;m<z;m++)k.text=T[m],G.append("tspan").attrs({x:0,dy:0===m?I:Y}).text(b.getTailoredTextOrDefault(k,f))},b.wordBreakOverflowingText=function(N,f,F,A){void 0===A&&(A=0),l.fF.assertValue(N,"textElement");var k=b.getSvgMeasurementProperties(N),Y=b.estimateSvgTextHeight(k)+A,j=Math.max(1,Math.floor(F/Y)),G=N.textContent;N.textContent="";var I=(0,S.ql)(G,k,b.measureSvgTextWidth,f,j);d3.select(N).selectAll(b.OverflowingText.selector).data(I).enter().append("span").classed(b.OverflowingText.class,!0).text(function(T){return T}).style("width",V.FP.toString(f))},b.ellipsis="\u2026",b.OverflowingText=(0,c.CH)("overflowingText"),b.letterSpacing=null,b.fontLoadCache={},b}()},9918:function(ie,ve,v){v.d(ve,{i:function(){return c}});var c=function(l){return l[l.Clockwise=0]="Clockwise",l[l.Counterclockwise=1]="Counterclockwise",l[l.Colinear=2]="Colinear",l}({})},2589:function(ie,ve,v){v.d(ve,{fJ:function(){return g},ng:function(){return P}});var c=v(2490),l=v(6096),n=v(8955),g=function(){function S(h,D,b){var N;this.basePickerColors=[{value:"#FFFFFF"},{value:"#000000"}],this.colors=h||P.getDefaultColors(),this.sentimentColors=D||P.defaultSentimentColors,this.gradientColors=b||P.defaultGradientColors,this.scales={},(N=this.basePickerColors).push.apply(N,_.take(this.colors,8))}return S.prototype.getColorScaleByKey=function(h){var D=this.scales[h];return void 0===D&&(D=this.createScale(),this.scales[h]=D),D},S.prototype.getNewColorScale=function(){return this.createScale()},S.prototype.getColorByIndex=function(h){var D=this;return n.fF.assert(function(){return h>=0&&h<D.colors.length},"index is out of bounds"),this.colors[h]},S.prototype.getSentimentColors=function(){return this.sentimentColors},S.prototype.getGradientColors=function(){return this.gradientColors},S.prototype.getBasePickerColors=function(){return this.basePickerColors},S.prototype.getBaseColors=function(){return _.take(this.colors,8)},S.prototype.getAllColors=function(){return this.colors},S.prototype.createScale=function(){return V.createFromColors(this.colors)},S}(),V=function(){function S(h){this.scale=h}return S.prototype.getColor=function(h){return this.scale(h)},S.prototype.clearAndRotateScale=function(){var h=this.scale.domain().length,D=(0,c.U1)(this.scale.range(),h);this.scale=d3.scaleOrdinal().range(D)},S.prototype.clone=function(){return new S(this.scale.copy())},S.prototype.getDomain=function(){return this.scale.domain()},S.createFromColors=function(h){return new S(d3.scaleOrdinal().range(h))},S}(),P=function(){function S(){}return S.getDefaultColors=function(){if(!S.defaultColors){S.defaultColors=[];for(var h=S.defaultBaseColors,D=0;D<S.colorSectorCount;++D)for(var b=0,N=h.length;b<N;++b){var f=(0,l.U1)(h[b].value,D/S.colorSectorCount);S.defaultColors.push({value:null!=f?f:h[b].value})}}return S.defaultColors},S.colorSectorCount=12,S.defaultBaseColors=[{value:"#01B8AA"},{value:"#374649"},{value:"#FD625E"},{value:"#F2C80F"},{value:"#5F6B6D"},{value:"#8AD4EB"},{value:"#FE9666"},{value:"#A66999"},{value:"#3599B8"},{value:"#DFBFBF"},{value:"#4AC5BB"},{value:"#5F6B6D"},{value:"#FB8281"},{value:"#F4D25A"},{value:"#7F898A"},{value:"#A4DDEE"},{value:"#FDAB89"},{value:"#B687AC"},{value:"#28738A"},{value:"#A78F8F"},{value:"#168980"},{value:"#293537"},{value:"#BB4A4A"},{value:"#B59525"},{value:"#475052"},{value:"#6A9FB0"},{value:"#BD7150"},{value:"#7B4F71"},{value:"#1B4D5C"},{value:"#706060"},{value:"#0F5C55"},{value:"#1C2325"},{value:"#7D3231"},{value:"#796419"},{value:"#303637"},{value:"#476A75"},{value:"#7E4B36"},{value:"#52354C"},{value:"#0D262E"},{value:"#544848"}],S.defaultSentimentColors={bad:{value:"#E81123"},neutral:{value:"#F2C811"},good:{value:"#3bb44a"}},S.defaultGradientColors={minColor:{value:"#FD625E"},midColor:{value:"#F5D33F"},maxColor:{value:"#01B8AA"},nullColor:{value:"#FF7F48"}},S}()},4996:function(ie,ve,v){v.d(ve,{GK:function(){return N},Ue:function(){return g},lQ:function(){return f},pe:function(){return b}});var c=v(8955),l=v(9249),n=v(2589);function g(F,A){void 0===F&&(F=new n.fJ);var k={foreground:{value:"#333333"},foregroundLight:{value:"#FFF"},foregroundDark:{value:"#000"},foregroundNeutralLight:{value:"#EAEAEA"},foregroundNeutralDark:{value:"#212121"},foregroundNeutralSecondary:{value:"#666666"},foregroundNeutralSecondaryAlt:{value:"#777777"},foregroundNeutralSecondaryAlt2:{value:"#888888"},foregroundNeutralTertiary:{value:"#A6A6A6"},foregroundNeutralTertiaryAlt:{value:"#C8C8C8"},foregroundSelected:{value:"#333333"},foregroundButton:{value:"#666666"},background:{value:"#FFF"},backgroundLight:{value:"#EAEAEA"},backgroundNeutral:{value:"#C8C8C8"},backgroundDark:{value:"#000"},tableAccent:{value:F.getColorByIndex(0).value},hyperlink:{value:"#1F3A93"},visitedHyperlink:{value:"#551A8B"},mapPushpin:{value:"#FF5F00"},shapeStroke:{value:"#01B8AA"},disabledText:{value:"#8C8C8C"},dataColors:F},Y=function(F,A,k){var Y,j,G,I;if(void 0===k&&(k=!1),function(F){if(!F)return!1;for(var k=["color","fontSize","fontFace"],Y=0,j=["callout","header","label","title"];Y<j.length;Y++){var I=F[j[Y]];if(!I)return!1;for(var E=0,T=k;E<T.length;E++)if(!I[T[E]])return!1}return!0}(A)){A.callout.fontFace=P(null!==(Y=A.callout.fontFace)&&void 0!==Y?Y:""),A.label.fontFace=P(null!==(j=A.label.fontFace)&&void 0!==j?j:""),A.title.fontFace=P(null!==(G=A.title.fontFace)&&void 0!==G?G:""),A.header.fontFace=P(null!==(I=A.header.fontFace)&&void 0!==I?I:"");var z={callout:A.callout,label:A.label,title:A.title,header:A.header,largeTitle:S(A.largeTitle,A.title,void 0,7/6),dataTitle:S(A.dataTitle,A.title,F.dataColors.getColorByIndex(0)),boldLabel:S(A.boldLabel,A.label,void 0,void 0,"700"),largeLabel:S(A.largeLabel,A.label,void 0,1.2),largeLightLabel:S(A.largeLightLabel,A.label,F.foregroundNeutralSecondary,1.2),lightLabel:S(A.lightLabel,A.label,F.foregroundNeutralSecondary),semiboldLabel:S(A.semiboldLabel,A.label,void 0,void 0,"600"),smallLabel:S(A.smallLabel,A.label,void 0,.9),smallLightLabel:S(A.smallLightLabel,A.label,F.foregroundNeutralSecondary,.9),smallDataLabel:S(A.smallDataLabel,A.label,F.dataColors.getColorByIndex(0),.9)};if(k){var R=F.foreground.value,w=void 0;for(w in z){var B=z[w];B.color?B.color.value=R:B.color={value:R}}}return z}}(k,A);return{isHighContrast:!1,colorPalette:k,textClasses:Y,icons:{SignLow:{svgId:"SignLow",description:{resourceKey:"Icon_SignLow"}},SignMedium:{svgId:"SignMedium",description:{resourceKey:"Icon_SignMedium"}},CircleGreenPatternFill:{svgId:"CircleGreenPatternFill",description:{resourceKey:"Icon_CircleGreenPatternFill"}},CircleYellowPatternFill:{svgId:"CircleYellowPatternFill",description:{resourceKey:"Icon_CircleYellowPatternFill"}},CircleRedPatternFill:{svgId:"CircleRedPatternFill",description:{resourceKey:"Icon_CircleRedPatternFill"}},CircleBlackFill:{svgId:"CircleBlackFill",description:{resourceKey:"Icon_4CircleLow"}},CircleGrayPatternFill:{svgId:"CircleGrayPatternFill",description:{resourceKey:"Icon_CircleGrayPatternFill"}},CirclePurplePatternFill:{svgId:"CirclePurplePatternFill",description:{resourceKey:"Icon_CirclePurplePatternFill"}},CircleHigh:{svgId:"CircleHigh",description:{resourceKey:"Icon_CircleHigh"}},CircleMedium:{svgId:"CircleMedium",description:{resourceKey:"Icon_CircleMedium"}},CircleLow:{svgId:"CircleLow",description:{resourceKey:"Icon_4CircleHigh"}},"4CircleLow":{svgId:"4CircleLow",description:{resourceKey:"Icon_4CircleLow"}},CircleMedium1:{svgId:"CircleMedium1",description:{resourceKey:"Icon_CircleMedium1"}},"4CircleMedium2":{svgId:"4CircleMedium2",description:{resourceKey:"Icon_4CircleMedium2"}},CircleEmpty:{svgId:"CircleEmpty",description:{resourceKey:"Icon_CircleEmpty"}},Circle25:{svgId:"Circle25",description:{resourceKey:"Icon_Circle25"}},CircleHalf:{svgId:"CircleHalf",description:{resourceKey:"Icon_CircleHalf"}},Circle75:{svgId:"Circle75",description:{resourceKey:"Icon_Circle75"}},CircleFilled:{svgId:"CircleFilled",description:{resourceKey:"Icon_CircleFilled"}},CircleGreenBlackBackgroundPatternFill:{svgId:"CircleGreenBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleGreenBlackBackgroundPatternFill"}},CircleYellowBlackBackgroundPatternFill:{svgId:"CircleYellowBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleYellowBlackBackgroundPatternFill"}},CircleRedBlackBackgroundPatternFill:{svgId:"CircleRedBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleRedBlackBackgroundPatternFill"}},TrafficLow:{svgId:"TrafficLow",description:{resourceKey:"Icon_TrafficLow"}},TrafficMedium:{svgId:"TrafficMedium",description:{resourceKey:"Icon_TrafficMedium"}},TrafficHigh:{svgId:"TrafficHigh",description:{resourceKey:"Icon_TrafficHigh"}},TrafficBlackRimmed:{svgId:"TrafficBlackRimmed",description:{resourceKey:"Icon_TrafficBlackRimmed"}},CircleRedBlackOutlinePatternFill:{svgId:"CircleRedBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleRedBlackOutlinePatternFill"}},CircleYellowBlackOutlinePatternFill:{svgId:"CircleYellowBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleYellowBlackOutlinePatternFill"}},CircleGreenBlackOutlinePatternFill:{svgId:"CircleGreenBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleGreenBlackOutlinePatternFill"}},TrafficLowLight:{svgId:"TrafficLowLight",description:{resourceKey:"Icon_TrafficLowLight"}},TrafficMediumLight:{svgId:"TrafficMediumLight",description:{resourceKey:"Icon_TrafficMediumLight"}},TrafficHighLight:{svgId:"TrafficHighLight",description:{resourceKey:"Icon_TrafficHighLight"}},TrafficBlackRimmedLight:{svgId:"TrafficBlackRimmedLight",description:{resourceKey:"Icon_TrafficBlackRimmedLight"}},ColoredArrowDown:{svgId:"ColoredArrowDown",description:{resourceKey:"Icon_ColoredArrowDown"}},ColoredArrowDownRight:{svgId:"ColoredArrowDownRight",description:{resourceKey:"Icon_ColoredArrowDownRight"}},ColoredArrowRight:{svgId:"ColoredArrowRight",description:{resourceKey:"Icon_ColoredArrowRight"}},ColoredArrowUpRight:{svgId:"ColoredArrowUpRight",description:{resourceKey:"Icon_ColoredArrowUpRight"}},ColoredArrowUp:{svgId:"ColoredArrowUp",description:{resourceKey:"Icon_ColoredArrowUp"}},ColoredArrowUpRed:{svgId:"ColoredArrowUpRed",description:{resourceKey:"Icon_ColoredArrowUpRed"}},ColoredArrowDownGreen:{svgId:"ColoredArrowDownGreen",description:{resourceKey:"Icon_ColoredArrowDownGreen"}},GreyArrowDown:{svgId:"GreyArrowDown",description:{resourceKey:"Icon_GreyArrowDown"}},GreyArrowDownRight:{svgId:"GreyArrowDownRight",description:{resourceKey:"Icon_GreyArrowDownRight"}},GreyArrowRight:{svgId:"GreyArrowRight",description:{resourceKey:"Icon_GreyArrowRight"}},GreyArrowUpRight:{svgId:"GreyArrowUpRight",description:{resourceKey:"Icon_GreyArrowUpRight"}},GreyArrowUp:{svgId:"GreyArrowUp",description:{resourceKey:"Icon_GreyArrowUp"}},FlagRedPatternFill:{svgId:"FlagRedPatternFill",description:{resourceKey:"Icon_FlagLow"}},FlagYellowPatternFill:{svgId:"FlagYellowPatternFill",description:{resourceKey:"Icon_FlagMedium"}},FlagGreenPatternFill:{svgId:"FlagGreenPatternFill",description:{resourceKey:"Icon_FlagHigh"}},FlagLow:{svgId:"FlagLow",description:{resourceKey:"Icon_FlagLow"}},FlagMedium:{svgId:"FlagMedium",description:{resourceKey:"Icon_FlagMedium"}},FlagHigh:{svgId:"FlagHigh",description:{resourceKey:"Icon_FlagHigh"}},FlagBlack:{svgId:"FlagBlack",description:{resourceKey:"Icon_FlagBlack"}},SymbolLow:{svgId:"SymbolLow",description:{resourceKey:"Icon_SymbolLow"}},SymbolMedium:{svgId:"SymbolMedium",description:{resourceKey:"Icon_SymbolMedium"}},SymbolHigh:{svgId:"SymbolHigh",description:{resourceKey:"Icon_SymbolHigh"}},CircleSymbolLow:{svgId:"CircleSymbolLow",description:{resourceKey:"Icon_CircleSymbolLow"}},CircleSymbolMedium:{svgId:"CircleSymbolMedium",description:{resourceKey:"Icon_CircleSymbolMedium"}},CircleSymbolHigh:{svgId:"CircleSymbolHigh",description:{resourceKey:"Icon_CircleSymbolHigh"}},StarLow:{svgId:"StarLow",description:{resourceKey:"Icon_StarLow"}},StarMedium:{svgId:"StarMedium",description:{resourceKey:"Icon_StarMedium"}},StarHigh:{svgId:"StarHigh",description:{resourceKey:"Icon_StarHigh"}},StarMediumLight:{svgId:"StarMediumLight",description:{resourceKey:"Icon_StarMediumLight"}},StarHighLight:{svgId:"StarHighLight",description:{resourceKey:"Icon_StarHighLight"}},TriangleLow:{svgId:"TriangleLow",description:{resourceKey:"Icon_TriangleLow"}},TriangleMedium:{svgId:"TriangleMedium",description:{resourceKey:"Icon_TriangleMedium"}},TriangleHigh:{svgId:"TriangleHigh",description:{resourceKey:"Icon_TriangleHigh"}},SignalBarEmpty:{svgId:"SignalBarEmpty",description:{resourceKey:"Icon_SignalBarEmpty"}},SignalBarLow:{svgId:"SignalBarLow",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMedium:{svgId:"SignalBarMedium",description:{resourceKey:"Icon_SignalBarMedium"}},SignalBarMedium2:{svgId:"SignalBarMedium2",description:{resourceKey:"Icon_SignalBarMedium2"}},SignalBarFull:{svgId:"SignalBarFull",description:{resourceKey:"Icon_SignalBarFull"}},SignalBarLowColored:{svgId:"SignalBarLowColored",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMediumColored:{svgId:"SignalBarMediumColored",description:{resourceKey:"Icon_SignalBarMediumColored"}},SignalBarMedium2Colored:{svgId:"SignalBarMedium2Colored",description:{resourceKey:"Icon_SignalBarMedium2Colored"}},SignalBarFullColored:{svgId:"SignalBarFullColored",description:{resourceKey:"Icon_SignalBarFullColored"}},QuadrantEmpty:{svgId:"QuadrantEmpty",description:{resourceKey:"Icon_QuadrantEmpty"}},Quadrant25:{svgId:"Quadrant25",description:{resourceKey:"Icon_Quadrant25"}},Quadrant50:{svgId:"Quadrant50",description:{resourceKey:"Icon_Quadrant50"}},Quadrant75:{svgId:"Quadrant75",description:{resourceKey:"Icon_Quadrant75"}},QuadrantFull:{svgId:"QuadrantFull",description:{resourceKey:"Icon_QuadrantFull"}},Quadrant25Colored:{svgId:"Quadrant25Colored",description:{resourceKey:"Icon_Quadrant25Colored"}},Quadrant50Colored:{svgId:"Quadrant50Colored",description:{resourceKey:"Icon_Quadrant50Colored"}},Quadrant75Colored:{svgId:"Quadrant75Colored",description:{resourceKey:"Icon_Quadrant75Colored"}},QuadrantFullColored:{svgId:"QuadrantFullColored",description:{resourceKey:"Icon_QuadrantFullColored"}}}}}function P(F){var A=l.bw[F];return A?A.family:F}function S(F,A,k,Y,j){if(F?null==F.color&&(F.color=k||A.color):F={color:k||A.color},null==F.fontSize){var G=_.toNumber(A.fontSize);c.fF.assert(function(){return!isNaN(G)},"visualStyle > applyTextClassDefaults: given textClass fontSize is NaN; cannot transform"),F.fontSize=(null==Y?G:Math.round(G*Y*10)/10)+""}if(null==F.fontWeight&&null!=j)switch(j){case"700":F.fontWeight="700";break;case"600":F.fontWeight="600";break;default:F.fontWeight=A.fontWeight}return F.fontFace=F.fontFace||A.fontFace,F}function b(F,A){c.fF.assertValue(A,"EvalContext.getThemeColor - colorName should't be null");var k=F.colorPalette,Y=k.dataColors.getGradientColors(),j=k.dataColors.getSentimentColors(),G=k[A]||Y[A]||j[A];return c.fF.assertAnyValue(G,"getThemeColor - If this is not a theme color it's likely a custom color (like rgba),\n                we should consider updating dataViewObjectEvaluator logic to only call this if it's a theme color."),null==G?void 0:G.value}function N(F,A){var k;return c.fF.assertValue(F,"getThemeDataColor - visualStyle"),c.fF.assertValue(A,"getThemeDataColor - colorIdx"),null===(k=F.colorPalette.dataColors.getBasePickerColors()[A])||void 0===k?void 0:k.value}function f(F,A){return c.fF.assertValue(F,"getThemeIcon - visualStyle"),c.fF.assertValue(A,"getThemeIcon - iconId"),F.icons[A]}},3708:function(ie,ve,v){v.d(ve,{f:function(){return b}});var c=v(8955),l=v(255),n=v(6725),g=v(1190),V=function(){function N(f,F,A,k,Y){this.text=f,this.type=F,this.sessionId=A,this.requestId=k,this.timeStamp=new Date,this.additionalInfo=Y}return N.prototype.toString=function(){var f="";return f+="".concat(N.traceTypeStrings[this.type]," (").concat(this.timeStamp.toUTCString(),"): ").concat(this.text),this.requestId&&(f+="\n(Request id: "+this.requestId+")"),this.additionalInfo&&(f+="\nAdditional info: "+JSON.stringify(this.additionalInfo)),f},N.traceTypeStrings=["INFORMATION","VERBOSE","WARNING","ERROR","EXPECTEDERROR","UNEXPECTEDERROR","FATAL"],N}(),P=function(N){return N[N.Information=0]="Information",N[N.Verbose=1]="Verbose",N[N.Warning=2]="Warning",N[N.Error=3]="Error",N[N.ExpectedError=4]="ExpectedError",N[N.UnexpectedError=5]="UnexpectedError",N[N.Fatal=6]="Fatal",N}({}),h=new(function(){function N(){}return N.prototype.logTrace=function(f){},N}()),b=function(){function N(){}return N.assertFail=function(f){c.fF.assertValue(f,"message"),c.fF.assertFail(f),this.error(f,!0)},N.warning=function(f,F,A){c.fF.assertValue(f,"text"),this.logTraceInternal(new V(f,P.Warning,this.sessionId,F,A))},N.error=function(f,F,A,k){c.fF.assertValue(f,"text"),F&&(f=(0,g.W)("{0}.\nStack:\n{1}",f,(0,n.DH)())),this.logTraceInternal(new V(f,P.Error,this.sessionId,A,k))},N.information=function(f,F,A){c.fF.assertValue(f,"text"),this.logTraceInternal(new V(f,P.Information,this.sessionId,F,A))},N.verbose=function(f,F,A){c.fF.assertValue(f,"text"),this.logTraceInternal(new V(f,P.Verbose,this.sessionId,F,A))},N.addListener=function(f){c.fF.assertValue(f,"listener"),_.find(this.listeners,function(F){return F===f})||this.listeners.push(f)},N.removeListener=function(f){c.fF.assertValue(f,"listener");var F=this.listeners.indexOf(f);F>=0&&this.listeners.splice(F,1)},N.resetListeners=function(){this.listeners=new Array(h)},N.reset=function(){this.lastTraceIndex=-1},N.getTraces=function(){if(this.lastTraceIndex<0)return[];for(var f=new Array(this.lastTraceIndex+1),F=0;F<=this.lastTraceIndex;F++)f[F]=this.traces[F];return f},N.disableDefaultListener=function(){this.removeListener(h)},N.enableDefaultListener=function(){this.addListener(h)},N.logTraceInternal=function(f){this.lastTraceIndex+1>=1e3&&this.reset(),this.traces[++this.lastTraceIndex]=f;for(var F=0,A=this.listeners.length;F<A;F++)this.listeners[F].logTrace(f)},N.traces=new Array(1e3),N.lastTraceIndex=-1,N.listeners=new Array(h),N}();(0,l.kx)().Trace=b},6980:function(ie,ve,v){v.d(ve,{Gg:function(){return l},ZA:function(){return c},dp:function(){return n},yR:function(){return g}});var c=function(){function V(){this.success=!0}return V.prototype.check=function(P,S,h){if(S(P))return h(P);this.success=!1},V.check=function(P){var S=new V;return P(S),S.success},V}();function l(V){return!!V}function n(V){return function(P){return l(P)&&P.length===V}}function g(V){return V}},1813:function(ie,ve,v){v.d(ve,{DW:function(){return c},EP:function(){return n},NI:function(){return g},su:function(){return l}});var c=function(V){return V[V.Grouping=0]="Grouping",V[V.Measure=1]="Measure",V[V.GroupingOrMeasure=2]="GroupingOrMeasure",V}({}),l=function(V){return V[V.Create=0]="Create",V[V.Append=1]="Append",V[V.Segment=2]="Segment",V[V.None=3]="None",V}({}),n=function(V){return V[V.Data=2]="Data",V[V.Resize=4]="Resize",V[V.ViewMode=8]="ViewMode",V[V.Style=16]="Style",V[V.ResizeEnd=32]="ResizeEnd",V[V.FormattingSubSelectionChange=64]="FormattingSubSelectionChange",V[V.FormatModeChange=128]="FormatModeChange",V[V.FilterOptionsChange=256]="FilterOptionsChange",V[V.All=510]="All",V}({}),g=function(V){return{}}()},6348:function(ie,ve,v){v.d(ve,{AV:function(){return Q},AZ:function(){return M},CT:function(){return I},GT:function(){return L},Ic:function(){return C},Li:function(){return z},N6:function(){return G},Or:function(){return d},QV:function(){return A},Yw:function(){return R},_Q:function(){return O},cY:function(){return u},d9:function(){return W},fS:function(){return w},fd:function(){return X},gU:function(){return E},hp:function(){return B},j9:function(){return Y},k_:function(){return m},km:function(){return y},mV:function(){return T},qm:function(){return j},tQ:function(){return k},tV:function(){return H},xO:function(){return f},yN:function(){return F}});var c=v(3188),l=v(2490),n=v(8955),g=v(8294),V=v(2303),P=v(6633),S=v(549),h=v(910),D=v(5353),b=v(9291),N=v(8580),f="{}";function F(J){return null!=J&&1===J.kind}function A(J){return null!=J&&3===J.kind}function k(J){return null!=J&&2===J.kind}function Y(J){return null!=J&&0===J.kind}function j(J){return null!=J&&4===J.kind}function G(J){return!(!J||!J.data)&&J&&J.data&&1===J.data.length&&j(J.data[0])}function I(J){if(J&&!_.isEmpty(J.data)){for(var ee=J.data.length,le=new Array(ee),Ne=0;Ne<ee;Ne++){var Ae=J.data[Ne];if(!F(Ae))return;le[Ne]=Ae}return le}}function E(J){if(J&&J.dataMap){var ee=[];for(var le in J.dataMap){var Ne=(0,l.rY)(J.dataMap[le]);ee.push.apply(ee,Ne||[])}return ee}}function T(J,ee){if(!_.isEmpty(J)){var le=z(J);if(!_.isEmpty(le))return(0,V.Lu)(le,ee)}}function m(J){return T(_.map(J,function(ee){return H(ee)}))}function z(J){if(!_.isEmpty(J)){for(var ee=[],le=function(we,Pe){var ze=J[we];n.fF.assert(function(){return!!ze},"There is an undefined selector in a list of selectors");var Xe=null==ze?void 0:ze.data,Me=void 0;if(!_.isEmpty(Xe))for(var pe=0,Fe=Xe.length;pe<Fe;pe++)Me=(0,b.xD)(Me,(null==ze?void 0:ze.data[pe]).expr);Me&&ee.push(Me)},Ne=0,Ae=J.length;Ne<Ae;Ne++)le(Ne);return ee}}function R(J){if(!_.isEmpty(J))for(var ee=0,le=J;ee<le.length;ee++){var Ne=le[ee];if(Ne.dataMap)for(var Ae in Ne.dataMap){var Se=Ne.dataMap[Ae];if(!_.isEmpty(Se)&&_.some(Se,function(we){return null!=we}))return!0}}}function w(J,ee,le){return(J=J||null)===(ee=ee||null)||!(!J!=!ee||(n.fF.assertValue(J,"x"),n.fF.assertValue(ee,"y"),J.metadata!==ee.metadata)||!B(J.data,ee.data)||J.highlightMatching!==ee.highlightMatching||!le&&(J.id!==ee.id||J.order!==ee.order))}function B(J,ee){if((J=J||null)===(ee=ee||null))return!0;if(!J!=!ee||J.length!==ee.length)return!1;for(var le=0,Ne=J.length;le<Ne;le++)if(!u(J[le],ee[le]))return!1;return!0}function C(J,ee){return(J=J||null)===(ee=ee||null)||!J==!ee&&w(H(J),H(ee))}function d(J,ee){if((J=J||null)===(ee=ee||null))return!0;if(!J!=!ee||J.length!==ee.length)return!1;for(var le=0;le<J.length;le++)if(!C(J[le],ee[le]))return!1;return!0}function u(J,ee){return F(J)&&F(ee)?(0,V.fS)(J,ee):A(J)&&A(ee)?(0,S.fS)(J,ee):k(J)&&k(ee)?(0,P.fS)(J,ee):Y(J)&&Y(ee)?(0,g.fS)(J,ee):!(!j(J)||!j(ee))&&(0,h.fS)(J,ee)}function y(J){var ee;if(J.data)if(J.data.length>0){ee="data: [".concat(J.data[0].key);for(var le=1,Ne=J.data.length;le<Ne;le++)ee+=", ".concat(J.data[le].key);ee+="]"}else ee="data: []";var Ae=J.metadata;Ae&&(ee?ee+=", metadata: "+Ae:ee="metadata: "+Ae);var Se=J.id;return Se&&(ee?ee+=", id: "+Se:ee="id: "+Se),ee?"{"+ee+"}":"{}"}function M(J,ee){if(_.isEmpty(J.data))return[f];var le=[];if(ee)le=_.map(J.data,function(Pe){return Pe.key});else for(var Ne=0,Ae=J.data;Ne<Ae.length;Ne++){var Se=Ae[Ne];if(F(Se)){var we=(0,D.RR)(Se.expr);we=we||(0,D.KX)(Se.expr),_.forEach(we,function(Pe){le.push((0,N.qC)(Pe))})}}return le}function L(J){n.fF.assertValue(J,"selector");var ee=J.data;return!!ee&&_.some(ee,function(le){return Y(le)||A(le)||j(le)})}function O(J){n.fF.assertValue(J,"selector");var ee=J.data;if(_.isEmpty(ee))return!1;for(var le=0,Ne=ee;le<Ne.length;le++)if(Y(Ne[le]))return!0;return!1}function H(J){if(J){var ee=[];for(var le in J.dataMap)for(var Ae=0,Se=(0,l.rY)(J.dataMap[le]);Ae<Se.length;Ae++)ee.push(Se[Ae]);var Pe={};return ee.length>0&&(Pe.data=ee),J.metadata&&(Pe.metadata=_.head(J.metadata)),J.id&&(Pe.id=J.id),Pe}}function Q(J,ee){if(J&&J.metadata){n.fF.assertNonEmpty(ee,"getSelectorTargetExpr - selectTransforms");var le=_.find(ee,function(Ne){return Ne.queryName===J.metadata});if(le)return le.expr}}function X(J){return n.fF.assertAnyValue(J,"selector"),J&&J.data?{data:J.data}:J}function W(J){var ee={};return J.data&&(ee.data=(0,c.ev)([],J.data,!0)),J.metadata&&(ee.metadata=J.metadata),J.id&&(ee.id=J.id),void 0!==J.highlightMatching&&(ee.highlightMatching=J.highlightMatching),null!=J.order&&(ee.order=J.order),ee}},272:function(ie,ve,v){v.d(ve,{V:function(){return c}});var c=function(n){return n[n.Default=0]="Default",n[n.Verbose=1]="Verbose",n[n.WholeUnits=2]="WholeUnits",n[n.DataLabels=3]="DataLabels",n}({})},2310:function(ie,ve,v){v.d(ve,{V:function(){return V}});var c=v(6096),l=v(8955),n=v(255),g=v(9149);function V(){return new h}var S=!1;!function(){if(!S){var A=V;(0,n.Z7)().createColorAllocatorFactory=function(){return A()},S=!0}}();var h=function(){function A(){}return A.prototype.fromFillRule=function(k,Y){var j=k.linearGradient2,G=k.linearGradient3;if(j||G){var I;G&&(I=void 0===G.min.value&&void 0===G.max.value&&void 0!==G.mid.value);var E=j?j.min:G.min,T=j?j.max:G.max;if(void 0===E.value&&(E.value=Y.aggregates&&Y.aggregates.min),void 0===T.value&&(T.value=Y.aggregates&&Y.aggregates.max),void 0!==E.value&&void 0!==T.value)return G&&void 0===G.mid.value&&(G.mid.value=(E.value+T.value)/2),j?new N(j,Y):I?new F(G,Y):new f(G,Y)}},A}();function D(A){return A.strategy===g.LX}function b(A){switch(A.strategy){case g.TJ:return;case g.Sx:return A.color;case g.LX:l.fF.assertFail("getColorFromNullStrategy - called with asZero");break;default:l.fF.assertFail("getColorFromNullStrategy - Unexpected null strategy: "+A.strategy)}}var N=function(){function A(k,Y){this.options=k,this.source=Y,l.fF.assertValue(k,"options"),l.fF.assertValue(Y,"source");var j=k.min,G=k.max;this.scale=(0,c.$Q)([j.value,G.value],[j.color,G.color],!0)}return A.prototype.color=function(k){var Y=this.options.nullColoringStrategy;if(null===k&&Y){if(!D(Y))return b(Y);k=0}return this.scale(k)},A.prototype.getRule=function(){return{linearGradient2:this.options}},A.prototype.getSource=function(){return this.source},A}(),f=function(){function A(k,Y){this.options=k,this.source=Y,l.fF.assertValue(k,"options"),l.fF.assertValue(Y,"source"),this.options=k;var j=k.min,G=k.mid,I=k.max;this.scale=(0,c.$Q)([j.value,G.value,I.value],[j.color,G.color,I.color],!0)}return A.prototype.color=function(k){var Y=this.options.nullColoringStrategy;if(null===k&&Y){if(!D(Y))return b(Y);k=0}return this.scale(k)},A.prototype.getRule=function(){return{linearGradient3:this.options}},A.prototype.getSource=function(){return this.source},A}(),F=function(){function A(k,Y){this.options=k,this.source=Y,l.fF.assertValue(k,"options"),l.fF.assertValue(Y,"source"),this.options=k;var j=k.min,G=k.mid,I=k.max;this.scale1=(0,c.$Q)([j.value,G.value],[j.color,G.color],!0),this.scale2=(0,c.$Q)([G.value,I.value],[G.color,I.color],!0)}return A.prototype.color=function(k){var Y=this.options.nullColoringStrategy;if(null===k&&Y){if(!D(Y))return b(Y);k=0}return k<=this.options.mid.value?this.scale1(k):this.scale2(k)},A.prototype.getRule=function(){return{linearGradient3:this.options}},A.prototype.getSource=function(){return this.source},A}()},646:function(ie,ve,v){v.d(ve,{Ay:function(){return h},Sr:function(){return g},vV:function(){return P}});var c=v(8955);function g(w,B){w&&(j(w,B,"CategoricalCategory"),G(w,B,"CategoricalCategory"),E(w,B,"CategoricalCategory"),z(w,B))}function P(w,B){c.fF.assertValue(w,"mapping"),c.fF.assertValue(B,"visitor");var C=w.rows;j(C,B,"TableField"),G(C,B,"TableField"),E(C,B,"TableField"),z(C,B)}function h(w,B){!function(w,B,C){if(c.fF.assertAnyValue(w,"mapping"),c.fF.assertValue(B,"visitor"),w){var d=null==w?void 0:w.values;G(w,B,C),function(w,B,C){c.fF.assertValue(w,"mapping"),c.fF.assertValue(B,"visitor");var d=w.select;if(d)for(var u=0,y=d;u<y.length;u++){var M=y[u];j(M,B,C),G(M,B,C),I(M,B,C)}}(w,B,C),c.fF.assert(function(){return!(w.dataReductionAlgorithm&&function(w){return w&&_.some(w,function(B){return B.dataReductionAlgorithm})}(w.select))},"Mapping has overall data reduction but also scoped data reduction(s)"),z(w,B),d&&(G(d,B,"MatrixRowsScopedValue"),E(d,B,"MatrixRowsScopedValue"))}}(w,B,"MatrixRowsGroup")}function j(w,B,C){c.fF.assertValue(w,"mapping"),c.fF.assertValue(B,"visitor");var d=w.bind;d&&B.visitRole(d.to,C)}function G(w,B,C){c.fF.assertValue(w,"mapping"),c.fF.assertValue(B,"visitor");var d=w.for;d&&B.visitRole(d.in,C)}function I(w,B,C){c.fF.assertValue(w,"mapping"),c.fF.assertValue(B,"visitor");var d=w.composite;if(d){B.enterComposite&&B.enterComposite(w);for(var u=0,y=d;u<y.length;u++){var M=y[u];j(M,B,C),G(M,B,C)}B.exitComposite&&B.exitComposite(w)}}function E(w,B,C){c.fF.assertValue(w,"mapping"),c.fF.assertValue(B,"visitor");var d=w.select;if(d)for(var u=0,y=d;u<y.length;u++){var M=y[u];j(M,B,C),G(M,B,C)}}function z(w,B){if(c.fF.assertValue(w,"mapping"),c.fF.assertValue(B,"visitor"),B.visitReduction){var C=w.dataReductionAlgorithm;C&&B.visitReduction(C)}}},3599:function(ie,ve,v){function c(h,D){if(!_.isEmpty(h)){var b=h[0];if(b.values&&b.values.length>0)for(var N=0,f=b.values.length;N<f;++N){var F=b.values[N];if(F&&F.source&&g(F.source,D))return N}}return-1}function l(h,D){if(!_.isEmpty(h))for(var b=0,N=h.length;b<N;b++)if(g(h[b].source,D))return b;return-1}function n(h,D){var b=[];if(!_.isEmpty(h))for(var N=0,f=h.length;N<f;N++)g(h[N].source,D)&&b.push(N);return b}function g(h,D){var b=h.roles;return b&&b[D]}function V(h,D){return _.some(h,function(b){return g(b,D)})}function P(h,D){return null!=h&&null!=h.metadata&&h.metadata.columns&&_.some(h.metadata.columns,function(b){return b.roles&&void 0!==b.roles[D]})}function S(h,D){return h&&h.source&&h.source.roles&&!0===h.source.roles[D]}v.d(ve,{R:function(){return S},a2:function(){return c},aJ:function(){return V},c5:function(){return P},nu:function(){return g},pc:function(){return l},zT:function(){return n}})},2975:function(ie,ve,v){v.d(ve,{Hy:function(){return G},Lo:function(){return M},ih:function(){return Q},ul:function(){return F}});var c=v(9380),l=v(2490),n=v(8955),g=v(4996),V=v(1813),P=v(1797),S=v(1313),h=v(6420),D=v(2303),b=v(4758),N=v(1458),f=function(W){return W.conditionRangeTooLarge="conditionRangeTooLarge",W.conditionRangeTooSmall="conditionRangeTooSmall",W.conditionKindExpectedMeasure="conditionKindExpectedMeasure",W.conditionKindExpectedGrouping="conditionKindExpectedGrouping",W.conditionKindExpectedGroupingOrMeasure="conditionKindExpectedGroupingOrMeasure",W.conditionNotHierarchicallyRelated="conditionNotHierarchicallyRelated",W.conditionSchemaCapabilities_TupleFilters_InstanceFilters="conditionSchemaCapabilities_TupleFilters_InstanceFilters",W}({});function F(W,J){if(!J||0===J.length)return{dataView:W,isValid:!0};if(W){for(var ee=0,le=J;ee<le.length;ee++){var Ne=le[ee];if(E(W,Ne))return{dataView:W,isValid:!0};if(Ne.categorical&&W.categorical)return A(W,Ne);if(Ne.tree&&W.tree)return Y(W,Ne.tree);if(Ne.single&&W.single)return k(W,Ne.single);if(Ne.table&&W.table)return j(W,Ne.table)}if(W.metadata)return{dataView:{metadata:W.metadata},isValid:!0}}return{isValid:!1}}function A(W,J){n.fF.assertValue(J,"dataViewMapping");var Ne,ee=J.categorical,le=W.categorical;if(!le)return{isValid:!1};if(ee.rowCount&&(Ne=ee.rowCount.supported)&&Ne.max){var Ae=void 0,Se=le.categories,we=Ne.max,Pe=void 0;if(Se)for(var ze=0,Xe=Se.length;ze<Xe;ze++){var Me=Se[ze];if(Pe=Me.values.length,void 0!==we&&Pe>we){var pe=(0,l.w6)(Me.values,0,we-1);(Ae=Ae||{categories:[]}).categories.push({source:Me.source,values:pe})}}if(le.values&&le.values.length>0&&we&&(Pe||(Pe=le.values[0].values.length),void 0!==we&&Pe>we))for((Ae=Ae||{}).values=(0,b.Yv)(),ze=0,Xe=le.values.length;ze<Xe;ze++){var Fe=le.values[ze],De={source:Fe.source,values:(0,l.w6)(Fe.values,0,we-1)};void 0!==Fe.min&&(De.min=Fe.min),void 0!==Fe.max&&(De.max=Fe.max),void 0!==Fe.subtotal&&(De.subtotal=Fe.subtotal),Ae.values.push(De)}Ae&&(W={metadata:W.metadata,categorical:Ae})}return T(W,J)?{dataView:W,isValid:!0}:null}function k(W,J){return n.fF.assertValue(W,"dataView"),n.fF.assertValue(J,"singleRoleMapping"),W.single?{dataView:W,isValid:!0}:{isValid:!1}}function Y(W,J){return n.fF.assertValue(W,"dataView"),n.fF.assertValue(J,"treeRoleMapping"),z(W,J)?{dataView:W,isValid:!0}:{isValid:!1}}function j(W,J){return n.fF.assertValue(W,"dataView"),n.fF.assertValue(J,"tableRoleMapping"),W.table?{dataView:W,isValid:!0}:{isValid:!1}}function G(W){for(var J=0,ee=0,le=W.length;ee<le;ee++)W[ee].isMeasure||++J;return J}function E(W,J,ee){return!(!J||!W||J.scriptResult&&!function(W,J){return n.fF.assertValue(J,"scriptResultRoleMapping"),!(!W||!W.payloadBase64)}(W.scriptResult,J.scriptResult)||J.categorical&&!T(W,J.categorical,ee)||J.tree&&!z(W,J.tree,ee)||J.single&&!function(W,J){return n.fF.assertValue(J,"singleRoleMapping"),!!W}(W.single,J.single)||J.table&&!function(W,J,ee){if(n.fF.assertValue(J,"tableRoleMapping"),!W)return!1;if(J.rowCount){var le=J.rowCount.supported;if(ee&&J.rowCount.preferred&&(le=J.rowCount.preferred),le){var Ne=0;if(W.rows&&W.rows.length&&(Ne=W.rows.length),null!=B(Ne,le))return!1}}return!0}(W.table,J.table,ee))}function T(W,J,ee){n.fF.assertValue(J,"categoryRoleMapping");var le=W.categorical;if(!le)return!1;if(J.rowCount){var Ne=J.rowCount.supported;if(ee&&J.rowCount.preferred&&(Ne=J.rowCount.preferred),Ne){var Ae=0;if(le.values&&le.values.length?Ae=le.values[0].values.length:le.categories&&le.categories.length&&(Ae=le.categories[0].values.length),null!=B(Ae,Ne))return!1}}return!0}function z(W,J,ee){n.fF.assertValue(J,"treeRoleMapping");var Ne=J.depth,Ae=Ne&&ee?Ne.preferred:Ne.supported;return null==B(G(W.metadata.columns),Ae)}function B(W,J,ee){if(n.fF.assertValue(W,"value"),J){if(!ee&&void 0!==J.min&&J.min>W)return f.conditionRangeTooSmall;if(void 0!==J.max&&J.max<W)return f.conditionRangeTooLarge}}function C(W,J,ee,le){if(W&&void 0!==W.kind){var Ne=W.kind,Ae=ee[J];if(Ae)for(var we=0,Pe=Ae.all();we<Pe.length;we++)if(le[Pe[we].queryRef]!==Ne)switch(Ne){case V.DW.Measure:return f.conditionKindExpectedMeasure;case V.DW.Grouping:return f.conditionKindExpectedGrouping;case V.DW.GroupingOrMeasure:return f.conditionKindExpectedGroupingOrMeasure}}}function d(W,J,ee,le){if(W&&W.areHierarchicallyRelated&&!_.isEmpty(J)&&!_.isEmpty(ee)&&le){var Ae=y(_.map(J,function(Se){return Se.queryRef}),ee);if(!P.m.areHierarchicallyRelated(le,Ae))return f.conditionNotHierarchicallyRelated}}function u(W,J,ee){if(n.fF.assertAnyValue(W,"can be called with empty role"),n.fF.assertNonEmpty(J,"must have selects"),n.fF.assertValue(ee,"must have Schema"),1!==_.chain(J).map(function(Pe){return Pe.name}).uniq().value().length){var Ae=y(_.map(W,function(Pe){return Pe.queryRef}),J),Se=_.chain(Ae).map(function(Pe){return ee.schema(Pe.schema)}).uniq().value(),we=_.uniqWith(Ae,function(Pe,ze){return(0,c.fS)(Pe,ze)});if(n.fF.assertNonEmpty(we,"uniqueEntityExprs"),we.length<2)return _.some(Se,function(Pe){return!Pe.capabilities||!Pe.capabilities.supportsInstanceFilters})?f.conditionSchemaCapabilities_TupleFilters_InstanceFilters:void 0;if(_.some(Se,function(Pe){return!Pe.capabilities||!Pe.capabilities.supportsMultiTableTupleFilters||!Pe.capabilities.supportsInstanceFilters}))return f.conditionSchemaCapabilities_TupleFilters_InstanceFilters}}function y(W,J){if(!_.isEmpty(W)&&!_.isEmpty(J)){var ee={};W.forEach(function(we){ee[we]=!0});for(var le=[],Ne=0,Ae=J;Ne<Ae.length;Ne++){var Se=Ae[Ne];Se.name&&ee[Se.name]&&Se.expr&&le.push(Se.expr.getTargetEntity())}return le}}function M(W,J,ee,le,Ne,Ae,Se,we){n.fF.assertValue(W,"projections"),n.fF.assertAnyValue(J,"mappings"),n.fF.assert(function(){return _.every(J,function(Je){return _.isPlainObject(Je)})},"precondition: prototypal inheritance on DataViewMapping is not supported by DataViewAnalysis");var Pe=[],ze=[];if(!_.isEmpty(J))for(var Xe=0,Me=J.length;Xe<Me;Xe++){var pe=J[Xe],Fe=pe.conditions,Qe=O(pe.requiredProperties,Ne,le,Ae),rt=[];if(_.isEmpty(Fe))rt.push({});else for(var lt=0,Oe=Fe.length;lt<Oe;lt++){var ce=Fe[lt],fe=L(W,ce,ee,void 0,Se,we);if(_.isEmpty(fe))rt.push(ce);else for(var ae=0,te=fe;ae<te.length;ae++){var oe=te[ae];oe.mappingIndex=Xe,oe.conditionIndex=lt,ze.push(oe)}}if(!_.isEmpty(rt)&&Qe){var Ce=_.cloneDeep(pe);Ce.single&&(Ce={table:{rows:{for:{in:Ce.single.role}}}});var Le=_.filter(rt,function(Je){return Object.keys(Je).length>0});_.isEmpty(Le)||(Ce.conditions=Le),Pe.push(Ce)}}return{supportedMappings:(0,l.rm)(Pe),mappingErrors:(0,l.rm)(ze)}}function L(W,J,ee,le,Ne,Ae){n.fF.assertValue(W,"projections"),n.fF.assertValue(J,"condition");for(var Se=Object.keys(J),we=[],Pe=0,ze=Se.length;Pe<ze;Pe++){var Xe=Se[Pe],Me=W[Xe]&&!_.isEmpty(W[Xe].activeProjectionRefs),pe=J[Xe],Fe=!pe.suppressDrill,lt=B(H(Xe,W,Fe&&(null!=le?le:Me)&&Fe),pe);null!=lt&&we.push({code:lt,roleName:Xe}),null!=(lt=C(pe,Xe,W,ee))&&we.push({code:lt,roleName:Xe});var Oe=W[Xe]&&W[Xe].projected(),ce=void 0;_.isEmpty(Ne)||(ce=_.map(Oe,function(fe){return Ne.withName(fe.queryRef)})),null!=(lt=d(pe,Oe,ce,Ae))&&we.push({code:lt,roleName:Xe}),pe.multiTableTupleFiltersSupported&&Ae&&!_.isEmpty(Ne)&&!_.isEmpty(ce)&&null!=(lt=u(Oe,ce,Ae))&&we.push({code:lt,roleName:Xe})}return we}function O(W,J,ee,le){if(_.isEmpty(W))return!0;if(!J||!le)return!1;var Ne=(0,g.Ue)(),Ae=(0,N.X)(),Se=new h.Q(ee,Ne);return _.every(W,function(we){var Pe=null,ze=le[we.objectName];if(!ze)return!1;var Me,Xe=J[we.objectName];return Xe&&(Pe=Xe.properties[we.propertyName]),!_.isEmpty(ze)&&ze[0]&&(Me=(0,S.NA)(le,we,ze[0].selector)),!(!Pe||!Me)&&Se.evaluateProperty(Ae,Pe,Me)})}function H(W,J,ee){n.fF.assertValue(W,"roleName"),n.fF.assertValue(J,"projections");var le=J[W];return le?ee?1:le.projected().length:0}function Q(W,J){if(W&&J&&W.categorical&&J.categorical){var ee=W.categorical.categories,le=J.categorical.categories;if(ee&&le&&ee.length===le.length){for(var Ne=0,Ae=ee.length;Ne<Ae;Ne++){var Se=ee[Ne].identity,we=le[Ne].identity,Pe=X(Se);if(Pe!==X(we))return!1;for(var ze=0;ze<Pe;ze++)if(!(0,D.fS)(Se[ze],we[ze]))return!1}return!0}}return!1}function X(W){return W?W.length:0}},7121:function(ie,ve,v){v.d(ve,{h:function(){return V}});var c=v(8955),l=v(9291),n=v(2303),g=v(4758);function V(){return new P}var P=function(){function b(){this.categories=[],this.staticMeasureColumns=[],this.dynamicMeasureColumns=[]}return b.prototype.withCategory=function(N){var f=N.values,F=N.identityFrom,A=N.source.type,k={source:N.source,identityFields:N.identityFrom.fields,identity:N.identityFrom.identities||[],values:f};if(!N.identityFrom.identities)for(var Y=0,j=f.length;Y<j;Y++)k.identity.push(S(F,Y,f[Y],A));return this.categories||(this.categories=[]),this.categories.push(k),this},b.prototype.withCategories=function(N){return _.isEmpty(this.categories)?this.categories=N:Array.prototype.push.apply(this.categories,N),this},b.prototype.withValues=function(N){c.fF.assertValue(N,"options");var f=N.columns;c.fF.assertValue(f,"columns");for(var F=0,A=f;F<A.length;F++)this.staticMeasureColumns.push(A[F].source);return this.staticSeriesValues=f,this},b.prototype.withGroupedValues=function(N){c.fF.assertValue(N,"options");var f=N.groupColumn;c.fF.assertValue(f,"groupColumn"),this.dynamicSeriesMetadata={column:f.source,identityFrom:f.identityFrom,values:f.values};for(var A=0,k=N.valueColumns;A<k.length;A++)this.dynamicMeasureColumns.push(k[A].source);return this.dynamicSeriesValues=N.data,this},b.prototype.fillData=function(N){var f=this,F=_.head(this.categories),A=F&&F.values?F.values.length:0;if(this.hasDynamicSeries())for(var k=function(z,R){var w=Y.dynamicSeriesValues[z];c.fF.assert(function(){return w.length===f.dynamicMeasureColumns.length},"seriesMeasures.length === this.dynamicMeasureColumns.length");for(var B=0,C=Y.dynamicMeasureColumns.length;B<C;B++)D(N[z*C+B],w[B],A)},Y=this,j=0,G=this.dynamicSeriesMetadata.values.length;j<G;j++)k(j);if(this.hasStaticSeries())for(var I=this.hasDynamicSeries()?this.dynamicSeriesValues.length*this.dynamicMeasureColumns.length:0,E=0,T=this.staticMeasureColumns.length;E<T;E++)D(N[I+E],this.staticSeriesValues[E],A)},b.prototype.build=function(){for(var N=[],f={},A=this.dynamicSeriesMetadata,k=0,Y=this.categories;k<Y.length;k++)h(N,Y[k].source);if(this.hasDynamicSeries()){h(N,A.column),f.values=(0,g.Yv)([],A.identityFrom.fields,A.column);for(var G=A.values,I=0;I<G.length;I++)for(var E=G[I],T=S(A.identityFrom,I,E,A.column.type),m=0,z=this.dynamicMeasureColumns;m<z.length;m++){var R=z[m];(w=_.toPlainObject(R)).groupName=E,w.rolesIndex&&delete w.rolesIndex,h(N,w),f.values.push({source:w,values:[],identity:T})}if(0===G.length)for(var B=0,C=this.dynamicMeasureColumns;B<C.length;B++){var w;R=C[B],h(N,w=_.toPlainObject(R)),f.values.push({source:w,values:[]})}if(this.hasStaticSeries()){var d=f.values.grouped();f.values.grouped=function(){return d},this.appendStaticMeasureColumns(N,f.values)}}else f.values=(0,g.Yv)(),this.appendStaticMeasureColumns(N,f.values);var u=this.categories;_.isEmpty(u)||(f.categories=u),this.fillData(f.values);var y={metadata:{columns:N},categorical:f};if(this.isLegalDataView(y))return y},b.prototype.appendStaticMeasureColumns=function(N,f){if(c.fF.assertValue(N,"metadataColumns"),c.fF.assertValue(f,"valueColumns"),!_.isEmpty(this.staticMeasureColumns))for(var F=0,A=this.staticMeasureColumns;F<A.length;F++){var k=A[F];h(N,k),f.push({source:k,values:[]})}},b.prototype.isLegalDataView=function(N){return!(this.hasDynamicSeries()&&this.hasStaticSeries()&&b.isVisualDataView(N.metadata.columns))},b.isVisualDataView=function(N){return!_.isEmpty(N)&&_.some(N,function(f){return!!f.queryName})},b.prototype.hasDynamicSeries=function(){return!!this.dynamicSeriesMetadata},b.prototype.hasStaticSeries=function(){return!!this.staticSeriesValues},b}();function S(b,N,f,F){var A=b.identities;return A?A[N]:(c.fF.assert(function(){return b.fields&&1===b.fields.length},"Inferring identity, expect exactly one field."),(0,n.TZ)((0,l.Dg)(b.fields[0],(0,l.kQ)(f,F))))}function h(b,N){_.includes(b,N)||b.push(N)}function D(b,N,f){c.fF.assertValue(b,"target"),c.fF.assertValue(N,"source"),c.fF.assertValue(f,"categoryLength");var F=N.values;c.fF.assert(function(){return f===F.length||0===f},"categoryLength === values.length || categoryLength === 0"),b.values=F;var A=N.highlights;A&&(c.fF.assert(function(){return f===A.length},"categoryLength === highlights.length"),b.highlights=A);var Y,k=N.objects;k&&(c.fF.assert(function(){return f===k.length},"categoryLength === objects.length"),b.objects=k),void 0!==N.minLocal&&(Y||(Y={}),Y.minLocal=N.minLocal),void 0!==N.maxLocal&&(Y||(Y={}),Y.maxLocal=N.maxLocal),Y&&(b.source.aggregates=Y,_.extend(b,Y))}},6269:function(ie,ve,v){v.d(ve,{KH:function(){return j},PO:function(){return z}});var c=v(3188),l=v(130),n=v(8955),g=v(3775),V=v(6348),P=v(9291),S=v(3943),h=v(720),D=v(2348),b=v(9292),N=v(2966);function f(H){return new F(H)}var F=function(){function H(Q){var X;this.dataView=Q,n.fF.assertValue(Q,"dataView"),this.columnsByRole={},this.valueSources=[];var W={};if(this.dataView.values)for(var J=0,ee=this.dataView.values;J<ee.length;J++){var le=ee[J];this.valueSources.push(le.source);var Ne=le.source.rootSource;Ne&&(W[le.source.index]=Ne)}(X=this.valueSources).unshift.apply(X,_.values(W))}return H.prototype.getExprColumn=function(Q,X){return(0,N.T5)(Q,this.valueSources,X?void 0:this.groupName)},H.prototype.getScopedEvalExprValue=function(Q){var X=Q.decomposeGlobalAggregateOfScopedExpr();if(X){var W=_.chain(this.valueSources).filter(function(ee){return null==ee.groupName}).value(),J=(0,N.T5)(X.source,W);return J?(0,N._L)(J,X.func):void 0}if(Q.hasInnerMostScope())return this.getExprValue(Q.expression);Q.hasGlobalScope()?n.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):n.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},H.prototype.getExprValue=function(Q){var X=this.index;if(_.isNumber(X)){var W=this.dataView.values;if(W){var J=(0,N.T5)(Q,this.valueSources,this.groupName),ee=_.find(W,function(le){return le.source===J});if(ee)return this.useHighlightValues?ee.highlights[X]:ee.values[X]}}},H.prototype.getRoleValues=function(Q){var X=this,W=this.columnsByRole,J=W[Q];if(J||(J=W[Q]=function(H,Q){return n.fF.assertValue(H,"dataViewCategorical"),k(H.values,Q)||k(H.categories,Q)}(this.dataView,Q)),J&&null!=this.index)return _.map(J,function(le){return le.values[X.index]})},H.prototype.setCurrentRowIndex=function(Q){n.fF.assertValue(Q,"index"),this.index=Q},H.prototype.resetCurrentRowIndex=function(){delete this.index},H.prototype.setCurrentColumnGroupName=function(Q){n.fF.assertValue(void 0!==Q,"groupName"),this.groupName=Q},H.prototype.useHighlights=function(Q){this.useHighlightValues=Q},H}();function k(H,Q){if(n.fF.assertAnyValue(H,"columns"),H){for(var X=[],W=0,J=H;W<J.length;W++){var ee=J[W],le=ee.source.roles;!le||!le[Q]||X.push(ee)}return X}}var Y=v(569);function j(H,Q,X,W,J,ee,le,Ne){n.fF.assertValue(H,"dataViewCategorical"),n.fF.assertAnyValue(Q,"selectTransforms"),n.fF.assertValue(X,"objectDescriptors"),n.fF.assertValue(W,"objectDefnsForSelector");for(var Ae=0,Se=W;Ae<Se.length;Ae++){var we=Se[Ae],Pe=we.selector,ze=we.rules,Xe=we.objects;n.fF.assertValue(Pe,"selector"),n.fF.assertAnyValue(ze,"rules"),n.fF.assertValue(Xe,"objectDefns");var Me=(0,V.GT)(Pe);Pe=C(H,Pe);var pe=(0,Y.U)(Pe,J);le&&(le.selector=Pe,le.targetExpr=(0,V.AV)(Pe,Q)),G(H,X,Pe,Me,Xe,pe,ee,le),m(H,X,Pe,Me,Xe,pe,ee,le,Ne),w(H,X,Pe,Xe,ee,le,Ne)}}function G(H,Q,X,W,J,ee,le,Ne){if(n.fF.assertValue(H,"dataViewCategorical"),n.fF.assertValue(Q,"objectDescriptors"),n.fF.assertValue(X,"selector"),n.fF.assertValue(W,"containsWildcard"),n.fF.assertValue(J,"objectDefns"),H.categories&&0!==H.categories.length){var Ae=function(H,Q,X){n.fF.assertValue(H.categories[0],"dataViewCategorical.categories[0]");for(var W=H.categories[0].identity,J=[],ee=0,le=H.categories;ee<le.length;ee++){var Ne=le[ee];if(!Ne.identityFields||!X.matchesKeys([Ne.identityFields],1))return;J.push(Ne)}n.fF.assert(function(){return J.length===H.categories.length},"Column length mismatch");var Ae=Q.metadata;if(Ae){var Se=H.values;if(Se)for(var we=0,Pe=Se.length;we<Pe;we++){var ze=Se[we];if(ze.source.queryName===Ae){J=[ze];break}}}return{columns:J,identities:W}}(H,X,ee);if(Ae){var Pe,Se=function(H){return _.some(H.values,function(Q){return!!Q.highlights})}(H),we=Ae.identities,ze=f(H);if(we){for(var Xe,Me,pe=0,Fe=we.length;pe<Fe;pe++)if(W||ee.matches([we[pe]])){switch(ze.setCurrentRowIndex(pe),X.highlightMatching){case void 0:case 0:Xe=!0,Me=!1;break;case 1:Xe=!0,Me=Se;break;case 2:Xe=!Se,Me=Se;break;default:n.fF.assertNever(X.highlightMatching)}if(Xe){ze.useHighlights(!1);var Qe=(0,b.PJ)(le,ze,Q,J,Ne);if(Qe)for(var rt=0,lt=Ae.columns;rt<lt.length;rt++){var ce=(Oe=lt[rt]).objects;ce||(ce=Oe.objects=new Array(Fe)),ce[pe]||(ce[pe]={}),(0,D.PM)(ce[pe],Qe,X.id,X.order)}Pe=!0}if(Me){ze.useHighlights(!0);var fe=(0,b.PJ)(le,ze,Q,J,Ne);if(fe)for(var ae=0,te=Ae.columns;ae<te.length;ae++){var Oe,oe=(Oe=te[ae]).highlightObjects;oe||(oe=Oe.highlightObjects=new Array(Fe)),oe[pe]||(oe[pe]={}),(0,D.PM)(oe[pe],fe,X.id,X.order)}Pe=!0}if(!W)return Pe}return Pe}}}}function T(H,Q,X){return n.fF.assertAnyValue(Q,"propertyDefn"),!!(Q instanceof P.Il&&(0,l.NH)(Q)&&0===Q.attributeKind)||function(H,Q,X){return X.measureDrivenDataLabels&&"labels"===H&&null!=Q}(H,Q,X)||(0,S.ZG)(Q)||function(H,Q,X){var W,J,ee=null===(J=null===(W=Q.solid)||void 0===W?void 0:W.color)||void 0===J?void 0:J.kind;return X.categoricalSecondaryCF&&-1!==["labels","categoryLabels","totals"].indexOf(H)&&(24===ee||42===ee||4===ee||3===ee)}(H,Q,X)}function m(H,Q,X,W,J,ee,le,Ne,Ae){n.fF.assertValue(H,"dataViewCategorical"),n.fF.assertValue(Q,"objectDescriptors"),n.fF.assertValue(X,"selector"),n.fF.assertValue(W,"containsWildcard"),n.fF.assertValue(J,"objectDefns");var Se=H.values;if(Se&&Se.identityFields&&ee.matchesKeys([Se.identityFields],1)){var we=Se.grouped();if(we){for(var Me,Pe=f(H),ze=X.metadata,Xe=y(J,T,Ae),pe=0,Fe=we;pe<Fe.length;pe++){var De=Fe[pe];if(void 0!==De.name){_.isEmpty(Xe)||(Pe.setCurrentColumnGroupName(De.name),B(Q,X,Xe,le,Ne,Pe,De,Ae));var Qe=De.values;if(W||ee.matches([De.identity])){var rt=(0,b.PJ)(le,Pe,Q,J,Ne);if(rt)if(ze)for(var lt=0,Oe=Qe.length;lt<Oe;lt++){var ce=Qe[lt],fe=ce.source;if(fe.queryName===ze){var ae=(0,g.ED)(fe),te=ae.objects;te||(te=ae.objects={}),(0,D.PM)(te,rt,X.id,X.order),ce.source=ae,Me=!0;break}}else{var oe=De.objects;oe||(oe=De.objects={}),(0,D.PM)(oe,rt,X.id,X.order),z(Se,we),Me=!0}if(!W)return!0}}}return Me}}}function z(H,Q){H.grouped=Q?function(){return Q}:function(){return function(H){n.fF.assertValue(H,"values");for(var X,Q=[],W=0,J=H.length;W<J;W++){var ee=H[W];if(!X||X.identity!==ee.identity){if(X={values:[]},ee.identity){X.identity=ee.identity;var le=ee.source;void 0!==le.groupName?X.name=le.groupName:le.displayName&&(X.name=le.displayName)}Q.push(X)}X.values.push(ee)}return Q}(H)}}function w(H,Q,X,W,J,ee,le){if(n.fF.assertValue(H,"dataViewCategorical"),n.fF.assertValue(Q,"objectDescriptors"),n.fF.assertValue(X,"selector"),n.fF.assertValue(W,"objectDefns"),_.isEmpty(H.categories)){var Ne=H.values;if(!Ne||_.isEmpty(Ne.identityFields)){var Ae=function(H,Q){var X=Q.metadata;if(void 0!==X&&H)return n.fF.assert(function(){return 1===_.filter(H,function(W){return W.source.queryName===X}).length},"Only one column has to match"),_.find(H,function(W){return W.source.queryName===X})}(H.values,X);if(Ae){var Se=f(H),we=(0,V.N6)(X);if(W=y(W,T,le),!_.isEmpty(W)&&we){n.fF.assert(function(){return H.values.length>0},"dataViewCategorical.values.length > 0"),n.fF.assert(function(){return H.values[0].values.length<=1},"There has to be max 1 row since there are no category groupings"),Se.setCurrentRowIndex(0);var ze=(0,b.PJ)(J,Se,Q,W,ee);if(ze){var Xe=Ae.objects;Xe||(Xe=Ae.objects=[]),Xe[0]||(Xe[0]={}),(0,D.PM)(Xe[0],ze,X.id,X.order)}}}}}}function B(H,Q,X,W,J,ee,le,Ne){if(n.fF.assertValue(H,"objectDescriptors"),n.fF.assertValue(Q,"selector"),n.fF.assertValue(X,"objectDefns"),n.fF.assertValue(ee,"evalContext"),n.fF.assertValue(le,"valueGrouping"),(0,V.N6)(Q))for(var Ae=function(H,Q,X){return void 0===(null==Q?void 0:Q.metadata)&&X.categoricalSecondaryCF?H:_.filter(H,function(W){return W.source.queryName===Q.metadata})}(le.values,Q,Ne),Se=0,we=Ae;Se<we.length;Se++){var Pe=we[Se];n.fF.assertValue(Pe.source.groupName===le.name,"targetColumn.source.groupName");for(var ze=Pe.values.length,Xe=0;Xe<ze;Xe++){ee.setCurrentRowIndex(Xe),ee.useHighlights(!1);var Me=(0,b.PJ)(W,ee,H,X,J);if(Me){var pe=Pe.objects;pe||(pe=Pe.objects=new Array(ze)),pe[Xe]||(pe[Xe]={}),(0,D.PM)(pe[Xe],Me,Q.id,Q.order)}if(null!=Pe.highlights){ee.useHighlights(!0);var Fe=(0,b.PJ)(W,ee,H,X,J);if(Fe){var De=Pe.highlightObjects;De||(De=Pe.highlightObjects=new Array(ze)),De[Xe]||(De[Xe]={}),(0,D.PM)(De[Xe],Fe,Q.id,Q.order)}}ee.resetCurrentRowIndex()}}}function C(H,Q){return(0,V._Q)(Q)&&(Q=(0,h.w)(Q,function(X){return function(H,Q){if(Q.categories)for(var X=0,W=Q.categories;X<W.length;X++){var J=W[X];if(J.source&&(0,h.s)([J.source],H))return[J.identityFields]}}(X,H)})),Q}function y(H,Q,X){return n.fF.assertValue(H,"objectDefns"),_.chain(H).map(function(W){return(0,c.pi)((0,c.pi)({},W),{properties:_.pickBy(W.properties,function(J){return Q(W.name,J,X)})})}).filter(function(W){return!_.isEmpty(Object.keys(W.properties))}).value()}},1025:function(ie,ve,v){v.d(ve,{eC:function(){return b},pP:function(){return D}});var c=v(8955),l=v(3775),n=v(1589),g=v(3813),V=v(1006),P=v(3166),S=v(2605),h=v(2966);function D(T,m,z,R,w){c.fF.assertValue(T,"dataView"),c.fF.assertAnyValue(m,"objectDescriptors"),c.fF.assertAnyValue(z,"applicableRoleMappings"),c.fF.assertAnyValue(R,"projectionActiveItems");var B=T,C=T.categorical;if(C){var d=function(T,m,z){c.fF.assertValue(T,"dataViewCategorical"),c.fF.assertAnyValue(m,"applicableRoleMappings");var R,w=_.chain(m).filter(function(y){return!(0,V.zY)(y)}).map(function(y){return y.categorical}).value(),B=!_.isEmpty(w)&&_.every(w,function(y){return!!y});if(B){var C=function(T){c.fF.assertNonEmpty(T,"categoricalRoleMappings"),c.fF.assert(function(){return _.every(T,function(z){return!!z})},"categoricalRoleMappings must not contain falsy element");var m=(0,V.y4)(T,V.O2);if(1===_.size(m))return _.head(m)}(w);if(C&&z&&_.includes(z.roles,C)&&function(T,m){c.fF.assertValue(T,"categoricalRoleName"),c.fF.assertNonEmpty(m,"roleMappings"),c.fF.assert(function(){return _.every(m,function(R){return R.categorical})},"All specified roleMappings are expected to target categorical");var z=_.every(m,function(R){return!_.isEmpty(R.conditions)&&_.every(R.conditions,function(w){return w[T]&&1===w[T].max})});return z}(C,m)){var d=_.filter(T.categories,function(y){return y.source.roles&&!!y.source.roles[C]});if(!_.isEmpty(d)){var u=_.every(d,function(y){return y.values.length===d[0].values.length});u&&(R={roleName:C,categories:d})}}}return R}(C,z,w),u=(0,h.dM)(T.metadata.columns);if(d&&(d.categories.length>=2||u)){var y=_.chain(R&&R[d.roleName]).filter(function(L){return L.suppressConcat}).map(function(L){return L.queryRef}).value();B=k(T,(0,P.$v)(m),d.roleName,d.categories,y,u)}}return B}function b(T,m,z,R,w){var B;if(void 0===w&&(w=!1),c.fF.assertValue(T,"metadata"),c.fF.assertAnyValue(m,"formatStringPropId"),c.fF.assertValue(R,"categorical"),!_.isEmpty(R.categories)&&R.categories.length>=2){var C=(0,l.ED)(T.columns);B=k({metadata:(0,l.ED)(T,function(y){y.columns=C}),categorical:R},m,z,R.categories,[],void 0,w)}else B={metadata:T,categorical:R};return B}function k(T,m,z,R,w,B,C){void 0===C&&(C=!1),c.fF.assert(function(){return T&&T.categorical&&_.size(T.categorical.categories)>=1},"dataView && dataView.categorical && _.size(dataView.categorical.categories) >= 1"),c.fF.assertAnyValue(m,"formatStringPropId"),c.fF.assertValue(z,"roleName"),c.fF.assert(function(){return!_.isEmpty(R)},"!_.isEmpty(columnsSortedByProjectionOrdering)"),c.fF.assert(function(){return _.every(R,function(we){return _.includes(T.categorical.categories,we)})},"every column in columnsSortedByProjectionOrdering should exist in dataView.categorical.categories");var y,M,d=R.length-1,u=_.filter(R,function(we,Pe){return Pe===d||!_.includes(w,we.source.queryName)});1===R.length?(C||(y=u[0].values),M=u[0].source.type):(C||(y=function(T,m){c.fF.assertValue(T,"columnsSortedByProjectionOrdering"),c.fF.assertAnyValue(m,"formatStringPropId");for(var z=[],R=0,w=T;R<w.length;R++)for(var B=w[R],C=(0,n.EO)(B.source,m),d=0,u=B.values.length;d<u;d++){var M=(0,n.WU)(B.values&&B.values[d],C);z[d]=void 0===z[d]?M:z[d]+" "+M}return z}(u,m)),M=g.Ge.fromDescriptor({text:!0}));var O=function(T,m,z,R){var w;if(c.fF.assertValue(T,"roleName"),c.fF.assertNonEmpty(m,"sourceColumnsSortedByProjectionOrdering"),c.fF.assert(function(){return 1===_.chain(m).map(function(O){return O.isMeasure}).uniq().value().length},"pre-condition: caller code should not attempt to combine a mix of measure columns and non-measure columns"),R)w=function(T,m){return T+" "+m}(R,_.last(m).displayName);else for(var C=0,d=m;C<d.length;C++){var u=d[C];w=null==w?u.displayName:w+" "+u.displayName}var y={};y[T]=!0;var M={displayName:w,roles:y,type:z},L=_.last(m);return void 0!==L.isMeasure&&(M.isMeasure=L.isMeasure),M.queryName=L.queryName,M}(z,_.map(u,function(we){return we.source}),M,B),H=(0,l.qO)(T);if(function(T,m){c.fF.assertValue(T,"transformedDataView"),c.fF.assertValue(m,"newColumn");var z=(0,l.qO)(T.metadata.columns);z.push(m);var R=(0,l.qO)(T.metadata);R.columns=z,T.metadata=R}(H,O),!C){var Q=T.categorical,W=function(T,m,z,R){c.fF.assert(function(){return T&&T.length>=1},"sourceColumnsSortedByProjectionOrdering && sourceColumnsSortedByProjectionOrdering.length >= 1"),c.fF.assertValue(m,"columnMetadata"),c.fF.assertValue(z,"concatenatedValues"),c.fF.assertAnyValue(R,"dataViewObjects");var w={source:m,values:z},B=T[0];return B.identity&&(w.identity=B.identity),B.identityFields&&(w.identityFields=B.identityFields),R&&(w.objects=R),w}(u,O,y,(0,S.OC)(Q.categories)),J=_.last(R),ee=_.findIndex(Q.categories,function(we){return we===J}),le=(0,l.qO)(Q.categories);le.splice(ee,0,W);for(var Ne=function(Pe){_.find(R,function(ze){return ze===le[Pe]})&&le.splice(Pe,1)},Ae=le.length-1;Ae>=0;Ae--)Ne(Ae);var Se=(0,l.qO)(Q);Se.categories=le,H.categorical=Se}return H}},720:function(ie,ve,v){v.d(ve,{s:function(){return g},w:function(){return n}});var c=v(6348),l=v(549);function n(V,P){for(var S={data:[],id:V.id,metadata:V.metadata,order:V.order},h=0,D=V.data;h<D.length;h++){var b=D[h];if((0,c.j9)(b)){var N=P(b.roles);if(!_.isEmpty(N)){for(var f=0,F=N;f<F.length;f++)S.data.push((0,l.ms)(F[f]));continue}}else S.data.push(b)}return S}function g(V,P){for(var S=0,h=V;S<h.length;S++){var b=h[S].roles;if(!b||!_.some(P,function(N){return b[N]}))return!1}return!0}},1006:function(ie,ve,v){v.d(ve,{G8:function(){return C},O2:function(){return b},Xs:function(){return f},_1:function(){return N},eD:function(){return Q},mn:function(){return w},nG:function(){return V},oJ:function(){return B},wj:function(){return z},y4:function(){return D},zY:function(){return g}});var c=v(2490),l=v(8955),n=v(7960);function g(W){return W&&W.usage&&W.usage.regression||void 0}var V=function(){function W(J){this.includeScopedValuesRoles=J,this.roleNames=[]}return W.prototype.visitRole=function(J,ee){(this.includeScopedValuesRoles||"MatrixRowsScopedValue"!==ee)&&this.roleNames.push(J)},W.fromMatrixRows=function(J,ee){var le=new this(ee);return(0,n.Ay)(J,le),le.roleNames},W.fromMatrixColumns=function(J){var ee=new this;return(0,n.Ay)(J,ee),ee.roleNames},W.fromMatrixValues=function(J){var ee=new this;return(0,n.hw)(J,ee),ee.roleNames},W}();function D(W,J){if(l.fF.assertValue(W,"categoricalRoleMappings"),l.fF.assertValue(J,"rolesGetter"),0!==_.size(W)){var ee=_.map(W,function(Ne){return J(Ne)}),le=ee[0];if(!(ee.length>=2)||_.every(ee,function(Ne){return(0,c.NF)(Ne,le,function(Ae,Se){return Ae===Se})}))return le}}function b(W){if(l.fF.assertValue(W,"categoricalRoleMapping"),!W.categories)return[];var J=[];return(0,n.Sr)(W.categories,{visitRole:function(le){J.push(le)}}),J}function N(W){if(l.fF.assertAnyValue(W,"roleMappings"),!W)return 0;for(var J=0,ee=0,le=W;ee<le.length;ee++){var Ne=le[ee];Ne.categorical&&(J|=1),Ne.matrix&&(J|=2),Ne.single&&(J|=8),Ne.table&&(J|=8),Ne.tree&&(J|=16)}return J}function f(W){if(W){if(W.top)return"top";if(W.window)return"window";if(W.bottom)return"bottom";if(W.binnedLineSample)return"binnedLineSample";if(W.overlappingPointsSample)return"overlappingPointsSample";if(W.sample)return"sample";if(W.topNPerLevel)return"topNPerLevel"}}function z(W){return!!W&&!!W.group}function w(W){return!!W&&!!W.for}function B(W){return!!W&&!!W.composite}function C(W){return!!W&&!!W.select}function Q(W){return function(W){return!!W&&!!W.bind}(W)?W.bind.to:w(W)?W.for.in:void l.fF.assertNever(W)}},7960:function(ie,ve,v){v.d(ve,{Ay:function(){return h},Sr:function(){return g},fl:function(){return V},hw:function(){return b},vS:function(){return T}});var c=v(8955);function g(R,w){c.fF.assertAnyValue(R,"mapping"),c.fF.assertValue(w,"visitor"),R&&(Y(R,w,"CategoricalCategory"),j(R,w,"CategoricalCategory"),I(R,w,"CategoricalCategory"),m(R,w))}function V(R,w){if(c.fF.assertAnyValue(R,"mapping"),c.fF.assertValue(w,"visitor"),R){Y(R,w,"CategoricalValue"),j(R,w,"CategoricalValue"),I(R,w,"CategoricalValue");var B=R.group;if(B)for(var C=0,d=B.select;C<d.length;C++){var u=d[C];Y(u,w,"CategoricalValueGroup"),j(u,w,"CategoricalValueGroup")}}}function h(R,w){!function(R,w,B){if(c.fF.assertAnyValue(R,"mapping"),c.fF.assertValue(w,"visitor"),R){j(R,w,B),function(R,w,B){c.fF.assertValue(R,"mapping"),c.fF.assertValue(w,"visitor");var C=R.select;if(C)for(var d=0,u=C;d<u.length;d++){var y=u[d];Y(y,w,B),j(y,w,B),G(y,w,B)}}(R,w,B),m(R,w);var C=R.values;if(!C)return;j(C,w,"MatrixRowsScopedValue"),I(C,w,"MatrixRowsScopedValue")}}(R,w,"MatrixRowsGroup")}function b(R,w){!function(R,w,B){c.fF.assertAnyValue(R,"mapping"),c.fF.assertValue(w,"visitor"),R&&(j(R,w,B),I(R,w,B),m(R,w))}(R,w,"MatrixIntersection")}function Y(R,w,B){c.fF.assertValue(R,"mapping"),c.fF.assertValue(w,"visitor");var C=R.bind;C&&w.visitRole(C.to,B)}function j(R,w,B){c.fF.assertValue(R,"mapping"),c.fF.assertValue(w,"visitor");var C=R.for;C&&w.visitRole(C.in,B)}function G(R,w,B){c.fF.assertValue(R,"mapping"),c.fF.assertValue(w,"visitor");var C=R.composite;if(C){w.enterComposite&&w.enterComposite();for(var d=0,u=C;d<u.length;d++){var y=u[d];Y(y,w,B),j(y,w,B)}w.exitComposite&&w.exitComposite()}}function I(R,w,B){c.fF.assertValue(R,"mapping"),c.fF.assertValue(w,"visitor");var C=R.select;if(C)for(var d=0,u=C;d<u.length;d++){var y=u[d];Y(y,w,B),j(y,w,B)}}function T(R,w){if(c.fF.assertAnyValue(R,"mapping"),c.fF.assertValue(w,"visitor"),R){var B=R.group;B&&(w.visitRole(B.by,"CategoricalSeries"),m(B,w))}}function m(R,w){if(c.fF.assertValue(R,"mapping"),c.fF.assertValue(w,"visitor"),w.visitReduction){var B=R.dataReductionAlgorithm;B&&w.visitReduction(B)}}},2348:function(ie,ve,v){v.d(ve,{AO:function(){return V},NA:function(){return n},PM:function(){return b},RK:function(){return g},RR:function(){return P},W7:function(){return h},bC:function(){return D},t6:function(){return S}});var c=v(8955),l=v(4994);function n(f,F,A,k){return c.fF.assertAnyValue(f,"objects"),c.fF.assertValue(F,"propertyId"),c.fF.assert(function(){return"$"!==F.propertyName.charAt(0)},"Properties starting with $ are reserved."),f?(0,l.N)(f[F.objectName],F.propertyName,A,k):A}function g(f,F,A){return f&&f[F]?f[F]:A}function V(f,F){var A=g(f,F);if(A)return A.$instances}function P(f,F){var A=V(f,F);if(A){var k={};for(var Y in A){var j=A[Y].$order;null!=j&&(k[Y]=j)}return k}}function S(f,F){var A,k,Y,j;if(F)return null===(j=null===(Y=null===(k=null===(A=null==f?void 0:f.metadata)||void 0===A?void 0:A.objectsRules)||void 0===k?void 0:k[F.objectName])||void 0===Y?void 0:Y[F.propertyName])||void 0===j?void 0:j.gradient}function h(f,F,A,k){var Y=n(f,F,void 0,k);return Y&&Y.solid&&void 0!==Y.solid.color?Y.solid.color:A}function D(f,F,A){var k=n(f,F,void 0,A);return!(!k||!k.solid||!k.solid.color)}function b(f,F,A,k){var Y;for(var j in c.fF.assertValue(f,"DataViewObjects.mergeObjects - destination"),c.fF.assertValue(F,"DataViewObjects.mergeObjects - source"),F){var G=F[j];if(null!=G){var I=f[j];if(!I){null==A?f[j]=G:(f[j]={$instances:(Y={},Y[A]=G,Y)},null!=k&&(f[j].$instances[A].$order=k));continue}N(I,G,A,k)}}}function N(f,F,A,k){if(c.fF.assertValue(f,"DataViewObjects.mergeObject - destination"),c.fF.assertValue(F,"DataViewObjects.mergeObject - source"),c.fF.assert(function(){return null==F.$instances},"DataViewObjects.mergeObject - source should not include $instances"),A){var Y=f.$instances;null==Y&&(Y=f.$instances={});var j=Y[A];j||(j=Y[A]={}),N(j,F,null),null!=k&&(j.$order=k)}else for(var G in F)"$instances"!==G&&"$order"!==G&&null!=F[G]&&(f[G]=F[G])}},4994:function(ie,ve,v){v.d(ve,{N:function(){return l},y:function(){return n}});var c=v(8955);function l(g,V,P,S){if(c.fF.assertAnyValue(g,"object"),c.fF.assertValue(V,"propertyName"),!g)return P;if(S){var h=g.$instances;if(!h)return P;var D=h[S];if(!D)return P;g=D}var b=g[V];return void 0===b?P:b}function n(g,V,P,S,h){c.fF.assertAnyValue(g,"object"),c.fF.assertValue(V,"propertyName");var D=l(g,V,void 0,S);return D&&D.solid&&(D.solid.color||h&&null===D.solid.color)?D.solid.color:P}},1313:function(ie,ve,v){v.d(ve,{Pg:function(){return X},d9:function(){return ee},dn:function(){return Ne},AV:function(){return G},Gc:function(){return I},E2:function(){return R},Lo:function(){return J},zx:function(){return Y},l7:function(){return E},my:function(){return M},GQ:function(){return L},ug:function(){return u},hu:function(){return W},NA:function(){return d},hO:function(){return y},xb:function(){return le},Rc:function(){return Xe},er:function(){return Me},e4:function(){return Se},TX:function(){return T},ES:function(){return Q},u4:function(){return ze},sO:function(){return w},On:function(){return C},xl:function(){return j},rQ:function(){return we},Vj:function(){return Pe}});var c=v(3188),l=v(130),n=v(9380),g=v(8955),V=v(6023),P=v(6348),S=v(1359),h=v(9291),D=v(7184),b=v(3943),N=v(7649);function f(pe,Fe){if(Fe in pe.properties)return delete pe.properties[Fe],!0}function A(pe){g.fF.assertAnyValue(pe,"DataViewObjectDefinition.reduce - defn can have any value.");var Fe=pe&&pe.properties;if(Fe){for(var De in Fe)_.isEmpty(Fe[De])&&f(pe,De);if(!_.isEmpty(Fe))return pe}}var k=v(3166);function Y(pe,Fe,De){g.fF.assertValue(pe,"defns");var Qe=pe[Fe];Qe||(pe[Fe]=[],Qe=pe[Fe]);for(var rt=0,lt=Qe.length;rt<lt;rt++){var Oe=Qe[rt];if((0,P.fS)(Oe.selector,De))return Oe}return Qe.push({selector:De,properties:{}}),Qe[Qe.length-1]}function j(pe,Fe,De,Qe){g.fF.assertValue(pe,"defns");var rt=_.find(pe[Fe],function(lt){return(0,P.fS)(lt.selector,De)});rt&&(rt.selector=Qe)}function G(pe,Fe,De){g.fF.assertValue(pe,"defns");var Qe=pe[Fe];if(!Qe)return!1;var rt=_.remove(Qe,function(lt){return(0,P.fS)(lt.selector,De)}).length>0;return _.isEmpty(Qe)&&delete pe[Fe],rt}function I(pe,Fe){if(pe&&Fe)for(var De in Fe)for(var rt=0,lt=Fe[De];rt<lt.length;rt++){var Oe=lt[rt];for(var ce in Oe.properties)R(pe,De,Oe.selector,ce)}}function E(pe,Fe,De){if(g.fF.assertValue(pe,"Trying to cascade into undefined DataViewObjectDefinitions"),pe&&Fe)for(var Qe in Fe){var rt=Fe[Qe];if(rt){var lt=pe[Qe];lt||(lt=pe[Qe]=[]),m(lt,rt,De)}}}function T(pe,Fe,De,Qe,rt){var lt=M(pe,Fe,De);if(lt){var Oe=lt.properties[Qe];Oe&&(Y(pe,rt,De).properties[Qe]=Oe,delete lt.properties[Qe])}}function m(pe,Fe,De){var Qe;if(De)pe.splice.apply(pe,(0,c.ev)([0,0],Fe||[],!1));else for(var rt=0,lt=Fe;rt<lt.length;rt++){var Oe=lt[rt];Qe=!1;for(var ce=0,fe=pe;ce<fe.length;ce++){var ae=fe[ce];if((0,P.fS)(ae.selector,Oe.selector)){z(ae.properties,Oe.properties),Qe=!0;break}}if(!Qe){var te={selector:Oe.selector,properties:{}};z(te.properties,Oe.properties),pe.push(te)}}}function z(pe,Fe){for(var De in Fe){var Qe=Fe[De];Qe&&(pe[De]||(pe[De]=Qe))}}function R(pe,Fe,De,Qe){g.fF.assertValue(pe,"defns");var rt=L(pe,Fe,De),lt=_.sumBy(rt,function(Oe){return f(Oe,Qe)?1:0});return function(pe,Fe,De){var Qe;if(null==(null==De?void 0:De.order))return!1;for(var rt=L(pe,Fe.objectName,De,!0).filter(function(Le){var Je;return null!=(null===(Je=Le.properties)||void 0===Je?void 0:Je[Fe.propertyName])}),Oe={},ce=0,fe=0,ae=_.map(rt,function(Le){var Je;return null===(Je=Le.selector)||void 0===Je?void 0:Je.order}).filter(function(Le){return null!=Le}).sort();fe<ae.length;fe++)Oe[te=ae[fe]]=ce++;for(var oe=0,Ce=rt;oe<Ce.length;oe++){var te,he=Ce[oe];null!=(te=null===(Qe=he.selector)||void 0===Qe?void 0:Qe.order)&&(he.selector.order=Oe[te])}}(pe,{objectName:Fe,propertyName:Qe},De),lt}function w(pe,Fe,De,Qe){g.fF.assertValue(pe,"defns"),g.fF.assertValue(Fe,"propertyId"),Y(pe,Fe.objectName,De).properties[Fe.propertyName]=Qe}function C(pe,Fe,De,Qe,rt){var lt=H(Fe,De);lt?rt?w(pe,lt,Qe,rt):R(pe,lt.objectName,Qe,lt.propertyName):g.fF.assertFail("Property does not have an associated format string object")}function d(pe,Fe,De){var Qe=u(pe,Fe,De);if(Qe)return Qe[Fe.propertyName]}function u(pe,Fe,De){var Qe=L(pe,Fe.objectName,De);if(Qe)for(var rt=0,lt=Qe;rt<lt.length;rt++){var Oe=lt[rt];if(Oe.properties[Fe.propertyName])return Oe.properties}}function y(pe,Fe,De,Qe){var rt=H(Fe,De);if(rt){var lt=d(pe,rt,Qe);if(lt){if(Xe(lt)&&(0,l.AW)(lt))return lt;g.fF.assertFail("Format value is not of the expected type")}}else g.fF.assertFail("Property does not have an associated format string object")}function M(pe,Fe,De){if(g.fF.assertAnyValue(pe,"defns"),g.fF.assertValue(Fe,"objectName"),g.fF.assertAnyValue(De,"selector"),pe){var Qe=pe[Fe];if(Qe)for(var rt=0,lt=Qe.length;rt<lt;rt++){var Oe=Qe[rt];if((0,P.fS)(Oe.selector,De))return Oe}}}function L(pe,Fe,De,Qe){if(g.fF.assertAnyValue(pe,"defns"),g.fF.assertValue(Fe,"objectName"),g.fF.assertAnyValue(De,"selector"),!pe)return[];var rt=pe[Fe];return rt?_.filter(rt,function(lt){return(0,P.fS)(lt.selector,De,Qe)}):[]}function H(pe,Fe){var De=(0,k.VM)(pe,Fe);if(De)return De.formatStringProperty;g.fF.assertFail("Property is missing from the object descriptors")}function Q(pe,Fe){return pe===Fe||(pe instanceof S.yl&&Fe instanceof S.yl?S.yl.isSameFilter(pe,Fe):pe instanceof h.Il&&Fe instanceof h.Il?(0,n.fS)(pe,Fe):(0,V.fS)(pe,Fe))}function X(pe,Fe){if(g.fF.assertValue(pe,"a"),g.fF.assertValue(Fe,"b"),Object.keys(pe).length!==Object.keys(Fe).length)return!1;for(var De in pe)if(!Q(pe[De],Fe[De]))return!1;return!0}function W(pe,Fe){g.fF.assertValue(pe,"a"),g.fF.assertValue(Fe,"b");var De=[];for(var Qe in pe)Q(pe[Qe],Fe[Qe])||De.push(Qe);for(var Qe in Fe)_.includes(De,Qe)||Q(pe[Qe],Fe[Qe])||De.push(Qe);return De}function J(pe,Fe){g.fF.assertAnyValue(pe,"value"),g.fF.assertValue(Fe,"DataViewObjectDefinition.encodePropertyValue - typeDescriptor should exist");var De=Fe,Qe=Fe;if(De.variantDeleteEmpty&&De.variant&&null==pe)return pe;if(De.bool||De.operations&&De.operations.searchEnabled)return"boolean"!=typeof pe&&(pe=!1),(0,h.O7)(!!pe);if(De.text||De.duration||De.scripting&&De.scripting.source)return(0,h.fL)(pe?pe.toString():"");if(De.numeric){if($.isNumeric(pe))return(0,h.tx)(+pe)}else if(De.integer){if($.isNumeric(pe))return(0,h.cA)(Math.floor(+pe))}else if(Qe.fill){if(pe){var rt=pe;return null==rt.id||null==rt.shade?{solid:{color:(0,h.fL)((rt.value||pe).toString())}}:{solid:{color:(0,h.e7)(rt.id,rt.shade)}}}if(null===pe&&Qe.fill.solid&&Qe.fill.solid.color){var lt=!1,Oe=Qe.fill.solid.color;if("boolean"!=typeof Oe&&(lt=Oe.nullable),lt)return{solid:{color:(0,h.IF)()}}}}else if(De.formatting){if(!(De.formatting.labelDisplayUnits||De.formatting.displayUnitsWithoutAuto||De.formatting.fontSize))return(0,h.fL)(pe?pe.toString():"");if(null!=pe)return(0,h.tx)(+pe)}else{if(De.enumeration||De.flagsEnumeration)return $.isNumeric(pe)?(0,h.tx)(+pe):(0,h.fL)(pe?pe.toString():"");if(De.misc)pe=pe?(0,h.fL)(pe.toString()):null;else if(De.dateTime)pe=pe?(0,h.CQ)(pe):null;else if(!De.variant)if(Qe.image){if(pe){var ce=pe,fe={name:(0,h.fL)(ce.name.toString()),url:(0,h.fL)(ce.url.toString())};return ce.scaling&&(fe.scaling=(0,h.fL)(ce.scaling.toString())),fe}}else if(Qe.geoJson){if(pe){var ae=pe;return{type:(0,h.fL)(ae.type.toString()),name:(0,h.fL)(ae.name.toString()),content:ae.content?(0,h.fL)(ae.content.toString()):(0,h.IF)()}}}else if(De.reference)(De.reference.bookmark||De.reference.section||De.reference.perspective||De.reference.bookmarkGroup||De.reference.rowRefText)&&(pe=(0,h.fL)(pe?pe.toString():""));else if(Qe.filter)g.fF.assert(function(){return pe instanceof S.yl},"DataViewObjectDefinition.encodePropertyValue - When encoding a filter it should be of type Semantic Filter");else{if(Qe.paragraphs){var oe=pe,Ce=[];if(_.isEmpty(oe))return Ce;for(var he=0,Le=oe;he<Le.length;he++){var Je=Le[he],ot=(0,c.pi)((0,c.pi)({},Je),{textRuns:[]});if(_.isEmpty(Je.textRuns))Ce.push(ot);else{for(var bt=0,Ft=Je.textRuns;bt<Ft.length;bt++){var vt=Ft[bt];if((0,D.Y0)(vt))ot.textRuns.push(vt);else if((0,D.Zm)(vt)){var Mt=void 0;_.isNumber(vt.expression)?Mt=J(vt.expression,{integer:!0}):(0,N.U)(vt.expression)?Mt=vt.expression:g.fF.assertNever(vt.expression);var xe={cases:[],defaultCase:vt.defaultCase,expression:Mt};if(!_.isEmpty(vt.cases))for(var Ee=0,Ze=vt.cases;Ee<Ze.length;Ee++){var be=Ze[Ee],Ve={pattern:J(be.pattern,{integer:!0}),textRuns:be.textRuns};xe.cases.push(Ve)}ot.textRuns.push(xe)}else g.fF.assertNever(vt)}Ce.push(ot)}}return Ce}if(!Qe.queryTransform){if(Qe.exprList){var qe={exprs:[],kind:"ExprList"};return qe.exprs=_.map(pe.exprs,function(mt){return mt}),qe}g.fF.assertFail("DataViewObjectDefinition.encodePropertyValue - The value couldn't be encoded, make sure that the descriptor is valid and handled in here.")}}}return pe}function ee(pe){var Fe={};for(var De in pe){var Qe=pe[De];_.isEmpty(Qe)||(Fe[De]=Ne(Qe))}return Fe}function le(pe){if(_.isEmpty(pe))return!0;for(var Fe in pe){var De=pe[Fe];if(!_.isEmpty(De))for(var Qe=0,rt=De;Qe<rt.length;Qe++)if(!_.isEmpty(rt[Qe].properties))return!1}return!0}function Ne(pe){for(var Fe=[],De=0,Qe=pe;De<Qe.length;De++){var rt=Qe[De];Fe.push({properties:Ae(rt.properties),selector:rt.selector})}return Fe}function Ae(pe){return g.fF.assertValue(pe,"original"),_.clone(pe)}function Se(pe){return!!pe&&!!(pe instanceof h.Il||(0,b.hl)(pe))}function we(pe,Fe,De){for(var Qe in pe){var rt=pe[Qe],lt=Fe&&Fe[Qe];if(rt&&(!Fe||lt))for(var Oe=0,ce=rt;Oe<ce.length;Oe++){var fe=ce[Oe];for(var ae in fe.properties)!fe.properties[ae]||Fe&&(!lt||!lt.properties[ae])||De(fe.properties,ae,fe.selector,Qe,lt)}}}function Pe(pe){var Fe=pe.definitions,De=pe.descriptors,Qe=pe.visitor,rt=pe.structuralObjectVisitor;g.fF.assertValue(Fe,"dataViewObjectDefinition.visitPropertyExprs - definitions"),g.fF.assertAnyValue(De,"dataViewObjectDefinition.visitPropertyExprs - if descriptors exist we only visit valid objects, otherwise everything"),g.fF.assertAnyValue(Qe,"dataViewObjectDefinition.visitPropertyExprs - visitor"),g.fF.assertAnyValue(rt,"dataViewObjectDefinition.visitPropertyExprs - visitor"),g.fF.assert(function(){return!!Qe||!!rt},"Either sqExprVisitor or structuralObjectVisitor are required");var lt=[],Oe={stopVisiting:!1};function ce(ot,bt,Ft){var vt=ot[bt];if(Qe&&vt instanceof h.Il)Qe(vt,ot,bt,Ft,lt,Oe);else if("object"==typeof vt&&(rt&&rt(vt,ot,bt,Ft,lt,Oe),Qe))for(var Mt in vt){if(Oe.stopVisiting)return;lt.push(Mt),ce(vt,Mt,Ft),lt.pop()}}for(var fe in Fe){var ae=De&&De[fe];if(!_.isEmpty(Fe[fe])&&(ae||!De)){for(var te=0,oe=Fe[fe];te<oe.length;te++){var he=oe[te].properties;if(he)for(var Le in he){if(Oe.stopVisiting)return;var Je=ae&&ae.properties[Le];(Je||!De)&&ce(he,Le,Je&&Je.type)}}g.fF.assert(function(){return _.isEmpty(lt)},"DataViewObjectDefinition.visitPropertyExprs - propertyPath should be empty after iterating through object properties")}}}function ze(pe){if(g.fF.assertAnyValue(pe,"DataViewObjectDefinitions.reduce - objects can be undefined"),!_.isEmpty(pe)){for(var Fe in pe)if(pe[Fe]){for(var De=[],Qe=0,rt=pe[Fe];Qe<rt.length;Qe++){var Oe=A(rt[Qe]);Oe&&De.push(Oe)}_.isEmpty(De)?delete pe[Fe]:pe[Fe]=De}else delete pe[Fe];if(!_.isEmpty(pe))return pe}}function Xe(pe){return pe instanceof h.Il}function Me(pe){return pe&&"ExprWithContext"===pe.propertyDefinitionKind}},3166:function(ie,ve,v){v.d(ve,{$v:function(){return n},Ln:function(){return h},VM:function(){return D}});var c=v(8955),l=v(3813);function n(N){return b(N,function(f){var F=l.Ge.fromDescriptor(f.type).formatting;return F&&F.formatString})}function h(N){return b(N,function(f){var F=f.type;return F&&!!F.expression&&F.expression.defaultValue})}function D(N,f){if(c.fF.assertValue(N,"descriptors"),c.fF.assertValue(f,"propertyId"),!_.isEmpty(N)){var F=N[f.objectName];if(F&&!_.isEmpty(F.properties))return F.properties[f.propertyName]}}function b(N,f){if(c.fF.assertAnyValue(N,"descriptors"),c.fF.assertAnyValue(f,"propPredicate"),N)for(var F in N){var A=N[F].properties;for(var k in A)if(f(A[k]))return{objectName:F,propertyName:k}}}},9292:function(ie,ve,v){v.d(ve,{Me:function(){return S},PJ:function(){return P},UQ:function(){return D}});var c=v(8955),l=v(6348),n=v(9291),g=v(2348),V=v(3166);function P(G,I,E,T,m){var z;c.fF.assertValue(I,"evalContext"),c.fF.assertValue(E,"objectDescriptors"),c.fF.assertValue(T,"objectDefns");for(var R,w=0,B=T;w<B.length;w++){var C=B[w],d=C.name;m&&(m.objectName=d);var u=G.run(d,I,E[d],C.properties,m);u&&(R||(R={}),R[d]?(0,g.PM)(R,((z={})[d]=u,z)):R[d]=u)}return R}function S(G){c.fF.assertAnyValue(G,"objectDefinitions");var I={data:[]};if(G)for(var E in G)for(var T=G[E],m=0,z=T.length;m<z;m++){var R=T[m];h(I,R.selector).objects.push({name:E,properties:R.properties})}return I}function h(G,I){var E;c.fF.assertValue(G,"grouped"),c.fF.assertAnyValue(I,"selector"),I&&I.data?E=G.data:I&&I.metadata?(G.metadata||(G.metadata=[]),E=G.metadata):(G.metadataOnce||(G.metadataOnce=[]),E=G.metadataOnce),c.fF.assert(function(){return!!E},"GroupedObjects is not defined.  Indicates malformed selector.");for(var T=0,m=E;T<m.length;T++){var z=m[T];if((0,l.fS)(I,z.selector))return z}var R={selector:I,objects:[]};return E.push(R),R}function D(G,I,E,T){c.fF.assertValue(G,"objectsForAllSelectors"),c.fF.assertValue(I,"objectDescriptors"),c.fF.assertValue(E,"columns"),c.fF.assertAnyValue(T,"selectTransforms"),T&&(function(G,I,E,T){c.fF.assertValue(G,"objectsForAllSelectors"),c.fF.assertValue(I,"objectDescriptors"),c.fF.assertValue(E,"columns"),c.fF.assertValue(T,"selectTransforms");var m=(0,V.$v)(I);if(m)for(var z=0,R=T.length;z<R;z++){var w=T[z];w&&(c.fF.assertValue(w.queryName,"selectTransform.queryName"),F(G,m,w.queryName,w.format||f(E,z)))}}(G,I,E,T),function(G,I,E){c.fF.assertValue(G,"objectsForAllSelectors"),c.fF.assertValue(I,"objectDescriptors"),c.fF.assertValue(E,"selectTransforms");var T=(0,V.Ln)(I);if(T)for(var m=0,z=E;m<z.length;m++){var R=z[m];R&&(c.fF.assertValue(R.queryName,"selectTransform.queryName"),A(G,T,R.queryName,R.defaultValue))}}(G,I,T))}function f(G,I){for(var E=0,T=G.length;E<T;E++){var m=G[E];if(m&&m.index===I)return m.format}}function F(G,I,E,T){T&&k(G,I,{metadata:E},(0,n.fL)(T))}function A(G,I,E,T){T&&k(G,I,{metadata:E},T)}function k(G,I,E,T){var m;if(E){var z=G.metadata;z||(z=G.metadata=[]),m=z}else{var R=G.metadataOnce;R||(R=G.metadataOnce=[{selector:E,objects:[]}]),m=R}var B,w=function(G,I){c.fF.assertValue(G,"objects"),c.fF.assertAnyValue(I,"selector");for(var E=0,T=G.length;E<T;E++){var m=G[E];if((0,l.fS)(m.selector,I))return m}}(m,E);if(w){var C=w.objects;if(B=function(G,I){c.fF.assertValue(G,"objectDefns"),c.fF.assertValue(I,"objectName");for(var E=0,T=G.length;E<T;E++){var m=G[E];if(m.name===I)return m}}(C,I.objectName),B){if(B.properties[I.propertyName])return}else C.push(B={name:I.objectName,properties:{}})}else m.push({selector:E,objects:[B={name:I.objectName,properties:{}}]});B.properties[I.propertyName]=T}},6420:function(ie,ve,v){v.d(ve,{Q:function(){return m}});var c=v(3188),l=v(6096),n=v(8955),g=v(4996),V=v(8974),P=v(9291),S=v(8893),h=v(9149),D=v(2479),b=v(7184),N=v(3943),f=v(7649),F=v(3813),A=v(2310),k=v(1190),Y=function(){function R(w,B,C,d,u,y,M,L,O,H){this.featureSwitches=w,this.warningType=B,this.propertyId=C,this.selector=d,this.objectDisplayNameGetter=u,this.propertyDisplayNameGetter=y,this.valueExpr=M,this.value=L,this.expectedValueType=O,this.columnExpr=H,1===this.warningType?(n.fF.assertValue(O,"expectedValueType"),this.titleKey="DataBoundExprWarning_InvalidType_Title",this.hintKey="DataBoundExprWarning_InvalidType_Message"):2===this.warningType?(this.titleKey="DataBoundExprWarning_MissingReference_Title",this.hintKey="DataBoundExprWarning_MissingReference_Message"):(this.titleKey="VisualWarning_PropertyEvaluation_Tooltip_Header",this.hintKey="VisualWarning_PropertyEvaluation_Tooltip_Hint_Color")}return Object.defineProperty(R.prototype,"code",{get:function(){switch(this.warningType){case 1:return"DataBoundExprWarningTypeInvalidType";case 2:return"DataBoundExprWarningTypeMissingReference";case 0:return"DataBoundExprWarningTypeInvalidValue";default:n.fF.assertNever(this.warningType)}},enumerable:!1,configurable:!0}),R.prototype.getMessages=function(w,B){if(B){if(this.cachedMessage)return this.cachedMessage;var d=w.get("NamePattern_Colon"),u=[],y=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(w):this.propertyDisplayNameGetter,M=(0,k.W)(w.get(this.titleKey),y),L=this.objectDisplayNameGetter instanceof Function?this.objectDisplayNameGetter(w):this.objectDisplayNameGetter;if(!this.featureSwitches.useModernFormatPane){var O=(0,k.W)(d,w.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),L);u.push(O)}var H=B(this.valueExpr);if(H){var Q=(0,k.W)(d,w.get("Field_Source"),H);u.push(Q)}if(void 0!==this.columnExpr){var X=B(this.columnExpr),W=(0,k.W)(d,w.get("Field_Target"),X);u.push(W)}if(1===this.warningType&&this.expectedValueType){var J=(0,k.W)(d,w.get("DataBoundExprWarning_ExpectedDataType"),R.getPrimitiveValueType(this.expectedValueType,w));u.push(J)}if(0===this.warningType&&this.value){var ee=(0,k.W)(d,w.get("Value"),this.value.toString());u.push(ee)}var le=w.get(this.hintKey);return u.push(le),this.cachedMessage={title:M,message:le,detail:u.join("\n")},this.cachedMessage}n.fF.assertFail("DataViewObjectEvaluationWarning - getMessages - setSQExprTranslator needed for correct warning")},R.prototype.getTitle=function(w){var B=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(w):this.propertyDisplayNameGetter;return(0,k.W)(w.get(this.titleKey),B)},R.prototype.getMessage=function(w){return w.get(this.hintKey)},R.getPrimitiveValueType=function(w,B){switch(w.primitiveType){case 1:return B.get("Text");case 2:case 3:case 4:return B.get("ConditionalFormattingDialog_Number");case 5:return B.get("ConditionalFormattingDialog_Boolean");case 6:case 7:return B.get("ConditionalFormattingDialog_Date");default:n.fF.assertFail("Invalid expected data type")}},R}(),G=function(){function R(){this.cache=[]}return R.prototype.get=function(w){n.fF.assertValue(w,"key");for(var B=0,C=this.cache;B<C.length;B++){var d=C[B];if(d.key===w)return d.allocator}},R.prototype.register=function(w,B){var C=this;return n.fF.assertValue(w,"key"),n.fF.assert(function(){return void 0!==B},"colorAllocator (it can be null, but not undefined)"),n.fF.assert(function(){return null==C.get(w)},"Trying to re-register for same key expr."),this.cache.push({key:w,allocator:B}),this},R}(),I=v(1458),E=v(4967),m=function(){function R(w,B){var C=this;this.featureSwitches=w,this.visualStyle=B,n.fF.assertValue(this.featureSwitches,"featureSwitches"),this.colorAllocatorCache=new G,this.expressionEvaluator=new z(function(d){return C.evaluateThemeDataColor(d)},function(d,u){return C.ensureColorAllocator(d,u)})}return R.prototype.getObjectsRules=function(){return this.objectsRules},R.prototype.run=function(w,B,C,d,u){if(n.fF.assertValue(B,"evalContext"),n.fF.assertAnyValue(C,"objectDescriptor"),n.fF.assertValue(d,"propertyDefinitions"),C){var y,M=C.properties;for(var L in d){this.propertyId={objectName:w,propertyName:L};var O=d[L],H=M[L];if(H){u&&(u.objectDescriptor=C,u.propertyName=L);var Q=this.evaluateProperty(B,H,O);void 0!==Q&&(y||(y={}),y[L]=Q)}}return this.propertyId=void 0,y}},R.prototype.evaluateProperty=function(w,B,C,d){var u,y,M;n.fF.assertValue(w,"evalContext"),n.fF.assertValue(B,"propertyDescriptor"),n.fF.assertValue(C,"propertyDefinition");var L=B.type;if(L&&L.expression)return C;var H,O=this.evaluateValue(w,C,F.Ge.fromDescriptor(B.type));return void 0!==O||C instanceof E.t?O:(L.fillRule?H=this.evaluateFillRule(C):null!==(y=null===(u=L.fill)||void 0===u?void 0:u.solid)&&void 0!==y&&y.color&&null!==(M=null==C?void 0:C.solid)&&void 0!==M&&M.color?H=this.evaluateSolidColorFill(w,C,L.fill.solid.color.nullable):L.dataBars&&(H=this.evaluateDataBars(w,C)),H?(d&&H.error&&d.warnings.push(new Y(this.featureSwitches,0,{objectName:d.objectName,propertyName:d.propertyName},d.selector,d.objectDescriptor.displayName,B.displayName,H.error.expr,H.error.value,null,d.targetExpr)),H.value):L.image?this.evaluateImage(w,C):L.paragraphs?this.evaluateParagraphs(w,C):L.geoJson?this.evaluateGeoJson(w,C):L.filter?this.evaluateSemanticFilter(C):L.icon?this.evaluateIcon(w,C):L.exprList?this.evaluateExprList(C):L.errorRange?this.evaluateErrorRange(w,C):L.qnaVisualLink?this.evaluateQnaVisualLink(w,C):void 0)},R.prototype.evaluateSemanticFilter=function(w){return w},R.prototype.evaluateSolidColorFill=function(w,B,C){var d;if(null!==(d=null==B?void 0:B.solid)&&void 0!==d&&d.color){var u=this.evaluateColor(w,B.solid.color,C);if(u.error)return u;var y=u.value;if(y||null===y&&C)return{value:{solid:{color:y}}}}},R.prototype.ensureColorAllocator=function(w,B){var C=this.colorAllocatorCache.get(w);return void 0!==C||(C=this.createColorAllocator(w,B),this.colorAllocatorCache.register(w,C,this.propertyId),this.propertyId&&C&&this.addObjectRule(C)),C},R.prototype.addObjectRule=function(w){this.objectsRules||(this.objectsRules={});var B=this.objectsRules[this.propertyId.objectName];B||(B=this.objectsRules[this.propertyId.objectName]={}),B[this.propertyId.propertyName]={gradient:{options:w.getRule(),source:w.getSource()}}},R.prototype.createColorAllocator=function(w,B){var C=B.getExprColumn(w.input,this.featureSwitches.categoricalSecondaryCF);if(!C)return null;var d=this.evaluateFillRule(w.rule).value;return d?(0,A.V)().fromFillRule(d,C):null},R.prototype.evaluateFillRule=function(w){var C,B=(0,I.X)();if(w.linearGradient2){if((u=this.evaluateColorStop(B,(d=w.linearGradient2).min)).error)return u;if((y=this.evaluateColorStop(B,d.max)).error)return y;if(C={linearGradient2:{min:u.value,max:y.value}},M=this.evaluateNullStrategy(B,d.nullColoringStrategy)){if(M.error)return M;C.linearGradient2.nullColoringStrategy=M.value}}else if(w.linearGradient3){var d,u;if((u=this.evaluateColorStop(B,(d=w.linearGradient3).min)).error)return u;var y,M,O=this.evaluateColorStop(B,d.mid);if(O.error)return O;if((y=this.evaluateColorStop(B,d.max)).error)return y;if(C={linearGradient3:{min:u.value,mid:O.value,max:y.value}},M=this.evaluateNullStrategy(B,d.nullColoringStrategy)){if(M.error)return M;C.linearGradient3.nullColoringStrategy=M.value}}return{value:C}},R.prototype.evaluateColorStop=function(w,B){n.fF.assertValue(w,"evalContext"),n.fF.assertValue(B,"colorStop");var C=this.evaluateColor(w,B.color,!1);if(C.error)return C;var d={color:C.value},u=this.evaluateValue(w,B.value,R.numericType);return null!=u&&(d.value=u),{value:d}},R.prototype.evaluateColor=function(w,B,C){n.fF.assertValue(w,"evalContext"),n.fF.assertValue(B,"evaluateColor - color");var d=this.evaluateValue(w,B,R.colorValueType),u=null!=d?(0,g.pe)(this.visualStyle,d):d;if(null!=u)return{value:u};if(null===d&&C)return{value:null};if(!d)return{value:void 0};var y=d.toString();return y&&(y=y.replace(/\s+/g,""),y=(0,l.HS)(y)?y:(0,l.iC)(y)),void 0===y?{error:{expr:B,value:d}}:{value:y}},R.prototype.evaluateNullStrategy=function(w,B){if(B){n.fF.assertValue(w,"evaluateNullStrategy - undefined evalContext"),n.fF.assertValue(B.strategy,"evaluateNullStrategy - undefined strategy");var C={strategy:this.evaluateValue(w,B.strategy,R.nullStrategyType)};if(B.color){var d=this.evaluateColor(w,B.color,!1);if(d.error)return d;C.color=d.value}return{value:C}}},R.prototype.evaluateImage=function(w,B){if(n.fF.assertValue(w,"evalContext"),n.fF.assertAnyValue(B,"definition"),B){var C={name:this.evaluateValue(w,B.name,R.textType),url:this.evaluateValue(w,B.url,F.Ge.fromDescriptor(D.z))};return B.scaling&&(C.scaling=this.evaluateValue(w,B.scaling,R.textType)),C}},R.prototype.evaluateParagraphs=function(w,B){var C=this;if(n.fF.assertValue(w,"evalContext"),n.fF.assertAnyValue(B,"definition"),B)return this.evaluateArrayCopyOnChange(w,B,function(d,u){return C.evaluateParagraph(d,u)})},R.prototype.evaluateParagraph=function(w,B){var C=this;n.fF.assertValue(w,"evalContext"),n.fF.assertValue(B,"definition");var d,u=B.textRuns,y=this.evaluateArrayCopyOnChange(w,u,function(M,L){return C.evaluateTextRun(M,L)});return u!==y&&((d=_.clone(B)).textRuns=y),d||B},R.prototype.evaluateTextRun=function(w,B){return n.fF.assertValue(w,"evalContext"),n.fF.assertValue(B,"definition"),(0,b.IM)(B)?this.evaluateTextRunDefinition(w,B):(0,b.Kt)(B)?this.evaluateTextRunConditional(w,B):void n.fF.assertNever(B)},R.prototype.evaluateTextRunDefinition=function(w,B){var C,d;B.value instanceof P.Il?(C=B.value,d=this.evaluateValue(w,B.value,R.textType)):d=B.value;var u={value:d};return B.textStyle&&(u.textStyle=B.textStyle),B.url&&(u.url=B.url),B.mentionEmail&&(u.mentionEmail=B.mentionEmail),C&&(u.valueExpr=C),u},R.prototype.evaluateTextRunConditional=function(w,B){var C=this;return{cases:this.evaluateArrayCopyOnChange(w,B.cases,function(u,y){return C.evaluateTextRunConditionalCase(u,y)}),defaultCase:this.evaluateTextRunCaseValue(w,B.defaultCase),expression:this.evaluateTextRunConditionalExpression(w,B.expression)}},R.prototype.evaluateTextRunConditionalCase=function(w,B){return(0,c.pi)({pattern:this.evaluateValue(w,B.pattern,R.textType)},this.evaluateTextRunCaseValue(w,B))},R.prototype.evaluateTextRunCaseValue=function(w,B){var C=this;return{textRuns:this.evaluateArrayCopyOnChange(w,B.textRuns,function(u,y){return C.evaluateTextRunDefinition(u,y)})}},R.prototype.evaluateTextRunConditionalExpression=function(w,B){return B instanceof P.Il?this.evaluateValue(w,B,R.textType):(0,f.U)(B)?B:void n.fF.assertNever(B)},R.prototype.evaluateGeoJson=function(w,B){if(n.fF.assertValue(w,"evalContext"),n.fF.assertAnyValue(B,"definition"),B)return{name:this.evaluateValue(w,B.name,R.textType),type:this.evaluateValue(w,B.type,R.textType),content:this.evaluateValue(w,B.content,R.textType)}},R.prototype.evaluateDataBars=function(w,B){var C=this.evaluateSolidColorFill(w,B.positiveColor,!1);if(C.error)return{error:C.error};var d=this.evaluateSolidColorFill(w,B.negativeColor,!1);if(d.error)return{error:d.error};var u=this.evaluateSolidColorFill(w,B.axisColor,!1);return u.error?{error:u.error}:{value:{minValue:this.evaluateValue(w,B.minValue,R.numericType),maxValue:this.evaluateValue(w,B.maxValue,R.numericType),positiveColor:C.value,negativeColor:d.value,axisColor:u.value,reverseDirection:this.evaluateValue(w,B.reverseDirection,R.boolType),hideText:this.evaluateValue(w,B.hideText,R.boolType)}}},R.prototype.evaluateIcon=function(w,B){var C;if(n.fF.assertValue(w,"evalContext"),n.fF.assertAnyValue(B,"definition"),(0,N.r)(B)){var d={kind:"Icon"};if(B.layout&&(d.layout=this.evaluateValue(w,B.layout,R.textType)),B.verticalAlignment&&(d.verticalAlignment=this.evaluateValue(w,B.verticalAlignment,R.textType)),B.value){var u=this.evaluateValue(w,B.value,R.textType);if(null===u)d.value=null;else if(void 0===u)d.value=null;else{var y=(0,g.lQ)(this.visualStyle,u);if(y)if(y.svgId){var M=null===(C=y.description)||void 0===C?void 0:C.resourceKey;d.value={svgId:y.svgId},M&&(d.value.descriptionKey=M)}else y.url?d.value={url:y.url}:n.fF.assertFail("incorrect themeIcon");else d.value={url:u}}}return d}},R.prototype.evaluateThemeDataColor=function(w){return(0,g.GK)(this.visualStyle,w)},R.prototype.evaluateExprList=function(w){if(n.fF.assertAnyValue(w,"definition"),(0,N.bA)(w))return{exprs:w.exprs,kind:"ExprList"}},R.prototype.evaluateArrayCopyOnChange=function(w,B,C){n.fF.assertValue(w,"evalContext"),n.fF.assertValue(B,"definitions"),n.fF.assertValue(C,"evaluator");for(var d,u=0,y=B.length;u<y;u++){var M=B[u],L=C(w,M);!d&&M!==L&&(d=_.take(B,u)),d&&d.push(L)}return d||B},R.prototype.evaluateErrorRange=function(w,B){if(n.fF.assertValue(w,"evalContext"),n.fF.assertValue(B,"definition"),(0,N.ZG)(B)){if(B.explicit)return this.evaluateExplicitErrorRange(w,B.explicit);if(B.symmetricalExplicit)return this.evaluateSymmetricalErrorRange(w,B.symmetricalExplicit);if(B.standardDeviation)return this.evaluateStandardDeviationErrorRange(w,B.standardDeviation);if(B.percentage)return this.evaluatePercentageErrorRange(w,B.percentage);if(B.percentile)return this.evaluatePercentileErrorRange(w,B.percentile)}},R.prototype.evaluateExplicitErrorRange=function(w,B){var C={isRelative:!0===this.evaluateValue(w,B.isRelative,R.boolType)};return B.lowerBound&&(C.lowerBound=this.evaluateValue(w,B.lowerBound,R.numericType)),B.upperBound&&(C.upperBound=this.evaluateValue(w,B.upperBound,R.numericType)),{explicit:C}},R.prototype.evaluateSymmetricalErrorRange=function(w,B){return{symmetricalExplicit:{delta:this.evaluateValue(w,B.delta,R.numericType)}}},R.prototype.evaluateStandardDeviationErrorRange=function(w,B){return{standardDeviation:{value:this.evaluateValue(w,B.value,R.numericType),multiplier:this.evaluateValue(w,B.multiplier,R.numericType)}}},R.prototype.evaluatePercentageErrorRange=function(w,B){return{percentage:{lowerBoundDelta:this.evaluateValue(w,B.lowerBoundDelta,R.numericType),upperBoundDelta:this.evaluateValue(w,B.upperBoundDelta,R.numericType)}}},R.prototype.evaluatePercentileErrorRange=function(w,B){return{percentile:{lowerBound:this.evaluateValue(w,B.lowerBound,R.numericType),upperBound:this.evaluateValue(w,B.upperBound,R.numericType)}}},R.prototype.evaluateQnaVisualLink=function(w,B){if(n.fF.assertValue(w,"evalContext"),n.fF.assertValue(B,"definition"),(0,N.Xz)(B))return{suggestedUtterances:_.map(B.suggestedUtterances,function(C){return{utterance:C.utterance}})}},R.prototype.evaluateValue=function(w,B,C){return B instanceof P.Il?this.expressionEvaluator.evaluate(B,w):B instanceof E.t?B.evaluate(w):void 0},R.boolType=F.Ge.fromDescriptor({bool:!0}),R.colorValueType=F.Ge.fromDescriptor({formatting:{color:!0}}),R.numericType=F.Ge.fromDescriptor({numeric:!0}),R.textType=F.Ge.fromDescriptor({text:!0}),R.nullStrategyType=F.Ge.fromDescriptor({enumeration:h.dt}),R}(),z=function(R){function w(B,C){var d=R.call(this)||this;return d.dataColorEvaluator=B,d.colorAllocatorGetter=C,d}return(0,c.ZT)(w,R),w.prototype.evaluate=function(B,C){if(null!=B)return B.accept(this,C)},w.prototype.visitColumnRef=function(B,C){return C.getExprValue(B)},w.prototype.visitConstant=function(B,C){return B.value},w.prototype.visitMeasureRef=function(B,C){return C.getExprValue(B)},w.prototype.visitArithmetic=function(B,C){return C.getExprValue(B)},w.prototype.visitNativeMeasure=function(B,C){return C.getExprValue(B)},w.prototype.visitAggr=function(B,C){return C.getExprValue(B)},w.prototype.visitScopedEval=function(B,C){return C.getScopedEvalExprValue(B)},w.prototype.visitFillRule=function(B,C){var d=this.colorAllocatorGetter(B,C);if(d){var u=this.evaluate(B.input,C);if(void 0!==u)return d.color(u)}},w.prototype.visitPercentile=function(B,C){return C.getExprValue(B)},w.prototype.visitRangePercent=function(B,C){var d=this.evaluate(B.min,C);if(_.isFinite(d)){var u=this.evaluate(B.max,C);if(_.isFinite(u)){var y=B.percent;return 0===y?d:1===y?u:d+y*(u-d)}}},w.prototype.visitSelectRef=function(B,C){return C.getExprValue(B)},w.prototype.visitThemeDataColor=function(B,C){var d=this.dataColorEvaluator(B.colorId);if(d)return(0,l.HO)(d,B.percent)},w.prototype.visitNot=function(B,C){return!this.evaluate(B.arg,C)},w.prototype.visitAnd=function(B,C){return B.left.accept(this,C)&&B.right.accept(this,C)},w.prototype.visitContains=function(B,C){if(!B.isOrdinalEvaluation())return n.fF.assertFail("Contains expression should be evaluated as ordinal"),!1;var d=this.getExprString(B.left,C),u=this.getExprString(B.right,C);return _.isString(d)?(0,V.r3)(d,u):(n.fF.warn("Contains expression should only be applied to string types"),!1)},w.prototype.visitStartsWith=function(B,C){if(!B.isOrdinalEvaluation())return n.fF.assertFail("StartsWith expression should be evaluated as ordinal"),!1;var d=this.getExprString(B.left,C),u=this.getExprString(B.right,C);return _.isString(d)?(0,V.Ny)(d,u):(n.fF.warn("StartsWith expression should only be applied to strings"),!1)},w.prototype.getExprString=function(B,C){var d;if(null!==B)return null!==(d=(0,P.Ls)(B))&&void 0!==d?d:this.evaluate(B,C)},w.prototype.visitCompare=function(B,C){var d=this.evaluate(B.left,C);if(_.isNaN(d))return!1;var u=this.evaluate(B.right,C);if(_.isNaN(u))return!1;var y=B.comparison;if(B.isOrdinalEvaluation())return 0===y?d===u:(n.fF.assertFail("An ordinal comparison with QueryExpressionKind other than 'Equal' is not supported"),!1);if(null===u||null===d)return u===d&&(0===y||2===y||4===y);switch(y){case 0:return d===u;case 1:return d>u;case 2:return d>=u;case 3:return d<u;case 4:return d<=u}},w.prototype.visitConditional=function(B,C){var d=B.cases;if(n.fF.assertNonEmpty(d,"ExpressionEvaluator.visitConditional - Empty cases"),!_.isEmpty(d))for(var u=0,y=d;u<y.length;u++){var M=y[u],O=M.value;if(!0===this.evaluate(M.condition,C))return this.evaluate(O,C)}return this.evaluate(B.defaultValue,C)},w}(S.Ml)},447:function(ie,ve,v){v.d(ve,{JM:function(){return T},KH:function(){return f}});var c=v(8955),l=v(9291),n=v(7121),g=v(1006),V=v(2348),P=v(2303),S=v(4758),h=v(5662),D="RegressionX",b="RegressionSeries",N="RegressionY";function f(z){c.fF.assertValue(z,"options");var R=z.visualDataViews,w=z.dataRoles,B=z.objectDescriptors,C=z.objectDefinitions,d=z.transformSelects,u=z.applicableDataViewMappings,y=z.roleKindByQueryRef,M=z.queryProjectionsByRole,L=z.visualStyle,O=z.featureSwitches;if(!_.isEmpty(R)&&d){if(!y||!M||_.isEmpty(u)||!B||!C)return R;var H=_.find(u,function(le){return!!(0,g.zY)(le)});if(H){for(var Q=[],X=0,W=R;X<W.length;X++){var ee=F(W[X],u,w,H,B,C,L,O);ee&&Q.push(ee)}_.isEmpty(Q)||R.push.apply(R,Q||[])}}return R}function F(z,R,w,B,C,d,u,y){return c.fF.assertValue(R,"applicableDataViewMappings"),2===(0,g._1)(R)?function(){function z(y,M,L,O,H,Q,X){c.fF.assertValue(y,"sourceDataView"),c.fF.assertValue(y.matrix,"sourceDataView.matrix"),c.fF.assertValue(M,"dataRoles"),c.fF.assertValue(O,"objectDescriptors"),c.fF.assertValue(H,"objectDefinitions");var W=y.matrix;if(W&&W.rows&&W.rows.root&&0!==_.size(W.rows.root.children)&&!(_.size(W.rows.levels)>2)){var J=R(0,W,M),ee=R(1,W,M);if(void 0!==J&&void 0!==ee){var le=J.valuesCol,Ne=ee.valuesCol,Ae=function(y,M,L){var O=y.matrix;if(O){var H=function(Ae,Se){if(Ae.children)for(var we=0,Pe=Ae.children;we<Pe.length;we++){var ze=Pe[we];ze.isSubtotal||(Se.xValues.push(M(ze)),Se.yValues.push(L(ze)))}},Q=[],X=O.rows;if(2===X.levels.length)for(var W=0,J=O.rows.root.children;W<J.length;W++){var ee=J[W];ee.isSubtotal||(Q.push(le={xValues:[],yValues:[]}),H(ee,le))}else if(1===X.levels.length){var le;Q.push(le={xValues:[],yValues:[]}),H(X.root,le)}return Q}}(y,J.getValues,ee.getValues),Se=!0,we=(0,g.zY)(L);if(we&&y.metadata.objects){var Pe=we.combineSeries;Pe&&(Se=(0,V.NA)(y.metadata.objects,Pe,!0))}var ze=Ae;Se&&(ze=function(y){for(var M,L,O=[],H=0,Q=y;H<Q.length;H++){var X=Q[H];_.isEmpty(X.xValues)||_.isEmpty(X.yValues)||(O[0]||O.push({xValues:[],yValues:[]}),(M=O[0].xValues).push.apply(M,X.xValues||[]),(L=O[0].yValues).push.apply(L,X.yValues||[]))}return O}(Ae));var Xe=j(ze);if(G(Xe)){for(var Me=Xe.xMin,pe=Xe.xMax,Fe=[],De=0,Qe=Xe.lineDefs;De<Qe.length;De++)Fe.push(m(Qe[De],+Me,+pe));return function(y,M,L,O,H,Q,X,W,J,ee){var le,Ne,Ae;c.fF.assertValue(y,"xColumnSource"),c.fF.assertValue(M,"yColumnSource"),c.fF.assertValue(O,"categories"),c.fF.assertValue(H,"values"),c.fF.assertValue(X,"objectDescriptors"),c.fF.assertValue(W,"objectDefinitions");var Fe,we=Q.matrix.rows.select[1].bind.to,Pe=Q.matrix.values.select[0].for.in,ze=((le={})[Q.matrix.rows.select[0].bind.to]=!0,le),Xe=((Ne={})[Pe]=!0,Ne),Me=((Ae={})[we]=!0,Ae),pe={columns:[]},De={levels:[],root:{children:[]}},Qe={metadata:pe,matrix:{rows:De,columns:Fe,valueSources:[]}},rt=Y(y,D,!1,"",ze),lt=Y(M,b,M.isMeasure,"Regression",Me),Oe=Y(M,N,M.isMeasure,"",Xe);pe.columns.push(lt),pe.columns.push(rt),pe.columns.push(Oe),De.levels.push({sources:[lt]}),De.levels.push({sources:[rt]}),Qe.matrix.valueSources.push(Oe);for(var ce=(0,l.Oh)((0,l.nw)("s","RegressionEntity"),"RegressionSeries"),fe=(0,l.Oh)((0,l.nw)("s","RegressionEntity"),"RegressionCategories"),ae=0;ae<L.length;ae++){var te=L[ae],oe={level:0,value:te,levelValues:[{levelSourceIndex:0,value:te}],children:[],childIdentityFields:[fe],identity:(0,P.TZ)((0,l.xD)(ce,(0,l.kQ)(te,lt.type)))};_.isEmpty(De.root.childIdentityFields)&&(De.root.childIdentityFields=[ce]),De.root.children.push(oe);for(var Ce=0;Ce<O.length;Ce++){var he=O[Ce],Le={level:1,value:he,levelValues:[{levelSourceIndex:1,value:he}],values:{},identity:(0,P.TZ)((0,l.xD)(fe,(0,l.kQ)(he,rt.type)))};Le.values[0]={value:H[ae][Ce]},oe.children.push(Le)}}return(0,S.ni)(Qe,1,X,W,[],J,ee),Qe}(le,Ne,Se?["combinedRegressionSeries"]:2===W.rows.levels.length?_.chain(W.rows.root.children).filter(function(ce){return!ce.isSubtotal}).map(function(ce){return ce.value}).value():["combinedRegressionSeries"],[Me,pe],Fe,L,O,H,Q,X)}}}}function R(y,M,L){var H,Q,O=M.valueSources,X=function(y,M,L){if(!_.isEmpty(M))return _.findIndex(M,function(O){var H=function(J){if(!O.roles[J])return"continue";var ee=_.find(L,function(le){return le.name===J});return ee&&ee.cartesianKind===y?{value:!0}:void 0};for(var Q in O.roles){var X=H(Q);if("object"==typeof X)return X.value}})}(y,M.valueSources,L);if(X>=0&&void 0!==X)H=O[X],Q=function(ee){return ee.values[X].value};else{var W=function(y,M,L){if(!_.isEmpty(M.root.children)){for(var O=-1,H=0,Q=M.levels.length;H<Q&&-1===(O=_.findIndex(M.levels[H].sources,function(W){var J=function(Ae){if(!W.roles[Ae])return"continue";var Se=_.find(L,function(we){return we.name===Ae});return Se&&Se.cartesianKind===y?{value:!0}:void 0};for(var ee in W.roles){var le=J(ee);if("object"==typeof le)return le.value}}));H++);return{level:H,index:O}}}(y,M.rows,L);if(-1===(X=W?W.index:-1))return;H=M.rows.levels[W.level].sources[X],Q=function(ee){return ee.levelValues[X].value}}return{valuesCol:H,getValues:Q}}return{apply:function(M,L,O,H,Q,X,W){return z(M,L,O,H,Q,X,W)}}}().apply(z,w,B,C,d,u,y):function(){function z(M,L,O,H,Q,X,W){if(c.fF.assertValue(M,"sourceDataView"),c.fF.assertValue(M.categorical,"sourceDataView.categorical"),c.fF.assertValue(L,"dataRoles"),c.fF.assertValue(H,"objectDescriptors"),c.fF.assertValue(Q,"objectDefinitions"),M.categorical){var J=R(0,M.categorical,L),ee=R(1,M.categorical,L);if(!_.isEmpty(J)&&!_.isEmpty(ee)){var le=J[0].source,Ne=ee[0].source,Ae=!0,Se=(0,g.zY)(O);if(Se&&M.metadata.objects){var we=Se.combineSeries;we&&(Ae=(0,V.NA)(M.metadata.objects,we,!0))}var ze=j(d(J,ee,Ae,!1));if(G(ze)){var Fe,ce,te,Xe=ze.xMin,Me=ze.xMax,pe=y(ee)||y(J);pe&&(G(Fe=j(d(J,ee,Ae,!0)))?(Xe=_.min([Xe,Fe.xMin]),Me=_.max([Me,Fe.xMax])):pe=!1);for(var Qe=[],rt=0,lt=ze.lineDefs;rt<lt.length;rt++)Qe.push(m(lt[rt],+Xe,+Me));if(pe){ce=[];for(var fe=0,ae=Fe.lineDefs;fe<ae.length;fe++)ce.push(m(ae[fe],+Xe,+Me))}if(Ae)te=["combinedRegressionSeries"];else if(M.categorical.values.source){var oe=M.categorical.values.grouped();te=_.map(oe,function(he){return he.name})}else te=_.map(ee,function(he){return he.source.queryName});return function(M,L,O,H,Q,X,W,J,ee,le,Ne){var Ae,Se,we;c.fF.assertValue(M,"xColumnSource"),c.fF.assertValue(L,"yColumnSource"),c.fF.assertValue(H,"categories"),c.fF.assertValue(Q,"values"),c.fF.assertValue(J,"objectDescriptors"),c.fF.assertValue(ee,"objectDefinitions"),c.fF.assertAnyValue(X,"highlights"),c.fF.assert(function(){return!X||X.length===Q.length},"highlights should have the same length as values");var Xe,Me,Pe=W.categorical.categories.for.in,ze=W.categorical.values.group;if(ze&&!_.isEmpty(ze.select)&&(Xe=ze.select[0].for?ze.select[0].for.in:ze.select[0].bind.to,Me=ze.by),Xe&&Me){var pe=((Ae={})[Pe]=!0,Ae),Fe=((Se={})[Xe]=!0,Se),De=((we={})[Me]=!0,we),Qe=[];for(var rt in Q){var lt={values:Q[rt]};X&&(lt.highlights=X[rt]),Qe.push([lt])}var Oe=(0,n.h)().withCategory({source:Y(M,D,!1,"",pe),values:H,identityFrom:{fields:[(0,l.Oh)((0,l.nw)("s","RegressionEntity"),"RegressionCategories")]}}).withGroupedValues({groupColumn:{source:Y(L,b,L.isMeasure,"Regression",De),values:O,identityFrom:{fields:[(0,l.Oh)((0,l.nw)("s","RegressionEntity"),"RegressionSeries")]}},valueColumns:[{source:Y(L,N,L.isMeasure,"",Fe)}],data:Qe}).build();return(0,S.ni)(Oe,1,J,ee,[],le,Ne),Oe}}(le,Ne,te,[Xe,Me],Qe,ce,O,H,Q,X,W)}}}}function R(M,L,O){c.fF.assertValue(M,"roleKind"),c.fF.assertValue(L,"categorical");var H=w(M,L.values,O);if(!_.isEmpty(H))return H;var Q=L.categories;if(!_.isEmpty(Q)){var X=Q[0],W=w(M,[X],O);if(!_.isEmpty(W)&&(1===Q.length||_.isEmpty(X.values)||!_.isEmpty(X.objects)&&void 0!==B(X.objects[0])))return W}}function w(M,L,O){if(!_.isEmpty(L))return _.filter(L,function(H){var Q=function(ee){if(!H.source.roles[ee])return"continue";var le=_.find(O,function(Ne){return Ne.name===ee});return le&&le.cartesianKind===M?{value:!0}:void 0};for(var X in H.source.roles){var W=Q(X);if("object"==typeof W)return W.value}return!1})}function B(M){return(0,V.NA)(M,h.it)}function C(M,L){var O=_.head(M.objects);return O&&B(O)?_.map(M.objects,function(Q){return B(Q)}):L&&M.highlights?M.highlights:M.values}function d(M,L,O,H){for(var Q=[],X=_.map(M,function(Ae){return C(Ae,H)}),W=_.map(L,function(Ae){return C(Ae,H)}),J=M.length>1,ee=0;ee<W.length;ee++){var le=J?X[ee]:X[0],Ne=W[ee];O&&Q.length>0?(Q[0].xValues=Q[0].xValues.concat(le),Q[0].yValues=Q[0].yValues.concat(Ne)):Q.push({xValues:le,yValues:Ne})}return Q}function y(M){return _.some(M,function(L){return null!=L.highlights})}return{apply:function(L,O,H,Q,X,W,J){return z(L,O,H,Q,X,W,J)}}}().apply(z,w,B,C,d,u,y)}function Y(z,R,w,B,C){return{displayName:z.displayName+B,queryName:R,type:z.type,isMeasure:w,roles:C}}function j(z){for(var R,w,B=[],C=0,d=z;C<d.length;C++){var u=d[C],y=u.xValues,M=u.yValues;if(_.isEmpty(y)||_.isEmpty(M))B.push(null);else{var L=I(y),O=I(M);if(L&&O){var H=E(y,M);if(!H||_.isEmpty(H.xValues)||_.isEmpty(H.yValues))B.push(null);else{var Q=H.xValues[0],X=H.xValues[H.xValues.length-1],W=T(H.xValues,H.yValues);R=_.min([R,Q]),w=_.max([w,X]),B.push(W)}}else B.push(null)}}return{lineDefs:B,xMin:R,xMax:w}}function G(z){return z&&!_.isEmpty(z.lineDefs)&&_.some(z.lineDefs,function(R){return R})}function I(z){var R=_.find(z,function(B){return null!=B});if(null!=R){var w=typeof R;if(!_.some(z,function(B){return null!=B&&typeof B!==w}))return w}}function E(z,R){c.fF.assertValue(z,"unsortedXValues"),c.fF.assertValue(R,"unsortedYValues");var w=_.zip(z,R),B=_.chain(w).filter(function(u){return null!=u[0]&&null!=u[1]}).sortBy(function(u){return u[0]}).unzip().value(),C=B[0],d=B[1];return{xValues:C=_.map(C,_.toNumber),yValues:d=_.map(d,_.toNumber)}}function T(z,R,w){void 0===w&&(w=!1),c.fF.assertValue(z,"xValues"),c.fF.assertValue(R,"yValues");var B=_.sum(z),C=_.sum(R),d=B/z.length,u=C/R.length,y=_.chain(z).map(function(le){return Math.pow(le-d,2)}).sum().value();if(0!==y){var H,L=_.chain(z).map(function(le,Ne){return(le-d)*(R[Ne]-u)}).sum().value()/y,O=u-d*L;if(w){var Q=_.size(z),X=_.chain(z).map(function(le,Ne){return le*R[Ne]}).sum().value(),W=_.chain(z).map(function(le){return le*le}).sum().value(),J=_.chain(R).map(function(le){return le*le}).sum().value(),ee=Math.sqrt((Q*W-Math.pow(B,2))*(Q*J-Math.pow(C,2)));0!==ee&&(H=Math.pow((Q*X-B*C)/ee,2))}return{incline:L,intercept:O,rSquared:H}}}function m(z,R,w){return z?[R*z.incline+z.intercept,w*z.incline+z.intercept]:[null,null]}},8294:function(ie,ve,v){v.d(ve,{Yp:function(){return V},fS:function(){return P}});var c=v(2490),l=v(8955),n=v(4216),g=v(9613);function V(h){return new S(h)}function P(h,D){return h.key&&D.key&&h.key===D.key&&(0,c.NF)(h.roles,D.roles,function(b,N){return b===N})}var S=function(){function h(D){var b=this;this.kind=0,l.fF.assertNonEmpty(D,"roles"),this._roles=D,this._key=new n.o(function(){return JSON.stringify(b.roles)})}return Object.defineProperty(h.prototype,"roles",{get:function(){return this._roles},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),h}();(0,g.y)(S.prototype)},2303:function(ie,ve,v){v.d(ve,{Lu:function(){return f},TZ:function(){return F},fS:function(){return D},yz:function(){return b}});var c=v(8955),l=v(4216),n=v(9613),g=v(5353),V=v(1359),P=v(9291),S=v(8580),h=v(9380);function D(k,Y,j){return(k=k||null)===(Y=Y||null)||!k==!Y&&(c.fF.assertValue(k,"x"),c.fF.assertValue(Y,"y"),(0,h.fS)(k.expr,Y.expr,j))}function b(k,Y,j){if(!(k=k||null)!=!(Y=Y||null))return!1;c.fF.assertValue(k,"thisComparisonExpr"),c.fF.assertValue(Y,"otherComparisonIdentity");var I=k,E=(0,g.Dh)(Y.expr),T=(0,g.Dh)(I);if(!E||!T)return D(F(I),Y,j);for(var m=function(d){if(!_.some(E,function(u){return(0,h.fS)(d,u,j)}))return{value:!1}},z=0,R=T;z<R.length;z++){var B=m(R[z]);if("object"==typeof B)return B.value}return!0}function f(k,Y){if(!_.isEmpty(k)){for(var j,G=0,I=k;G<I.length;G++){var E=I[G],T=(0,g.FD)(E);j=j?(0,P.or)(j,T):T||E}return j&&Y&&(j=(0,P.ff)(j)),(0,g.Cj)(j)?void c.fF.assertFail("SelectRef based identities can not be translated into a filter without additional context."):V.yl.fromSQExpr(j)}}function F(k){return new A(k)}var A=function(){function k(Y){this.kind=1,c.fF.assertValue(Y,"expr"),this._expr=Y,this._key=new l.o(function(){return(0,S.qC)(Y)})}return Object.defineProperty(k.prototype,"expr",{get:function(){return this._expr},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),k}();(0,n.y)(A.prototype)},6633:function(ie,ve,v){v.d(ve,{fS:function(){return S},ms:function(){return h},wB:function(){return P}});var c=v(8955),l=v(4216),n=v(9613),g=v(1797),V=v(8580);function P(b,N){return!_.isEmpty(N)&&g.m.sequenceEqual(b.exprs,N)}function S(b,N){return b===N||g.m.sequenceEqual(b.exprs,N.exprs)}function h(b){return new D(b)}var D=function(){function b(N){this.kind=2,c.fF.assertValue(N,"scopeExprs"),this._exprs=N,this._key=new l.o(function(){return(0,V.Gg)(N)})}return Object.defineProperty(b.prototype,"exprs",{get:function(){return this._exprs},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),b}();(0,n.y)(D.prototype)},549:function(ie,ve,v){v.d(ve,{fS:function(){return h},ms:function(){return D},wB:function(){return S}});var c=v(8955),l=v(4216),n=v(9613),g=v(5353),V=v(1797),P=v(8580);function S(N,f){var F=(0,g.RR)(f.expr);return!!F&&V.m.sequenceEqual(N.exprs,F)}function h(N,f){return N===f||V.m.sequenceEqual(N.exprs,f.exprs)}function D(N){return new b(N)}var b=function(){function N(f){this.kind=3,c.fF.assertValue(f,"exprs"),this._exprs=f,this._key=new l.o(function(){return(0,P.Gg)(f)})}return Object.defineProperty(N.prototype,"exprs",{get:function(){return this._exprs},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),N}();(0,n.y)(b.prototype)},8301:function(ie,ve,v){v.d(ve,{bG:function(){return j},ij:function(){return I},_v:function(){return Y}});var c=v(130),l=v(9380),n=v(8955),g=v(1813),V=v(3188),P=v(9613),F=function(){function T(m,z,R,w){n.fF.assertValue(m,"items"),this.items=m,this._activeProjectionRefs=z,this._showAll=R,this.parameters=w||[]}return T.prototype.all=function(){return this.items},T.prototype.resetHiddenState=function(m){if(!_.isEmpty(this.items))for(var z=0,R=this.items;z<R.length;z++){var w=R[z];w.queryRef===m&&delete w.hidden}},T.prototype.toggleHidden=function(m){if(!_.isEmpty(this.items))for(var z=0,R=this.items;z<R.length;z++){var w=R[z];w.queryRef===m&&(w.hidden=!w.hidden)}},T.prototype.projected=function(){return _.isEmpty(this.items)?this.items:_.filter(this.items,function(m){return m&&!m.hidden})},T.prototype.addProjection=function(m,z){var R,w,B;z&&(R=z.fieldIndex,w=z.parameter,B=z.indexInParameter);var C=this.getProjectionIndex(R,w,B);this.fixUpParameterIndices(w,R,1),C>=this.items.length?this.items.push(m):this.items.splice(C,0,m)},T.prototype.removeProjection=function(m){var z,R,w;m&&(z=m.fieldIndex,R=m.parameter,w=m.indexInParameter),n.fF.assert(function(){return null!=z||null!=R&&null!=w},"When removing a projection we expect field index or the parameter options to be complete.");var B=this.getProjectionIndex(z,R,w);this.fixUpParameterIndices(R,z,-1),this.items.splice(B,1)},T.prototype.fixUpParameterIndices=function(m,z,R){for(var w=0,B=this.parameters;w<B.length;w++){var C=B[w];m?C.index===m.index&&(void 0===C.length&&(C.length=0),C.length+=R):null!=z&&C.index>=z&&(R>0?C.index>=z:C.index>z)&&(C.index+=R)}},T.prototype.moveFields=function(m,z,R){var w,C,d,u,B=this;if(0===this.parameters.length)C=m,d=R,u=z;else{if(n.fF.assert(function(){return m>=0&&m<B.getFieldCount()&&z>=0&&z<B.getFieldCount()},"Should use valid field indices"),n.fF.assert(function(){return m+R<=B.getFieldCount()},"Should not attempt to move more fields than exist in collection"),n.fF.assert(function(){return z+R<=B.getFieldCount()},"Moving projections should not change the length of collection"),R<=0||m===z)return[];C=this.convertFieldIndexToProjectionIndex(m);var M=this.indexOfLastProjectionInField(m+R-1);d=M-C+1,u=this.convertFieldIndexToProjectionIndex(z),z>m&&(u+=this.indexOfLastProjectionInField(z+R-1)-u+1-d);for(var Q=0,X=this.parameters;Q<X.length;Q++){var W=X[Q];W.index>=m&&W.index<=m+R-1?W.index=z+W.index-m:W.index>m&&W.index<=z+R-1?W.index-=R:W.index<m&&W.index>=z&&(W.index+=R)}if(M<C)return[]}var J=this.items.splice(C,d);return(w=this.items).splice.apply(w,(0,V.ev)([u,0],J||[],!1)),J},T.prototype.assignProjection=function(m,z){this.items[z]=m},T.prototype.updateQueryRef=function(m,z){this.items[m].queryRef=z},T.prototype.getQueryRefs=function(){return _.map(this.items,function(m){return m.queryRef})},T.prototype.getFieldParameters=function(){return this.parameters},T.prototype.addFieldParameter=function(m){for(var z=0,R=this.parameters;z<R.length;z++){var w=R[z];w.index>=m.index&&w.index++}this.parameters.push(m)},T.prototype.getColumnProjectionIndex=function(m){var z=this;return n.fF.assert(function(){return!_.find(z.parameters,function(R){return R.index===m})},"Should not be called on parameters"),this.convertFieldIndexToProjectionIndex(m)},T.prototype.getProjectionsByProjectionIndex=function(m){var z=this.convertProjectionIndexToFieldIndex(m),R=this.getParameterByFieldIndex(z);return R?this.getParameterProjections(R):[this.items[m]]},T.prototype.getProjectionsByFieldIndex=function(m){var z=this.getParameterByFieldIndex(m);if(z){var R=this.getParameterProjections(z),w=_.filter(R,function(d){return null!=d});return w.length!==R.length&&n.fF.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),w}var B=this.convertFieldIndexToProjectionIndex(m),C=this.items[B];return null==C?(n.fF.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),[]):[C]},T.prototype.convertProjectionIndexToFieldIndex=function(m){var z,R;if(_.isEmpty(this.parameters))return m;for(var w=0,B=0,d=0,u=_.sortBy(this.parameters,function(M){return M.index});d<u.length;d++){var y=u[d];if(w+m-B<y.index)break;if((B+=y.index-w-1)+(null!==(z=y.length)&&void 0!==z?z:0)>m)return y.index;w=y.index,B+=null!==(R=y.length)&&void 0!==R?R:0}return w+m-B},T.prototype.doesParameterExist=function(m){return _.some(this.parameters,function(z){return z.index===m})},T.prototype.getParameterProjectionIndex=function(m,z){var R=this;return n.fF.assert(function(){return m&&null!=z},"Parameter and indexInParameter should both be defined"),n.fF.assert(function(){return R.doesParameterExist(m.index)},"Parameter should exist for this projection"),this.convertFieldIndexToProjectionIndex(m.index)+z},T.prototype.getColumnProjection=function(m){if(!this.doesParameterExist(m))return this.items[this.getColumnProjectionIndex(m)]},T.prototype.getParameterProjections=function(m){if(!m||!m.length)return[];var z=this.convertFieldIndexToProjectionIndex(m.index);return this.items.slice(z,z+m.length)},T.prototype.removeFieldParameters=function(m){for(var z=function(y){var M=_.findIndex(R.parameters,function(W){return W.index===y.index&&(0,l.fS)(W.expr,y.expr)});if(M<0)return{value:!1};var L=R.parameters.splice(M,1)[0],O=L.index;n.fF.assert(function(){return 0===L.length||null==L.length},"there should be no projections for this removed parameter");for(var H=0,Q=R.parameters;H<Q.length;H++){var X=Q[H];X.index>O&&X.index--}},R=this,w=0,B=m;w<B.length;w++){var d=z(B[w]);if("object"==typeof d)return d.value}return!0},T.prototype.findParameterBySQExpr=function(m){return _.isEmpty(this.parameters)?[]:this.parameters.filter(function(z){return(0,l.fS)(z.expr,m)})},T.prototype.getParameterByFieldIndex=function(m){return _.find(this.parameters,function(z){return z.index===m})},Object.defineProperty(T.prototype,"activeProjectionRefs",{get:function(){return this._activeProjectionRefs},set:function(z){if(_.isEmpty(z))this._activeProjectionRefs=void 0;else{for(var R=this.items.map(function(d){return d.queryRef}),w=0,B=z;w<B.length;w++)if(!_.includes(R,B[w]))return;this._activeProjectionRefs=z}},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"showAll",{get:function(){return this._showAll},set:function(z){this._showAll=z},enumerable:!1,configurable:!0}),T.prototype.addActiveQueryReference=function(m){this._activeProjectionRefs?this._activeProjectionRefs.push(m):this._activeProjectionRefs=[m]},T.prototype.getLastActiveQueryReference=function(){if(!_.isEmpty(this._activeProjectionRefs))return this._activeProjectionRefs[this._activeProjectionRefs.length-1]},T.prototype.replaceQueryRef=function(m,z){var R=this;n.fF.assertValue(m,"oldQueryRef"),n.fF.assertValue(z,"newQueryRef"),n.fF.assert(function(){return m!==z},"oldQueryRef !== newQueryRef"),n.fF.assert(function(){return _.isEmpty(R._activeProjectionRefs)},"replaceQueryRef(...) is not supported on the QueryProjectionCollection of a drillable role");for(var w=0,B=this.items;w<B.length;w++){var C=B[w];C.queryRef===m&&(C.queryRef=z)}},T.prototype.clone=function(){return new T(_.cloneDeep(this.items),_.clone(this._activeProjectionRefs),this._showAll,_.map(this.parameters,function(m){return{expr:m.expr,index:m.index,length:m.length}}))},T.prototype.getProjectionIndex=function(m,z,R){var w,B;if(z){var C=null!==(w=z.length)&&void 0!==w?w:0;null!=R?(n.fF.assert(function(){return R<=C},"indexInParameter should not exceed the current length of the parameter's projections."),B=this.convertFieldIndexToProjectionIndex(z.index)+R):B=this.convertFieldIndexToProjectionIndex(z.index)+C}else B=null!=m?this.convertFieldIndexToProjectionIndex(m):this.items.length;return B},T.prototype.convertFieldIndexToProjectionIndex=function(m){return function(T,m){for(var z,R=_.filter(m,function(u){return u.index<T}),w=T,B=0,C=R;B<C.length;B++)w+=(null!==(z=C[B].length)&&void 0!==z?z:0)-1;return w}(m,this.parameters)},T.prototype.indexOfLastProjectionInField=function(m){var z=this.convertFieldIndexToProjectionIndex(m),R=_.find(this.parameters,function(w){return w.index===m});return R&&(z+=R.length-1),z},T.prototype.getFieldCount=function(){for(var m,z=this.items.length,R=0,w=this.parameters;R<w.length;R++)z-=(null!==(m=w[R].length)&&void 0!==m?m:0)-1;return z},T}();function Y(T,m){if(n.fF.assertAnyValue(T,"selects"),n.fF.assertAnyValue(m,"projectionActiveItems"),_.isEmpty(T))return{};for(var z={},R=0,w=T;R<w.length;R++){var B=w[R];if(B){var C=B.roles;if(C)for(var d in C)if(C[d]){var u=z[d];u||(u=z[d]=new F([])),u.addProjection({queryRef:B.queryName}),m&&m[d]&&(u.activeProjectionRefs=_.map(m[d],function(y){return y.queryRef}))}}}return z}function j(T,m){for(var z={},R=0,w=m.columns;R<w.length;R++){var B=w[R];if(!(!B.index&&0!==B.index||B.index<0||B.index>=T.length)){var C=T[B.index];if(C){var d=C.queryName;d&&void 0===z[d]&&(z[d]=B.isMeasure?g.DW.Measure:g.DW.Grouping)}}}return z}function I(T,m,z){if(n.fF.assertValue(T,"expr"),n.fF.assertAnyValue(m,"selectTransforms"),!m)return-1;var R;(0,c.NH)(T)&&(R=T.expressionName);for(var w=z||0,B=m.length;w<B;w++){var C=m[w];if(C&&(!R||C.queryName))if(R){if(C.queryName===R)return w}else if((0,l.fS)(C.expr,T))return w}return-1}(0,P.y)(F.prototype)},4758:function(ie,ve,v){v.d(ve,{Yv:function(){return Me},ni:function(){return pe}});var c=v(8955),l=v(3775),n=v(1598),g=v(6348),V=v(9291),P=v(2310),S=v(6269),h=v(720),D=v(2348),b=v(9292),N=v(3599),f=v(7605),F=v(2966),k=function(){function ae(te,oe){if(this.dataView=te,c.fF.assertValue(te,"dataView"),te){this.columnLeavesPath=(0,f.sx)(te.columns.root),this.hasColumnGrouping=(0,f.pr)(this.dataView.columns)>0,this.valueSourcesQueryNames=_.map(te.valueSources,function(Je){return Je.queryName}),this.scopedValueSourcesByLevel={},this.scopedValuesQueryNamesByLevel={};var Ce=te.rows.levels;if(c.fF.assertAnyValue(Ce,"A Matrix without Row groupings will not have a Row level"),!_.isEmpty(Ce))for(var he=0;he<Ce.length;he++){var Le=(0,f.vC)(Ce[he]);this.scopedValueSourcesByLevel[he]=Le,Le&&(this.scopedValuesQueryNamesByLevel[he]=_.map(Le,function(Je){return Je.queryName}))}}}return ae.prototype.setAsRowNode=function(te){c.fF.assertNonEmpty(te,"Invalid context: Empty rowPath"),this.rowPath=te,this.nodeValue=void 0,this.columnPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1},ae.prototype.setAsColumnNode=function(te){c.fF.assertNonEmpty(te,"Invalid context: Empty columnPath"),this.columnPath=te,this.nodeValue=void 0,this.rowPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1},ae.prototype.setAsIntersection=function(te,oe,Ce,he,Le){void 0===Le&&(Le=!1),c.fF.assertValue(te,"Invalid context: Undefined intersection"),c.fF.assertNonEmpty(oe,"Intersection context must have a rowPath"),c.fF.assertNonEmpty(Ce,"Intersection context must have a columnPath"),c.fF.assert(function(){return null!=he&&he>=0},"Intersection context must have a valid nodeValueIndex"),c.fF.assertAnyValue(Le,"By default, FALSE"),this.nodeValue=te,this.rowPath=oe,this.columnPath=Ce,this.nodeValueIndex=he,this.forHighlight=!!Le,this.isScopedValue=!1},ae.prototype.setAsScopedValue=function(te,oe,Ce,he){void 0===he&&(he=!1),c.fF.assertValue(te,"Invalid context: Undefined intersection"),c.fF.assertNonEmpty(oe,"Intersection context must have a rowPath"),c.fF.assertAnyValue(he,"By default, FALSE"),this.nodeValue=te,this.rowPath=oe,this.columnPath=void 0,this.nodeValueIndex=Ce,this.forHighlight=!!he,this.isScopedValue=!0,c.fF.assert(function(){return _.isEqual(_.keys(_.last(oe).nodeValues),["0"])},"Scoped Values are expected to be grouped by Rows only")},ae.prototype.getScopedEvalExprValue=function(te){var oe=te.decomposeGlobalAggregateOfScopedExpr();if(oe){var Ce=(0,F.T5)(oe.source,this.getContextValueSources());return Ce?(0,F._L)(Ce,oe.func):void 0}if(te.hasInnerMostScope())return this.getExprValue(te.expression);te.hasGlobalScope()?c.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):c.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},ae.prototype.getExprValue=function(te){return c.fF.assertValue(te,"matrixEvalContext - Undefined expr"),this.nodeValue?this.evaluateMatrixMeasure(te):this.rowPath?this.evaluateRowHeader(te):this.columnPath?this.evaluateColumnHeader(te):void c.fF.assertFail("getExprValue - context is empty")},ae.prototype.getExprColumn=function(te){return(0,F.T5)(te,this.getContextValueSources())},ae.prototype.findExprValueSourceIndex=function(te){var oe=this.getContextValueSources();if(c.fF.assertAnyValue(oe,"For ScopedValues, DataView may contain cached Data without Value Sources"),!oe)return-1;var Ce=(0,F.T5)(te,oe);return Ce?oe.indexOf(Ce):-1},ae.prototype.evaluateMatrixMeasure=function(te){c.fF.assertValue(this.rowPath,"matrixEvalContext.evaluateIntersection - Undefined this.rowNode"),c.fF.assertValue(this.isScopedValue||this.columnPath,"matrixEvalContext.evaluateIntersection - Undefined this.columnNode");var oe=this.nodeValue.valueSourceIndex||0,Ce=this.findExprValueSourceIndex(te);if(!(Ce<0)){var he;if(Ce===oe)he=this.nodeValue;else{var Le=Ce-oe+this.nodeValueIndex,Je=_.last(this.rowPath),ot=this.isScopedValue?(0,f.Lr)(Je):Je.values;if(!(he=null==ot?void 0:ot[Le]))return}return this.forHighlight?he.highlight:he.value}},ae.prototype.evaluateRowHeader=function(te){var oe=this;c.fF.assert(function(){return!oe.columnPath},"matrixEvalContext.evaluateRowHeader - context has columnNode"),c.fF.assert(function(){return!oe.nodeValue},"matrixEvalContext.evaluateRowHeader - context has value");var Ce=this.findExprValueSourceIndex(te);if(!(Ce<0)){var Le,he=_.last(this.rowPath);if(he&&(Le=this.shouldConsiderScopedValues(he.level)?(0,f.Lr)(he):he.values,c.fF.assertAnyValue(Le,"node.values or node.nodeValues may be undefined (e.g. for Synchronized Nodes) even if ValueSources exist"),Le))return Le[Ce].value}},ae.prototype.evaluateColumnHeader=function(te){var oe=this;c.fF.assert(function(){return!oe.rowPath},"matrixEvalContext.evaluateColumnHeader - context has rowNode"),c.fF.assert(function(){return!oe.nodeValue},"matrixEvalContext.evaluateColumnHeader - context has value"),c.fF.assertFail("matrixEvalContext.evaluateColumnHeader - only constant exprs are supported")},ae.prototype.getRoleValues=function(te){var oe=this;c.fF.assert(function(){return!oe.columnPath||!oe.nodeValue},"getRoleValues returns values for row groupings only"),c.fF.assert(function(){return!oe.isScopedValue},"getRoleValues is unimplemented for ScopedMeasures");var Ce=_.last(this.rowPath);if(Ce&&!Ce.isSubtotal){for(var he=this.dataView.valueSources,Le=[],Je=0,ot=he.length;Je<ot;Je++)(0,N.nu)(he[Je],te)&&Le.push(Ce.values[Je].value);if(Le.length>0)return Le}},ae.prototype.getDataView=function(){return this.dataView},ae.prototype.getValueSourcesQueryNames=function(){return this.valueSourcesQueryNames},ae.prototype.getScopedValueSourcesQueryNames=function(te){return this.scopedValuesQueryNamesByLevel[te]},ae.prototype.getContextValueSourcesQueryNames=function(){return this.isScopedValue?(c.fF.assertValue(this.nodeValue,"Checking for a Scoped Measure is only supported within a ScopedMeasure value"),this.scopedValuesQueryNamesByLevel[_.last(this.rowPath).level]):this.valueSourcesQueryNames},ae.prototype.getContextValueSources=function(){if(this.nodeValue)return c.fF.assertNonEmpty(this.rowPath,"Hierarchy Root doesn't have a scope"),this.isScopedValue?this.scopedValueSourcesByLevel[this.getRowLevelIndex()]:this.dataView.valueSources;if(this.rowPath){var te=this.getRowLevelIndex();return this.shouldConsiderScopedValues(te)?this.scopedValueSourcesByLevel[te]:this.dataView.valueSources}c.fF.assertFail(this.columnPath?"Only constant exprs are supported":"Context is empty")},ae.prototype.shouldConsiderScopedValues=function(te){return this.hasColumnGrouping||te<this.dataView.rows.levels.length-1},ae.prototype.getRowLevelIndex=function(){return c.fF.assertValue(this.rowPath,"this.rowPath"),_.last(this.rowPath).level},ae}(),Y=v(569);function G(ae){if(_.isEmpty(ae))return[];for(var te=[],oe=0,Ce=ae;oe<Ce.length;oe++){for(var Le=[],Je=0,ot=Ce[oe].sources;Je<ot.length;Je++){var bt=ot[Je];bt.identityExprs&&Le.push.apply(Le,bt.identityExprs||[])}_.isEmpty(Le)||te.push(Le)}return te}function I(ae,te){for(var oe=[],Ce=ae.length,he=0;he<Ce;he++)if(oe.push(ae[he]),te.matchesKeys(oe,Ce))return!0;return!1}function T(ae,te,oe,Ce,he,Le,Je,ot,bt){if(c.fF.assertAnyValue(Ce,"dataViewMatrixHierarchy"),c.fF.assertValue(he,"objectDescriptors"),c.fF.assertValue(Je,"selector"),c.fF.assertValue(Le,"objectDefns"),Ce){var Ft=Ce.root;if(Ft){var vt=m(ae,te,oe,[Ft],he,Le,Je,ot,bt);if(vt){var Mt=(0,l.qO)(Ce);return Mt.root=vt,Mt}}}}function m(ae,te,oe,Ce,he,Le,Je,ot,bt){c.fF.assertValue(te,"evalContext"),c.fF.assertValue(Ce,"nodePath"),c.fF.assertValue(he,"objectDescriptors"),c.fF.assertValue(Je,"selectorInfo"),c.fF.assertValue(Le,"objectDefns");var Ft=_.last(Ce);return(0,f.N9)(Ft)?"Rows"===ae&&(Je.canMatchScopedValue||Je.canMatchIntersection)?function(ae,te,oe,Ce,he,Le,Je,ot){c.fF.assertNonEmpty(oe,"evaluateDataRepetitionMatrixNodeValues - no row leaves"),c.fF.assert(function(){return Le.canMatchIntersection||Le.canMatchScopedValue},"Unexpected Selector");var bt=_.last(oe),Ft=(0,l.qO)(bt),vt=Le.canMatchScopedValue,Mt=Le.selector,xe=vt?(0,f.Lr)(bt):bt.values,Ee=vt?ae.getScopedValueSourcesQueryNames(bt.level)||[]:ae.getValueSourcesQueryNames(),Ze=vt?Ee.length:ae.columnLeavesPath.length;if(!_.isEmpty(xe)){xe=(0,l.qO)(xe);for(var be=!1,Ve=function(mt){var et=xe[mt];if(c.fF.assertAnyValue(et,"By-Design, ValueCollection can be sparse"),!et)return"continue";var Vt,ut=vt?void 0:ae.columnLeavesPath[mt];if(!function(ae,te,oe,Ce,he,Le){if(te!==ae.metadata)return!1;for(var Je=[],ot=[],bt=0,Ft=oe;bt<Ft.length;bt++)(vt=Ft[bt]).identity&&Je.push(vt.identity);if(!he){for(var Mt=0,xe=Ce;Mt<xe.length;Mt++){var vt;(vt=xe[Mt]).identity&&Je.push(vt.identity)}_.last(Ce).isSubtotal&&ot.push.apply(ot,B(Ce)||[])}return _.last(oe).isSubtotal&&ot.push.apply(ot,B(oe)||[]),_.isEmpty(ot)&&(ot=void 0),Le.matches(Je,ot)}(Le.selector,Ee[et.valueSourceIndex||0],oe,ut,vt,Le.selectorComparer))return"continue";ot&&(Vt={warnings:ot,selector:Mt,targetExpr:(0,g.AV)(Mt,te)});var Tt=function(Ht){vt?ae.setAsScopedValue(et,oe,mt,Ht):ae.setAsIntersection(et,oe,ut,mt,Ht);var Xt=(0,b.PJ)(Je,ae,Ce,he,Vt);if(Xt){var re=(0,l.qO)(et);Ht&&!re.highlightObjects?re.highlightObjects={}:!Ht&&!re.objects&&(re.objects={}),(0,D.PM)(Ht?re.highlightObjects:re.objects,Xt,Mt.id,Mt.order),be=!0,et=xe[mt]=re}},zt=void 0!==et.highlight;switch(Mt.highlightMatching){case void 0:case 0:Tt(!1);break;case 1:Tt(!1),zt&&Tt(!0);break;case 2:Tt(!!zt);break;default:c.fF.assertNever(Mt.highlightMatching)}},We=0;We<Ze;We++)Ve(We);if(be)return vt?Ft.nodeValues={0:xe}:Ft.values=xe,Ft}}(te,oe,Ce,he,Le,Je,ot,bt):void 0:function(ae,te,oe,Ce,he,Le,Je,ot,bt){var xe,Ft=Je.selector,vt=Je.selectorComparer,Mt=te.getDataView();Ce[0]===Mt.rows.root?xe=Mt.rows:Ce[0]===Mt.columns.root?xe=Mt.columns:c.fF.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");var Ee=_.last(Ce),Ze=Ee.children;c.fF.assertNonEmpty(Ze,"evaluateDataRepetitionMatrixNodeChildren - empty children list");var be=!1,Ve=!1,We=Ee.childIdentityFields,qe=[],mt=Ze[0].level;c.fF.assert(function(){return 0===mt||mt<xe.levels.length},"evaluateDataRepetitionMatrixNodeChildren: childLevel exceeding hierarchy levels");var et=Mt.valueSources.length>1&&xe===Mt.columns,ut=et&&mt===xe.levels.length-1;if(!_.isEmpty(xe.levels)){var ct=xe.levels[mt],Vt=ct.sources;if(ut){qe=te.getValueSourcesQueryNames();var Tt=_.compact(_.map(Ce,function(Dt){return Dt.identity})),zt=void 0;Ee.isSubtotal&&Ce.length>1&&(zt=Ce[Ce.length-2].childIdentityFields),be=null!=Je.selector.metadata&&_.some(qe,function(Dt){return Dt===Ft.metadata})&&vt.matches(Tt,zt),Ve=!1}else if(!_.isEmpty(We)){qe=_.map(Vt,function(Dt){return Dt.queryName});var Kt=_.map(Ce,function(Dt){return Dt.childIdentityFields});be=null==Ft.metadata&&vt.matchesKeys(Kt,xe.levels.length-(et?1:0));var Xt=(0,f.vC)(ct);c.fF.assert(function(){return!Xt||xe===Mt.rows},"Scoped measures on Column nodes are not supported"),Ve=Xt&&null!=Ft.metadata&&null!=_.find(Xt,function(Dt){return Dt.queryName===Ft.metadata}),c.fF.assert(function(){return!be||!Ve},"A Selector can't match nodes and Scoped measures")}}for(var re=!1,ge=C(Ee),Be=0,Ke=Ze.length;Be<Ke;Be++){var Ye=!1,it=Ze[Be],He=C(it),nt=Ce.concat(He),pt=!1;if(be||Ve){xe===Mt.rows?be&&te.setAsRowNode(nt):xe===Mt.columns?te.setAsColumnNode(nt):c.fF.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");for(var Bt=[],xt=0,yt=nt;xt<yt.length;xt++){var Pt=yt[xt];Pt.identity&&Bt.push(Pt.identity)}var Wt=void 0;_.isEmpty(qe)||(Wt=qe[it.levelSourceIndex||0]);var ur=void 0;if(it.isSubtotal&&(ut?Ce.length>1&&(ur=Ce[Ce.length-2].childIdentityFields):ur=We),(null==Ft.metadata||Ft.metadata===Wt&&!Je.isWildcard)&&vt.matches(Bt,ur)){pt=!0;var Qt=void 0;bt&&(Qt={warnings:bt,selector:Ft,targetExpr:(0,g.AV)(Ft,oe)});var hr=(0,b.PJ)(ot,te,he,Le,Qt);hr&&(Ye=!0,He.objects||(He.objects={}),(0,D.PM)(He.objects,hr,Ft.id,Ft.order))}}if(pt&&!Je.isWildcard||m(ae,te,oe,nt,he,Le,Je,ot,bt)&&(Ye=!0),Ye&&(re=!0,ge.children[Be]=He,!Je.containsWildcard))break}if(re)return ge}(ae,te,oe,Ce,he,Le,Je,ot,bt)}function B(ae){var te=_.findLast(ae,function(oe){return null!=oe.childIdentityFields});return te?te.childIdentityFields:[]}function C(ae){if(Object.getPrototypeOf(ae)!==Object.prototype)return ae;var te=(0,l.qO)(ae);return ae.children&&(te.children=(0,l.qO)(ae.children)),te}function y(ae,te){if(!ae||!te)return[];for(var oe=[],Ce=0,he=te.levels;Ce<he.length;Ce++){for(var Je=[],ot=0,bt=he[Ce].sources;ot<bt.length;ot++){var Ft=bt[ot];Ft.identityExprs&&(0,h.s)([Ft],ae)&&Je.push.apply(Je,Ft.identityExprs||[])}_.isEmpty(Je)||oe.push(Je)}return oe}var M=v(1313),L=v(3166),O=v(6420),H=v(8294),Q=v(4599),W=v(3188);function J(ae,te){return new ee(ae,te)}var ee=function(){function ae(te,oe){this.dataView=te,this.selectTransforms=oe,c.fF.assertValue(te,"dataView"),c.fF.assertValue(oe,"selectTransforms")}return ae.prototype.getExprColumn=function(te){return(0,F.T5)(te,this.dataView.columns)},ae.prototype.getScopedEvalExprValue=function(te){var oe=te.decomposeGlobalAggregateOfScopedExpr();if(oe){var Ce=(0,F.T5)(oe.source,this.dataView.columns);return Ce?(0,F._L)(Ce,oe.func):void 0}if(te.hasInnerMostScope())return this.getExprValue(te.expression);te.hasGlobalScope()?c.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):c.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},ae.prototype.getExprValue=function(te){c.fF.assertValue(te,"expr");var oe=this.row;if(null!=oe)return(0,Q.vR)(te,this.selectTransforms,this.dataView.columns,oe)},ae.prototype.getRoleValues=function(te){},ae.prototype.setCurrentRow=function(te){c.fF.assertValue(te,"row"),this.row=te},ae}();function Ne(ae,te,oe,Ce,he,Le,Je,ot,bt,Ft,vt,Mt,xe){if(c.fF.assertValue(ae,"evalContext"),c.fF.assertValue(oe,"columns"),c.fF.assertValue(Ce,"rows"),c.fF.assertAnyValue(he,"identities"),c.fF.assertAnyValue(Le,"identityFields"),c.fF.assertValue(Je,"objectDescriptors"),c.fF.assertValue(ot,"selector"),c.fF.assertValue(Ft,"objectDefns"),ot.metadata&&!_.isEmpty(ot.data)){var Ee=_.findIndex(oe,function(Tt){return Tt.queryName===ot.metadata});if(!(Ee<0)&&vt.matchesKeys([Le],1)){var Ze;if(_.every(oe,function(Tt){return Tt.isMeasure})){c.fF.assert(function(){return _.isEmpty(he)},"table identity mismatch with identityFields"),c.fF.assert(function(){return _.isEmpty(Le)},"table identity mismatch with identityFields"),c.fF.assert(function(){return 1===Ce.length},"table without identity has incorrect row count");var be=we(ae,te,oe,Ce[0],Le,Je,ot,Ft,vt,Mt,xe);be&&((Ze=(0,l.qO)(Ce))[0]=be)}else{if(_.some(ot.data,function(Tt){return(0,g.qm)(Tt)&&2===Tt.matchingOption}))return;c.fF.assert(function(){return Ce.length===he.length},"row length mismatch");for(var Ve=oe.length,We=0,qe=he.length;We<qe;We++)if(bt||vt.matches([he[We]])){ae.setCurrentRow(Ce[We]);var et=void 0;xe&&(et={warnings:xe,selector:ot,targetExpr:(0,g.AV)(ot,te)});var ut=(0,b.PJ)(Mt,ae,Je,Ft,et);if(ut){Ze||(Ze=(0,l.qO)(Ce));var ct=Ze[We]=(0,l.qO)(Ze[We]),Vt=ct.objects;Vt||(ct.objects=Vt=new Array(Ve)),Vt[Ee]||(Vt[Ee]={}),(0,D.PM)(Vt[Ee],ut,ot.id,ot.order)}if(!bt)break}}return Ze}}}function Ae(ae,te){return(0,g._Q)(te)&&(te=(0,h.w)(te,function(oe){return function(ae,te){if(!ae)return[];for(var oe=[],Ce=0,he=te.columns;Ce<he.length;Ce++){var Le=he[Ce];Le.identityExprs&&(0,h.s)([Le],ae)&&oe.push((0,W.ev)([],Le.identityExprs||[],!0))}return oe}(oe,ae)})),te}function we(ae,te,oe,Ce,he,Le,Je,ot,bt,Ft,vt){c.fF.assertValue(ae,"evalContext"),c.fF.assertValue(oe,"columns"),c.fF.assertValue(Ce,"row"),c.fF.assertValue(Le,"objectDescriptors"),c.fF.assertValue(Je,"selector"),c.fF.assertValue(ot,"objectDefns");var Mt=_.isEmpty(he)?void 0:he;if(Je.metadata&&bt.matches([],Mt)){var xe=_.findIndex(oe,function(qe){return qe.queryName===Je.metadata});if(!(xe<0)){var Ze,be,Ee=oe.length;ae.setCurrentRow(Ce),vt&&(be={warnings:vt,selector:Je,targetExpr:(0,g.AV)(Je,te)});var Ve=(0,b.PJ)(Ft,ae,Le,ot,be);if(Ve){var We=(Ze=(0,l.qO)(Ce)).objects;We||(Ze.objects=We=new Array(Ee)),We[xe]||(We[xe]={}),(0,D.PM)(We[xe],Ve)}return Ze}}}var Pe=v(910),Xe=function(ae){function te(oe,Ce){var he=this;return c.fF.assertValue(oe,"inputRole"),c.fF.assertValue(Ce,"allocator"),(he=ae.call(this)||this).inputRole=oe,he.allocator=Ce,he}return(0,W.ZT)(te,ae),te.prototype.evaluate=function(oe){c.fF.assertValue(oe,"evalContext");var Ce=oe.getRoleValues(this.inputRole);c.fF.assert(function(){return _.size(Ce)<=1},"Color Rule Evaluation can run with only one value");var he=_.head(Ce);if(void 0!==he)return this.allocator.color(he)},te}(v(4967).t);function Me(ae,te,oe){void 0===ae&&(ae=[]);var Ce=ae;return(0,S.PO)(Ce),te&&(Ce.identityFields=te),oe&&(Ce.source=oe),Ce}function pe(ae,te,oe,Ce,he,Le,Je,ot,bt){if(c.fF.assertValue(ae,"dataView"),c.fF.assertValue(te,"targetDataViewKinds"),c.fF.assertAnyValue(oe,"objectDescriptors"),c.fF.assertAnyValue(Ce,"objectDefinitions"),c.fF.assertAnyValue(he,"selectTransforms"),oe){var Ft=function(ae,te,oe,Ce){var he;c.fF.assertValue(ae,"dataView"),c.fF.assertValue(te,"objectDescriptors"),c.fF.assertAnyValue(oe,"prototype");var Le=(0,L.$v)(te);if(Le&&ae.metadata&&!_.isEmpty(ae.metadata.columns)){for(var ot,Je=!1,bt=0,Ft=ae.metadata.columns;bt<Ft.length;bt++){var vt=Ft[bt],Mt=vt.queryName;if(vt.formatSource&&(null===(he=null==vt?void 0:vt.aggregates)||void 0===he||!he.single)){Je||(ot=oe?(0,l.qO)(oe):{},Je=!0);var xe={metadata:vt.queryName,data:[Pe.Ue()],highlightMatching:1},Ee=(0,V.xA)(Mt,0);if((0,M.sO)(ot,Le,xe,Ee),null!=Ce&&Ce.cardReferenceLabels&&vt.relatedObjects)for(var Ze=0,be=Object.keys(vt.relatedObjects);Ze<be.length;Ze++)for(var Ve=be[Ze],We=vt.relatedObjects[Ve],qe=0,mt=Object.keys(We);qe<mt.length;qe++){var et=mt[qe],ut=(0,L.VM)(te,{objectName:Ve,propertyName:et});if(null!=ut&&ut.formatStringProperty)for(var ct=0,Vt=We[et];ct<Vt.length;ct++)(0,M.sO)(ot,ut.formatStringProperty,Vt[ct],Ee)}}}return ot}}(ae,oe,Ce,Je);Ft&&(Ce=Ft);var vt=(0,b.Me)(Ce);(0,b.UQ)(vt,oe,ae.metadata.columns,he);var Mt=vt.metadataOnce,xe=vt.data;Mt&&function(ae,te,oe,Ce,he,Le,Je,ot,bt){var Ft;c.fF.assertValue(ae,"dataView"),c.fF.assertAnyValue(te,"selectTransforms"),c.fF.assertValue(oe,"objectDescriptors"),c.fF.assertValue(Ce,"objectDefnsForSelector"),c.fF.assertValue(he,"dataObjects"),c.fF.assertValue(Le,"targetDataViewKinds");for(var vt=new O.Q(ot,Je),Mt=0,xe=Ce;Mt<xe.length;Mt++){var Ee=xe[Mt],Ze=Ee.selector&&Ee.selector.id,be=null===(Ft=Ee.selector)||void 0===Ft?void 0:Ft.order,Ve=Ee.objects;c.fF.assertValue(!_.isEmpty(Ve),"objectDefns");var We=(0,Q._x)(ae,te),qe=void 0;bt&&(qe={warnings:bt,selector:Ee.selector,targetExpr:(0,g.AV)(Ee.selector,te)});var mt=(0,b.PJ)(vt,We,oe,Ve,qe);if(mt){var et=ae.metadata.objects;for(var ut in et||(et=ae.metadata.objects={}),(0,D.PM)(et,mt,Ze,be),mt){var ct=mt[ut],Vt=oe[ut];for(var Tt in ct){var zt=Vt.properties[Tt],Kt=zt.rule;if(Kt){var Ht=rt(ae,Kt,ut,ct[Tt],zt.type);_.isEmpty(Ht)||he.push.apply(he,Ht||[])}}}}}}(ae,he,oe,Mt,xe,te,Le,Je,ot);var Ee=vt.metadata;_.isEmpty(Ee)||function(ae,te,oe,Ce,he,Le,Je){c.fF.assertValue(ae,"dataView"),c.fF.assertAnyValue(te,"selectTransforms"),c.fF.assertValue(oe,"objectDescriptors"),c.fF.assertValue(Ce,"objectDefnsForSelector");for(var ot=new O.Q(Le,he),bt=0,Ft=Ce;bt<Ft.length;bt++){var vt=Ft[bt],Mt=vt.selector,xe=vt.objects;c.fF.assertValue(Mt,"selector"),c.fF.assertValue(xe,"objectDefns");for(var Ee=ae.metadata.columns,Ze=Mt.metadata,be=(0,Q._x)(ae,te),Ve=0,We=Ee.length;Ve<We;Ve++){var qe=Ee[Ve];if(qe.queryName===Ze){var mt=void 0;Je&&(mt={warnings:Je,selector:Mt,targetExpr:(0,g.AV)(Mt,te)});var et=(0,b.PJ)(ot,be,oe,xe,mt);et&&(qe.objects||(qe.objects={}),(0,D.PM)(qe.objects,et,Mt.id,Mt.order))}}}}(ae,he,oe,Ee,Le,Je,ot),_.isEmpty(xe)||function(ae,te,oe,Ce,he,Le,Je,ot,bt){c.fF.assertValue(ae,"dataView"),c.fF.assertValue(te,"targetDataViewKinds"),c.fF.assertAnyValue(oe,"selectTransforms"),c.fF.assertValue(Ce,"objectDescriptors"),c.fF.assertValue(he,"dataViewObjectDefnsForSelector"),c.fF.assertValue(Le,"DataViewTransform.evaluateDataRepetition - visualStyle");var Ft=new O.Q(ot,Le);ae.categorical&&(0,n.yE)(te,1)&&(0,S.KH)(ae.categorical,oe,Ce,he,Je,Ft,bt&&{warnings:bt},ot);var Mt=ae.matrix;if(Mt&&(0,n.yE)(te,2)){var xe=function(ae,te,oe,Ce,he,Le,Je,ot){c.fF.assertValue(ae,"dataViewMatrix"),c.fF.assertValue(oe,"objectDescriptors"),c.fF.assertValue(Ce,"objectDefnsForSelector");var bt=ae.valueSources,Ft=bt.length,vt=function(ae,te){return new k(ae,te)}(ae,Le),Mt=ae.rows.levels;c.fF.assertAnyValue(Mt,"A Matrix with no Row groupings has empty Row levels");var xe=G(Mt),Ee=G(ae.columns.levels),Ze=[];Ze.push.apply(Ze,xe||[]),Ze.push.apply(Ze,Ee||[]);for(var be=!1,Ve=(0,l.qO)(ae),We=function(ct){c.fF.assertValue(ct.selector,"selector"),c.fF.assertAnyValue(ct.rules,"rules");var Vt=ct.objects;c.fF.assertValue(Vt,"objectDefns");var Tt=function(ae,te){return(0,g._Q)(te)&&(te=(0,h.w)(te,function(oe){return function(ae,te){if(te){var oe=[];return oe.push.apply(oe,y(ae,te.rows)||[]),oe.push.apply(oe,y(ae,te.columns)||[]),oe}}(oe,ae)})),te}(ae,ct.selector),zt=(0,Y.U)(Tt,he),Kt=(0,g.GT)(Tt),Ht=(0,g.N6)(Tt),Xt=null==Tt.metadata&&I(xe,zt),re=function(ae,te,oe,Ce){if(c.fF.assertAnyValue(ae,"A Matrix with no Row groupings has empty Row levels and can't hold ScopedValues"),_.isEmpty(ae)||(c.fF.assertValue(oe,"selectorComparer"),c.fF.assertAnyValue(Ce,"selectorMetadata"),c.fF.assert(function(){return ae.length===te.length},"levels identity keys mismatch"),!Ce))return!1;for(var he=0;he<ae.length;he++)if(oe.matchesKeys(_.take(te,he+1),he+1)){var Le=(0,f.vC)(ae[he]);if(!_.isEmpty(Le)&&_.find(Le,function(Je){return Je.queryName===Ce}))return!0}return!1}(Mt,xe,zt,Tt.metadata),ge=(Ft>1||Ft<=1&&null==Tt.metadata)&&I(Ee,zt),Be=null!=Tt.metadata&&Ft>0&&_.some(bt,function(He){return He.queryName===Tt.metadata})&&zt.matchesKeys(Ze,Ze.length),Ke={selector:Tt,selectorComparer:zt,containsWildcard:Kt,isWildcard:Ht,canMatchColumnNode:ge,canMatchRowNode:Xt,canMatchIntersection:Be,canMatchScopedValue:re},Ye=void 0,it=void 0;ge&&(it=T("Columns",vt,te,Ve.columns,oe,Vt,Ke,Je,ot)),(Be||re||Xt)&&(Ye=T("Rows",vt,te,Ve.rows,oe,Vt,Ke,Je,ot)),(Ye||it)&&(be=!0,Ye&&(Ve.rows=Ye),it&&(Ve.columns=it))},qe=0,mt=Ce;qe<mt.length;qe++)We(mt[qe]);if(be)return Ve}(Mt,oe,Ce,he,Je,ot,Ft,bt);xe&&(ae.matrix=xe)}var Ee=ae.table;if(Ee&&(0,n.yE)(te,8)){var Ze=function(ae,te,oe,Ce,he,Le,Je){c.fF.assertValue(ae,"dataViewTable"),c.fF.assertAnyValue(te,"selectTransforms"),c.fF.assertValue(oe,"objectDescriptors"),c.fF.assertValue(Ce,"objectDefnsForSelector");for(var ot=!1,bt=0,Ft=Ce;bt<Ft.length;bt++){var vt=Ft[bt],Mt=vt.selector,xe=vt.objects;c.fF.assertValue(Mt,"selector"),c.fF.assertValue(xe,"objectDefns");var Ee=(0,g.GT)(Mt);Mt=Ae(ae,Mt);var Ze=(0,Y.U)(Mt,he),be=J(ae,te),Ve=void 0;_.isEmpty(ae.rows)||(Ve=Ne(be,te,ae.columns,ae.rows,ae.identity,ae.identityFields,oe,Mt,Ee,xe,Ze,Le,Je));var We=void 0;ae.totals&&(We=we(be,te,ae.columns,ae.totals,ae.identityFields,oe,Mt,xe,Ze,Le,Je)),(Ve||We)&&(ot=!0,ae=(0,l.qO)(ae),Ve&&(ae.rows=Ve),We&&(ae.totals=We))}if(ot)return ae}(Ee,oe,Ce,he,Je,Ft,bt);Ze&&(ae.table=Ze)}var be=ae.single;if(c.fF.assert(function(){return!be||!!be&&!!Ee},"DataViewTable should be always present with DataViewSingle"),be&&Ee&&(0,n.yE)(te,4)){var Ve=function(ae,te,oe,Ce,he,Le,Je){c.fF.assertValue(ae,"dataView"),c.fF.assertAnyValue(te,"selectTransforms"),c.fF.assertValue(oe,"objectDescriptors"),c.fF.assertValue(Ce,"objectDefnsForSelector");for(var ot,bt=(0,Q._x)(ae,te),Ft=0,vt=Ce;Ft<vt.length;Ft++){var Mt=vt[Ft],xe=Mt.selector,Ee=Mt.objects,Ze=(0,Y.U)(xe,he);if(c.fF.assertValue(xe,"selector"),c.fF.assertValue(Ee,"objectDefns"),xe.metadata===ae.single.column.queryName&&Ze.matches([])){var be=void 0;Je&&(be={warnings:Je,selector:xe,targetExpr:(0,g.AV)(xe,te)});var Ve=(0,b.PJ)(Le,bt,oe,Ee,be);Ve&&(ot||(ot=(0,l.qO)(ae.single)),ot.objects||(ot.objects={}),(0,D.PM)(ot.objects,Ve,xe.id,xe.order))}}return ot}(ae,oe,Ce,he,Je,Ft,bt);Ve&&(ae.single=Ve)}ae.metadata.objectsRules=Ft.getObjectsRules()}(ae,te,he,oe,xe,Le,bt,Je,ot)}}function rt(ae,te,oe,Ce,he){c.fF.assertValue(ae,"dataView"),c.fF.assertValue(te,"ruleDesc"),c.fF.assertValue(Ce,"propertyValue"),c.fF.assertValue(he,"ruleType");var Le=te.output;if(Le){var Je=function(ae){return c.fF.assertValue(ae,"selectorRoles"),[{data:[(0,H.Yp)(ae)]}]}(Le.selector);if(he.fillRule)return function(ae,te,oe,Ce,he){c.fF.assertValue(ae,"dataView"),c.fF.assertValue(te,"ruleDesc"),c.fF.assertValue(oe,"selectorsToCreate"),c.fF.assertValue(he,"propertyValue");var Le=function(ae,te,oe){c.fF.assertValue(ae,"dataView"),c.fF.assertValue(te,"identifier"),c.fF.assertValue(1,"identifierKind");var Ce=ae.metadata.columns;return _.find(Ce,function(he){return he.roles&&he.roles[te]})}(ae,te.inputRole);if(Le){var Je=(0,P.V)().fromFillRule(he,Le);if(Je){var ot=new Xe(te.inputRole,Je),bt={};bt[te.output.property]={solid:{color:ot}};for(var Ft=[],vt=0,Mt=oe.length;vt<Mt;vt++)Ft.push({selector:oe[vt],rules:[ot],objects:[{name:Ce,properties:bt}]});return Ft}}}(ae,te,Je,oe,Ce)}}},910:function(ie,ve,v){v.d(ve,{Ue:function(){return P},fS:function(){return g},wB:function(){return V}});var c=v(8955),l=v(4216),n=v(9613);function g(h,D){return!h&&!D||!(!h||!D)&&(c.fF.assertValue(h,"x"),c.fF.assertValue(D,"y"),h===D||h.matchingOption===D.matchingOption)}function V(h,D){switch(c.fF.assertValue(h,"DataViewWildcard.matches - wildcard"),h.matchingOption){case 0:return!0;case 1:return!D;case 2:return D;default:c.fF.assertFail("DataViewWildcard.matches - Unsupported matchingOption")}}function P(h){return null==h&&(h=0),new S(h)}var S=function(){function h(D){var b=this;this.kind=4,c.fF.assertValue(D,"matchingOption"),this._matchingOption=D,this._key=new l.o(function(){return JSON.stringify(b._matchingOption)})}return Object.defineProperty(h.prototype,"matchingOption",{get:function(){return this._matchingOption},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),h}();(0,n.y)(S.prototype)},1458:function(ie,ve,v){function c(){var l=function(g){};return{getExprValue:l,getExprColumn:l,getScopedEvalExprValue:l,getRoleValues:l}}v.d(ve,{X:function(){return c}})},4967:function(ie,ve,v){v.d(ve,{t:function(){return l}});var c=v(8955),l=function(){function n(){}return n.prototype.evaluate=function(g){c.fF.assertFail("Abstract method RuleEvaluation.evaluate not implemented.")},n}()},4599:function(ie,ve,v){v.d(ve,{_x:function(){return V},vR:function(){return S}});var c=v(130),l=v(8955),n=v(8301),g=v(2966);function V(N,f){return new P(N,f)}var P=function(){function N(f,F){this.dataView=f,this.selectTransforms=F,l.fF.assertValue(f,"dataView"),l.fF.assertAnyValue(F,"selectTransforms")}return N.prototype.getExprColumn=function(f){var F=(0,n.ij)(f,this.selectTransforms);if(!(F<0))return _.find(this.dataView.metadata.columns,function(A){return A.index===F})},N.prototype.getScopedEvalExprValue=function(f){var F=f.decomposeGlobalAggregateOfScopedExpr();if(F){var A=(0,g.T5)(F.source,this.dataView.metadata.columns);return A?(0,g._L)(A,F.func):void 0}if(f.hasGlobalScope())return this.getExprValue(f.expression);f.hasInnerMostScope()?l.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):l.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},N.prototype.getExprValue=function(f){var F=this.dataView,A=this.selectTransforms;if(F&&A){if((0,c.iV)(f)||(0,c.T5)(f)||(0,c.kb)(f)||(0,c.cY)(f)){var k=function(N,f,F){l.fF.assertValue(N,"expr"),l.fF.assertValue(f,"selectTransforms"),l.fF.assertValue(F,"columns");var A,k=-1;do{if((k=(0,n.ij)(N,f,k+1))<0)break;if(A=_.find(F,function(j){return j.index===k&&j.aggregates&&void 0!==j.aggregates.single}))return A.aggregates.single}while(k<f.length);if((0,c.iV)(N)||(0,c.T5)(N)){var Y=N.arg;if((0,c.g5)(Y)&&Y.hasInnerMostScope()?k=(0,n.ij)(Y.expression,f):((0,c.NH)(Y)||(0,c.kb)(Y)||(0,c.iV)(Y)||(0,c.jk)(Y))&&(k=(0,n.ij)(Y,f)),!(k<0)&&(A=_.find(F,function(j){return j.index===k&&j.aggregates})))return function(N,f){var F,A;if(l.fF.assertValue(N,"aggregates"),l.fF.assertValue(f,"expr"),(0,c.T5)(f)){var k=_.find(N.percentiles,function(Y){return Y.k===f.k&&f.exclusive===!!Y.exclusive});if(k)return k.value}else if((0,c.iV)(f))switch(l.fF.assertValue(f.func,"func"),f.func){case 3:return null!==(F=N.min)&&void 0!==F?F:N.minLocal;case 4:return null!==(A=N.max)&&void 0!==A?A:N.maxLocal;case 6:return N.median;case 1:return N.average}l.fF.assertFail("Only Percentile, Min, Max, Median, Average are supported as Aggregate of Aggregates")}(A.aggregates,N)}}(f,A,F.metadata.columns);if(void 0!==k)return k}if(F.table)return _.isEmpty(F.table.columns)||_.isEmpty(F.table.rows)||!_.isEmpty(F.table.identityFields)?void 0:(l.fF.assert(function(){return 1===F.table.rows.length},"A data view with no identity fields should have a single row"),S(f,A,F.table.columns,F.table.rows[0]));if(F.categorical&&!_.isEmpty(F.metadata.columns)&&!_.isEmpty(F.categorical.values))return function(N,f,F){l.fF.assertValue(N,"expr"),l.fF.assertValue(f,"selectTransforms"),l.fF.assertValue(F,"categorical");var A=F.values;if(l.fF.assertValue(A,"categorical.values"),1===A.grouped().length&&!F.categories){var k=(0,n.ij)(N,f);if(!(k<0)){var Y=_.findIndex(A,function(G){return G.source.index===k});if(-1!==Y){var j=A[Y].values;if(j&&1===j.length)return j[0]}}}}(f,A,F.categorical);F.matrix||F.tree||l.fF.assert(function(){return _.isEqual(Object.getOwnPropertyNames(F),["metadata"])},"staticEvalContext.getExprValue received a dataView that is not currently supported (only table and categorical are implemented)")}},N.prototype.getRoleValues=function(f){},N}();function S(N,f,F,A){if(l.fF.assertValue(N,"expr"),l.fF.assertValue(f,"selectTransforms"),l.fF.assertNonEmpty(F,"tableColumns"),l.fF.assertValue(A,"tableRow"),1===A.length&&null===A[0])return null;var k=(0,n.ij)(N,f);if(!(k<0)){var Y=_.findIndex(F,function(I){return I.index===k});if(!(Y<0)){if((0,c.NH)(N)&&0===N.attributeKind){var j=F[Y];if((Y=F.indexOf(j.formatSource&&j.formatSource.formatString))<0)return}return l.fF.assert(function(){return Y in A},"Cannot get expr value from table row. Row values don't contain an element for the matching data column"),A[Y]}}}},569:function(ie,ve,v){v.d(ve,{U:function(){return b}});var c=v(9380),l=v(2490),n=v(8955),g=v(6348),V=v(5353),P=v(2303),S=v(6633),h=v(549),D=v(910);function b(F,A){return A?new N(F):new f(F)}var N=function(){function F(A){var k;if(n.fF.assertValue(A,"selector"),n.fF.assertValue(A.data,"selector.data"),this.dataParts=A.data,(0,g.N6)(A))this.isWildcard=!0;else{var Y=_.last(A.data);this.totalIdentity=(0,g.tQ)(Y)?Y:null,this.totalIdentity&&(this.dataParts=this.dataParts.slice(0,A.data.length-1)),this.selectorDataExprs=F.flattenDataParts(this.dataParts),this.keys=_.map(this.selectorDataExprs,function(j){return j.key}),this.totalIdentity&&(k=this.keys).push.apply(k,this.totalIdentity.exprs||[])}}return F.prototype.matches=function(A,k){if(this.isWildcard)return(0,D.wB)(this.dataParts[0],!_.isEmpty(k));if(A.length!==this.dataParts.length||_.isEmpty(k)&&this.totalIdentity||!_.isEmpty(k)&&!this.totalIdentity||this.totalIdentity&&!(0,l.s_)(this.totalIdentity.exprs,k,c.fS))return!1;if(_.isEmpty(A)&&_.isEmpty(this.dataParts))return!0;var Y=F.flattenDataParts(A);return!_.isEmpty(Y)&&(0,l.s_)(this.selectorDataExprs,Y,F.isDataExprsMatch)},F.prototype.matchesKeys=function(A,k){if(this.isWildcard)return A.length===k;var Y=_.flatten(A);return 0!==this.keys.length&&0!==Y.length&&this.keys.length===Y.length&&(0,l.s_)(Y,this.keys,c.fS)},F.flattenDataParts=function(A){for(var k=[],Y=0,j=A;Y<j.length;Y++){var G=j[Y];if((0,g.yN)(G)){var I=new V.aL;G.expr.accept(I);for(var E=0;E<I.pairs.length;E++)k.push({value:I.values[E],key:I.keys[E]})}else if((0,g.QV)(G))for(var T=0,m=G.exprs;T<m.length;T++)k.push({key:m[T]});else{if(!(0,g.tQ)(G))return n.fF.assertFail("unexpected Selector data item kind: "+G.kind.toString()),[];n.fF.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements")}}return k},F.isDataExprsMatch=function(A,k){return n.fF.assert(function(){return null!=A.value||null!=k.value},"isDataExprsMatch cant have two dataExprs with values not defined. It means they are both wildcards."),A.value&&k.value?(0,c.fS)(A.key,k.key)&&(0,c.fS)(A.value,k.value):(0,c.fS)(A.key,k.key)},F}(),f=function(){function F(A){var k;if(this.selector=A,n.fF.assertValue(this.selector,"selector"),n.fF.assertValue(this.selector.data,"selector.data"),this.isWildcard=(0,g.N6)(this.selector),this.dataParts=this.selector.data,this.keys=[],!this.isWildcard)for(var Y=0,j=this.dataParts;Y<j.length;Y++){var I=F.getDataRepetitionIdentityKeys(j[Y]);if(!I){this.keys=[];break}(k=this.keys).push.apply(k,I)}}return F.prototype.matches=function(A,k){n.fF.assertValue(A,"identities");var Y=this.dataParts,j=Y.length,G=A.length,I=!_.isEmpty(k);if(I&&G++,this.isWildcard)return(0,D.wB)(Y[0],I);if(j!==G)return!1;for(var E=0,T=A.length;E<T;E++){var z=A[E];if((0,g.j9)(m=Y[E]))return n.fF.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"),!1;if((0,g.yN)(m)){if(!(0,P.fS)(m,z))return!1}else{if(!(0,g.QV)(m))return(0,g.tQ)(m)?(_.isEmpty(k)||n.fF.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements"),!1):(n.fF.assertFail("unexpected Selector data item kind: "+m.kind.toString()),!1);if(!(0,h.wB)(m,z))return!1}}if(!_.isEmpty(k)){var m=_.last(Y);return(0,g.tQ)(m)&&(0,S.wB)(m,k)}return!0},F.prototype.matchesKeys=function(A,k){if(n.fF.assertValue(A,"keysList"),n.fF.assert(function(){return A.length<=k},"expected keysList to be within the hierarchy levels"),this.isWildcard)return A.length===k;var Y=_.flatten(A),j=this.keys.length;if(0===j||0===Y.length||j!==Y.length)return!1;for(var G=0;G<j;G++)if(!(0,c.fS)(Y[G],this.keys[G]))return!1;return!0},F.getDataRepetitionIdentityKeys=function(A){return(0,g.yN)(A)?(0,V.RR)(A.expr):(0,g.QV)(A)||(0,g.tQ)(A)?A.exprs:void((0,g.j9)(A)?n.fF.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"):(0,g.qm)(A)?n.fF.assertFail("Selector.matchesData: Wildcard should match anything without identity check"):n.fF.assertNever(A))},F}()},2605:function(ie,ve,v){v.d(ve,{Ed:function(){return V},OC:function(){return n},gp:function(){return g}});var c=v(8955),l=v(3775);function n(P){return c.fF.assertValue(P,"categories"),!_.isEmpty(P)&&P[0].objects}function g(P,S){if(c.fF.assertValue(P,"prototypeCategories"),c.fF.assertValue(S,"objects"),!_.isEmpty(P)){var h=(0,l.qO)(P);return(h[0]=(0,l.qO)(h[0])).objects=S,h}}function V(P){c.fF.assertValue(P,"dataViewCategorical");var S=_.isEmpty(P.categories)?_.isEmpty(P.values)?0:P.values[0].values.length:P.categories[0].values.length;return c.fF.assert(function(){return _.every(P.categories,function(h){return h.values.length===S})},"Invariant: every category column is expected to have the same number of values."),c.fF.assert(function(){return _.every(P.categories,function(h){return h.identity.length===S})},"Invariant: every category column is expected to have the same number of identities as there are values."),c.fF.assert(function(){return _.every(P.values,function(h){return h.values.length===S})},"Invariant: every value column is expected to have the same number of values."),S}},7605:function(ie,ve,v){v.d(ve,{CF:function(){return N},GJ:function(){return f},Lr:function(){return T},Lt:function(){return Y},N9:function(){return g},Ro:function(){return j},X2:function(){return D},be:function(){return A},no:function(){return b},pr:function(){return k},sx:function(){return I},vC:function(){return E},w1:function(){return V},y9:function(){return S}});var c=v(2490),l=v(8955),n=v(3775);function g(m){return l.fF.assertValue(m,"node"),_.isEmpty(m.children)}function V(m,z){if(l.fF.assertAnyValue(m,"rootNodes"),l.fF.assertValue(z,"callback"),m)if(function(m){return(0,c.rd)(m)}(m))for(var R=0,w=m;R<w.length;R++){var B=w[R];B&&P(B,[],z)}else P(m,[],z)}function P(m,z,R){l.fF.assertValue(m,"matrixNode"),l.fF.assertValue(z,"traversalPath"),l.fF.assertValue(R,"callback"),l.fF.assert(function(){return!_.includes(z,m)},"pre-condition: traversalPath must not already contain matrixNode"),z.push(m);var w=R(m,z),B=null!=w&&0!==w;if(1===w){var C=m.children;if(!_.isEmpty(C))for(var d=0,u=C;d<u.length;d++){var y=u[d];if(y&&!(B=P(y,z,R)))break}}return l.fF.assert(function(){return _.last(z)===m},"pre-condition: the callback given to forEachNodeDepthFirst() is not supposed to modify the traversalPath argument array."),z.pop(),B}function S(m,z){l.fF.assertAnyValue(m,"rootNodes"),l.fF.assertValue(z,"callback");var R=0;V(m,function(w,B){return g(w)&&(z(w,R,B),R++),1})}function D(m,z,R){if(l.fF.assertValue(m,"node"),l.fF.assert(function(){return z>=0},"targetLevel >= 0"),l.fF.assertValue(R,"callback"),m.level!==z){var w=m.children;if(w&&w.length>0)for(var B=0,C=w.length;B<C;B++)D(w[B],z,R)}else R(m)}function b(m,z,R){l.fF.assertValue(m,"node"),l.fF.assert(function(){return z>=0},"deepestLevelToInherit >= 0"),l.fF.assertValue(R,"useInheritSingle");var w=m,B=void 0===m.level;if(B||m.level<=z){var d=R?n.qO:n.ED,u=d(m);if((B||m.level<z)&&!_.isEmpty(m.children)){u.children=d(m.children);for(var M=0,L=u.children.length;M<L;M++)u.children[M]=b(u.children[M],z,R)}w=u}return w}function N(m){l.fF.assertAnyValue(m,"matrixOrHierarchy");var z=!1;if(m)if(function(m){return"rows"in m&&"columns"in m&&"valueSources"in m}(m))z=N(m.rows)||N(m.columns);else{var R=m.levels;if(!_.isEmpty(R))for(var w=0,B=R;w<B.length;w++){var C=B[w];if(C.sources&&C.sources.length>=2&&(l.fF.assert(function(){return _.every(C.sources,function(u){return u.isMeasure===C.sources[0].isMeasure})},"pre-condition: in a valid DataViewMatrix, the source columns in each of its hierarchy levels must either be all non-measure columns (i.e. a grouping level) or all measure columns (i.e. a measure headers level)"),!C.sources[0].isMeasure)){z=!0;break}}}return z}function f(m){l.fF.assertValue(m,"matrix");var z=m.rows&&m.rows.levels,R=m.columns&&m.columns.levels,w=m.valueSources;return{primaryAxis:!_.isEmpty(z)&&F(z),secondaryAxis:!_.isEmpty(R)&&F(R),intersection:!_.isEmpty(w)&&_.map(w,function(C){return C.index})}}function F(m){return l.fF.assertValue(m,"levels"),_.map(m,function(z){return{selectIndices:_.map(z.sources,function(B){return B.index})}})}function A(m){return m&&m.rows&&!_.isEmpty(m.rows.levels)?m.rows.levels.length:0}function k(m){return!m||_.isEmpty(m.levels)?0:m.levels.length-(Y(m.levels)?1:0)}function Y(m){return l.fF.assertAnyValue(m,"columnHierarchyLevels"),!_.isEmpty(m)&&j(_.last(m))}function j(m){return l.fF.assertAnyValue(m,"columnHierarchyLevel"),m&&_.every(m.sources,function(z){return z.isMeasure})}function I(m){if(l.fF.assertAnyValue(null==m?void 0:m.children,"A Matrix with Column Totals off and all data filtered out has undefined columns root"),!m||_.isEmpty(m.children))return[];var z=[];return S(m,function(R,w,B){z.push(_.clone(B))}),z}function E(m){l.fF.assertValue(m,"undefined Level");var z=m.valueSources;if(z)return l.fF.assert(function(){return _.isEqual(_.keys(z),["0"])},"There is no support for Measures with a Scope containing any column levels"),l.fF.assertValue(z[0],"Empty Scoped measures metadata"),z[0]}function T(m){if(l.fF.assertValue(m,"getNodeScopedValues called for an Undefined node"),l.fF.assertAnyValue(m.nodeValues,"Synchronized nodes have undefined nodeValues"),m.nodeValues)return l.fF.assert(function(){return _.isEqual(_.keys(m.nodeValues),["0"])},"There is no support for Measures with a Scope containing any column levels"),m.nodeValues[0]}},2966:function(ie,ve,v){v.d(ve,{T5:function(){return b},_L:function(){return N},dM:function(){return h},iN:function(){return P},jh:function(){return S}});var c=v(130),l=v(9380),n=v(8955);function V(f,F){n.fF.assertValue(f,"metadataColumn"),n.fF.assertValue(F,"targetRoles");var A=f.roles;return!!A&&_.some(F,function(k){return A[k]})}function P(f,F){if(n.fF.assertAnyValue(f,"roles"),n.fF.assertValue(F,"targetRole"),!f||!f[F])return!1;if(_.size(f)>=2)for(var A in f)if(A!==F&&f[A])return!1;return!0}function S(f,F,A){n.fF.assertAnyValue(f,"columnSources"),n.fF.assertValue(F,"projectionOrdering"),n.fF.assertAnyValue(A,"filterByRoles");var k=[];if(!_.isEmpty(f))for(var Y=function(f){n.fF.assertValue(f,"selectIndicesByProjectionOrder");for(var F={},A=0,k=f.length;A<k;A++){var Y=f[A],j=F[Y];j||(j=F[Y]=[]),j.push(A)}return F}(F),j=0,G=f.length;j<G;j++){var I=f[j];if(!A||V(I,A)){var E=Y[I.index];if(_.isEmpty(E))k.push({metadataColumn:I,sourceIndex:j,projectionOrderIndex:void 0});else for(var T=0,m=E;T<m.length;T++)k.push({metadataColumn:I,sourceIndex:j,projectionOrderIndex:m[T]})}}return k}function h(f){var F=_.find(f,function(j){return j.expr&&(0,c.ez)(j.expr)});if(F){var k=F.expr.arg;if((0,c.y3)(k)){var Y=k.arg;if((0,c.jc)(Y))return Y.property}}}function b(f,F,A){if(n.fF.assertValue(f,"expr"),n.fF.assertNonEmpty(F,"columns"),!(0,c.NH)(f))return _.find(F,function(Y){return(0,l.fS)(Y.expr,f)&&Y.groupName===A});var k=_.find(F,function(Y){return Y.queryName===f.expressionName&&Y.groupName===A});return k?0!==f.attributeKind?k:k.formatSource&&k.formatSource.formatString?k.formatSource.formatString:void 0:void 0}function N(f,F){n.fF.assertValue(f,"column"),n.fF.assertValue(F,"aggrFunc");var A=f.aggregates;if(A)switch(F){case 3:return A.min;case 4:return A.max;case 2:return A.count;case 1:return A.average;case 6:return A.median;default:return}}},9656:function(ie,ve,v){function c(P,S){return!P&&!S||!(!P||!S||P.displayName!==S.displayName||P.queryName!==S.queryName||P.isMeasure!==S.isMeasure||P.type!==S.type||P.sort!==S.sort)}function l(P,S){if(!P&&!S)return!0;if(!P||!S)return!1;var D=S.columns.length;if(P.columns.length!==D)return!1;for(var b=0;b<D;b++)if(!c(P.columns[b],S.columns[b]))return!1;return!0}function n(P){return P&&P.values&&P.values[0]&&!!P.values[0].values}function g(P){return P&&void 0!==P.length}v.d(ve,{C0:function(){return l},F:function(){return n},Mw:function(){return c},rX:function(){return g}})},5662:function(ie,ve,v){v.d(ve,{A8:function(){return g},A9:function(){return V},it:function(){return n}});var c=v(646),l=v(2348),n={objectName:"scalarKey",propertyName:"min"};function g(h,D){var b;if(h&&(b=h.objects),!_.isEmpty(b)){for(var N=void 0,f=b.length,F=0;F<f;F++){var k=(0,l.NA)(b[F],D);void 0!==k&&(N||(N={values:new Array(f)}),N.values[F]={min:k})}return N}}function V(h){var D=!1,b={visitRole:function(A){D=D||_.some(A.items,function(k){return k.scalarKeyInfo&&k.scalarKeyInfo.hasScalarKey})}};return h.categorical?(0,c.Sr)(h.categorical.categories,b):h.matrix&&(0,c.Ay)(h.matrix.rows,b),D}},8459:function(ie,ve,v){function c(n){return function(g){return g.get(n)}}function l(n,g){return"function"==typeof n?n(g):"string"==typeof n?n:void 0}v.d(ve,{G:function(){return l},V:function(){return c}})},2881:function(ie,ve,v){v.d(ve,{EP:function(){return h}});var c=v(8955),l=v(8078),n=v(9644),g=v(390),V=function(){function T(){}return T.prototype._ensureIncludeZero=function(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))},T.prototype._ensureNotEmpty=function(){if(this.min===this.max)if(this.min){var m=this.min,z=(0,l.mv)(Math.abs(m)),R=void 0;z>=0&&z<4?(R=.5,this.forcedSingleStop=m):(R=(0,l.wA)(z)/2,this.forcedSingleStop=null),this.min=m-R,this.max=m+R}else this.min=0,this.max=T.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0},T.prototype._ensureDirection=function(){if(this.min>this.max){var m=this.min;this.min=this.max,this.max=m}},T.prototype.getSize=function(){return this.max-this.min},T.prototype.shrinkByStep=function(m,z){c.fF.assertValue(m,"range"),c.fF.assert(function(){return z>0},"step");var R=this.min/z,w=m.min/z,B=Math.floor(w-R);this.min+=B*z,R=this.max/z,w=m.max/z,B=Math.ceil(w-R),this.max+=B*z},T.calculate=function(m,z,R,w,B){c.fF.assert(function(){return m<=z},"dataMin should be less or equal to dataMax."),c.fF.assert(function(){return!R||!w||R<=w},"fixedMin should be less or equal to fixedMax.");var C=new T;return C.includeZero=!!B,C.hasDataRange=P(m)&&P(z),C.hasFixedMin=P(R),C.hasFixedMax=P(w),m=(0,l.QO)(m,T.MIN_SUPPORTED_DOUBLE,T.MAX_SUPPORTED_DOUBLE),z=(0,l.QO)(z,T.MIN_SUPPORTED_DOUBLE,T.MAX_SUPPORTED_DOUBLE),C.hasFixedMin&&C.hasFixedMax?(C.min=R,C.max=w):C.hasFixedMin?(C.min=R,C.max=z>R?z:R):C.hasFixedMax?(C.min=m<w?m:w,C.max=w):C.hasDataRange?(C.min=m,C.max=z):(C.min=0,C.max=0),C._ensureIncludeZero(),C._ensureNotEmpty(),C._ensureDirection(),0===C.min?C.hasFixedMin=!0:0===C.max&&(C.hasFixedMax=!0),C},T.calculateDataRange=function(m,z,R){return P(m)&&P(z)?T.calculate(m,z,null,null,R):T.calculateFixedRange(0,T.DEFAULT_MAX)},T.calculateFixedRange=function(m,z,R){c.fF.assertValue(m,"fixedMin"),c.fF.assertValue(z,"fixedMax");var w=new T;return w.hasDataRange=!1,w.includeZero=R,w.min=m,w.max=z,w._ensureIncludeZero(),w._ensureNotEmpty(),w._ensureDirection(),w.hasFixedMin=!0,w.hasFixedMax=!0,w},T.DEFAULT_MAX=10,T.MIN_SUPPORTED_DOUBLE=-1e307,T.MAX_SUPPORTED_DOUBLE=1e307,T}();function P(T){return null!=T}var S=function(){function T(){}return T.calculate=function(m,z,R,w,B,C){c.fF.assertValue(m,"range"),c.fF.assert(function(){return void 0===z||z>=T.MIN_COUNT&&z<=T.MAX_COUNT},"expectedCount"),c.fF.assert(function(){return void 0===w||w>=l.Xo&&w<=l.kg},"minPower"),c.fF.assert(function(){return void 0===R||R>=0},"maxAllowedMargin");var d=new T;if(z=void 0===z?10:(0,l.QO)(z,T.MIN_COUNT,T.MAX_COUNT),void 0===w&&(w=l.Xo),void 0===B&&(B=!1),void 0===R&&(R=1),void 0===C&&(C=[1,2,5]),m.forcedSingleStop)return d.interval=m.getSize(),d.intervalOffset=d.interval-(m.forcedSingleStop-m.min),d.min=m.min,d.max=m.max,d.sequence=[m.forcedSingleStop],d;var J,u=0,y=0,M=9,L=R>0&&!m.hasFixedMin,O=R>0&&!m.hasFixedMax,H=m.getSize(),Q=(0,l.mv)(H),X=(0,l.mv)(C[0]);if(Q-=X,Q-=(0,l.mv)(z),Q=Math.max(Q,w-X+1),0!==u){var ee=(0,l.wA)(Q),le=(0,l.cT)(m.min,ee),Ne=(0,l.iD)(m.max,ee);(Ae=V.calculateFixedRange(le,Ne)).shrinkByStep(m,u),y=Ae.min,M=Ae.max,J=Math.floor(Ae.getSize()/u)}else{var Se=void 0;for(Se=0;Se<3;Se++){for(var we=Q+Se,Pe=(ee=(0,l.wA)(we),le=(0,l.cT)(m.min,ee),Ne=(0,l.iD)(m.max,ee),C.length),ze=(0,l.wA)(we-1),Xe=0;Xe<Pe;Xe++){var Ae,Me=C[Xe]*ze;if((Ae=V.calculateFixedRange(le,Ne,B)).shrinkByStep(m,Me),L&&m.min===Ae.min&&R>=1&&(Ae.min-=Me),O&&m.max===Ae.max&&R>=1&&(Ae.max+=Me),(J=(0,l.Eo)(Ae.getSize()/Me,l.qO))<=z||2===Se&&Xe===Pe-1||1===z&&2===J&&(Me>m.getSize()||m.min<0&&m.max>0&&2*Me>=m.getSize())){u=Me,y=Ae.min,M=Ae.max;break}}if(0!==u)break}}(J>32*z||J>T.MAX_COUNT)&&(u=(M-y)/(J=Math.min(32*z,T.MAX_COUNT))),d.min=y,d.max=M,d.interval=u,d.intervalOffset=y-m.min,d.maxAllowedMargin=R,d.canExtendMin=L,d.canExtendMax=O;var pe=(0,l.p8)(u,0);d.precision=pe;var Fe=[],De=(0,l.W0)(y,pe);for(Fe.push(De),Xe=0;Xe<J;Xe++)De=(0,l.W0)(De+u,pe),Fe.push(De);return d.sequence=Fe,d.trimMinMax(m.min,m.max),d},T.calculateUnits=function(m,z,R,w){R=(0,l.QO)(R,T.MIN_COUNT,T.MAX_COUNT),m===z&&(z=m+1);for(var C=0,d=0,u=w;d<u.length&&!((0,l.Eo)(z/(C=u[d]))-(0,l.Uy)(m/C)<=R);d++);var L=-m;L%=C;var O=new T;O.sequence=[];for(var H=m+L;O.sequence.push(H),!(H>=z);H+=C);return O.interval=C,O.intervalOffset=L,O.min=O.sequence[0],O.max=O.sequence[O.sequence.length-1],O},T.prototype.trimMinMax=function(m,z){var R=(m-this.min)/this.interval,w=(this.max-z)/this.interval;(!this.canExtendMin||R>this.maxAllowedMargin&&R>.001)&&(this.min=m),(!this.canExtendMax||w>this.maxAllowedMargin&&w>.001)&&(this.max=z)},T.MIN_COUNT=1,T.MAX_COUNT=1e3,T}(),h=function(){function T(m){this.unit=m,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999Z"),this.max=new Date("0001-01-01T00:00:00.000Z")}return T.prototype.add=function(m){m<this.min&&(this.min=m),m>this.max&&(this.max=m),this.sequence.push(m)},T.prototype.moveToCover=function(m,z){var R=T.getDelta(m,z,this.unit),w=Math.floor(R/this.interval);for(this.min=T.addInterval(this.min,w*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<z;)this.max=T.addInterval(this.max,this.interval,this.unit),this.sequence.push(this.max)},T.calculate=function(m,z,R,w){switch(w||(w=T.getIntervalUnit(m,z,R)),w){case n.l.Year:return T.calculateYears(m,z,R);case n.l.Month:return T.calculateMonths(m,z,R);case n.l.Week:return T.calculateWeeks(m,z,R);case n.l.Day:return T.calculateDays(m,z,R);case n.l.Hour:return T.calculateHours(m,z,R);case n.l.Minute:return T.calculateMinutes(m,z,R);case n.l.Second:return T.calculateSeconds(m,z,R);case n.l.Millisecond:return T.calculateMilliseconds(m,z,R);default:c.fF.assertFail("Unsupported DateTimeUnit")}},T.calculateYears=function(m,z,R){c.fF.assertValue(m,"dataMin"),c.fF.assertValue(z,"dataMax"),c.fF.assert(function(){return!R||R>=T.MIN_COUNT&&R<=T.MAX_COUNT},"Expected count is out of range");var w=V.calculateDataRange(m.getFullYear(),z.getFullYear(),!1),B=S.calculate(V.calculate(0,w.max-w.min),R,0,null,null,[1,2,5]),C=Math.floor(w.min/B.interval)*B.interval,d=g.y3.fromDateParts(C,0,1);return T.fromNumericSequence(d,B,n.l.Year)},T.calculateMonths=function(m,z,R){c.fF.assertValue(m,"dataMin"),c.fF.assertValue(z,"dataMax"),c.fF.assert(function(){return void 0===R||R>=T.MIN_COUNT&&R<=T.MAX_COUNT},"expected count is out of range");var w=m.getFullYear(),B=z.getFullYear(),C=m.getMonth(),d=12*(B-w)+z.getMonth(),u=g.y3.fromDateParts(w,0,1),y=S.calculateUnits(C,d,R,[1,2,3,6,12]);return T.fromNumericSequence(u,y,n.l.Month)},T.calculateWeeks=function(m,z,R){c.fF.assertValue(m,"dataMin"),c.fF.assertValue(z,"dataMax"),c.fF.assert(function(){return void 0===R||R>=T.MIN_COUNT&&R<=T.MAX_COUNT},"expected count is out of range");var C=(m.getDay()-0+7)%7,d=m.getDate()-C,u=g.y3.fromDateParts(m.getFullYear(),m.getMonth(),d),M=(0,l.Eo)(T.getDelta(u,z,n.l.Week)),L=S.calculateUnits(0,M,R,[1,2,4,8]);return T.fromNumericSequence(u,L,n.l.Week)},T.calculateDays=function(m,z,R){c.fF.assertValue(m,"dataMin"),c.fF.assertValue(z,"dataMax"),c.fF.assert(function(){return void 0===R||R>=T.MIN_COUNT&&R<=T.MAX_COUNT},"expected count is out of range");var w=g.y3.fromDateParts(m.getFullYear(),m.getMonth(),m.getDate()),C=(0,l.Eo)(T.getDelta(m,z,n.l.Day)),d=S.calculateUnits(0,C,R,[1,2,7,14]);return T.fromNumericSequence(w,d,n.l.Day)},T.calculateHours=function(m,z,R){c.fF.assertValue(m,"dataMin"),c.fF.assertValue(z,"dataMax"),c.fF.assert(function(){return void 0===R||R>=T.MIN_COUNT&&R<=T.MAX_COUNT},"expected count is out of range");var w=g.y3.fromDateParts(m.getFullYear(),m.getMonth(),m.getDate()),B=(0,l.Uy)(T.getDelta(w,m,n.l.Hour)),C=(0,l.Eo)(T.getDelta(w,z,n.l.Hour)),d=S.calculateUnits(B,C,R,[1,2,3,6,12,24]);return T.fromNumericSequence(w,d,n.l.Hour)},T.calculateMinutes=function(m,z,R){c.fF.assertValue(m,"dataMin"),c.fF.assertValue(z,"dataMax"),c.fF.assert(function(){return void 0===R||R>=T.MIN_COUNT&&R<=T.MAX_COUNT},"expected count is out of range");var w=g.y3.fromDateParts(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours()),B=(0,l.Uy)(T.getDelta(w,m,n.l.Minute)),C=(0,l.Eo)(T.getDelta(w,z,n.l.Minute)),d=S.calculateUnits(B,C,R,[1,2,5,10,15,30,60,120,180,360,720,1440]);return T.fromNumericSequence(w,d,n.l.Minute)},T.calculateSeconds=function(m,z,R){c.fF.assertValue(m,"dataMin"),c.fF.assertValue(z,"dataMax"),c.fF.assert(function(){return void 0===R||R>=T.MIN_COUNT&&R<=T.MAX_COUNT},"expected count is out of range");var w=g.y3.fromDateParts(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes()),B=(0,l.Uy)(T.getDelta(w,m,n.l.Second)),C=(0,l.Eo)(T.getDelta(w,z,n.l.Second)),d=S.calculateUnits(B,C,R,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return T.fromNumericSequence(w,d,n.l.Second)},T.calculateMilliseconds=function(m,z,R){c.fF.assertValue(m,"dataMin"),c.fF.assertValue(z,"dataMax"),c.fF.assert(function(){return void 0===R||R>=T.MIN_COUNT&&R<=T.MAX_COUNT},"expected count is out of range");var w=g.y3.fromDateParts(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds()),B=T.getDelta(w,m,n.l.Millisecond),C=T.getDelta(w,z,n.l.Millisecond),d=S.calculate(V.calculate(B,C),R,0);return T.fromNumericSequence(w,d,n.l.Millisecond)},T.addInterval=function(m,z,R){switch(z=Math.round(z),R){case n.l.Year:return function(T,m){var z=T.getFullYear(),R=T.getMonth(),w=T.getDate(),B=2===R&&29===w,C=g.y3.fromTimeValue(T.getTime());return z+=m,B&&!N(z)&&(w=28),C.setUTCFullYear(z,R,w),C}(m,z);case n.l.Month:return function(T,m){var z=T.getFullYear(),R=T.getMonth(),w=T.getDate(),B=g.y3.fromTimeValue(T.getTime());return z+=(m-m%12)/12,(R+=m%12)>11&&(R%=12,z++),w=Math.min(w,function(T,m){return N(T)?b[m]:D[m]}(z,R)),B.setUTCFullYear(z,R,w),B}(m,z);case n.l.Week:return function(T,m){return Y(T,7*m)}(m,z);case n.l.Day:return Y(m,z);case n.l.Hour:return function(T,m){return g.y3.fromTimeValue(T.getTime()+36e5*m)}(m,z);case n.l.Minute:return function(T,m){return g.y3.fromTimeValue(T.getTime()+6e4*m)}(m,z);case n.l.Second:return function(T,m){return g.y3.fromTimeValue(T.getTime()+1e3*m)}(m,z);case n.l.Millisecond:return function(T,m){return g.y3.fromTimeValue(T.getTime()+m)}(m,z)}},T.fromNumericSequence=function(m,z,R){for(var w=new T(R),B=0,C=z.sequence;B<C.length;B++){var u=T.addInterval(m,C[B],R);w.add(u)}return w.interval=z.interval,w.intervalOffset=z.intervalOffset,w},T.getDelta=function(m,z,R){var w=0;switch(R){case n.l.Year:w=z.getFullYear()-m.getFullYear();break;case n.l.Month:w=12*(z.getFullYear()-m.getFullYear())+z.getMonth()-m.getMonth();break;case n.l.Week:w=(z.getTime()-m.getTime())/6048e5;break;case n.l.Day:w=(z.getTime()-m.getTime())/864e5;break;case n.l.Hour:w=(z.getTime()-m.getTime())/36e5;break;case n.l.Minute:w=(z.getTime()-m.getTime())/6e4;break;case n.l.Second:w=(z.getTime()-m.getTime())/1e3;break;case n.l.Millisecond:w=z.getTime()-m.getTime()}return w},T.getIntervalUnit=function(m,z,R){R=Math.max(R,2);var w=T.getDelta(m,z,n.l.Day);if(w>356&&w>=180*R)return n.l.Year;if(w>60&&w>7*R)return n.l.Month;if(w>14&&w>2*R)return n.l.Week;var B=T.getDelta(m,z,n.l.Hour);if(w>2&&B>12*R)return n.l.Day;if(B>=24&&B>=R)return n.l.Hour;var C=T.getDelta(m,z,n.l.Minute);if(C>2&&C>=R)return n.l.Minute;var d=T.getDelta(m,z,n.l.Second);if(d>2&&d>=.8*R)return n.l.Second;if(T.getDelta(m,z,n.l.Millisecond)>0)return n.l.Millisecond;var y=m;return 0!==y.getMilliseconds()?n.l.Millisecond:0!==y.getSeconds()?n.l.Second:0!==y.getMinutes()?n.l.Minute:0!==y.getHours()?n.l.Hour:1!==y.getDate()?n.l.Day:0!==y.getMonth()?n.l.Month:n.l.Year},T.MIN_COUNT=1,T.MAX_COUNT=1e3,T}(),D=[31,28,31,30,31,30,31,31,30,31,30,31],b=[31,29,31,30,31,30,31,31,30,31,30,31];function N(T){return T%4==0&&T%100!=0||T%400==0}function Y(T,m){var z=T.getFullYear(),R=T.getMonth(),w=T.getDate(),B=g.y3.fromTimeValue(T.getTime());return B.setUTCFullYear(z,R,w+m),B}},8399:function(ie,ve,v){v.d(ve,{KO:function(){return n},Re:function(){return P},hU:function(){return g},t0:function(){return h},wj:function(){return V}});var c=v(8955),l=v(390),n=function(D){return D[D.Last=0]="Last",D[D.Current=1]="Current",D[D.Next=2]="Next",D}({}),g=function(D){return D[D.Second=0]="Second",D[D.Minute=1]="Minute",D[D.Hour=2]="Hour",D[D.Day=3]="Day",D[D.Week=4]="Week",D[D.CalendarWeek=5]="CalendarWeek",D[D.Month=6]="Month",D[D.CalendarMonth=7]="CalendarMonth",D[D.Year=8]="Year",D[D.CalendarYear=9]="CalendarYear",D}({}),V=function(D){return D[D.Unsupported=0]="Unsupported",D[D.Time=1]="Time",D[D.Date=2]="Date",D}({});function P(D){switch(D){case g.Minute:case g.Hour:return!0;default:return!1}}var h=function(){function D(){}return D.convertRelativeDateUnitToRelativeFilterType=function(b){switch(b){case g.Second:case g.Minute:case g.Hour:return V.Time;case g.Day:case g.Week:case g.CalendarWeek:case g.Month:case g.CalendarMonth:case g.Year:case g.CalendarYear:return V.Date;default:return void c.fF.assertNever(b)}},D.convertTimeUnitToRelativeFilterType=function(b){switch(b){case 5:return V.Unsupported;case 6:case 7:return V.Time;case 0:case 1:case 2:case 3:case 4:return V.Date;default:return void c.fF.assertNever(b)}},D.getDateRange=function(b,N){switch(N.relativeUnit){case g.Minute:return this.getMinutesRange(b,N);case g.Hour:return this.getHoursRange(b,N);case g.Day:return this.getDaysRange(b,N);case g.Week:return this.getWeeksRange(b,N);case g.CalendarWeek:return this.getCalendarWeekRange(b,N);case g.Month:return this.getMonthRange(b,N);case g.CalendarMonth:return this.getCalendarMonthRange(b,N);case g.Year:return this.getYearRange(b,N);case g.CalendarYear:return this.getCalendarYearRange(b,N);default:return void c.fF.assertFail("Unexpected RelativeDateUnit: "+N.relativeUnit)}},D.getMinutesRange=function(b,N){var f={min:null,max:null};switch(N.relativeQualifier){case n.Last:f.min=new Date(b.valueOf()-6e4*N.duration),f.max=b;break;case n.Current:f.min=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),0)),f.max=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),59));break;case n.Next:f.min=b,f.max=new Date(b.valueOf()+6e4*N.duration)}return f},D.getHoursRange=function(b,N){var f={min:null,max:null},F=36e5;switch(N.relativeQualifier){case n.Last:f.min=new Date(b.valueOf()-N.duration*F),f.max=b;break;case n.Current:f.min=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),0,0)),f.max=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),59,59));break;case n.Next:f.min=b,f.max=new Date(b.valueOf()+N.duration*F)}return f},D.getDaysRange=function(b,N){var f={min:null,max:null};switch(N.relativeQualifier){case n.Last:f.max=N.includeToday?b:this.addDays(b,-1),f.min=this.addDays(f.max,1-N.duration);break;case n.Current:f.min=b,f.max=b;break;case n.Next:f.min=N.includeToday?b:this.addDays(b,1),f.max=this.addDays(f.min,N.duration-1)}return f},D.getWeeksRange=function(b,N){var f={min:null,max:null};switch(N.relativeQualifier){case n.Last:f.max=N.includeToday?b:this.addDays(b,-1),f.min=this.addDays(f.max,-7*N.duration+1);break;case n.Current:f=this.getCalendarWeek(b);break;case n.Next:f.min=N.includeToday?b:this.addDays(b,1),f.max=this.addDays(f.min,7*N.duration-1)}return f},D.getCalendarWeekRange=function(b,N){var f={min:null,max:null},F=b.getUTCDay();switch(N.relativeQualifier){case n.Last:var A=this.addDays(b,-F-1);f.min=this.addDays(A,-7*N.duration+1),f.max=A;break;case n.Current:f=this.getCalendarWeek(b);break;case n.Next:var k=this.addDays(b,7-F);f.min=k,f.max=this.addDays(k,7*N.duration-1)}return f},D.getMonthRange=function(b,N){var f={min:null,max:null};switch(N.relativeQualifier){case n.Last:f.max=N.includeToday?b:this.addDays(b,-1),f.min=this.addMonths(f.max,-N.duration);break;case n.Current:f=this.getCalendarMonth(b);break;case n.Next:f.min=N.includeToday?b:this.addDays(b,1),f.max=this.addMonths(f.min,N.duration)}return f},D.getCalendarMonthRange=function(b,N){var f={min:null,max:null};switch(N.relativeQualifier){case n.Last:f.min=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth()-N.duration,1)),f.max=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),0));break;case n.Current:f=this.getCalendarMonth(b);break;case n.Next:f.min=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth()+1,1)),f.max=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth()+1+N.duration,0))}return f},D.getYearRange=function(b,N){var f={min:null,max:null};switch(N.relativeQualifier){case n.Last:f.max=N.includeToday?b:this.addDays(b,-1),f.min=this.addYears(f.max,-N.duration);break;case n.Current:f=this.getCalendarYear(b);break;case n.Next:f.min=N.includeToday?b:this.addDays(b,1),f.max=this.addYears(f.min,N.duration)}return f},D.getCalendarYearRange=function(b,N){var f={min:null,max:null};switch(N.relativeQualifier){case n.Last:f.min=new Date(Date.UTC(b.getUTCFullYear()-N.duration,0,1)),f.max=new Date(Date.UTC(b.getUTCFullYear()-1,11,31));break;case n.Current:f=this.getCalendarYear(b);break;case n.Next:f.min=new Date(Date.UTC(b.getUTCFullYear()+1,0,1)),f.max=new Date(Date.UTC(b.getUTCFullYear()+N.duration,11,31))}return f},D.getTimeRangeRestatement=function(b,N,f,F){return N?this.getDetailedTimeRestatement(f):this.getSimplifiedTimeRestatement(b,F)},D.getDetailedTimeRestatement=function(b){return Math.abs(b.max.valueOf()-b.min.valueOf())/864e5>1||b.max.getUTCDate()!==b.min.getUTCDate()?l.dx.format("{0} - {1}",[b.min,b.max]):l.dx.format("{0:T} - {1:T}",[b.min,b.max])},D.getSimplifiedTimeRestatement=function(b,N){switch(b.relativeQualifier){case n.Current:switch(b.relativeUnit){case g.Minute:return N("RelativeTimeRestatement_this_Minute");case g.Hour:return N("RelativeTimeRestatement_this_Hour");default:c.fF.assertFail("The following relative unit is not a relative time unit: ".concat(b.relativeUnit))}break;case n.Last:switch(b.relativeUnit){case g.Minute:return 1===b.duration?N("RelativeTimeRestatement_last_Minute"):N("RelativeTimeRestatement_last_Minutes",b.duration);case g.Hour:return 1===b.duration?N("RelativeTimeRestatement_last_Hour"):N("RelativeTimeRestatement_last_Hours",b.duration);default:c.fF.assertFail("The following relative unit is not a relative time unit: ".concat(b.relativeUnit))}break;case n.Next:switch(b.relativeUnit){case g.Minute:return 1===b.duration?N("RelativeTimeRestatement_next_Minute"):N("RelativeTimeRestatement_next_Minutes",b.duration);case g.Hour:return 1===b.duration?N("RelativeTimeRestatement_next_Hour"):N("RelativeTimeRestatement_next_Hours",b.duration);default:c.fF.assertFail("The following relative unit is not a relative time unit: ".concat(b.relativeUnit))}break;default:c.fF.assertFail("The following is an Unsupported relativeQualifer: ".concat(b.relativeQualifier))}return""},D.getDateRangeRestatement=function(b){return l.dx.format("{0:d} - {1:d}",[b.min,b.max])},D.getRestatement=function(b,N,f,F){var A;if(P(b.relativeUnit)?(c.fF.assert(function(){return!!F},"For Relative time restatement, anchor time should be defined"),A=F||new Date):A=new Date,b.anchorDate&&function(D){return!P(D)}(b.relativeUnit)){var k=b.anchorDate;A=new Date(Date.UTC(k.getFullYear(),k.getMonth(),k.getDate(),k.getHours(),k.getMinutes(),k.getSeconds(),k.getMilliseconds()))}var Y=this.getDateRange(A,b);return Y.min.epochTimeStamp=Y.min.getTime(),Y.max.epochTimeStamp=Y.max.getTime(),P(b.relativeUnit)?this.getTimeRangeRestatement(b,N,Y,f):D.getDateRangeRestatement(Y)},D.addMinutes=function(b,N){return new Date(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes()+N,b.getSeconds())},D.addHours=function(b,N){return new Date(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours()+N,b.getMinutes(),b.getSeconds())},D.addDays=function(b,N){return new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()+N))},D.addMonths=function(b,N){if(0===N)return b;var A=b.getUTCDate()-(N>0?1:-1),k=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth()+N,A)),Y=k.getUTCDate();if(A>0)if(Y!==A&&N>0)k=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth()+N+1,0));else if(N<0){var j=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),A));(Y!==A||j.getUTCMonth()!==b.getUTCMonth())&&(k=new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth()+N+1,1)))}return k},D.addYears=function(b,N){return this.addMonths(b,12*N)},D.getDurationMax=function(b,N){if(b===n.Current)return 1;switch(N){case g.Year:case g.CalendarYear:return 100;case g.Month:case g.CalendarMonth:case g.CalendarWeek:case g.Week:return 1e3;default:return 1e4}},D.getCalendarWeek=function(b){var N=b.getUTCDay(),f=this.addDays(b,-N);return{min:f,max:this.addDays(f,6)}},D.getCalendarMonth=function(b){return{min:new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),1)),max:new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth()+1,0))}},D.getCalendarYear=function(b){return{min:new Date(Date.UTC(b.getUTCFullYear(),0,1)),max:new Date(Date.UTC(b.getUTCFullYear(),11,31))}},D}()},1589:function(ie,ve,v){v.d(ve,{g:function(){return we},CH:function(){return u},J6:function(){return d},Ue:function(){return Ne},E3:function(){return le},Ym:function(){return Pe},WU:function(){return Ae},aY:function(){return lt},KF:function(){return Oe},kA:function(){return Se},v1:function(){return Fe},p$:function(){return ze},G2:function(){return J},EO:function(){return pe},eU:function(){return Qe},h1:function(){return De},Z:function(){return M},X0:function(){return ee}});var c=v(8955),l=v(8078),n=v(3708),g=v(1190),V=v(272),P=v(2348),S=v(390),h=v(3813),D=v(2881),b=v(3188),N=v(2694),F=1e15,A=1e-4,G=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,I=function(){function ae(){}return ae.prototype.project=function(te){return this.value?(0,l.oI)(te/this.value):te},ae.prototype.isApplicableTo=function(te){te=Math.abs(te);var oe=(0,l.p8)(te,3);return(0,l.bA)(te,this.applicableRangeMin,oe)&&(0,l.Po)(te,this.applicableRangeMax,oe)},ae.prototype.isScaling=function(){return this.value>1},ae}(),E=function(){function ae(te){this.units=te||[]}return ae.prototype.getUnits=function(te){void 0===te&&(te=!1);var oe=_.clone(this.units);return te&&_.remove(oe,function(Ce){return 0===Ce.value}),oe},Object.defineProperty(ae.prototype,"title",{get:function(){return this.displayUnit?this.displayUnit.title:void 0},enumerable:!1,configurable:!0}),ae.prototype.update=function(te){void 0!==te&&(this.displayUnit=this.findApplicableDisplayUnit(te))},ae.prototype.findApplicableDisplayUnit=function(te){for(var oe=0,Ce=this.units;oe<Ce.length;oe++){var he=Ce[oe];if(he.isApplicableTo(te))return he}},ae.prototype.format=function(te,oe,Ce,he){c.fF.assert(function(){return"number"==typeof te},"value must be a number"),Ce=this.getNumberOfDecimalsForFormatting(Ce);var Le="";return this.isFormatSupported(oe)&&!this.hasScientificFormat(oe)&&this.isScalingUnit()&&this.shouldRespectScalingUnit()&&(te=this.displayUnit.project(te),Le=this.displayUnit.labelFormat),this.formatHelper(te,Le,oe,Ce,he)},ae.prototype.isFormatSupported=function(te){return!ae.UNSUPPORTED_FORMATS.test(te)},ae.prototype.isPercentageFormat=function(te){return te&&te.indexOf("%")>=0},ae.prototype.shouldRespectScalingUnit=function(){return!0},ae.prototype.getNumberOfDecimalsForFormatting=function(te){return te},ae.prototype.isScalingUnit=function(){return this.displayUnit&&this.displayUnit.isScaling()},ae.prototype.formatHelper=function(te,oe,Ce,he,Le){if(("g"===Ce||"G"===Ce)&&null!=he&&(Ce=N.Pe),(Ce=(0,S.dc)(Ce,he,Le))&&!S.dx.isStandardNumberFormat(Ce))return S.dx.formatNumberWithCustomOverride(te,Ce,oe);Ce||(Ce="G"),oe||(oe="{0}");var Je=S.dx.formatValue(te,Ce);return S.dx.format(oe,[Je])},ae.prototype.formatSingleValue=function(te,oe,Ce,he){return this.update(this.shouldUseValuePrecision(te)?(0,l.p8)(te,8):te),this.format(te,oe,Ce,he)},ae.prototype.shouldUseValuePrecision=function(te){if(0===this.units.length)return!0;for(var oe=0,Ce=0,he=this.units;Ce<he.length;Ce++){var Le=he[Ce];if(Le.isScaling()){oe=Le.applicableRangeMin;break}}return Math.abs(te)<oe},ae.prototype.isScientific=function(te){return te<-F||te>F||-A<te&&te<A&&0!==te},ae.prototype.hasScientificFormat=function(te){return te&&(-1!==te.toUpperCase().indexOf("E+")||-1!==te.toUpperCase().indexOf("E-"))},ae.prototype.supportsScientificFormat=function(te){return!te||G.test(te)},ae.prototype.shouldFallbackToScientific=function(te,oe){return!this.hasScientificFormat(oe)&&this.supportsScientificFormat(oe)&&this.isScientific(te)},ae.prototype.getScientificFormat=function(te,oe,Ce,he){if(this.isFormatSupported(oe)&&this.shouldFallbackToScientific(te,oe)){var Le=(0,S.IE)(te,oe);return Ce&&(Le=(0,S.dc)(Le||"0",Math.abs(Ce),he)),Le?Le+"E+0":"0.##E+0"}return oe},ae.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,ae}(),T=function(ae){function te(){return ae.call(this,[])||this}return(0,b.ZT)(te,ae),te}(E),m=function(ae){function te(oe){return ae.call(this,te.getUnits(oe))||this}return(0,b.ZT)(te,ae),te.prototype.format=function(oe,Ce,he,Le){return Ce=this.getScientificFormat(oe,Ce,he,Le),ae.prototype.format.call(this,oe,Ce,he,Le)},te.reset=function(){te.units=null},te.getUnits=function(oe){return te.units||((te.units=w(oe,function(Ce,he,Le){return Ce-he>=1e3?Ce/10:Le}))[te.units.length-1].applicableRangeMax=1/0),te.units},te}(E),z=function(ae){function te(oe){return ae.call(this,te.getUnits(oe))||this}return(0,b.ZT)(te,ae),te.reset=function(){te.units=null},te.getUnits=function(oe){return te.units||((te.units=w(oe))[te.units.length-1].applicableRangeMax=1/0),te.units},te.prototype.format=function(oe,Ce,he,Le){return Ce=this.getScientificFormat(oe,Ce,he,Le),ae.prototype.format.call(this,oe,Ce,he,Le)},te}(E),R=function(ae){function te(oe){return ae.call(this,te.getUnits(oe))||this}return(0,b.ZT)(te,ae),te.prototype.isFormatSupported=function(oe){return!te.UNSUPPORTED_FORMATS.test(oe)},te.getUnits=function(oe){if(!te.units){var Ce=[],he=function(ot,bt,Ft){return-1===ot&&ot-bt>=1e3?ot/10:Ft},Le=oe(-1);B(Ce,0,Le.title,Le.format,he),B(Ce,1,(Le=oe(0)).title,Le.format,he),(te.units=Ce.concat(w(oe,he)))[te.units.length-1].applicableRangeMax=1/0}return te.units},te.prototype.format=function(oe,Ce,he,Le){return Ce=this.getScientificFormat(oe,Ce,he,Le),ae.prototype.format.call(this,oe,Ce,he,Le)},te.UNSUPPORTED_FORMATS=/^(e\d*)$/i,te}(E);function w(ae,te){for(var oe=[],Ce=3;Ce<24;Ce++){var he=ae(Ce);he&&B(oe,(0,l.wA)(Ce),he.title,he.format,te)}return oe}function B(ae,te,oe,Ce,he){if(oe||Ce){var Le=te;if(ae.length>0){var Je=ae[ae.length-1];he&&(Le=he(te,Je.value,Le)),Je.applicableRangeMax=Le}var ot=new I;ot.value=te,ot.applicableRangeMin=Le,ot.applicableRangeMax=1e3*Le,ot.title=oe,ot.labelFormat=Ce,ae.push(ot)}}function d(ae){u||(n.f.information("allowFormatBeautification used",void 0,{key:ae}),u=!0)}var u=!1;function M(ae){return N.um[ae]}var L={null:N.um.NullValue,true:N.um.BooleanTrue,false:N.um.BooleanFalse,NaN:N.um.NaNValue,infinity:N.um.InfinityValue,negativeInfinity:N.um.NegativeInfinityValue,beautify:function(te){return function(ae){var te=N.A0[ae];return te?(d(te),N.um[te]||ae):ae}(te)},describe:function(te){return function(ae){var te=-1===ae?"Auto":ae.toString(),he=N.um["DisplayUnitSystem_E"+te+"_Title"],Le=ae<=0?"{0}":N.um["DisplayUnitSystem_E"+te+"_LabelFormat"];if(he||Le)return{title:he,format:Le}}(te)},restatementComma:N.um.RestatementComma,restatementCompoundAnd:N.um.RestatementCompoundAnd,restatementCompoundOr:N.um.RestatementCompoundOr},W={displayName:"",type:h.Ge.fromPrimitiveTypeAndCategory(7)};function J(ae){return(0,S.rH)(ae)}function ee(ae){c.fF.assertValue(ae,"options"),L=ae,m.reset(),z.reset()}function le(ae,te){void 0===te&&(te=!1);var oe=te?L.beautify(ae):ae;return{format:function(he){return null==he?L.null:ce(he,oe)}}}function Ne(ae){c.fF.assertValue(ae,"options");var te=ae.allowFormatBeautification?L.beautify(ae.format):ae.format;if(function(ae){var te=ae.value,oe=ae.value2,Ce=ae.format,he=ae.columnType;if(ae.formatSingleValues&&Ce&&Math.abs(te)<1e4)if((0,S.iH)(Ce)){if((0,l.U)(te))return!1}else if((0,S.rH)(Ce,!0).precision<2)return!1;if("number"==typeof te||"number"==typeof oe)return!(he&&he.temporal&&he.temporal.year)}(ae)){var oe=Pe(ae.displayUnitSystemType),Ce=!!ae.formatSingleValues;oe.update(Math.max(Math.abs(ae.value||0),Math.abs(ae.value2||0)));var Le,he=null!=ae.precision;return he?Le=-ae.precision:oe.displayUnit&&oe.displayUnit.value>1&&(Le=-2),{format:function(bt){var Ft=fe(bt,!0);if(!(0,g.g)(Ft))return Ft;var vt=Number(bt);return vt&&!oe.isScalingUnit()&&Math.abs(vt)<1e3&&!he&&(bt=(0,l.W0)(vt)),Ce?oe.formatSingleValue(vt,te,Le,he):oe.format(vt,te,Le,he)},displayUnit:oe.displayUnit,options:ae}}if(function(ae,te,oe){return ae instanceof Date&&te instanceof Date&&null!=oe}(ae.value,ae.value2,ae.tickCount)){var Je=D.EP.getIntervalUnit(ae.value,ae.value2,ae.tickCount);return{format:function(bt){return null==bt?L.null:ce(bt,S.dx.dateFormatString(Je))},options:ae}}return le(te)}function Ae(ae,te,oe){return null==ae?L.null:ce(ae,oe?L.beautify(te):te)}function Se(ae,te,oe,Ce,he){return!(oe&&oe.type&&oe.type.dateTime)&&ae instanceof Date?ce(ae,pe(W,null,!1),he):ce(ae,Qe(te,oe,Ce),he)}var we=function(){function ae(te){c.fF.assertValue(te,"createVariantMeasureFormatter - options"),c.fF.assertValue(te.column,"createVariantMeasureFormatter - options.column"),c.fF.assertValue(te.formatStringPropId,"createVariantMeasureFormatter - options.formatStringPropId"),this.options=te,this.columnFormatString=pe(te.column,te.formatStringPropId,!1),this.isDateTimeColumn=te.column&&te.column.type&&te.column.type.dateTime,(null!=te.displayUnit&&1!==te.displayUnit||null!=te.precision)&&(this.displayUnitSystem=Pe(te.displayUnitSystemType),this.displayUnitSystem.update(te.displayUnit))}return ae.prototype.setDisplayUnitSystem=function(te,oe){null==te&&null==oe?this.displayUnitSystem=void 0:(this.displayUnitSystem=Pe(oe),this.displayUnitSystem.update(te))},ae.prototype.format=function(te,oe){var Ce=this.options;if(!this.isDateTimeColumn&&te instanceof Date)return ce(te,pe(W,null,!1),Ce.nullsAreBlank);var Le=this.columnFormatString;if(oe){var Je=(0,P.NA)(oe,Ce.formatStringPropId);null!=Je&&(Le=Je)}if(this.displayUnitSystem&&"number"==typeof te&&null!=te){var ot=Ce.precision;return Ce.defaultPrecisionForScaledValues&&null==(ot=De(ot,Le))&&Ce.displayUnit>1&&(ot=2),Ce.formatSingleValues?this.displayUnitSystem.formatSingleValue(te,Le,ot,Ce.trailingZeroes):this.displayUnitSystem.format(te,Le,ot,Ce.trailingZeroes)}return ce(te,Le,Ce.nullsAreBlank)},ae}();function Pe(ae){if(null==ae)return new m(L.describe);switch(ae){case V.V.Default:return new m(L.describe);case V.V.WholeUnits:return new z(L.describe);case V.V.Verbose:return new T;case V.V.DataLabels:return new R(L.describe);default:return c.fF.assertFail("Unknown display unit system type"),new m(L.describe)}}function ze(ae){return void 0===ae&&(ae=!1),new R(L.describe).getUnits(ae)}function pe(ae,te,oe){if(ae){if(te){var Ce=(0,P.NA)(ae.objects,te);if(Ce)return Ce}if(!oe&&ae.type)return Fe(ae.type)}}function Fe(ae){return c.fF.assertValue(ae,"type must be defined"),ae.dateTime?N.eF:ae.integer?ae.temporal&&ae.temporal.year?"0":N.Bq:ae.numeric?N.Pe:void 0}function De(ae,te){if(c.fF.assertAnyValue(te,"format"),void 0!==ae)return ae;if("g"!==te&&"G"!==te){if(te){var oe=(0,S.OQ)(te).positive,Ce=(0,S.rH)(oe,!0);if(Ce.hasDots)return Ce.optionalPrecision?void 0:Ce.precision}return 0}}function Qe(ae,te,oe,Ce){return(0,P.NA)(ae,oe)||pe(te,oe,Ce)}function rt(ae,te){var oe;if(!ae)return null;var Ce=ae.length;if(Ce>0){oe=ae[0];for(var he=Ce-1,Le=1,Je=he;Le<Je;Le++)oe=(0,g.W)(L.restatementComma,oe,ae[Le]);Ce>1&&(oe=(0,g.W)(te,oe,ae[he]))}else oe=null;return oe}function lt(ae){return rt(ae,L.restatementCompoundAnd)}function Oe(ae){return rt(ae,L.restatementCompoundOr)}function ce(ae,te,oe){var Ce=fe(ae,oe||!1);return(0,g.g)(Ce)?S.dx.formatValue(ae,te):Ce}function fe(ae,te){return null==ae&&te?L.null:!0===ae?L.true:!1===ae?L.false:"number"==typeof ae&&isNaN(ae)?L.NaN:ae===Number.NEGATIVE_INFINITY?L.negativeInfinity:ae===Number.POSITIVE_INFINITY?L.infinity:""}},2694:function(ie,ve,v){v.d(ve,{A0:function(){return V},Bq:function(){return c},Pe:function(){return l},eF:function(){return n},um:function(){return g}});var c="g",l="#,0.00",n="d",g={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},V={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"}},9644:function(ie,ve,v){v.d(ve,{l:function(){return c}});var c=function(l){return l[l.Year=0]="Year",l[l.Month=1]="Month",l[l.Week=2]="Week",l[l.Day=3]="Day",l[l.Hour=4]="Hour",l[l.Minute=5]="Minute",l[l.Second=6]="Second",l[l.Millisecond=7]="Millisecond",l}({})},8104:function(ie,ve,v){v.d(ve,{Y:function(){return D},dw:function(){return b},l0:function(){return h}});var c=v(3188),l=v(8955),n=v(4216),g=v(6348),V=v(2303),P=v(9656),S=v(1589),h=function(){function N(f,F,A){this.selector=N.ensureSelector(f),this.highlight=F,this._columnLevelKeys=new n.o(function(){if(f)return(0,g.AZ)(f,!1)}),this._identityLevelKeys=new n.o(function(){if(f)return(0,g.AZ)(f,!0)}),this.selectorsByColumn=A}return N.fromSelectorsByColumn=function(f){return new N((0,g.tV)(f),!1,f)},N.fromSelectorsByColumnAndRoles=function(f,F){var k=new N((0,g.tV)(f),!1,f);return k.role=F,k},N.prototype.equals=function(f){return this.selector&&f.selector?this.highlight===f.highlight&&(0,g.fS)(this.selector,f.selector):!this.selector==!f.selector&&this.highlight===f.highlight},N.isEqual=function(f,F){return f===F||null!=f&&null!=F&&f.equals(F)},N.prototype.includes=function(f,F,A){if(void 0===F&&(F=!1),void 0===A&&(A=!1),!f)return!1;var k=this.selector,Y=f.selector;if(!k||!Y)return!1;var j=k.data,G=Y.data;if(!j&&k.metadata&&k.metadata!==Y.metadata||!F&&this.highlight!==f.highlight)return!1;if(j){if(!G)return!1;if(j.length>0)for(var I=function(R,w){var B=j[R];if(A){var C=B.expr;if(!_.some(G,function(d){return(0,V.yz)(C,d)}))return{value:!1}}else if(!G.some(function(d){return(0,V.fS)(B,d)}))return{value:!1}},E=0,T=j.length;E<T;E++){var m=I(E);if("object"==typeof m)return m.value}}return!0},N.prototype.getKey=function(){return void 0===this._key&&(this._key="{selector: ".concat(this.selector?this.getSelectorKey():null,", highlight: ").concat(this.highlight,"}")),this._key},N.prototype.getDecomposedKeys=function(f){return f?this._identityLevelKeys.getValue():this._columnLevelKeys.getValue()},N.prototype.getKeyWithoutHighlight=function(){return void 0===this._keyWithoutHighlight&&(this._keyWithoutHighlight="{selector: ".concat(this.selector?this.getSelectorKey():null,"}")),this._keyWithoutHighlight},N.prototype.hasIdentity=function(){return this.selector&&!!this.selector.data},N.prototype.getSelector=function(){return this.selector},N.prototype.getSelectorsByColumn=function(){return this.selectorsByColumn},N.prototype.getSelectorKey=function(){return void 0===this._selectorKey&&(this._selectorKey=(0,g.km)(this.selector)),this._selectorKey},N.createNull=function(f){return void 0===f&&(f=!1),new N(null,f)},N.createWithId=function(f,F){void 0===F&&(F=!1);var A=null;return f&&(A={data:[f]}),new N(A,F)},N.createWithMeasure=function(f,F){void 0===F&&(F=!1),l.fF.assertValue(f,"measureId");var k=new N({metadata:f},F);return k.selectorsByColumn={metadata:[f]},k},N.createWithIdAndMeasure=function(f,F,A){void 0===A&&(A=!1);var k={};return f&&(k.data=[f]),F&&(k.metadata=F),!f&&!F&&(k=null),new N(k,A)},N.createWithIdAndMeasureAndCategory=function(f,F,A,k,Y){void 0===k&&(k=!1),void 0===Y&&(Y=[]);var j=this.createWithIdAndMeasure(f,F,k);return j.selector&&(j.selectorsByColumn={},f&&A&&(j.selectorsByColumn.dataMap={},j.selectorsByColumn.dataMap[A]=[f]),F&&(j.selectorsByColumn.metadata=[F]),_.isEmpty(Y)||(j.selectorsByColumn.valueDetails=Y)),j},N.createWithIds=function(f,F,A){void 0===A&&(A=!1);var k=null,Y=N.idArray(f,F);return Y&&(k={data:Y}),new N(k,A)},N.createWithIdsAndMeasure=function(f,F,A,k){void 0===k&&(k=!1);var Y={},j=N.idArray(f,F);return j&&(Y.data=j),A&&(Y.metadata=A),!f&&!F&&!A&&(Y=null),new N(Y,k)},N.createWithSelectorForColumnAndMeasure=function(f,F,A,k){void 0===A&&(A=!1),void 0===k&&(k=[]);var Y={};return _.isEmpty(f)||(Y.dataMap=f),F&&(Y.metadata=[F]),!f&&!F&&(Y=null),_.isEmpty(k)||(Y.valueDetails=k),new N((0,g.tV)(Y),A,Y)},N.createWithSelectorForColumnAndMeasures=function(f,F,A,k){void 0===k&&(k=!1);var Y={};return _.isEmpty(f)||(Y.dataMap=f),_.isEmpty(F)||(Y.metadata=F),A&&(Y.valueDetails=A),!f&&_.isEmpty(F)&&(Y=null),new N((0,g.tV)(Y),k,Y)},N.createWithHighlight=function(f){l.fF.assertValue(f,"original"),l.fF.assert(function(){return!f.highlight},"!original.highlight");var F=new N(f.getSelector(),!0);return F.selectorsByColumn=f.selectorsByColumn,F},N.idArray=function(f,F){if(f||F){var A=[];return f&&A.push(f),F&&F!==f&&A.push(F),A}},N.ensureSelector=function(f){return f&&f.data&&(f.data=_.uniqWith(f.data,g.cY)),f},N}();function D(N,f,F){var k,A=N.format;return{expr:N.expr,get formattedValue(){return void 0===k&&(k=(0,S.WU)(f,A)),k},value:f,identity:F,queryName:N.queryName}}var b=function(){function N(){}return N.builder=function(){return new N},N.prototype.withColumnIdentity=function(f,F,A){var k;return this.addItemToDataMap(F,f),A&&(this.ensureValueDetails(),(k=this.valueDetails).push.apply(k,A)),this},N.prototype.withCategoryIdentity=function(f,F,A){return f&&f.source&&f.source.queryName&&(this.ensureValueDetails(),this.valueDetails.push(D(f.source,f.values[F],f.identity[F])),this.addItemToDataMap(f.source.queryName,A)),this},N.prototype.withCategory=function(f,F,A,k){if(void 0===k&&(k=!1),(0,P.rX)(f)){if(k&&A)for(var Y=0,j=f;Y<j.length;Y++)this.addCategoryValueDetails(j[Y],F);f[0]&&A&&f[0].identity&&this.addItemToDataMap(A,f[0].identity[F])}else k&&this.addCategoryValueDetails(f,F),f&&f.source&&f.source.queryName&&f.identity&&this.addItemToDataMap(f.source.queryName,f.identity[F]);return this},N.prototype.addCategoryValueDetails=function(f,F){f&&f.source&&f.source.queryName&&f.identity&&(this.ensureValueDetails(),this.valueDetails.push(D(f.source,f.values[F],f.identity[F])))},N.prototype.withSeries=function(f,F,A){return void 0===A&&(A=!1),f&&f.source&&f.source.queryName&&F&&(A&&(0,P.F)(F)&&(this.ensureValueDetails(),this.valueDetails.push(D(f.source,F.name,F.identity))),this.addItemToDataMap(f.source.queryName,F.identity)),this},N.prototype.withMeasure=function(f,F,A){if(this.ensureMeasures(),null!=f&&this.measures.push(f),F&&F.source.queryName===f)if(this.ensureValueDetails(),A>=0)this.valueDetails.push(D(F.source,F.values[A],void 0));else for(var k=0,Y=F.values;k<Y.length;k++)this.valueDetails.push(D(F.source,Y[k],void 0));return this},N.prototype.withMeasures=function(f){this.ensureMeasures();for(var F=0,A=f;F<A.length;F++)this.measures.push(A[F]);return this},N.prototype.createSelectionId=function(){return h.createWithSelectorForColumnAndMeasures(this.dataMap,this.measures,this.valueDetails)},N.prototype.clone=function(){var f=new N,F=this.dataMap;if(F){var A=f.dataMap={};for(var k in this.dataMap)A[k]=(0,c.ev)([],F[k]||[],!0)}return this.measures&&(f.measures=(0,c.ev)([],this.measures||[],!0)),f},N.prototype.ensureMeasures=function(){void 0===this.measures&&(this.measures=[])},N.prototype.ensureValueDetails=function(){void 0===this.valueDetails&&(this.valueDetails=[])},N.prototype.addItemToDataMap=function(f,F){if(F){this.dataMap||(this.dataMap={});var A=this.dataMap,k=A[f];if(null==k)return void(A[f]=[F]);k.push(F)}},N}()},338:function(ie,ve,v){v.d(ve,{$t:function(){return ae},QD:function(){return te},jS:function(){return rt},tg:function(){return le},dR:function(){return ee},vH:function(){return Me},$x:function(){return ze},qP:function(){return Pe},W2:function(){return Xe},U5:function(){return pe},Bn:function(){return lt},TI:function(){return Se},R$:function(){return we},Gk:function(){return Ae},ym:function(){return Ne},Ig:function(){return Qe},lH:function(){return De},vf:function(){return Fe},Sr:function(){return ce},a4:function(){return Oe},_6:function(){return xt},Hp:function(){return He},Um:function(){return nr},pV:function(){return Qt},Vn:function(){return Le}});var c=v(3188),l=v(130),n=v(9380),g=v(8955),V=v(1359),P=v(9291),S=v(8893),h=v(4791),D=v(7280),b=v(8399),N=v(1797),f=v(2972);function F(de){if(de&&(0,f.y)(de)){var ne=de.subquery.orderBy();if(!ne||1!==ne.length)return;var Ue=ne[0],tt=new A;return tt.visitOrderBy(Ue.expr)?{orderByField:tt.orderByField,isTop:2===Ue.direction,itemCount:de.subquery.top()}:void 0}}var A=function(de){function ne(){var Ue=de.call(this)||this;return Ue.orderByField=null,Ue}return(0,c.ZT)(ne,de),ne.prototype.visitOrderBy=function(Ue){return Ue.accept(this,0)},ne.prototype.visitAggr=function(Ue,tt){return 0===tt&&(g.fF.assertValue(te(Ue),"expected field pattern"),this.orderByField=Ue,!0)},ne.prototype.visitMeasureRef=function(Ue,tt){return 0===tt&&(this.orderByField=Ue,!0)},ne}(S.Ml);function Y(de,ne){var Ue=new j;ne.accept(Ue);var tt={fieldsBeingFiltered:_.uniqWith(Ue.fieldsBeingFiltered,n.fS),isSubquery:!1};if(Ue.subqueryName){tt.isSubquery=!0;var Ot=de.sources(),Dr=F(Ot&&Ot[Ue.subqueryName]);Dr&&(tt.orderByField=Dr.orderByField,tt.itemCount=Dr.itemCount,tt.isTop=Dr.isTop)}return tt}var j=function(de){function ne(){var Ue=de.call(this)||this;return Ue.fieldsBeingFiltered=[],Ue}return(0,c.ZT)(ne,de),ne.prototype.visitColumnRef=function(Ue){this.fieldsBeingFiltered.push(Ue)},ne.prototype.visitHierarchyLevel=function(Ue){this.fieldsBeingFiltered.push(Ue)},ne.prototype.visitGroupRef=function(Ue){this.fieldsBeingFiltered.push(Ue)},ne.prototype.visitSubqueryRef=function(Ue){Ue.variable?this.subqueryName=Ue.variable:g.fF.assertFail("SubqueryRef with a inlined subquery not expected here")},ne.prototype.visitAggr=function(Ue){te(Ue)&&this.fieldsBeingFiltered.push(Ue)},ne.prototype.visitPropertyVariationSource=function(Ue){this.fieldsBeingFiltered.push(Ue)},ne.prototype.visitMeasureRef=function(Ue){this.fieldsBeingFiltered.push(Ue)},ne}(S.PA),G=v(4344);function T(de,ne){g.fF.assertValue(de,"from"),g.fF.assertValue(ne,"condition");var Ue=new z;if(Ue.visitCondition(ne)){var tt=de.sources(),Ot=tt&&tt[Ue.subqueryName],$t=F(Ot);if($t&&(0,f.y)(Ot))return{fieldBeingFiltered:Ue.fieldBeingFiltered,isTop:$t.isTop,itemCount:Ot.subquery.top(),orderByField:$t.orderByField}}}var z=function(de){function ne(){var Ue=de.call(this)||this;return Ue.fieldBeingFiltered=null,Ue.subqueryName=null,Ue}return(0,c.ZT)(ne,de),ne.prototype.visitCondition=function(Ue){return Ue.accept(this,0)},ne.prototype.visitIn=function(Ue,tt){return!!(0===tt&&Ue.args&&1===Ue.args.length&&Ue.args[0].accept(this,1)&&Ue.table&&Ue.table.accept(this,2))},ne.prototype.visitColumnRef=function(Ue,tt){return 1===tt&&(this.fieldBeingFiltered=Ue,!0)},ne.prototype.visitHierarchyLevel=function(Ue,tt){return 1===tt&&(this.fieldBeingFiltered=Ue,!0)},ne.prototype.visitGroupRef=function(Ue,tt){return 1===tt&&(this.fieldBeingFiltered=Ue,!0)},ne.prototype.visitSubqueryRef=function(Ue,tt){return 2===tt&&(Ue.variable?this.subqueryName=Ue.variable:g.fF.assertFail("SubqueryRef with a direct subquery not expected here"),!0)},ne}(S.Ml),B=function(){function de(){}return de.prototype.visitIn=function(ne){return(0,P.Sh)(_.map(ne.args,function(Ue){return(0,D.B)(Ue)}),_.map(ne.values,function(Ue){return _.map(Ue,function(tt){return(0,P.kQ)(tt.value,tt.type)})}))},de.prototype.visitBetween=function(ne){if(ne&&ne.lower&&ne.upper){var Ue=(0,P.uQ)(ne.lower.unit,(0,P.CQ)(ne.lower.value)),tt=(0,P.uQ)(ne.upper.unit,(0,P.CQ)(ne.upper.value));return(0,P.vX)((0,D.B)(ne.arg),Ue,tt)}},de.prototype.visitRelativeDateRange=function(ne){return(0,G.kW)({field:(0,D.B)(ne.arg),options:ne.options})},de.prototype.visitComposite=function(ne){return null},de.prototype.visitTopN=function(ne){return null},de.prototype.visitComplex=function(ne){g.fF.assertFail("cannot recreate complex patterns as SQExprs")},de.prototype.visitAdvanced=function(ne){},de.prototype.visitCompare=function(ne){},de.prototype.visitHierarchical=function(ne){},de.instance=new de,de}(),d=function(){function de(ne){this.schema=ne}return de.prototype.tryMatchPattern=function(ne,Ue){var tt;if(g.fF.assert(function(){return void 0!==ne},"There is no SQFilter for this Semantic filter"),tt=this.matchTopN(ne,Ue))return tt;var Ot=ne&&ne.condition;if(Ot){if((tt=this.tryMatchExpr(Ot,2))||(tt=this.tryMatchComplex(ne,Ue)))return tt;g.fF.assert(function(){return null==tt},"There is no pattern that currently matches `expr`")}},de.prototype.tryMatchExpr=function(ne,Ue){var tt;if((tt=this.matchBasicFilter(ne))||(tt=this.matchRelativeRange(ne,b.wj.Date))||(tt=this.matchRelativeRange(ne,b.wj.Time))||(tt=this.matchDateRange(ne))||(tt=this.matchAdvanced(ne))||(tt=this.matchCompareOperator(ne))||1!==Ue&&(tt=this.tryMatchHierarchical(ne))||(tt=this.matchComposite(ne,Ue)))return tt;g.fF.assert(function(){return null==tt},"There is no pattern that currently matches `expr`")},de.prototype.tryMatchComplex=function(ne,Ue){var tt=function(de,ne){if(de){if(de instanceof V.yl){var Ue=de.conditions();return _.isEmpty(Ue)||Ue.length>1?void 0:Y(de.from(),Ue[0])}return Y(ne,de.condition)}}(ne,Ue);if(tt)return{complex:{args:_.map(tt.fieldsBeingFiltered,function(Ot){return te(Ot)})}}},de.prototype.matchBasicFilter=function(ne){var Ue=!1;if((0,l.Ym)(ne)&&(Ue=!0,ne=ne.arg),(0,l.Hi)(ne)&&!ne.table&&ne.values)return{in:{args:_.map(ne.args,function(tt){return te(tt)}),values:_.map(ne.values,function(tt){return _.map(tt,function(Ot,$t){return{value:Ot.value,type:Ot.type}})}),not:Ue}}},de.prototype.matchDateRange=function(ne){if((0,l.Kh)(ne)&&(0,l.dZ)(ne.lower)&&(0,l.dZ)(ne.upper))return{between:{arg:te(ne.arg),lower:{value:ne.lower.arg.value,unit:ne.lower.unit},upper:{value:ne.upper.arg.value,unit:ne.upper.unit}}}},de.prototype.matchTopN=function(ne,Ue){if(ne&&Ue){var tt=function(de,ne){if(de){if(de instanceof V.yl){var Ue=de.conditions();return g.fF.assertValue(Ue,"conditions"),g.fF.assert(function(){return 1===Ue.length},"should be exactly one filter condition for a TopN filter"),T(de.from(),Ue[0])}return T(ne,de.condition)}}(ne,Ue);if(tt)return{topN:{fieldBeingFiltered:te(tt.fieldBeingFiltered),isTop:tt.isTop,itemCount:tt.itemCount,orderByField:te(tt.orderByField)}}}},de.prototype.matchRelativeRange=function(ne,Ue){var tt=(0,G.ym)(ne,Ue);if(tt)return{relativeDateRange:{arg:te(tt.field),options:tt.options}}},de.prototype.matchCompareOperator=function(ne){var Ue=ne,tt=!1;if((0,l.Ym)(ne)&&(Ue=ne.arg,tt=!0),(0,l.$Q)(Ue)||(0,l.IS)(Ue)||(0,l.f8)(Ue)){var Ot=this.getValuePattern(Ue.left,Ue.right);if(Ot)return{compareOperator:{arg:te(Ue.left),filterOperator:this.mapFromSQExprKindToFilterOperator(Ue,tt),condition:Ot}}}},de.prototype.getValuePattern=function(ne,Ue){if((0,l.dZ)(Ue)){var tt=Ue.arg;if((0,l.VC)(tt))return{dateSpan:{value:tt.value,unit:Ue.unit}}}if((0,l.VC)(Ue))return{constant:{value:Ue.value,type:Ue.type}};if((0,l.FU)(Ue)){var Ot=N.m.getDefaultValue(ne,this.schema);return{defaultValue:{value:Ot.value,type:Ot.type}}}return(0,l.cw)(Ue)?{anyValue:{}}:void 0},de.prototype.matchAdvanced=function(ne){if((0,l.un)(ne)||(0,l.Z8)(ne)){var Ue=(0,l.un)(ne)?0:1,tt=this.matchAdvanced(ne.left)||this.matchCompareOperator(ne.left);if(tt){var Ot=this.matchAdvanced(ne.right)||this.matchCompareOperator(ne.right);if(Ot)return{advancedOperator:{logicalOperator:Ue,left:tt.advancedOperator||tt.compareOperator,right:Ot.advancedOperator||Ot.compareOperator}}}}},de.prototype.mapFromSQExprKindToFilterOperator=function(ne,Ue){var Ot=0;switch(ne.kind){case 12:Ot=Ue?6:5;break;case 14:Ot=Ue?8:7;break;case 13:var $t=ne;0===$t.comparison?Ot=(0,l.VC)($t.right)&&null==$t.right.value?Ue?12:11:(0,l.VC)($t.right)&&""===$t.right.value?Ue?14:13:Ue?10:9:1===$t.comparison?Ot=3:2===$t.comparison?Ot=4:3===$t.comparison?Ot=1:4===$t.comparison&&(Ot=2);break;default:Ot=0}return Ot},de.prototype.tryMatchHierarchical=function(ne){var $t,Dr,Ue=[],tt=[],Ot={hierarchical:{included:Ue,excluded:tt}};if(ne instanceof P.uV){if($t=this.tryGetHierarchicalNode(ne.left,!1)||this.tryGetHierarchicalNode(ne.right,!1),Dr=this.tryGetHierarchicalNode(ne.left,!0)||this.tryGetHierarchicalNode(ne.right,!0),!$t||!Dr)return}else if($t=this.tryGetHierarchicalNode(ne,!1),Dr=this.tryGetHierarchicalNode(ne,!0),!$t&&!Dr)return;return $t&&!this.matchHierarchicalNode($t,!1,Ue)||Dr&&!this.matchHierarchicalNode(Dr,!0,tt)?void 0:Ot},de.prototype.tryGetHierarchicalNode=function(ne,Ue){if(Ue){if(ne instanceof P.v3){if(ne.arg instanceof P.Xg||ne.arg instanceof P.uV)return ne.arg}else if(ne instanceof P.uV)return ne}else if(ne instanceof P.Cc||ne instanceof P.Xg)return ne},de.prototype.matchHierarchicalNode=function(ne,Ue,tt){if(ne instanceof P.Xg)return this.matchHierarchicalExpr(ne,Ue,tt);var Ot=this.tryGetHierarchicalNode(ne,Ue);if(!Ot)return!1;g.fF.assert(function(){return Ot instanceof P.Cc||Ot instanceof P.uV},".matchHierarchicalNode does not expect any other expr type");var $t=Ot;return this.matchHierarchicalExpr($t.left,Ue,tt)&&this.matchHierarchicalExpr($t.right,Ue,tt)},de.prototype.matchHierarchicalExpr=function(ne,Ue,tt){if(ne instanceof P.Xg){var Ot=this.matchBasicFilter(ne);return!!Ot&&(tt.push(Ot.in),Ot.in.not=Ue,!0)}return this.matchHierarchicalNode(ne,Ue,tt)},de.prototype.matchComposite=function(ne,Ue){var tt=!1;(0,l.Ym)(ne)&&(tt=!0,ne=ne.arg);var Ot=(0,l.Z8)(ne);if((!Ot||0!==Ue)&&((0,l.Z8)(ne)||(0,l.un)(ne))){var $t=Ot?1:0,Dr=this.tryMatchExpr(ne.left,$t),Br=this.tryMatchExpr(ne.right,$t);if(Dr&&Br)return{composite:{not:tt,operator:$t,filters:[Dr,Br]}}}},de}();function u(de,ne){g.fF.assertValue(de,"filterPattern"),g.fF.assertValue(ne,"visitor");var Ue=de.condition;return Ue.in?function(de,ne){return g.fF.assertValue(de,"pattern"),g.fF.assertValue(ne,"visitor"),ne.visitIn(de)}(Ue.in,ne):Ue.between?function(de,ne){return g.fF.assertValue(de,"pattern"),g.fF.assertValue(ne,"visitor"),ne.visitBetween(de)}(Ue.between,ne):Ue.relativeDateRange?function(de,ne){return g.fF.assertValue(de,"pattern"),g.fF.assertValue(ne,"visitor"),ne.visitRelativeDateRange(de)}(Ue.relativeDateRange,ne):Ue.compareOperator?function(de,ne){return g.fF.assertValue(de,"pattern"),g.fF.assertValue(ne,"visitor"),ne.visitCompare(de)}(Ue.compareOperator,ne):Ue.advancedOperator?function(de,ne){return g.fF.assertValue(de,"pattern"),g.fF.assertValue(ne,"visitor"),ne.visitAdvanced(de)}(Ue.advancedOperator,ne):Ue.composite?function(de,ne){return g.fF.assertValue(de,"pattern"),g.fF.assertValue(ne,"visitor"),ne.visitComposite(de)}(Ue.composite,ne):Ue.topN?function(de,ne){return g.fF.assertValue(de,"pattern"),g.fF.assertValue(ne,"visitor"),ne.visitTopN(de)}(Ue.topN,ne):Ue.complex?function(de,ne){return g.fF.assertValue(de,"pattern"),g.fF.assertValue(ne,"visitor"),ne.visitComplex(de)}(Ue.complex,ne):Ue.hierarchical?function(de,ne){return g.fF.assertValue(de,"pattern"),g.fF.assertValue(ne,"visitor"),ne.visitHierarchical(de)}(Ue.hierarchical,ne):void g.fF.assertFail("Failed to visit filterPattern")}function ee(de){return(0,P.m_)(le(de),de.aggregate)}function le(de){return(0,P.Oh)(Se(de),de.name)}function Ne(de){return(0,P.m_)((0,P.Wp)(de.name,Se(de),fe(de.groupedColumns)),de.aggregate)}function Ae(de){return(0,P.Wp)(de.name,Se(de),fe(de.groupedColumns))}function Se(de){return(0,P.nw)(de.schema,de.entity,de.entityVar)}function we(de){return(0,P.m_)(Se(de),de.aggregate)}function Pe(de){var ne=Se(de.source),Ue=(0,P.yU)(ne,de.variationName,de.source.name);return(0,P.bT)(Ue,de.hierarchy.name)}function ze(de){var ne=Se(de.source),Ue=(0,P.yU)(ne,de.variationName,de.source.name),tt=(0,P.bT)(Ue,de.level.name);return(0,P.os)(tt,de.level.level)}function Xe(de){return de.subqueryRef?(0,P.Oh)((0,P.v5)(de.subqueryRef),de.name):de.subquery?(0,P.Oh)((0,P.v5)(de.subquery),de.name):void 0}function Me(de){return(0,P.m_)((0,P.Oh)((0,P.v5)(de.subqueryRef),de.name),de.aggregate)}function pe(de){return(0,P.Oh)((0,P.GB)(de.transformTable.name),de.name)}function Fe(de){return(0,P.m_)(De(de),de.aggregate)}function De(de){return(0,P.os)(Qe(de),de.level)}function Qe(de){return(0,P.bT)(Se(de),de.name)}function rt(de){return(0,P.Y8)((0,D.B)(de.left),(0,D.B)(de.right),de.operator)}function lt(de){return(0,P.kQ)(de.value,de.type)}function Oe(de){return(0,P.Zy)((0,D.B)(de.measure),_.map(de.grouping,function(ne){return(0,D.B)(ne)}))}function ce(de){return new P.Wr(de.name,de.language,de.expression)}function fe(de){return _.map(de,function(ne){return(0,D.B)(ne)})}var ae=function(){function de(){}return de.prototype.visitColumn=function(ne){return le(ne)},de.prototype.visitColumnAggr=function(ne){return ee(ne)},de.prototype.visitGroupingColumn=function(ne){return Ae(ne)},de.prototype.visitGroupingColumnAggr=function(ne){return Ne(ne)},de.prototype.visitColumnHierarchyVariation=function(ne){return Pe(ne)},de.prototype.visitColumnHierarchyLevelVariation=function(ne){return ze(ne)},de.prototype.visitColumnSubquery=function(ne){return Xe(ne)},de.prototype.visitColumnAggrSubquery=function(ne){return Me(ne)},de.prototype.visitColumnTransformRef=function(ne){return pe(ne)},de.prototype.visitEntity=function(ne){return Se(ne)},de.prototype.visitEntityAggr=function(ne){return we(ne)},de.prototype.visitHierarchy=function(ne){return Qe(ne)},de.prototype.visitHierarchyLevel=function(ne){return De(ne)},de.prototype.visitHierarchyLevelAggr=function(ne){return Fe(ne)},de.prototype.visitMeasure=function(ne){return(0,P.mv)(this.visitEntity(ne),ne.name)},de.prototype.visitPercentile=function(ne){var Ue=(0,D.B)(ne.arg);return(0,P.Pe)(Ue,ne.k,ne.exclusive)},de.prototype.visitPercentOfGrandTotal=function(ne){var Ue=(0,D.B)(ne.baseExpr);return(0,P.Y8)(Ue,(0,P.ed)(Ue,[]),3)},de.prototype.visitPercentOfRoleTotal=function(ne){var Ue=(0,D.B)(ne.baseExpr);return(0,P.Y8)(Ue,(0,P.ed)(Ue,_.map(ne.roles,function(tt){return(0,P.Wu)(tt)})),3)},de.prototype.visitSelectRef=function(ne){return(0,P.xA)(ne.expressionName)},de.prototype.visitTransformOutputRoleRef=function(ne){return(0,P.hu)(ne.expressionName)},de.prototype.visitFilteredEval=function(ne){return(0,P.Xw)((0,D.B)(ne.baseExpr),_.map(ne.filters,function(Ue){return function(de){var ne={condition:u(de,B.instance)};return _.isEmpty(de.target)||(ne.target=_.map(de.target,function(Ue){return(0,D.B)(Ue)})),ne}(Ue)}))},de.prototype.visitArithmetic=function(ne){return rt(ne)},de.prototype.visitConstant=function(ne){return lt(ne)},de.prototype.visitSparklineData=function(ne){return Oe(ne)},de.prototype.visitNativeVisualCalc=function(ne){return ce(ne)},de.instance=new de,de}();function te(de,ne){return de.accept(new oe(ne))}var oe=function(de){function ne(Ue){var tt=de.call(this)||this;return tt.schema=Ue,tt}return(0,c.ZT)(ne,de),ne.prototype.visitColumnRef=function(Ue){var tt=Ue.source.accept(Ce.instance);if(tt){if(tt.entity){var Ot=tt.entity;return Ot.name=Ue.ref,{column:Ot}}if(tt.subquery)return tt.subquery.variable?{columnSubquery:{name:Ue.ref,subqueryRef:tt.subquery.variable}}:{columnSubquery:{name:Ue.ref,subquery:tt.subquery.query}};if(tt.transform)return{columnTransformRef:{name:Ue.ref,transformTable:tt.transform}}}},ne.prototype.visitMeasureRef=function(Ue){var tt=Ue.source.accept(Ce.instance);if(tt&&tt.entity){var Ot=tt.entity;return Ot.name=Ue.ref,{measure:Ot}}},ne.prototype.visitEntity=function(Ue){var tt={schema:Ue.schema,entity:Ue.entity};return Ue.variable&&(tt.entityVar=Ue.variable),{entity:tt}},ne.prototype.visitAggr=function(Ue){var tt=Ue.arg.accept(this);if(tt){if(tt.column)return(Ot=tt.column).aggregate=Ue.func,{columnAggr:Ot};if(tt.columnAggr)return(Ot=tt.columnAggr).aggregate=Ue.func,{columnAggr:Ot};if(tt.groupingColumn)return(Ot=tt.groupingColumn).aggregate=Ue.func,{groupingColumnAggr:Ot};if(tt.groupingColumnAggr)return(Ot=tt.groupingColumnAggr).aggregate=Ue.func,{groupingColumnAggr:Ot};if(tt.hierarchyLevel)return(Ot=tt.hierarchyLevel).aggregate=Ue.func,{hierarchyLevelAggr:Ot};if(tt.columnHierarchyLevelVariation)return(Ot=tt.columnHierarchyLevelVariation.level).aggregate=Ue.func,{hierarchyLevelAggr:Ot};if(tt.columnSubquery)return(Ot=tt.columnSubquery).aggregate=Ue.func,{columnAggrSubquery:Ot}}var Ot,$t=Ue.arg.accept(Ce.instance);if($t&&$t.entity)return(Ot=$t.entity).aggregate=Ue.func,{entityAggr:Ot}},ne.prototype.visitPercentile=function(Ue){return{percentile:{arg:Ue.arg.accept(this),k:Ue.k,exclusive:Ue.exclusive}}},ne.prototype.visitGroupRef=function(Ue){var tt=Ue.source.accept(Ce.instance);if(tt&&tt.entity){var Ot=tt.entity;Ot.name=Ue.ref,Ot.groupedColumns=[];for(var $t=0,Dr=Ue.groupedExprs;$t<Dr.length;$t++){var Ca=Dr[$t].accept(this);(Ca.column||Ca.groupingColumn||Ca.hierarchyLevel)&&Ot.groupedColumns.push(Ca)}return{groupingColumn:Ot}}},ne.prototype.visitHierarchy=function(Ue){var tt=Ue.arg.accept(Ce.instance);if(tt){if(tt.entity)return{hierarchy:{entity:tt.entity.entity,name:Ue.hierarchy,schema:tt.entity.schema}};if(tt.variation&&tt.variation.column){var Ot=tt.variation;if((0,l.jc)(Ue.arg)){var $t=Ue.arg;if((0,l.Lk)($t.arg)){var Dr=$t.arg,Br=this.schema.schema(Ot.column.schema).findTargetEntityOfVariation(Dr.entity,Ot.column.name,Ot.variationName);if(Br)return{columnHierarchyVariation:{source:(0,c.pi)({},Ot.column),hierarchy:{schema:Ot.column.schema,entity:Br.name,name:Ue.hierarchy},variationName:tt.variation.variationName}}}}}}},ne.prototype.visitHierarchyLevel=function(Ue){var tt=Ue.arg.accept(he.instance);if(tt){var Ot;if(tt.hierarchy&&(Ot={entity:tt.hierarchy.entity,schema:tt.hierarchy.schema,name:tt.hierarchy.name,level:Ue.level}),tt.variation){if(this.schema){var $t=tt.variation,Dr=this.schema.schema(tt.variation.column.schema).findTargetEntityOfVariation(Ot.entity,$t.column.name,$t.variationName);Dr&&(Ot.entity=Dr.name)}return{columnHierarchyLevelVariation:{source:{entity:tt.variation.column.entity,schema:tt.variation.column.schema,name:tt.variation.column.name},level:Ot,variationName:tt.variation.variationName}}}return{hierarchyLevel:Ot}}},ne.prototype.visitArithmetic=function(Ue){if(!(0,l.g5)(Ue.right))return{arithmetic:{left:Ue.left.accept(this),right:Ue.right.accept(this),operator:Ue.operator}};var tt={percentOfGrandTotal:{baseExpr:Ue.left.accept(this)}};if((0,n.fS)(Ue,(0,D.B)(tt)))return tt;var Ot=Ue.right.scope;return!_.isEmpty(Ot)&&_.every(Ot,function($t){return(0,l.yL)($t)})?{percentOfRoleTotal:{baseExpr:Ue.left.accept(this),roles:_.map(Ot,function($t){return $t.role})}}:void 0},ne.prototype.visitSelectRef=function(Ue){return{selectRef:{expressionName:Ue.expressionName}}},ne.prototype.visitTransformOutputRoleRef=function(Ue){return{transformOutputRoleRef:{expressionName:Ue.role}}},ne.prototype.visitFilteredEval=function(Ue){var tt=this,Ot=_.map(Ue.filters,function($t){var Dr=function(de,ne){if(de){var Ue=de.where();if(Ue){var tt=new d(ne),Ot=de.from();return Ue.map(function($t){var Dr=tt.tryMatchPattern($t,Ot);if(Dr){var Br={condition:Dr};return _.isEmpty($t.target)||(Br.target=_.map($t.target,function(Ca){return te(Ca)})),Br}})}}}(V.yl.fromSQFromAndSQFilters(new h.cL,[$t]),tt.schema);if(Dr)return g.fF.assert(function(){return 1===Dr.length},"There are more than one filter pattern in this Semantic Filter"),Dr[0]});return{filteredEval:{baseExpr:Ue.expression.accept(this),filters:Ot}}},ne.prototype.visitConstant=function(Ue){return{constant:{value:Ue.value,type:Ue.type}}},ne.prototype.visitSparklineData=function(Ue){var tt=this;return{sparklineData:{measure:Ue.measure.accept(this),grouping:_.map(Ue.grouping,function(Ot){return Ot.accept(tt)})}}},ne.prototype.visitNativeVisualCalc=function(Ue){return{nativeVisualCalc:{name:Ue.name,language:Ue.language,expression:Ue.expression}}},ne}(S.vq),Ce=function(de){function ne(){return null!==de&&de.apply(this,arguments)||this}return(0,c.ZT)(ne,de),ne.prototype.visitEntity=function(Ue){var tt={schema:Ue.schema,entity:Ue.entity};return Ue.variable&&(tt.entityVar=Ue.variable),{entity:tt}},ne.prototype.visitPropertyVariationSource=function(Ue){var tt=Ue.arg;if(tt instanceof P.PN){var Ot={schema:tt.schema,entity:tt.entity,name:Ue.property};return tt.variable&&(Ot.entityVar=tt.variable),{variation:{column:Ot,variationName:Ue.name}}}},ne.prototype.visitSubqueryRef=function(Ue){return Ue.variable?{subquery:{variable:Ue.variable}}:{subquery:{query:Ue.query}}},ne.prototype.visitTransformTableRef=function(Ue){return g.fF.assertValue(Ue,"expr"),g.fF.assertValue(Ue.source,"source"),{transform:{name:null==Ue?void 0:Ue.source}}},ne.instance=new ne,ne}(S.vq),he=function(de){function ne(){return null!==de&&de.apply(this,arguments)||this}return(0,c.ZT)(ne,de),ne.prototype.visitHierarchy=function(Ue){var Ot,$t,tt=Ue.arg.accept(Ce.instance);return tt.variation?(Ot={name:Ue.hierarchy,schema:tt.variation.column.schema,entity:tt.variation.column.entity},$t=tt.variation):Ot={name:Ue.hierarchy,schema:tt.entity.schema,entity:tt.entity.entity},{hierarchy:Ot,variation:$t}},ne.instance=new ne,ne}(S.vq);function Le(de,ne){return g.fF.assertValue(de,"expr"),g.fF.assertValue(ne,"visitor"),g.fF.assertValue(de,"expected sqExpr to conform to a fieldExprPattern"),de.column?function(de,ne){return g.fF.assertValue(de,"column"),g.fF.assertValue(ne,"visitor"),ne.visitColumn(de)}(de.column,ne):de.columnAggr?function(de,ne){return g.fF.assertValue(de,"columnAggr"),g.fF.assertValue(ne,"visitor"),ne.visitColumnAggr(de)}(de.columnAggr,ne):de.groupingColumn?function(de,ne){return g.fF.assertValue(de,"column"),g.fF.assertValue(ne,"visitor"),ne.visitGroupingColumn(de)}(de.groupingColumn,ne):de.groupingColumnAggr?function(de,ne){return g.fF.assertValue(de,"columnAggr"),g.fF.assertValue(ne,"visitor"),ne.visitGroupingColumnAggr(de)}(de.groupingColumnAggr,ne):de.columnHierarchyVariation?function(de,ne){return g.fF.assertValue(de,"columnHierarchyVariation"),g.fF.assertValue(ne,"visitor"),ne.visitColumnHierarchyVariation(de)}(de.columnHierarchyVariation,ne):de.columnHierarchyLevelVariation?function(de,ne){return g.fF.assertValue(de,"columnHierarchyLevelVariation"),g.fF.assertValue(ne,"visitor"),ne.visitColumnHierarchyLevelVariation(de)}(de.columnHierarchyLevelVariation,ne):de.columnSubquery?function(de,ne){return g.fF.assertValue(de,"columnSubquery"),g.fF.assertValue(ne,"visitor"),ne.visitColumnSubquery(de)}(de.columnSubquery,ne):de.columnAggrSubquery?function(de,ne){return g.fF.assertValue(de,"columnAggrSubquery"),g.fF.assertValue(ne,"visitor"),ne.visitColumnAggrSubquery(de)}(de.columnAggrSubquery,ne):de.columnTransformRef?function(de,ne){return g.fF.assertValue(de,"columnTransformRef"),g.fF.assertValue(ne,"visitor"),ne.visitColumnTransformRef(de)}(de.columnTransformRef,ne):de.entity?function(de,ne){return g.fF.assertValue(de,"entity"),g.fF.assertValue(ne,"visitor"),ne.visitEntity(de)}(de.entity,ne):de.entityAggr?function(de,ne){return g.fF.assertValue(de,"entityAggr"),g.fF.assertValue(ne,"visitor"),ne.visitEntityAggr(de)}(de.entityAggr,ne):de.hierarchy?function(de,ne){return g.fF.assertValue(de,"hierarchy"),g.fF.assertValue(ne,"visitor"),ne.visitHierarchy(de)}(de.hierarchy,ne):de.hierarchyLevel?function(de,ne){return g.fF.assertValue(de,"hierarchyLevel"),g.fF.assertValue(ne,"visitor"),ne.visitHierarchyLevel(de)}(de.hierarchyLevel,ne):de.hierarchyLevelAggr?function(de,ne){return g.fF.assertValue(de,"hierarchyLevelAggr"),g.fF.assertValue(ne,"visitor"),ne.visitHierarchyLevelAggr(de)}(de.hierarchyLevelAggr,ne):de.measure?function(de,ne){return g.fF.assertValue(de,"measure"),g.fF.assertValue(ne,"visitor"),ne.visitMeasure(de)}(de.measure,ne):de.percentile?function(de,ne){return g.fF.assertValue(de,"percentile"),g.fF.assertValue(ne,"visitor"),ne.visitPercentile(de)}(de.percentile,ne):de.percentOfGrandTotal?function(de,ne){return g.fF.assertValue(de,"percentOfGrandTotal"),g.fF.assertValue(ne,"visitor"),ne.visitPercentOfGrandTotal(de)}(de.percentOfGrandTotal,ne):de.percentOfRoleTotal?function(de,ne){return g.fF.assertValue(de,"percentOfRoleTotal"),g.fF.assertValue(ne,"visitor"),ne.visitPercentOfRoleTotal(de)}(de.percentOfRoleTotal,ne):de.selectRef?function(de,ne){return g.fF.assertValue(de,"selectRef"),g.fF.assertValue(ne,"visitor"),ne.visitSelectRef(de)}(de.selectRef,ne):de.transformOutputRoleRef?function(de,ne){return g.fF.assertValue(de,"transformOutputRoleRef"),g.fF.assertValue(ne,"visitor"),ne.visitTransformOutputRoleRef(de)}(de.transformOutputRoleRef,ne):de.filteredEval?function(de,ne){return g.fF.assertValue(de,"filteredEval"),g.fF.assertValue(ne,"visitor"),ne.visitFilteredEval(de)}(de.filteredEval,ne):de.arithmetic?function(de,ne){return g.fF.assertValue(de,"arithmetic"),g.fF.assertValue(ne,"visitor"),ne.visitArithmetic(de)}(de.arithmetic,ne):de.constant?function(de,ne){return g.fF.assertValue(de,"constant"),g.fF.assertValue(ne,"visitor"),ne.visitConstant(de)}(de.constant,ne):de.sparklineData?function(de,ne){return g.fF.assertValue(de,"sparkline"),g.fF.assertValue(ne,"visitor"),ne.visitSparklineData(de)}(de.sparklineData,ne):de.nativeVisualCalc?function(de,ne){return g.fF.assertValue(de,"nativeVisualCalc"),g.fF.assertValue(ne,"visitor"),ne.visitNativeVisualCalc(de)}(de.nativeVisualCalc,ne):void g.fF.assertFail("failed to visit a fieldExprPattern.")}function He(de){var ne=Le(de,yr.instance);return g.fF.assert(function(){return!ne||1===_.size(ne)},"If there are more than 1 property names, then use getPropertyNames instead"),null==ne?void 0:ne[0]}function xt(de){return He(de)||nr(de).entity}function nr(de){var ne=Le(de,lr.instance);return g.fF.assert(function(){return!ne||1===_.size(ne)},"If there are more than 1 entity, then use toFieldExprEntityItemPatterns instead"),null==ne?void 0:ne[0]}function Qt(de){return Le(de,lr.instance)}var lr=function(){function de(){}return de.prototype.visitColumn=function(ne){return[de.toEntityItemExprPattern(ne)]},de.prototype.visitColumnAggr=function(ne){return[de.toEntityItemExprPattern(ne)]},de.prototype.visitGroupingColumn=function(ne){return[de.toEntityItemExprPattern(ne)]},de.prototype.visitGroupingColumnAggr=function(ne){return[de.toEntityItemExprPattern(ne)]},de.prototype.visitColumnHierarchyVariation=function(ne){return[de.toEntityItemExprPattern(ne.source)]},de.prototype.visitColumnHierarchyLevelVariation=function(ne){return[de.toEntityItemExprPattern(ne.source)]},de.prototype.visitColumnSubquery=function(ne){},de.prototype.visitColumnAggrSubquery=function(ne){},de.prototype.visitColumnTransformRef=function(ne){},de.prototype.visitEntity=function(ne){return[de.toEntityItemExprPattern(ne)]},de.prototype.visitEntityAggr=function(ne){return[de.toEntityItemExprPattern(ne)]},de.prototype.visitHierarchy=function(ne){return[de.toEntityItemExprPattern(ne)]},de.prototype.visitHierarchyLevel=function(ne){return[de.toEntityItemExprPattern(ne)]},de.prototype.visitHierarchyLevelAggr=function(ne){return[de.toEntityItemExprPattern(ne)]},de.prototype.visitMeasure=function(ne){return[de.toEntityItemExprPattern(ne)]},de.prototype.visitSelectRef=function(ne){},de.prototype.visitPercentile=function(ne){return Le(ne.arg,this)},de.prototype.visitPercentOfGrandTotal=function(ne){return Le(ne.baseExpr,this)},de.prototype.visitPercentOfRoleTotal=function(ne){return Le(ne.baseExpr,this)},de.prototype.visitTransformOutputRoleRef=function(ne){},de.prototype.visitFilteredEval=function(ne){return Le(ne.baseExpr,this)},de.prototype.visitArithmetic=function(ne){var Ue=Le(ne.left,this),tt=Le(ne.right,this),Ot=Ue&&tt?(0,c.ev)((0,c.ev)([],Ue,!0),tt,!0):null!=Ue?Ue:tt;return _.isEmpty(Ot)?void 0:Ot},de.prototype.visitConstant=function(ne){},de.prototype.visitSparklineData=function(ne){var Ue=this;return(0,c.ev)((0,c.ev)([],Le(ne.measure,this),!0),_.chain(ne.grouping).map(function(tt){return Le(tt,Ue)}).flatten().value(),!0)},de.prototype.visitNativeVisualCalc=function(ne){},de.toEntityItemExprPattern=function(ne){g.fF.assertValue(ne,"exprPattern");var Ue={schema:ne.schema,entity:ne.entity};return ne.entityVar&&(Ue.entityVar=ne.entityVar),Ue},de.instance=new de,de}(),yr=function(){function de(){}return de.prototype.visitColumn=function(ne){return[ne.name]},de.prototype.visitColumnAggr=function(ne){return[ne.name]},de.prototype.visitGroupingColumn=function(ne){return[ne.name]},de.prototype.visitGroupingColumnAggr=function(ne){return[ne.name]},de.prototype.visitColumnHierarchyVariation=function(ne){},de.prototype.visitColumnHierarchyLevelVariation=function(ne){},de.prototype.visitColumnSubquery=function(ne){return[ne.name]},de.prototype.visitColumnAggrSubquery=function(ne){return[ne.name]},de.prototype.visitColumnTransformRef=function(ne){return[ne.name]},de.prototype.visitEntity=function(ne){},de.prototype.visitEntityAggr=function(ne){},de.prototype.visitHierarchy=function(ne){},de.prototype.visitHierarchyLevel=function(ne){},de.prototype.visitHierarchyLevelAggr=function(ne){},de.prototype.visitMeasure=function(ne){return[ne.name]},de.prototype.visitSelectRef=function(ne){},de.prototype.visitPercentile=function(ne){return Le(ne.arg,this)},de.prototype.visitPercentOfGrandTotal=function(ne){return Le(ne.baseExpr,this)},de.prototype.visitPercentOfRoleTotal=function(ne){return Le(ne.baseExpr,this)},de.prototype.visitTransformOutputRoleRef=function(ne){},de.prototype.visitFilteredEval=function(ne){return Le(ne.baseExpr,this)},de.prototype.visitArithmetic=function(ne){var Ue=Le(ne.left,this),tt=Le(ne.right,this),Ot=Ue&&tt?(0,c.ev)((0,c.ev)([],Ue,!0),tt,!0):null!=Ue?Ue:tt;return _.isEmpty(Ot)?void 0:Ot},de.prototype.visitConstant=function(ne){},de.prototype.visitSparklineData=function(ne){var Ue=this;return(0,c.ev)((0,c.ev)([],Le(ne.measure,this),!0),_.chain(ne.grouping).map(function(tt){return Le(tt,Ue)}).flatten().value(),!0)},de.prototype.visitNativeVisualCalc=function(ne){return[ne.name]},de.instance=new de,de}()},7280:function(ie,ve,v){v.d(ve,{B:function(){return n}});var c=v(8955),l=v(338);function n(g){var V=(0,l.Vn)(g,l.$t.instance);return c.fF.assertValue(V,"Failed to convert FieldExprPattern into SQExpr"),V}},4225:function(ie,ve,v){v.d(ve,{_:function(){return V}});var c=v(3188),l=v(8955);function V(S){l.fF.assertValue(S,"expr");var h=new P;return S.accept(h),h.analyze().filterKind}var P=function(S){function h(){var D=S.call(this)||this;return D.entityExprs={},D.filterKind=0,D.isSubquery=!1,D}return(0,c.ZT)(h,S),h.prototype.analyze=function(){return{entitiesByName:this.entityExprs,filterKind:this.isSubquery?3:this.filterKind}},h.prototype.visitMeasureRef=function(D){this.filterKind=1,D.source.accept(this)},h.prototype.visitExists=function(D){this.filterKind=2,D.arg.accept(this)},h.prototype.visitAggr=function(D){this.filterKind=1,D.arg.accept(this)},h.prototype.visitSubqueryRef=function(D){this.isSubquery=!0},h.prototype.visitEntity=function(D){this.entityExprs[D.entity]=!0},h}(v(8893).PA)},4842:function(ie,ve,v){v.d(ve,{VM:function(){return P},pi:function(){return g}});var c=v(130),l=v(8955),n=v(8207);function g(N){if(N){var f=N.conditions();if(f&&1===f.length)return function(N){var f=new b;return f.tryParseCondition(N)?{field:f.field,options:f.options}:null}(f[0])}}function P(N){return D(N,1)}function D(N,f){var F={};if(null!=N.min){l.fF.assert(function(){return(0,n.M4)(N.min)},"Implementing DateWithEpochValue is needed for serialization");var A=(0,n.Fh)(N.min);A.setHours(0,0,0,0);var k=new Date(A.epochTimeStamp);k.setUTCHours(0,0,0,0),A.epochTimeStamp=k.getTime(),F.min=A}if(null!=N.max){l.fF.assert(function(){return(0,n.M4)(N.max)},"Implementing DateWithEpochValue is needed for serialization");var Y=new Date(N.max.getFullYear(),N.max.getMonth(),N.max.getDate()+f);Y.epochTimeStamp=Date.UTC(Y.getFullYear(),Y.getMonth(),Y.getDate()),F.max=Y}return F}var b=function(){function N(){}return N.prototype.tryParseCondition=function(f){return(0,c.un)(f)?this.tryParseAndCondition(f):!!(0,c.$Q)(f)&&this.tryParseCompareCondition(f)},N.prototype.tryParseAndCondition=function(f){var F=f;return!(!(0,c.$Q)(F.left)||!(0,c.$Q)(F.right))&&this.tryParseCompareCondition(F.left)&&this.tryParseCompareCondition(F.right)},N.prototype.tryParseCompareCondition=function(f){var F=f;return!(!(0,c.t3)(F.left)&&!(0,c.ez)(F.left))&&(this.field=F.left,this.options=this.options||{},this.tryParseNumericCompareCondition(F)||this.tryParseDateCompareCondition(F))},N.prototype.tryParseNumericCompareCondition=function(f){if(!(0,c.S9)(f.right))return!1;switch(f.comparison){case 0:this.options.min=f.right.value,this.options.max=f.right.value;break;case 1:case 2:this.options.min=f.right.value;break;case 3:case 4:this.options.max=f.right.value;break;default:return l.fF.assertNever(f.comparison),!1}return!0},N.prototype.tryParseDateCompareCondition=function(f){return(0,c.dZ)(f.right)&&f.right.arg&&(0,c.fU)(f.right.arg)?this.tryParseDateConstantCondition(f.comparison,f.right.arg):!!(0,c.fU)(f.right)&&this.tryParseDateConstantCondition(f.comparison,f.right)},N.prototype.parseDateValue=function(f){return(0,n.M4)(f)?f:(0,n.Fg)(new Date(f))},N.prototype.tryParseDateConstantCondition=function(f,F){switch(f){case 0:this.options.min=this.parseDateValue(F.value),this.options.max=this.parseDateValue(F.value);break;case 1:case 2:this.options.min=this.parseDateValue(F.value);break;case 3:this.options.max=this.parseDateValue(F.value),this.options=function(N){return D(N,-1)}(this.options);break;case 4:this.options.max=this.parseDateValue(F.value);break;default:return l.fF.assertNever(f),!1}return 3!==f&&(this.options=function(N){return D(N,0)}(this.options)),!0},N}()},4344:function(ie,ve,v){v.d(ve,{kW:function(){return S},pi:function(){return f},ym:function(){return F}});var c=v(130),l=v(9380),n=v(8955),g=v(8399),V=v(9291);function S(G,I){void 0===I&&(I=!1);var E=G.field,T=G.options,m=null,z=(0,V.zO)();if(G.options.anchorDate&&!(0,g.Re)(T.relativeUnit)){var R=G.options.anchorDate;R.epochTimeStamp=Date.UTC(R.getFullYear(),R.getMonth(),R.getDate(),R.getHours(),R.getMinutes(),R.getSeconds(),R.getMilliseconds()),z=(0,V.CQ)(G.options.anchorDate)}var w=function(G){switch(G){case g.hU.CalendarYear:case g.hU.Year:return 3;case g.hU.CalendarMonth:case g.hU.Month:return 2;case g.hU.CalendarWeek:case g.hU.Week:return 1;case g.hU.Day:return 0;case g.hU.Hour:return 7;case g.hU.Minute:return 6;case g.hU.Second:return 5;default:return void n.fF.assertFail("Unsupported RelativeDateUnit")}}(T.relativeUnit),B=function(G,I){switch(void 0===I&&(I=!1),G){case g.hU.Second:case g.hU.Minute:case g.hU.Hour:case g.hU.Year:case g.hU.Month:case g.hU.Week:return!1;case g.hU.Day:return I;case g.hU.CalendarYear:case g.hU.CalendarMonth:case g.hU.CalendarWeek:return!0;default:return void n.fF.assertFail("Unsupported RelativeDateUnit")}}(T.relativeUnit,I);switch(T.relativeQualifier){case g.KO.Current:var C=(0,V.uQ)(w,z);m=(0,V.qu)(0,E,C);break;case g.KO.Last:if(B)m=h(-T.duration,-1,w,z,E);else if((0,g.Re)(T.relativeUnit)){var d=z,u=(0,V.sO)(w,-T.duration,z);m=(0,V.vX)(E,u,d)}else{var y=T.includeToday?z:(0,V.sO)(0,-1,z);d=(0,V.uQ)(0,y),u=(0,V.uQ)(0,(0,V.sO)(w,-T.duration,(0,V.sO)(0,1,y))),m=(0,V.vX)(E,u,d)}break;case g.KO.Next:if(B)m=h(1,T.duration,w,z,E);else if((0,g.Re)(T.relativeUnit))u=z,d=(0,V.sO)(w,T.duration,z),m=(0,V.vX)(E,u,d);else{var M=T.includeToday?z:(0,V.sO)(0,1,z);u=(0,V.uQ)(0,M),d=(0,V.uQ)(0,(0,V.sO)(w,T.duration,(0,V.sO)(0,-1,M))),m=(0,V.vX)(E,u,d)}}return m}function h(G,I,E,T,m){var z=(0,V.uQ)(E,(0,V.sO)(E,G,T)),R=(0,V.uQ)(E,(0,V.sO)(E,I,T));return(0,V.vX)(m,z,R)}function N(G,I){switch(G){case 0:return g.hU.Day;case 1:return I?g.hU.CalendarWeek:g.hU.Week;case 2:return I?g.hU.CalendarMonth:g.hU.Month;case 3:return I?g.hU.CalendarYear:g.hU.Year;case 7:return g.hU.Hour;case 6:return g.hU.Minute;case 5:return g.hU.Second;default:return}}function f(G,I){if(G){var E=G.conditions();if(E&&1===E.length)return F(E[0],I)}}function F(G,I){var E=new j(I);if(E.tryExtractParametersFrom(G))return{field:E.field,options:E.options}}var j=function(){function G(I){this.relativeFilterType=I}return G.prototype.tryExtractParametersFrom=function(I){return this.tryExtractCurrent(I)||this.tryExtractLastOrNext(I)},G.prototype.tryExtractCurrent=function(I){if((0,c.$Q)(I)){var E=I;if(((0,c.t3)(E.left)||(0,c.ez)(E.left))&&(this.field=E.left,(0,c.dZ)(E.right))){var T=E.right,m=g.t0.convertTimeUnitToRelativeFilterType(T.unit);if(this.relativeFilterType!==m)return!1;if(void 0!==N(T.unit,!1)&&((0,c.jr)(T.arg)||(0,c.fU)(T.arg))&&(this.options={duration:1,includeToday:!0,includeTodayFromDefault:!0,relativeQualifier:g.KO.Current,relativeUnit:N(T.unit,!1)},(0,c.fU)(T.arg)&&(this.options.anchorDate=T.arg.value),this.validateOptions(I)))return!0}}return!1},G.prototype.tryExtractLastOrNext=function(I){if((0,c.Kh)(I)){var E=I;if((0,c.t3)(E.arg)||(0,c.ez)(E.arg))if(this.field=E.arg,(0,c.dZ)(E.upper)&&(0,c.dZ)(E.lower)){if(this.options=this.getOptionsFromDateSpan(E.lower,g.KO.Last),this.validateOptions(I)||(this.options=this.getOptionsFromDateSpan(E.upper,g.KO.Next),this.validateOptions(I)))return!0}else if((0,c.Ok)(E.upper)||(0,c.Ok)(E.lower)){var T=E.lower,m=E.upper;if(this.options=this.getOptionsFromDateAdd(T,T.unit,g.KO.Last),this.validateOptions(I)||(this.options=this.getOptionsFromDateAdd(m,m.unit,g.KO.Next),this.validateOptions(I)))return!0}}return!1},G.prototype.getOptionsFromDateSpan=function(I,E){if((0,c.dZ)(I))return this.getOptionsFromDateAdd(I.arg,I.unit,E)},G.prototype.getOptionsFromDateAdd=function(I,E,T){if((0,c.Ok)(I)){var m=I,z=g.t0.convertTimeUnitToRelativeFilterType(m.unit);if(this.relativeFilterType!==z)return;var R=E===m.unit&&0!==E,w=!!R||this.getIncludeToday(m.arg),B=this.getAnchorDate(m);switch(T){case g.KO.Last:if(m.amount<0)return{duration:-m.amount,includeToday:w,relativeQualifier:T,relativeUnit:N(m.unit,R),anchorDate:B};break;case g.KO.Next:if(m.amount>0)return{duration:m.amount,includeToday:w,relativeQualifier:T,relativeUnit:N(m.unit,R),anchorDate:B}}}},G.prototype.getAnchorDate=function(I){for(var E=I;(0,c.Ok)(E);)E=E.arg;if((0,c.fU)(E))return E.value},G.prototype.getIncludeToday=function(I){if((0,c.Ok)(I)){var E=I;return(0,c.jr)(E.arg)||(0,c.fU)(E.arg)}return!1},G.prototype.validateOptions=function(I){if(!this.field||!this.options)return!1;var E={field:this.field,options:this.options};return(0,l.fS)(I,S(E))||this.options.relativeUnit===g.hU.Day&&!this.options.includeToday&&(0,l.fS)(I,S(E,!0))},G}()},5353:function(ie,ve,v){v.d(ve,{Cj:function(){return A},Dh:function(){return b},FD:function(){return N},J2:function(){return f},KX:function(){return D},RR:function(){return h},aL:function(){return k},lZ:function(){return F}});var c=v(3188),l=v(130),n=v(9380),g=v(2490),V=v(8955),P=v(9291),S=v(8893);function h(I){var E=new k;return I.accept(E),E.malformed?null:(0,g.rm)(E.keys)}function D(I){var E=new k;return I.accept(E),E.malformed?null:(0,g.rm)(E.values)}function b(I){var E=new k;return I.accept(E),E.malformed?null:(0,g.rm)(E.pairs)}function N(I){if((0,l.Hi)(I))return I;var E=new k;if(I.accept(E),!E.malformed){var T=(0,g.rm)(E.keys),m=(0,g.rm)(E.values);if(T&&m)return(0,P.Sh)(T,[m])}}function f(I,E){V.fF.assertValue(I,"expr"),V.fF.assertNonEmpty(E,"subsetFieldExprs");var T=new Y(E);return I.accept(T),T.getResult()}function F(I,E){if(!E||!I)return[];var T=new G(I);return E.accept(T),T.getValues()}function A(I){var E=new j;return I.accept(E),!!E.containsSelectRef}var k=function(I){function E(){var T=null!==I&&I.apply(this,arguments)||this;return T.keys=[],T.values=[],T.pairs=[],T}return(0,c.ZT)(E,I),E.prototype.visitAnd=function(T){T.left.accept(this),T.right.accept(this)},E.prototype.visitCompare=function(T){0===T.comparison?(V.fF.assert(function(){return T.left instanceof P.Il&&T.right instanceof P.jz},"invalid compare expr operands"),this.pairs.push(T),T.left.accept(this),T.right.accept(this)):this.visitDefault(T)},E.prototype.visitIn=function(T){for(var m=0,z=T.args;m<z.length;m++)z[m].accept(this);for(var w=0,B=T.values;w<B.length;w++)for(var d=0,u=B[w];d<u.length;d++)u[d].accept(this)},E.prototype.visitSelectRef=function(T){this.keys.push(T)},E.prototype.visitColumnRef=function(T){this.keys.push(T)},E.prototype.visitGroupRef=function(T){this.keys.push(T)},E.prototype.visitHierarchyLevel=function(T){this.keys.push(T)},E.prototype.visitConstant=function(T){this.values.push(T)},E.prototype.visitArithmetic=function(T){this.keys.push(T)},E.prototype.visitDefault=function(T){this.malformed=!0},E}(S.vq),Y=function(I){function E(T){var m=I.call(this)||this;return V.fF.assertNonEmpty(T,"identityFieldExprs"),m.identityFieldExprs=T,m.identityComparisonExprs=[],m.identityComparisonExprCount=0,m}return(0,c.ZT)(E,I),E.prototype.getResult=function(){var T=this;if(V.fF.assert(function(){return T.identityComparisonExprCount===_.filter(T.identityComparisonExprs,function(B){return!!B}).length},"invariant: this.identityComparisonExprCount should equal to the number of defined elements in this.identityComparisonExprs array"),!this.malformed&&this.identityComparisonExprCount===this.identityFieldExprs.length){for(var m,z=0,R=this.identityComparisonExprs;z<R.length;z++){var w=R[z];m=m?(0,P.xD)(m,w):w}return m}},E.prototype.visitAnd=function(T){T.left.accept(this),T.right.accept(this)},E.prototype.visitCompare=function(T){if(0===T.comparison){var m=_.findIndex(this.identityFieldExprs,function(z){return(0,n.fS)(T.left,z)});m>=0&&!this.identityComparisonExprs[m]&&(this.identityComparisonExprs[m]=T,this.identityComparisonExprCount++)}else this.visitDefault(T)},E.prototype.visitDefault=function(T){this.malformed=!0},E}(S.vq),j=function(I){function E(){return null!==I&&I.apply(this,arguments)||this}return(0,c.ZT)(E,I),E.prototype.visitSelectRef=function(T){this.containsSelectRef=!0},E}(S.PA),G=function(I){function E(T){var m=I.call(this)||this;return m.targetExpr=T,m.orderedValues=[],m}return(0,c.ZT)(E,I),E.prototype.getValues=function(){return _.uniq(this.orderedValues)},E.prototype.visitAnd=function(T){T.left.accept(this),T.right.accept(this)},E.prototype.visitOr=function(T){T.left.accept(this),T.right.accept(this)},E.prototype.visitCompare=function(T){0===T.comparison&&(T.right instanceof P.Wh&&(0,n.fS)(T.right,this.targetExpr)&&T.left instanceof P.jz&&this.orderedValues.push(T.left.value),T.left instanceof P.Wh&&(0,n.fS)(T.left,this.targetExpr)&&T.right instanceof P.jz&&this.orderedValues.push(T.right.value))},E.prototype.visitIn=function(T){var m=-1;if(!T.table){for(var z=0;z<T.args.length;z++)if((0,n.fS)(T.args[z],this.targetExpr)){m=z;break}if(-1!==m)for(var R=0,w=T.values;R<w.length;R++){var C=w[R][m];C instanceof P.jz&&this.orderedValues.push(C.value)}}},E}(S.vq)},1359:function(ie,ve,v){v.d(ve,{yl:function(){return j},vQ:function(){return Y}});var c=v(3188),l=v(2490),n=v(8955),g=v(1190),V=v(4225),P=v(9291),S=v(6330),h=v(1797),D=v(8893),b=v(4791),N=v(2972),F=v(130),A=v(9380),k=function(){function C(d){this.exprRewriter=d}return C.rewriteFrom=function(d,u){for(var y,M=d,L=M.keys(),O=0,H=L.length;O<H;O++){var Q=L[O],X=M.source(Q),W=X.accept(u,Q);(X!==W||y)&&(y||(y=_.pick(M.sources(),L.slice(0,O))),y[Q]=W)}return y?new b.cL(y):M},C.prototype.rewriteFrom=function(d){return C.rewriteFrom(d,new b.Ww(this.exprRewriter))},C.prototype.rewriteSelect=function(d,u){return n.fF.assertValue(d,"selectItems"),n.fF.assertValue(u,"from"),this.rewriteNamedSQExpressions(d,u)},C.prototype.rewriteGroupBy=function(d,u){if(n.fF.assertAnyValue(d,"groupByitems"),n.fF.assertValue(u,"from"),!_.isEmpty(d))return this.rewriteNamedSQExpressions(d,u)},C.prototype.rewriteNamedSQExpressions=function(d,u){var y=this;return n.fF.assertValue(d,"expressions"),_.map(d,function(M){return{name:M.name,expr:G.rewrite(M.expr.accept(y.exprRewriter),u,u),nativeReferenceName:M.nativeReferenceName}})},C.prototype.rewriteOrderBy=function(d,u){if(n.fF.assertAnyValue(d,"orderByItems"),n.fF.assertValue(u,"from"),!_.isEmpty(d)){for(var y=[],M=0,L=d.length;M<L;M++){var O=d[M],H=G.rewrite(O.expr.accept(this.exprRewriter),u,u);y.push({direction:O.direction,expr:H})}return y}},C.prototype.rewriteWhere=function(d,u){var y=this;if(n.fF.assertAnyValue(d,"whereItems"),n.fF.assertValue(u,"from"),!_.isEmpty(d)){for(var M=[],L=0,O=d.length;L<O;L++){var H=d[L],Q={condition:G.rewrite(H.condition.accept(this.exprRewriter),u,u)};H.target&&(Q.target=_.map(H.target,function(X){return G.rewrite(X.accept(y.exprRewriter),u,u)})),H.annotations&&(Q.annotations=H.annotations),M.push(Q)}return M}},C.prototype.rewriteTransform=function(d,u){var y=this;if(n.fF.assertAnyValue(d,"transformItems"),n.fF.assertAnyValue(u,"from"),!_.isEmpty(d)){for(var M=[],L=0,O=d;L<O.length;L++){var H=O[L],Q=void 0;H.input.table&&!_.isEmpty(H.input.table.columns)&&(Q=_.map(H.input.table.columns,function(W){return{role:W.role,expression:{name:W.expression.name,expr:G.rewrite(W.expression.expr.accept(y.exprRewriter),u,u)}}}));var X={name:H.name,algorithm:H.algorithm,input:{parameters:H.input.parameters},output:H.output};H.input.table&&(X.input.table={name:H.input.table.name,columns:Q}),M.push(X)}return M}},C}(),Y=function(){function C(d,u,y,M,L,O,H){n.fF.assertValue(d,"from"),n.fF.assertValue(M,"select"),this.fromValue=d,this.whereItems=u,this.orderByItems=y,this.selectItems=M,this.groupByItems=L,this.transformItems=O,null!=H&&(this.topValue=H)}return C.create=function(){return C.empty||(C.empty=new C(new b.cL,null,null,[],null,null,null)),C.empty},C.createWith=function(d,u){return n.fF.assertValue(d,"clauses"),u||(d=C.normalize(d)),new C(d.from,d.where,d.orderBy,d.select,d.groupBy,d.transforms,d.top)},C.prototype.createModified=function(d){return C.createWith({from:void 0!==d.from?d.from:this.fromValue,where:void 0!==d.where?d.where:this.whereItems,transforms:void 0!==d.transforms?d.transforms:this.transformItems,orderBy:void 0!==d.orderBy?d.orderBy:this.orderByItems,select:void 0!==d.select?d.select:this.selectItems,groupBy:void 0!==d.groupBy?d.groupBy:this.groupByItems,top:void 0!==d.top?d.top:this.topValue})},C.normalize=function(d){var u={clauses:{from:d.from,where:d.where,orderBy:d.orderBy,select:d.select,groupBy:d.groupBy,transforms:d.transforms,top:d.top},usedSourceNames:{}};return C.removeUnreferencedKeys(u),C.renameSources(u),C.renameSourcesInSubqueries(u),u.clauses},C.removeUnreferencedKeys=function(d){var u=d.clauses,y=u.from,M=u.where,L=u.orderBy,O=u.select,H=u.groupBy,Q=u.transforms,X=new I(y.keys());if(M)for(var W=0,J=M.length;W<J;W++){var ee=M[W];ee.condition.accept(X);var le=ee.target;if(le)for(var Ne=0,Ae=le.length;Ne<Ae;Ne++)le[Ne]&&le[Ne].accept(X)}if(Q)for(W=0,J=Q.length;W<J;W++){var Se=Q[W].input.table;if(Se&&!_.isEmpty(Se.columns))for(var we=0,Pe=Se.columns;we<Pe.length;we++)Pe[we].expression.expr.accept(X)}if(L)for(W=0,J=L.length;W<J;W++)L[W].expr.accept(X);for(W=0,J=O.length;W<J;W++)O[W].expr.accept(X);if(H)for(W=0,J=H.length;W<J;W++)H[W].expr.accept(X);var Xe=X.result();if(Xe){for(var Me=y.clone(),pe=0,Fe=Xe;pe<Fe.length;pe++)Me.remove(Fe[pe]);d.clauses.from=Me}},C.renameSources=function(d){var u=d.clauses.from,y=u.renameSources(d.usedSourceNames);y!==u&&(d.clauses.from=y,C.rewriteClauses(d.clauses,new G(u,y)))},C.renameSourcesInSubqueries=function(d){d.clauses.from=T.renameSources(C.renameSourcesInQuery,d.clauses.from,d.usedSourceNames)},C.renameSourcesInQuery=function(d,u){var y={clauses:d.getClauses(),usedSourceNames:u},M=y.clauses.from;return C.renameSources(y),C.renameSourcesInSubqueries(y),y.clauses.from===M?d:C.createWith(y.clauses)},C.prototype.from=function(d){return d?this.createModified({from:d}):this.fromValue.clone()},C.prototype.select=function(d){return _.isEmpty(arguments)?this.getSelect():this.setSelect(d)},C.prototype.getSelect=function(){return C.createNamedExpressionArray(this.selectItems)},C.createNamedExpressionArray=function(d){return(0,l.z8)(_.map(d,function(u){return{name:u.name,expr:u.expr,nativeReferenceName:u.nativeReferenceName}}))},C.prototype.setSelect=function(d){var u=this.fromValue.clone(),y=C.rewriteExpressionsWithSourceRenames(d,u);return this.createModified({from:u,select:y})},C.rewriteExpressionsWithSourceRenames=function(d,u){for(var y=[],M=0,L=d.length;M<L;M++){var O=d[M];y.push({name:O.name,expr:G.rewrite(O.expr,null,u)})}return y},C.prototype.removeSelect=function(d){n.fF.assertValue(d,"expr");for(var u=this.selectItems,y=[],M=0,L=u.length;M<L;M++){var O=u[M];(0,A.fS)(O.expr,d)||y.push(O)}return this.createModified({select:y})},C.prototype.removeOrderBy=function(d){for(var u=this.orderBy(),y=u.length-1;y>=0;y--)(0,A.fS)(u[y].expr,d)&&u.splice(y,1);return this.createModified({orderBy:u})},C.prototype.removeTransform=function(d){for(var u=this.transforms(),y=0,M=u.length;y<M;y++)if(u[y].name===d.name){u.splice(y,1);break}return this.createModified({transforms:u})},C.prototype.selectNameOf=function(d){var u;return null===(u=this.getSelectFor(d))||void 0===u?void 0:u.name},C.prototype.selectNativeReferenceNameOf=function(d){var u;return null===(u=this.getSelectFor(d))||void 0===u?void 0:u.nativeReferenceName},C.prototype.getSelectFor=function(d){var u=h.m.indexOfNamedExpr(this.selectItems,d);if(u>=0)return this.selectItems[u]},C.prototype.setSelectAt=function(d,u,y){if(n.fF.assertValue(u,"expr"),!(d>=this.selectItems.length)){var M=this.select(),L=this.fromValue.clone(),H=null!=y?y:M[d].nativeReferenceName;return M[d]={name:M[d].name,expr:G.rewrite(u,null,L),nativeReferenceName:H},this.createModified({from:L,select:M})}},C.prototype.addSelect=function(d,u,y){n.fF.assertValue(d,"expr");var M=this.select(),L=this.fromValue.clone();return M.push(this.createNamedExpr(M,L,d,u,y)),this.createModified({from:L,select:M})},C.prototype.setNativeReferenceNameAt=function(d,u){var y=this;n.fF.assert(function(){return 0<=d&&d<y.selectItems.length},"index should be within the length of the selectedItems"),this.selectItems[d].nativeReferenceName=u},C.prototype.getNativeReferenceNameAt=function(d){var u=this;return n.fF.assert(function(){return 0<=d&&d<u.selectItems.length},"index should be within the length of the selectedItems"),this.selectItems[d].nativeReferenceName},C.prototype.getNativeReferenceNames=function(d){var u=this.selectItems.map(function(y){return y.nativeReferenceName});return d?_.filter(u,function(y){return!(0,g.g)(y)}):u},C.prototype.createNamedExpr=function(d,u,y,M,L){return{name:h.m.uniqueName(d,y,M),expr:G.rewrite(y,u,u),nativeReferenceName:L}},C.prototype.groupBy=function(d){return _.isEmpty(arguments)?this.getGroupBy():this.setGroupBy(d)},C.prototype.getGroupBy=function(){return C.createNamedExpressionArray(this.groupByItems)},C.prototype.setGroupBy=function(d){var u=this.fromValue.clone(),y=C.rewriteExpressionsWithSourceRenames(d,u);return this.createModified({from:u,groupBy:y})},C.prototype.addGroupBy=function(d){n.fF.assertValue(d,"expr");var u=this.groupBy(),y=this.fromValue.clone();return u.push(this.createNamedExpr(u,y,d)),this.createModified({from:y,groupBy:u})},C.prototype.orderBy=function(d){return _.isEmpty(arguments)?this.getOrderBy():this.setOrderBy(d)},C.prototype.getOrderBy=function(){var d=[],u=this.orderByItems;if(u)for(var y=0,M=u.length;y<M;y++){var L=u[y];d.push({expr:L.expr,direction:L.direction})}return d},C.prototype.setOrderBy=function(d){n.fF.assertValue(d,"values");for(var u=[],y=this.fromValue.clone(),M=0,L=d.length;M<L;M++){var O=d[M];u.push({expr:G.rewrite(O.expr,y,y),direction:O.direction})}return this.createModified({from:y,orderBy:u})},C.prototype.where=function(d,u){return _.isEmpty(arguments)?this.getWhere():this.setWhere([],d,u)},C.prototype.getWhere=function(){var d=[],u=this.whereItems;if(u)for(var y=0,M=u.length;y<M;y++)d.push(u[y]);return d},C.prototype.setWhere=function(d,u,y){n.fF.assertValue(d,"existingFilters"),n.fF.assertValue(u,"newFilters");for(var M=_.clone(d),L=this.fromValue.clone(),O=0,H=u;O<H.length;O++){var Q=H[O],X={condition:G.rewrite(Q.condition,y,L)};Q.target&&(X.target=_.map(Q.target,function(W){return G.rewrite(W,y,L)})),Q.annotations&&(X.annotations=Q.annotations),M.push(X)}return this.createModified({from:L,where:M})},C.prototype.addWhere=function(d,u){return this.setWhere(this.where(),d,u)},C.prototype.addSemanticFilter=function(d){return n.fF.assertValue(d,"filter"),this.setWhere(this.where(),d.where(),d.from())},C.prototype.transforms=function(d){return _.isEmpty(arguments)?this.getTransforms():this.setTransforms(d)},C.prototype.getTransforms=function(){var d=[];if(!_.isEmpty(this.transformItems))for(var u=0,y=this.transformItems;u<y.length;u++)d.push(y[u]);return d},C.prototype.setTransforms=function(d){for(var u=this,y=this.fromValue.clone(),M=[],L=0,O=d;L<O.length;L++){var H=O[L],Q=void 0;H.input.table&&!_.isEmpty(H.input.table.columns)&&(Q=_.map(H.input.table.columns,function(W){return{role:W.role,expression:u.createNamedExpr((0,l.z8)([]),y,W.expression.expr,W.expression.name)}}));var X={name:H.name,algorithm:H.algorithm,input:{parameters:H.input.parameters},output:H.output};H.input.table&&(X.input.table={name:H.input.table.name,columns:Q}),M.push(X)}return this.createModified({from:y,transforms:d})},C.prototype.top=function(d){return _.isEmpty(arguments)?this.topValue:this.setTop(d)},C.prototype.setTop=function(d){return n.fF.assert(function(){return null==d||d>0},"if top is specified, it must be positive"),this.createModified({top:d})},C.prototype.rewrite=function(d){var u=this.getClauses();return C.rewriteClauses(u,d),this.createModified(u)},C.prototype.hasVisualCalculations=function(){for(var d=0,u=this.selectItems;d<u.length;d++)if((0,F.jX)(u[d].expr))return!0;return!1},C.prototype.getClauses=function(){return{from:this.fromValue,where:this.whereItems,orderBy:this.orderByItems,select:this.selectItems,groupBy:this.groupByItems,transforms:this.transformItems,top:this.topValue}},C.rewriteClauses=function(d,u){var y=new k(u);d.from=y.rewriteFrom(d.from),d.where=y.rewriteWhere(d.where,d.from),d.orderBy=y.rewriteOrderBy(d.orderBy,d.from),d.select=y.rewriteSelect(d.select,d.from),d.groupBy=y.rewriteGroupBy(d.groupBy,d.from),d.transforms=y.rewriteTransform(d.transforms,d.from)},C.willFiltersAffectQuery=function(d){return n.fF.assertValue(d,"query"),new E(d).willFilterAffectQuery()},C}(),j=function(){function C(d,u){n.fF.assertValue(d,"from"),n.fF.assertValue(u,"where"),this.fromValue=d,this.whereItems=u}return C.fromSQExpr=function(d){return C.fromSQFromAndSQExpr(new b.cL,d)},C.fromSQFromAndSQExpr=function(d,u){return n.fF.assertValue(d,"from"),n.fF.assertValue(u,"condition"),new C(d,[{condition:G.rewrite(u,d,d)}])},C.fromSQFromAndSQFilters=function(d,u){return new C(d,u)},C.clone=function(d){return C.fromSQFromAndSQFilters(d.from(),d.where())},C.fromMeasureFilters=function(d,u,y){n.fF.assertValue(d,"query"),n.fF.assert(function(){return!_.isEmpty(u)},"measureFilters not empty"),n.fF.assert(function(){return _.every(u,function(Se){return 1===(0,V._)(Se.condition)})},"Require measure filter");for(var M,L=[],O=d.where(),H=function(we){var Pe=_.find(O,function(ze){return(0,A.fS)(ze.condition,we.condition)});if(!Pe||!Pe.target)return{value:void 0};M=M||Pe.target,n.fF.assert(function(){return function(){for(var ze=0;ze<M.length;ze++)if(!(0,A.fS)(M[ze],Pe.target[ze]))return!1;return!0}()},"Expected targets to be the same."),L.push(Pe)},Q=0,X=u;Q<X.length;Q++){var J=H(X[Q]);if("object"==typeof J)return J.value}var ee=_.filter(O,function(Se){return 1!==(0,V._)(Se.condition)}),le=_.map(M,function(Se){return _.find(d.select(),function(we){return(0,A.fS)(Se,we.expr)})});y&&le.push.apply(le,this.getMeasuresForJoinPredicates(d,y)||[]);var Ne=Y.createWith({from:d.from(),select:le,where:(0,c.ev)((0,c.ev)([],ee||[],!0),L||[],!0)});return function(C,d){var u=_.filter(_.map(d.select(),function(O){return O.expr}),function(O){return!h.m.isMeasure(O)});if(_.isEmpty(u))return C;var y=_.map(u,function(O){return{condition:(0,P.Dg)(O,(0,P.n7)(!0))}}),M=C.from(),L=B.ensureFiltersInSubqueries(M,y,M);return M===L?C:j.fromSQFromAndSQFilters(L,C.where())}(C.fromMeasuresQuery(Ne,M),d)},C.fromMeasuresQuery=function(d,u){var y=new b.vd(d),M=new b.cL,L=M.ensureSource(y,"subquery"),O=(0,P.dY)(u,(0,P.v5)(L.name)),H=G.rewrite(O,M,M),Q=[];return Q.push({condition:H}),C.fromSQFromAndSQFilters(M,Q)},C.getDefaultValueFilter=function(d){return C.getDataViewScopeIdentityComparisonFilters(d,(0,P.LS)())},C.getAnyValueFilter=function(d){return C.getDataViewScopeIdentityComparisonFilters(d,(0,P.n7)())},C.getDefaultAnyValueFilter=function(d,u){if(_.isEmpty(d))return C.getAnyValueFilter(u);if(_.isEmpty(u))return C.getDefaultValueFilter(d);var y=Array.apply(null,Array(d.length)).map(function(){return(0,P.LS)()}),M=Array.apply(null,Array(d.length)).map(function(){return(0,P.n7)()}),L=h.m.getDataViewScopeIdentityComparisonExpr(d,y),O=h.m.getDataViewScopeIdentityComparisonExpr(u,M),H=(0,P.xD)(L,O);return C.fromSQExpr(H)},C.getDataViewScopeIdentityComparisonFilters=function(d,u){if(n.fF.assertValue(d,"fieldSQExprs"),n.fF.assertValue(u,"value"),d instanceof Array){var y=Array.apply(null,Array(d.length)).map(function(){return u});return C.fromSQExpr(h.m.getDataViewScopeIdentityComparisonExpr(d,y))}return C.fromSQExpr((0,P.Dg)(d,u))},C.prototype.from=function(){return this.fromValue.clone()},C.prototype.conditions=function(){for(var d=[],u=this.whereItems,y=0,M=u.length;y<M;y++)d.push(u[y].condition);return d},C.prototype.where=function(){for(var d=[],u=this.whereItems,y=0,M=u.length;y<M;y++)d.push(u[y]);return d},C.prototype.rewrite=function(d){var u=new k(d),y=u.rewriteFrom(this.fromValue);return new C(y,u.rewriteWhere(this.whereItems,y))},C.prototype.validate=function(d,u,y){var M=new P._R(d,u,y);return this.rewrite(M),M.errors},C.merge=function(d){if(_.isEmpty(d))return null;if(1===d.length)return d[0];for(var u=d[0],y=u.from(),M=(0,l.qn)(u.whereItems,u.whereItems.length),L=1,O=d.length;L<O;L++)C.applyFilter(d[L],y,M);return new C(y,M)},C.unmerge=function(d){for(var u=[],y=0,M=d.whereItems;y<M.length;y++){var O=new C(d.fromValue,[M[y]]);Object.keys(O.from().sources()).length>1&&(O=C.removeUnreferencedKeys(O)),u.push(O)}return u},C.removeUnreferencedKeys=function(d){var u=d.from(),y=d.where(),M=new I(u.keys());if(y)for(var L=0,O=y.length;L<O;L++){var H=y[L];H.condition.accept(M);var Q=H.target;if(Q)for(var X=0,W=Q.length;X<W;X++)Q[X]&&Q[X].accept(M)}var J=M.result();if(J){for(var ee=0,le=J;ee<le.length;ee++)u.remove(le[ee]);return new C(u,y)}},C.getMeasuresForJoinPredicates=function(d,u){for(var y=d.select(),M=[],L=function(X){var W=y[X];if(h.m.isMeasure(W.expr)){if(_.some(u.SuppressedJoinPredicates,function(J){return J===X}))return"continue";(O.isSelectProjected(u.Primary,X)||O.isSelectProjected(u.Secondary,X))&&M.push(W)}},O=this,H=0;H<y.length;H++)L(H);return M},C.isSelectProjected=function(d,u){if(d&&d.Groupings)for(var y=0,M=d.Groupings;y<M.length;y++){var L=M[y];if(_.some(L.Projections,function(O){return O===u})&&!_.some(L.SuppressedProjections,function(O){return O===u}))return!0}return!1},C.isDefaultFilter=function(d){return!(!d||1!==d.where().length)&&h.m.isDefaultValue(d.where()[0].condition)},C.isAnyFilter=function(d){return!(!d||1!==d.where().length)&&h.m.isAnyValue(d.where()[0].condition)},C.isSameFilter=function(d,u){return d===u||!!(d&&u&&d.from().equals(u.from())&&(0,l.NF)(d.where(),u.where(),function(y,M){return(0,A.Me)(y,M)}))&&!(C.isDefaultFilter(d)&&C.isAnyFilter(u)||C.isAnyFilter(d)&&C.isDefaultFilter(u))},C.isInFilter=function(d){return!(!d||1!==d.where().length)&&(0,F.Hi)(d.where()[0].condition)},C.applyFilter=function(d,u,y){n.fF.assertValue(d,"filter"),n.fF.assertValue(u,"from"),n.fF.assertValue(y,"where");for(var L=0,O=d.whereItems;L<O.length;L++){var H=O[L],Q={condition:G.rewrite(H.condition,d.fromValue,u)};H.target&&(Q.target=_.map(H.target,function(X){return G.rewrite(X,d.fromValue,u)})),y.push(Q)}},C.prototype.setIgnoreMParameter=function(){for(var u=0,y=this.whereItems;u<y.length;u++){var M=y[u];M.annotations||(M.annotations={}),M.annotations["PowerBI.MParameterBehavior"]=1}},C}(),G=function(C){function d(u,y){var M=this;return n.fF.assertValue(y,"destinationFrom"),(M=C.call(this)||this).sourceFrom=u,M.destinationFrom=y,M}return(0,c.ZT)(d,C),d.prototype.visitEntity=function(u){var y=this.destinationFrom.source(u.variable);if(y&&(0,b.$r)(y)&&y.schema===u.schema&&y.entity===u.entity)return u;var M=this.destinationFrom.ensureSource(new b.SX(u.schema,u.entity),u.variable);return M.name!==u.variable?new P.PN(u.schema,u.entity,M.name):u},d.prototype.visitSubqueryRef=function(u){if(!this.sourceFrom)return n.fF.assertFail("A source From clause must be provided to rewrite an expression containing a subquery reference."),u;var y=this.sourceFrom.source(u.variable);if(!y)return u;var M=this.destinationFrom.source(u.variable);if(M&&(0,N.y)(M)&&(0,A.C6)(y.subquery,M.subquery))return u;var L=this.destinationFrom.ensureSource(new b.vd(y.subquery),u.variable);return L.name!==u.variable?new P.wb(L.name):u},d.prototype.visitNamedQueryRef=function(u){var y=this.destinationFrom.source(u.variable);if(y&&(0,b.Ms)(y)&&(0,A.fS)(y.expr,u))return u;var L=this.destinationFrom.ensureSource(new b.Qo(u),u.variable);return L.name!==u.variable?new P.nz(u.queryName,L.name):void 0},d.rewrite=function(u,y,M){n.fF.assertValue(u,"expr"),n.fF.assertValue(M,"destinationFrom");var L=new d(y,M);return u.accept(L)},d}(S.b),I=function(C){function d(u){var y=this;return n.fF.assertValue(u,"keys"),(y=C.call(this)||this).keys=u,y}return(0,c.ZT)(d,C),d.prototype.visitEntity=function(u){this.removeKey(u.variable)},d.prototype.visitSubqueryRef=function(u){this.removeKey(u.variable)},d.prototype.visitNamedQueryRef=function(u){this.removeKey(u.variable)},d.prototype.removeKey=function(u){var y=this.keys.indexOf(u);y>=0&&this.keys.splice(y,1)},d.prototype.result=function(){return this.keys},d}(D.PA),E=function(C){function d(u){var y=C.call(this)||this;return y.query=u,y.containsEntityRefs=!1,y.containsSubqueries=!1,y}return(0,c.ZT)(d,C),d.prototype.visitEntity=function(u){this.containsEntityRefs=!0},d.prototype.visitPropertyVariationSource=function(u){this.containsEntityRefs=!0},d.prototype.visitSubqueryRef=function(u){this.containsSubqueries=!0},d.prototype.willFilterAffectQuery=function(){for(var y=0,M=this.query.select();y<M.length;y++)M[y].expr.accept(this);return!(!this.containsEntityRefs&&this.containsSubqueries)},d}(D.PA),T=function(){function C(d,u,y){this.renameSources=d,this.from=u,this.usedSourceNames=y,n.fF.assertValue(d,"renameSources"),n.fF.assertValue(u,"from"),n.fF.assertValue(y,"usedSourceNames")}return C.renameSources=function(d,u,y){var M=new C(d,u,y);return k.rewriteFrom(u,M)},C.prototype.visitEntity=function(d,u){return d},C.prototype.visitPod=function(d,u){return d},C.prototype.visitSubquery=function(d,u){var y=d.subquery,M=this.renameSources(y,this.usedSourceNames);return M===y?d:new b.vd(M)},C.prototype.visitExpr=function(d,u){return d},C}(),B=function(){function C(d,u){this.filtersToEnsure=d,this.filtersToEnsureFrom=u,this.modifiedSubquery=!1,n.fF.assertNonEmpty(d,"expected filters to ensure exist in each subquery")}return C.ensureFiltersInSubqueries=function(d,u,y){var M=new C(u,y),L=k.rewriteFrom(d,M);return n.fF.assert(function(){return L!==d===M.modifiedSubquery},"expected to rewrite the from clause if and only if we modified a subquery"),L},C.prototype.visitEntity=function(d,u){return d},C.prototype.visitPod=function(d,u){return d},C.prototype.visitSubquery=function(d,u){for(var y=d.subquery.where(),M=[],L=function(W){_.find(y,function(J){return(0,A.Me)(W,J)})||M.push(W)},O=0,H=this.filtersToEnsure;O<H.length;O++)L(H[O]);return 0===M.length?d:(this.modifiedSubquery=!0,new b.vd(d.subquery.addWhere(M,this.filtersToEnsureFrom)))},C.prototype.visitExpr=function(d,u){return d},C}()},9291:function(ie,ve,v){v.d(ve,{X1:function(){return an},v0:function(){return Oe},uV:function(){return Le},iE:function(){return et},MH:function(){return Pe},I6:function(){return Je},Wh:function(){return De},wU:function(){return Ft},c8:function(){return vt},jz:function(){return be},ev:function(){return Mt},YB:function(){return We},AC:function(){return Ve},ex:function(){return re},PN:function(){return Ne},eX:function(){return Ee},Il:function(){return le},_R:function(){return _a},DJ:function(){return ut},Gv:function(){return Me},UG:function(){return ze},qg:function(){return te},jE:function(){return oe},vD:function(){return Ce},Xg:function(){return ot},UY:function(){return Qe},Jm:function(){return ge},nz:function(){return we},F1:function(){return lt},$f:function(){return rt},Wr:function(){return Ae},v3:function(){return Ze},Cc:function(){return bt},_n:function(){return ce},c7:function(){return ae},LE:function(){return fe},kC:function(){return Xe},GF:function(){return Be},fw:function(){return xe},wb:function(){return Se},m_:function(){return xt},lI:function(){return Ot},xD:function(){return $t},n7:function(){return Ct},Y8:function(){return ur},vX:function(){return Dr},O7:function(){return It},$_:function(){return Hr},Oh:function(){return He},qu:function(){return bi},u7:function(){return Wi},r3:function(){return Sn},sO:function(){return Rt},uQ:function(){return wt},CQ:function(){return kt},gH:function(){return Yt},LS:function(){return St},h5:function(){return jr},tx:function(){return Gt},$t:function(){return dt},nw:function(){return Ke},Dg:function(){return Ua},Gg:function(){return Cn},x5:function(){return Ja},Xw:function(){return hr},GW:function(){return nr},f7:function(){return tr},Ls:function(){return Pa},Wp:function(){return Dt},bT:function(){return rr},os:function(){return yr},dY:function(){return Ca},Sh:function(){return Br},cA:function(){return Jt},mv:function(){return nt},fP:function(){return pa},kD:function(){return it},sl:function(){return Bt},PB:function(){return pt},YU:function(){return ma},ff:function(){return Io},zO:function(){return At},IF:function(){return Te},or:function(){return yi},Pe:function(){return Pt},yU:function(){return lr},Mj:function(){return Wt},nI:function(){return Ur},p7:function(){return Jr},HU:function(){return qr},EW:function(){return sa},nF:function(){return Wa},Wu:function(){return Ue},ed:function(){return Qt},xA:function(){return yt},k6:function(){return kr},Fl:function(){return _r},zZ:function(){return ia},eu:function(){return la},Zy:function(){return dr},Ny:function(){return Za},v5:function(){return Ye},bO:function(){return tt},fL:function(){return er},e7:function(){return Si},hu:function(){return ne},GB:function(){return de},kQ:function(){return Sr},Oe:function(){return Zt}});var c=v(3188),l=v(8078),n=v(9613),g=v(6096),V=v(8955),P=v(390),S=v(3813),h=v(338),D=v(7280),b=v(8207),N=/'/g,f=/\.000$/;function Y(se){return V.fF.assertValue(se,"value"),"'"+se.replace(N,"''")+"'"}function G(se){return se?"true":"false"}var m=function(Z){return null!=Z&&1===Z["PowerBI.SQExprEvaluationKind"]},z=v(6330),R=v(9380),w=v(130),B=v(1797),C=v(8893);function u(se,Z,q,me,je){var ft=se.schema(Z).findHierarchy(q,me);if(ft)return ft.levels.withName(je)}var le=function(){function se(Z,q){V.fF.assertValue(Z,"kind"),V.fF.assertAnyValue(q,"annotations"),this._kind=Z,this._annotations=q}return se.prototype.validate=function(Z,q,me,je){var Ge=new _a(Z,q,me,je);return this.accept(Ge),Ge.errors},se.prototype.accept=function(Z,q){V.fF.assertFail("abstract method")},Object.defineProperty(se.prototype,"kind",{get:function(){return this._kind},enumerable:!1,configurable:!0}),se.prototype.getMetadata=function(Z,q){V.fF.assertValue(Z,"federatedSchema");var me=(0,h.QD)(this,Z);if(me)return me.column||me.columnAggr||me.groupingColumn||me.groupingColumnAggr||me.measure?this.getMetadataForProperty(me,Z):me.hierarchyLevel||me.hierarchyLevelAggr?this.getMetadataForHierarchyLevel(me,Z):me.columnHierarchyLevelVariation?this.getMetadataForVariation(me,Z):me.columnSubquery||me.columnAggrSubquery?this.getMetadataForSubqueryColumn(me,Z,q):me.columnTransformRef?this.getMetadataForColumnTransformRef():se.getMetadataForEntity(me,Z)},se.prototype.isOrdinalEvaluation=function(){return!1},se.prototype.getAnnotations=function(){return this._annotations},se.prototype.getKeyColumns=function(Z){var q=va.getColumnRefSQExpr(Z,this);if(q){var me=[],je=this.getPropertyKeys(Z);if(je&&je.length>0)for(var Ge=0,ft=je.length;Ge<ft;Ge++)me.push(He(q.source,je[Ge].name));else me.push(q);return me}},se.prototype.hasGroupOnKeys=function(Z){var q=this.getTargetColumnRef(Z);if(q){var me=this.getPropertyKeys(Z);if(!me||me.length<1)return!1;if(me.length>1)return!0;var je=He(q.source,me[0].name);return!(0,R.fS)(je,this)}},se.prototype.getPropertyKeys=function(Z){var q=this.getConceptualProperty(Z,!0);if(q)return q.column?q.column.keys:void 0},se.prototype.getOrderByColumns=function(Z){var q=this.getTargetColumnRef(Z);if(q){var me=q.getConceptualProperty(Z,!0),je=me&&me.column&&me.column.orderBy;if(_.isEmpty(je))return[];for(var Ge=new Array(je.length),ft=0,ir=je.length;ft<ir;ft++)Ge[ft]=He(q.source,je[ft].name);return Ge}},se.prototype.getConceptualProperty=function(Z,q){var me=(0,h.QD)(this,Z);if(me){var je=(0,h.pV)(me);if(je&&1===_.size(je)){var Ge=(0,h.Hp)(me);if(Ge){var ft=Z.schema(je[0].schema);return ft?ft.findProperty(je[0].entity,Ge):void 0}if(q){var br,ir=void 0;if(me.columnHierarchyLevelVariation)(ir=me.columnHierarchyLevelVariation.level)&&(br=Z.schema(ir.schema).findHierarchy(ir.entity,ir.name));else if(ir=me.hierarchyLevel||me.hierarchyLevelAggr){var Tr=(0,h.Um)(me);br=Z.schema(Tr.schema).findHierarchy(Tr.entity,ir.name)}if(br){var $r=br.levels.withName(ir.level);if($r)return $r.column}}}}},se.prototype.getTargetEntityForVariation=function(Z,q){var me=this.getConceptualProperty(Z);if(me&&me.column&&!_.isEmpty(me.column.variations))for(var Ge=0,ft=me.column.variations;Ge<ft.length;Ge++){var ir=ft[Ge];if(ir.name===q)return ir.navigationProperty.targetEntity.name}},se.prototype.getTargetEntity=function(){return ha.getEntityExpr(this)},se.prototype.getTargetSchemaName=function(){return ya.getSchemaName(this)},se.prototype.getTargetColumnRef=function(Z){return V.fF.assertValue(Z,"schema"),va.getColumnRefSQExpr(Z,this)},se.prototype.getMetadataForVariation=function(Z,q){V.fF.assertValue(Z,"field"),V.fF.assertValue(q,"federatedSchema");var me=Z.columnHierarchyLevelVariation,je=(0,h.Um)(Z),Ge=q.schema(je.schema).findProperty(je.entity,me.source.name);if(Ge&&Ge.column&&Ge.column.variations)for(var ft=0,ir=Ge.column.variations;ft<ir.length;ft++){var br=ir[ft];if(br.defaultHierarchy&&br.defaultHierarchy.levels)for(var Tr=0,$r=br.defaultHierarchy.levels;Tr<$r.length;Tr++){var Ra=$r[Tr];if(Ra.name===me.level.level){var ja=Ra.column;return{kind:1===ja.kind?1:0,type:ja.type,format:ja.format,idOnEntityKey:!!ja.column&&ja.column.idOnEntityKey,defaultAggregate:ja.column?ja.column.defaultAggregate:null}}}}},se.prototype.getMetadataForHierarchyLevel=function(Z,q){V.fF.assertValue(Z,"field"),V.fF.assertValue(q,"federatedSchema");var me=this.getConceptualProperty(q,!0);if(me)return this.getPropertyMetadata(Z,me)},se.prototype.getPropertyMetadata=function(Z,q){var me=Z.columnAggr||Z.groupingColumnAggr||Z.hierarchyLevelAggr,je=me?this.getFormatAndTypeForAggregate(me.aggregate,q.format,q.type):q;return{kind:1===q.kind||me&&void 0!==me.aggregate?1:0,type:je.type,format:je.format,idOnEntityKey:!!q.column&&q.column.idOnEntityKey,aggregate:me?me.aggregate:void 0,defaultAggregate:q.column?q.column.defaultAggregate:null}},se.prototype.getMetadataForProperty=function(Z,q){V.fF.assertValue(Z,"field"),V.fF.assertValue(q,"federatedSchema");var me=this.getConceptualProperty(q);if(me)return this.getPropertyMetadata(Z,me)},se.prototype.getFormatAndTypeForAggregate=function(Z,q,me){var je=q,Ge=me;switch(Z){case 2:case 5:Ge=S.Ge.fromExtendedType(260),je=void 0;break;case 1:case 7:case 8:Ge.integer&&(Ge=S.Ge.fromExtendedType(259),je=(0,P.SU)(je))}return{format:je,type:Ge}},se.prototype.getMetadataForSubqueryColumn=function(Z,q,me){V.fF.assertValue(Z,"field"),V.fF.assertValue(q,"federatedSchema"),V.fF.assert(function(){return!(!me||!me.sources)},"context sources should be available for evaluating subquery source");var je=B.m.getSubqueryExpression(this,me);V.fF.assertValue(je,"could not find original select expr of subquery from context");var Ge=je.getMetadata(q,me);if(Ge){if(Ge.kind=0,Z.columnAggrSubquery){var ft=this.getFormatAndTypeForAggregate(Z.columnAggrSubquery.aggregate,Ge.format,Ge.type);Ge.type=ft.type,Ge.format=ft.format,Ge.aggregate=Z.columnAggrSubquery.aggregate}else Z.columnSubquery?Ge.aggregate=void 0:V.fF.assertFail("invalid field expression for subquery column");return Ge}},se.prototype.getMetadataForColumnTransformRef=function(){return{idOnEntityKey:!1,kind:0,type:S.Ge.fromVariant([S.Ge.fromPrimitiveTypeAndCategory(5),S.Ge.fromPrimitiveTypeAndCategory(7),S.Ge.fromPrimitiveTypeAndCategory(2),S.Ge.fromPrimitiveTypeAndCategory(3),S.Ge.fromPrimitiveTypeAndCategory(4),S.Ge.fromPrimitiveTypeAndCategory(1)])}},se.getMetadataForEntity=function(Z,q){V.fF.assertValue(Z,"field"),V.fF.assertValue(q,"federatedSchema");var me=(0,h.Um)(Z);if(q.schema(me.schema).entities.withName(me.entity)&&Z.entityAggr)switch(Z.entityAggr.aggregate){case 2:case 5:return{kind:1,type:S.Ge.fromExtendedType(260),format:void 0,idOnEntityKey:!1,aggregate:Z.entityAggr.aggregate}}},se}();(0,n.y)(le.prototype);var Ne=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(me,"entity"),(ft=se.call(this,0,Ge)||this).schema=q,ft.entity=me,je&&(ft.variable=je),ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitEntity(this,me)},Z.prototype.as=function(q,me){return new Z(this.schema,this.entity,q,me)},Z}(le),Ae=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"name"),(ft=se.call(this,47,Ge)||this).name=q,ft.language=me,ft.expression=je,ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitNativeVisualCalc(this,me)},Z.prototype.getMetadata=function(q){return V.fF.assertValue(q,"federatedSchema"),{kind:1,type:S.Ge.fromPrimitiveTypeAndCategory(3)}},Z}(le),Se=function(se){function Z(q,me){var je=this;return V.fF.assertValue(q,"source"),V.fF.assertAnyValue(me,"annotations"),je=se.call(this,1,me)||this,_.isString(q)?je.variable=q:je.query=q,je}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitSubqueryRef(this,me)},Z.prototype.as=function(q,me){return new Z(q,me)},Z}(le),we=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"source"),(Ge=se.call(this,39,je)||this).queryName=q,me&&(Ge.variable=me),Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitNamedQueryRef(this,me)},Z.prototype.as=function(q,me){return new Z(this.queryName,q,me)},Z}(le),Pe=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"left"),V.fF.assertValue(me,"right"),V.fF.assertValue(je,"operator"),(ft=se.call(this,23,Ge)||this).left=q,ft.right=me,ft.operator=je,ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitArithmetic(this,me)},Z.prototype.getMetadata=function(q){var me=this,je=this.left.getMetadata(q);if((0,w.g5)(this.right))return je?(V.fF.assert(function(){return 3===me.operator},"unexpected usage of scoped eval with arithmetic"),je.format="#,##0.00%",je.type=S.Ge.fromExtendedType(259),je):void 0;var br,Ge=this.right.getMetadata(q),ft=null==je?void 0:je.type,ir=null==Ge?void 0:Ge.type;br=ft&&ir?this.getArithmeticResultType(ft,ir):null!=ft?ft:ir,V.fF.assertValue(br,"SQExpr - cannot get proper type for arithmetic expression");var Ra,Tr=null==je?void 0:je.format;return(0===this.operator||1===this.operator)&&(Ra=Tr===(null==Ge?void 0:Ge.format)?Tr:void 0),{format:Ra,type:br,kind:1}},Z.prototype.getArithmeticResultType=function(q,me){return 0!==this.operator&&1!==this.operator&&2!==this.operator&&3!==this.operator&&V.fF.assertNever(this.operator),2===q.primitiveType?S.Ge.fromPrimitiveTypeAndCategory(3===this.operator&&2===me.primitiveType?3:2):3===q.primitiveType?S.Ge.fromPrimitiveTypeAndCategory(3!==this.operator&&2===me.primitiveType?2:3):4===q.primitiveType?3===this.operator&&4===me.primitiveType?S.Ge.fromPrimitiveTypeAndCategory(3):me:void V.fF.assertFail("unsupported arithmetic expression type")},Z}(le),ze=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"arg"),V.fF.assertValue(me,"size"),(ft=se.call(this,35,Ge)||this).arg=q,ft.size=me,null!=je&&(ft.timeUnit=je),ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitFloor(this,me)},Z}(le),Xe=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"expression"),V.fF.assertValue(me,"scope"),(Ge=se.call(this,26,je)||this).expression=q,Ge.scope=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitScopedEval(this,me)},Z.prototype.getMetadata=function(q){return this.expression.getMetadata(q)},Z.prototype.hasGlobalScope=function(){return V.fF.assertValue(this.scope,"scope"),0===this.scope.length},Z.prototype.hasInnerMostScope=function(){return V.fF.assertValue(this.scope,"scope"),1===this.scope.length&&(0,w.LX)(this.scope[0])},Z.createGlobalAggregateOfScopedExpr=function(q,me){var je=new Z(q,[new Xt]);return new Z(new Oe(je,me),[])},Z.prototype.decomposeGlobalAggregateOfScopedExpr=function(){if(this.hasGlobalScope()){var q=this.expression;if((0,w.iV)(q)){var me=q.arg;if((0,w.g5)(me)&&me.hasInnerMostScope())return{source:me.expression,func:q.func}}}},Z}(le),Me=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"expression"),V.fF.assertValue(me,"filters"),(Ge=se.call(this,41,je)||this).expression=q,Ge.filters=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitFilteredEval(this,me)},Z.prototype.getMetadata=function(q){return this.expression.getMetadata(q)},Z}(le),pe=function(se){function Z(q,me){var je=this;return V.fF.assertValue(q,"expressionName"),(je=se.call(this,27,me)||this).expressionName=q,je}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitWithRef(this,me)},Z}(le),Fe=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"kind"),V.fF.assertValue(me,"source"),V.fF.assertValue(je,"ref"),(ft=se.call(this,q,Ge)||this).source=me,ft.ref=je,ft}return(0,c.ZT)(Z,se),Z}(le),De=function(se){function Z(q,me,je,Ge){return se.call(this,je||2,q,me,Ge)||this}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitColumnRef(this,me)},Z}(Fe),Qe=function(se){function Z(q,me,je){return se.call(this,3,q,me,je)||this}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitMeasureRef(this,me)},Z}(Fe),rt=function(se){function Z(q,me,je,Ge,ft,ir,br){var Tr=se.call(this,43,br)||this;return V.fF.assertValue(q,"language"),V.fF.assertValue(me,"expression"),V.fF.assertValue(je,"dataType"),V.fF.assertAnyValue(Ge,"proposedName"),V.fF.assertAnyValue(ft,"expressionContentCache"),V.fF.assertAnyValue(ir,"format"),Tr.language=q,Tr.expression=me,Tr.dataType=je,Tr.proposedName=Ge,Tr.expressionContentCache=ft,Tr.format=ir,Tr}return(0,c.ZT)(Z,se),Z.prototype.getMetadata=function(q){return V.fF.assertValue(q,"federatedSchema"),{kind:1,type:S.Ge.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}},Z.prototype.accept=function(q,me){return q.visitNativeMeasure(this,me)},Z}(le),lt=function(se){function Z(q,me,je,Ge,ft,ir,br,Tr){var $r=se.call(this,44,Tr)||this;return V.fF.assertValue(q,"language"),V.fF.assertValue(me,"expression"),V.fF.assertValue(je,"dataType"),V.fF.assertValue(Ge,"source"),V.fF.assertAnyValue(ft,"proposedName"),V.fF.assertAnyValue(ir,"expressionContentCache"),V.fF.assertAnyValue(br,"format"),$r.language=q,$r.expression=me,$r.dataType=je,$r.source=Ge,$r.proposedName=ft,$r.expressionContentCache=ir,$r.format=br,$r}return(0,c.ZT)(Z,se),Z.prototype.getMetadata=function(q){return V.fF.assertValue(q,"federatedSchema"),{kind:0,type:S.Ge.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}},Z.prototype.accept=function(q,me){return q.visitNativeColumn(this,me)},Z}(le),Oe=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"arg"),V.fF.assertValue(me,"func"),(ft=se.call(this,4,Ge)||this).arg=q,ft.func=me,ft.includeAllTypes=je,V.fF.assert(function(){return _.isNil(ft.includeAllTypes)||3===ft.func||4===ft.func},"includeAllTypes has a value and the aggregate is not min/max - not a valid combination."),ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitAggr(this,me)},Z.prototype.getMetadata=function(q,me){if(V.fF.assertValue(q,"federatedSchema"),(0,w.jk)(this.arg)){var je=this.getFormatAndTypeForAggregate(this.func,this.arg.format,S.Ge.fromPrimitiveTypeAndCategory(this.arg.dataType));return{kind:1,type:je.type,format:je.format}}return se.prototype.getMetadata.call(this,q,me)},Z}(le),ce=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"arg"),V.fF.assertValue(me,"k"),V.fF.assert(function(){return 0<=me&&me<=1},"0 <= k && k <= 1"),V.fF.assertValue(je,"exclusive"),(ft=se.call(this,28,Ge)||this).arg=q,ft.k=me,ft.exclusive=je,ft}return(0,c.ZT)(Z,se),Z.prototype.getMetadata=function(q){V.fF.assertValue(q,"federatedSchema");var me=this.arg.getMetadata(q);if(me)return{kind:1,type:me.type}},Z.prototype.accept=function(q,me){return q.visitPercentile(this,me)},Z}(le),fe=function(se){function Z(q,me,je,Ge){var ft=se.call(this,29,Ge)||this;return ft.min=q,ft.max=me,ft.percent=je,V.fF.assert(function(){return je>=0&&je<=1},"Invalid percent value. Valid values are 0 to 1"),ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitRangePercent(this,me)},Z.overRangeOf=function(q,me){return new Z(Xe.createGlobalAggregateOfScopedExpr(q,3),Xe.createGlobalAggregateOfScopedExpr(q,4),me)},Z.prototype.decomposeOverRangePattern=function(){var q=this.min,me=this.max;if((0,w.g5)(q)&&(0,w.g5)(me)){var je=q.decomposeGlobalAggregateOfScopedExpr(),Ge=me.decomposeGlobalAggregateOfScopedExpr();if(je&&Ge&&3===je.func&&4===Ge.func&&(0,R.fS)(je.source,Ge.source))return{sourceExpr:je.source,percent:this.percent}}},Z}(le),ae=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"arg"),V.fF.assertValue(me,"name"),V.fF.assertValue(je,"property"),(ft=se.call(this,5,Ge)||this).arg=q,ft.name=me,ft.property=je,ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitPropertyVariationSource(this,me)},Z}(le),te=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"name"),V.fF.assertValue(je,"groupedExprs"),V.fF.assert(function(){return je.length>0},"groupedExprs.length > 0"),(ft=se.call(this,me,q,34,Ge)||this).groupedExprs=je,ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitGroupRef(this,me)},Z}(De),oe=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"arg"),V.fF.assertValue(me,"hierarchy"),(Ge=se.call(this,6,je)||this).arg=q,Ge.hierarchy=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitHierarchy(this,me)},Z}(le),Ce=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"arg"),V.fF.assertValue(me,"level"),(Ge=se.call(this,7,je)||this).arg=q,Ge.level=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitHierarchyLevel(this,me)},Z}(le),he=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"expressionName"),(Ge=se.call(this,30,je)||this).expressionName=q,Ge.attributeKind=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitSelectRef(this,me)},Z}(le),Le=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"left"),V.fF.assertValue(me,"right"),(Ge=se.call(this,8,je)||this).left=q,Ge.right=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitAnd(this,me)},Z}(le),Je=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"arg"),V.fF.assertValue(me,"lower"),V.fF.assertValue(je,"upper"),(ft=se.call(this,9,Ge)||this).arg=q,ft.lower=me,ft.upper=je,ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitBetween(this,me)},Z}(le),ot=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"args"),V.fF.assert(function(){return null==me!=(null==je)},"values or table"),(ft=se.call(this,10,Ge)||this).args=q,me&&(ft.values=me),je&&(ft.table=je),ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitIn(this,me)},Z}(le),bt=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"left"),V.fF.assertValue(me,"right"),(Ge=se.call(this,11,je)||this).left=q,Ge.right=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitOr(this,me)},Z}(le),Ft=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"kind"),V.fF.assertValue(me,"left"),V.fF.assertValue(je,"right"),(ft=se.call(this,13,Ge)||this).comparison=q,ft.left=me,ft.right=je,ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitCompare(this,me)},Z.prototype.isOrdinalEvaluation=function(){return m(this.getAnnotations())},Z}(le),vt=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertNonEmpty(q,"cases"),V.fF.assertAnyValue(me,"defaultValue"),(Ge=se.call(this,42,je)||this).cases=q,Ge.defaultValue=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitConditional(this,me)},Z}(le),Mt=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"left"),V.fF.assertValue(me,"right"),(Ge=se.call(this,12,je)||this).left=q,Ge.right=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitContains(this,me)},Z.prototype.isOrdinalEvaluation=function(){return m(this.getAnnotations())},Z}(le),xe=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"left"),V.fF.assertValue(me,"right"),(Ge=se.call(this,14,je)||this).left=q,Ge.right=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitStartsWith(this,me)},Z.prototype.isOrdinalEvaluation=function(){return m(this.getAnnotations())},Z}(le),Ee=function(se){function Z(q,me){var je=this;return V.fF.assertValue(q,"arg"),V.fF.assert(function(){return q instanceof Ne},"Exists only supports Entity argument"),(je=se.call(this,15,me)||this).arg=q,je}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitExists(this,me)},Z}(le),Ze=function(se){function Z(q,me){var je=this;return V.fF.assertValue(q,"arg"),(je=se.call(this,16,me)||this).arg=q,je}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitNot(this,me)},Z}(le),be=function(se){function Z(q,me,je,Ge,ft){var ir=this;return V.fF.assertValue(q,"type"),(ir=se.call(this,17,ft)||this).type=q,ir.value=me,ir.typeEncodedValue=je,Ge&&(ir.rawValue=Ge),ir}return(0,c.ZT)(Z,se),Object.defineProperty(Z.prototype,"valueEncoded",{get:function(){return void 0===this.typeEncodedValue&&(this.typeEncodedValue=function(se,Z){if(null===se)return"null";switch(Z.primitiveType){case 4:return V.fF.assert(function(){return _.isString(se)||_.isNumber(se)},"Expected either a string or number value to encode for type ".concat(Z)),se+"L";case 2:return V.fF.assert(function(){return _.isString(se)||_.isNumber(se)},"Expected either a string or number value to encode for type ".concat(Z)),se+"M";case 3:return V.fF.assert(function(){return _.isString(se)||_.isNumber(se)},"Expected either a string or number value to encode for type ".concat(Z)),se+"D";case 7:case 6:var me=void 0;return se instanceof Date?(me=(0,b.M4)(se)?new Date(se.epochTimeStamp).toISOString():new Date(se.getTime()-6e4*se.getTimezoneOffset()).toISOString(),_.endsWith(me,"Z")&&(me=me.substr(0,me.length-1)),me=me.replace(f,"")):(V.fF.assert(function(){return _.isString(se)},"Expected a string or a Date value for type ".concat(Z)),me=se),"datetime'".concat(me,"'");case 1:return V.fF.assert(function(){return _.isString(se)},"Expected a string value to encode for type ".concat(Z)),Y(se);case 5:return V.fF.assert(function(){return _.isBoolean(se)},"Expected boolean values for type ".concat(Z)),G(se);case 13:return V.fF.assert(function(){return _.isString(se)},"Expected string values to encode for type ".concat(Z)),se;default:V.fF.assertFail("unsupported dsrValue for type ".concat(Z))}}(this.rawValue||this.value,this.type)),this.typeEncodedValue},enumerable:!1,configurable:!0}),Z.prototype.accept=function(q,me){return q.visitConstant(this,me)},Z.prototype.getMetadata=function(){return{kind:1,type:this.type}},Z.getNumericValue=function(q){if((0,w.S9)(q)&&_.isNumber(q.value))return q.value;V.fF.assertFail("SQConstantExpr.getNumericValue - Unexpected SQExpr kind/value")},Z.getTextValue=function(q){if((0,w.AW)(q)&&_.isString(q.value))return q.value;V.fF.assertFail("SQConstantExpr.getTextValue - Unexpected SQExpr kind/value")},Z.getBooleanValue=function(q){if((0,w.g)(q)&&_.isBoolean(q.value))return q.value;V.fF.assertFail("SQConstantExpr.getBooleanValue - Unexpected SQExpr kind/value")},Z.getDateValue=function(q){if((0,w.fU)(q)&&_.isDate(q.value))return q.value;V.fF.assertFail("SQConstantExpr.getDateValue - Unexpected SQExpr kind/value")},Z}(le);(0,n.y)(be.prototype);var Ve=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"unit"),V.fF.assertValue(me,"arg"),(Ge=se.call(this,18,je)||this).unit=q,Ge.arg=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitDateSpan(this,me)},Z}(le),We=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"unit"),V.fF.assertValue(me,"amount"),V.fF.assertValue(je,"arg"),(ft=se.call(this,19,Ge)||this).unit=q,ft.arg=je,ft.amount=me,ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitDateAdd(this,me)},Z.prototype.getMetadata=function(q){return this.arg.getMetadata(q)},Z}(le),qe=function(se){function Z(q){return se.call(this,20,q)||this}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitNow(this,me)},Z.prototype.getMetadata=function(){return{kind:1,type:S.Ge.fromExtendedType(519)}},Z}(le),mt=function(se){function Z(q){return se.call(this,22,q)||this}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitDefaultValue(this,me)},Z}(le),et=function(se){function Z(q,me){var je=this;return V.fF.assertAnyValue(q,"defaultValueOverridesAncestors"),(je=se.call(this,21,me)||this).defaultValueOverridesAncestors=q,je}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitAnyValue(this,me)},Z}(le),ut=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"input"),V.fF.assertValue(me,"fillRule"),(Ge=se.call(this,24,je)||this).input=q,Ge.rule=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitFillRule(this,me)},Z}(le),ct=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"SQThemeDataColorExpr - colorId"),V.fF.assertValue(me,"SQThemeDataColorExpr - percent"),V.fF.assertValue(-1<=me&&me<=1,"percent"),(Ge=se.call(this,33,je)||this).colorId=q,Ge.percent=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitThemeDataColor(this,me)},Z}(le),Vt=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"packageName"),V.fF.assertValue(je,"itemName"),(ft=se.call(this,25,Ge)||this).packageName=q,ft.packageType=me,ft.itemName=je,ft}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitResourcePackageItem(this,me)},Z}(le),Tt=function(se){function Z(q,me){var je=this;return V.fF.assertValue(q,"source"),(je=se.call(this,31,me)||this).source=q,je}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitTransformTableRef(this,me)},Z}(le),zt=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"role"),(Ge=se.call(this,32,je)||this).role=q,me&&(Ge.transform=me),Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitTransformOutputRoleRef(this,me)},Z.prototype.getMetadata=function(q){},Z}(le),Kt=function(se){function Z(q,me){var je=this;return V.fF.assertValue(q,"role"),(je=se.call(this,36,me)||this).role=q,je}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitRoleRef(this,me)},Z}(le),Ht=function(se){function Z(q,me){var je=this;return V.fF.assert(function(){return!_.isEmpty(q)},"name"),V.fF.assertAnyValue(me,"annotations"),(je=se.call(this,45,me)||this).name=q,je}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitSummaryValueRef(this,me)},Z}(le),Xt=function(se){function Z(q){return se.call(this,37,q)||this}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitAllRolesRef(this,me)},Z}(le),re=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"source"),(Ge=se.call(this,38,je)||this).source=q,Ge.count=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitDiscretize(this,me)},Z}(le),ge=function(se){function Z(q,me,je){var Ge=this;return V.fF.assertValue(q,"source"),V.fF.assertValue(me,"member"),(Ge=se.call(this,40,je)||this).source=q,Ge.member=me,Ge}return(0,c.ZT)(Z,se),Z.prototype.accept=function(q,me){return q.visitMember(this,me)},Z}(le),Be=function(se){function Z(q,me,je,Ge,ft,ir){var br=se.call(this,46,ir)||this;return V.fF.assertValue(q,"measure"),V.fF.assertValue(me,"grouping"),V.fF.assertAnyValue(je,"scalarKey"),V.fF.assert(function(){return 1===_.size(me)},"exactly 1 grouping is allowed"),br.measure=q,br.grouping=me,br.scalarKey=je,br.pointsPerSparkline=Ge,br.includeMinGroupingInterval=ft,br}return(0,c.ZT)(Z,se),Z.prototype.getMetadata=function(q){var je,me=this;return V.fF.assertValue(q,"federatedSchema"),V.fF.assert(function(){return 1===_.size(me.grouping)},"exactly 1 grouping is allowed"),{kind:1,type:S.Ge.fromDescriptor({misc:{sparkline:{groupingType:null===(je=this.grouping[0].getMetadata(q))||void 0===je?void 0:je.type}}})}},Z.prototype.accept=function(q,me){return q.visitSparklineData(this,me)},Z}(le);function Ke(se,Z,q,me){return new Ne(se,Z,q,me)}function Ye(se,Z){return _.isString(se),new Se(se,Z)}function it(se,Z,q){return new we(se,Z,q)}function He(se,Z,q){return new De(se,Z,null,q)}function nt(se,Z,q){return new Qe(se,Z,q)}function pt(se,Z,q,me,je,Ge,ft){return new rt(se,Z,q,me,je,Ge,ft)}function Bt(se,Z,q,me,je,Ge,ft,ir){return new lt(se,Z,q,me,je,Ge,ft,ir)}function xt(se,Z,q,me){return new Oe(se,Z,q,me)}function yt(se,Z,q){return new he(se,Z,q)}function Pt(se,Z,q,me){return new ce(se,Z,q,me)}function Wt(se,Z,q,me){return new fe(se,Z,q,me)}function ur(se,Z,q,me){return new Pe(se,Z,q,me)}function nr(se,Z,q,me){return new ze(se,Z,q,me)}function Qt(se,Z,q){return new Xe(se,Z,q)}function hr(se,Z,q){return new Me(se,Z,q)}function Zt(se,Z){return new pe(se,Z)}function Dt(se,Z,q,me){return new te(se,Z,q,me)}function rr(se,Z,q){return new oe(se,Z,q)}function lr(se,Z,q,me){return new ae(se,Z,q,me)}function yr(se,Z,q){return new Ce(se,Z,q)}function de(se,Z){return new Tt(se,Z)}function ne(se,Z,q){return new zt(se,Z,q)}function Ue(se,Z){return new Kt(se,Z)}function tt(se,Z){return new Ht(se,Z)}function Ot(se){return new Xt(se)}function $t(se,Z,q){return se?Z?new Le(se,Z,q):se:Z}function Dr(se,Z,q,me){return new Je(se,Z,q,me)}function Br(se,Z,q){return new ot(se,Z,null,q)}function Ca(se,Z,q){return new ot(se,null,Z,q)}function yi(se,Z,q){if(!se)return Z;if(!Z)return se;if((0,w.Hi)(se)&&(0,w.Hi)(Z)){var me=function(se,Z,q){if(se.args&&Z.args&&se.values&&Z.values){var me=se.args.length;if(me===Z.args.length){for(var Ge=0;Ge<me;++Ge)if(!(0,R.fS)(se.args[Ge],Z.args[Ge]))return;var ft=se.values.concat(Z.values);return Br(se.args,ft,q)}}}(se,Z,q);if(me)return me}return new bt(se,Z,q)}function bi(se,Z,q,me){return new Ft(se,Z,q,me)}function Wi(se,Z,q){return new vt(se,Z,q)}function Sn(se,Z,q){return new Mt(se,Z,q)}function Cn(se,Z){return new Ee(se,Z)}function Ua(se,Z,q){return bi(0,se,Z,q)}function Io(se,Z){return new Ze(se,Z)}function Za(se,Z,q){return new xe(se,Z,q)}var Vn=new be(S.Ge.fromExtendedType(0),null,"null");function Te(){return Vn}var at=new be(S.Ge.fromExtendedType(1),"");function dt(){return at}function At(se){return new qe(se)}function St(se){return new mt(se)}function Ct(se,Z){return new et(se,Z)}function It(se,Z){return new be(S.Ge.fromExtendedType(5),se,G(se),void 0,Z)}function Rt(se,Z,q,me){return new We(se,Z,q,me)}function kt(se,Z,q){return new be(S.Ge.fromExtendedType(519),se,Z,void 0,q)}function wt(se,Z,q){return new Ve(se,Z,q)}function Yt(se,Z,q){return new be(S.Ge.fromExtendedType(258),se,Z,void 0,q)}function Gt(se,Z,q){return new be(S.Ge.fromExtendedType(259),se,Z,void 0,q)}function Jt(se,Z,q){return new be(S.Ge.fromExtendedType(260),se,Z,void 0,q)}function er(se,Z,q){return V.fF.assert(function(){return!Z||Z===Y(se)},"Incorrect encoded value specified."),new be(S.Ge.fromExtendedType(1),se,Z,void 0,q)}function Sr(se,Z){return null==se?Te():_.isBoolean(se)?It(se):_.isString(se)?er(se):_.isNumber(se)?Z.integer&&(0,l.U)(se)?Jt(se):Gt(se):se instanceof Date?kt(se):void 0}function tr(se,Z,q,me){return new be(S.Ge.fromExtendedType(se),Z,void 0,q,me)}function dr(se,Z,q,me,je,Ge){return new Be(se,Z,q,me,je,Ge)}function kr(se,Z){return li.rewrite(se,Z)}function Ur(se,Z){return ui.rewrite(se,Z)}function _r(se){return Aa.rewrite(se)}function qr(se){return Xr.rewrite(se)}function ia(se,Z){return ci.rewrite(se,Z)}function sa(se){return Qn.rewrite(se)}function Jr(se){return Hi.rewrite(se)}function la(se,Z,q){if((0,w.jX)(se))return Dn.rewrite(se,Z,q)}function Ja(se,Z,q){return V.fF.assertValue(se,"expr"),V.fF.assertValue(Z,"rule"),new ut(se,Z,q)}function Si(se,Z,q){return V.fF.assertValue(se,"themeDataColor - colorId"),V.fF.assertValue(Z,"themeDataColor - percent"),new ct(se,Z,q)}function Wa(se,Z,q,me){return new Vt(se,Z,q,me)}function jr(se,Z,q){return new re(se,Z,q)}function pa(se,Z,q){return new ge(se,Z,q)}function Hr(se,Z,q){return V.fF.assertValue(null==se||(0,g.A7)(se),"SQExprBuilder.color - hexCode has to either not exist or be a valid hex code"),V.fF.assertValue(Z,"SQExprBuilder.color - colorName has to exist"),er(se||Z,void 0,q)}function ma(se,Z,q){return new Ae(se,"dax",Z,q)}function Pa(se){if(V.fF.assertValue(se,"expr"),(0,w.VC)(se)&&se.type.text)return se.value}var Xa=function(){function se(){}return se.prototype.visitEntity=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitSubqueryRef=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitColumnRef=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitMeasureRef=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitAggr=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitPercentile=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitRangePercent=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitGroupRef=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitHierarchy=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitHierarchyLevel=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitPropertyVariationSource=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitSelectRef=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitAnd=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitBetween=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitIn=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitOr=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitCompare=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitConditional=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitContains=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitExists=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitNot=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitStartsWith=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitConstant=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitDateSpan=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitDateAdd=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitNow=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitDefaultValue=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitAnyValue=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitArithmetic=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitFloor=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitFillRule=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitThemeDataColor=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitResourcePackageItem=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitScopedEval=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitFilteredEval=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitWithRef=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitTransformTableRef=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitTransformOutputRoleRef=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitRoleRef=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitAllRolesRef=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitDiscretize=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitMember=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitNamedQueryRef=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitNativeMeasure=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitNativeColumn=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitSummaryValueRef=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitSparklineData=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitNativeVisualCalc=function(Z,q){return this.visitDefault(Z,q)},se.prototype.visitDefault=function(Z,q){return Z},se}(),Mr=function(se){function Z(){return null!==se&&se.apply(this,arguments)||this}return(0,c.ZT)(Z,se),Z}(Xa),_a=function(se){function Z(q,me,je,Ge){var ft=this;return V.fF.assertValue(q,"schema"),V.fF.assertValue(me,"aggrUtils"),(ft=se.call(this)||this).schema=q,ft.aggrUtils=me,ft.context=Ge,je&&(ft.errors=je),ft}return(0,c.ZT)(Z,se),Z.prototype.visitIn=function(q){var me=se.prototype.visitIn.call(this,q),je=me.args,Ge=me.values;if(Ge){V.fF.assert(function(){return!me.table},"values and table cannot both be specified for the In operator");for(var ft=function(Ki){V.fF.assert(function(){return Ki.length===je.length},"args and value tuple are not the same length");for(var Mi=0,_n=Ki.length;Mi<_n;++Mi)ir.validateCompatibleType(je[Mi],Ki[Mi])},ir=this,br=0,Tr=Ge;br<Tr.length;br++)ft(Tr[br])}else{var Ra=me.table;V.fF.assert(function(){return!!Ra},"either values or table must be non-null for an In operator"),this.validateIsTableRef(Ra)}return me},Z.prototype.visitCompare=function(q){var me=se.prototype.visitCompare.call(this,q);return this.validateCompatibleType(me.left,me.right),me},Z.prototype.visitColumnRef=function(q){if((0,w.jv)(q.source))return B.m.getSubqueryExpression(q,this.context)||this.register(18),q;var je=(0,h.QD)(q);return je&&this.validateColumnExpr(je),q},Z.prototype.visitMeasureRef=function(q){var me=(0,h.QD)(q);if(me){var je=(0,h.Um)(me),Ge=this.validateEntity(je.schema,je.entity);if(Ge){var ft=Ge.properties.withName(me.measure.name);(!ft||1!==ft.kind||!this.isQueryable(me))&&this.register(5)}}return q},Z.prototype.visitAggr=function(q){var me=se.prototype.visitAggr.call(this,q);return va.getColumnRefSQExpr(this.schema,me.arg)&&(this.aggrUtils.isSupportedAggregate(q,this.schema,q.func,null,this.context)||this.register(0)),me},Z.prototype.visitGroupRef=function(q){var me=(0,h.QD)(q);if(me){var je=(0,h.Um)(me),Ge=this.validateEntity(je.schema,je.entity);if(Ge){var ft=Ge.properties.withName(me.groupingColumn.name);(!ft||0!==ft.kind||!this.validateExprSequence(q.groupedExprs)||!ft.column.groupingMetadata||!this.isQueryable(me))&&this.register(4)}}return q},Z.prototype.visitHierarchy=function(q){var me=(0,h.QD)(q);if(me){var je=me.hierarchy;je?this.validateHierarchy(je.schema,je.entity,je.name):this.register(6)}return q},Z.prototype.visitHierarchyLevel=function(q){var me=(0,h.QD)(q);if(me){var je=me.hierarchyLevel,Ge=me.columnHierarchyLevelVariation;je?this.validateHierarchyLevel(je.schema,je.entity,je.name,je.level):Ge?this.validateHierarchyLevelVariation(Ge):this.register(7)}return q},Z.prototype.visitPercentile=function(q){if(q.arg.accept(this),_.isEmpty(this.errors)){var me=q.arg.getMetadata(this.schema,this.context);(!me||0!==me.kind||!me.type||!me.type.integer&&!me.type.numeric)&&this.register(12)}return q},Z.prototype.visitRangePercent=function(q){return(q.percent>1||q.percent<0)&&this.register(13),q.min.accept(this),q.max.accept(this),q},Z.prototype.visitDiscretize=function(q){return q.source.accept(this),q.count<=0&&this.register(16),q},Z.prototype.visitEntity=function(q){return this.validateEntity(q.schema,q.entity),q},Z.prototype.visitSubqueryRef=function(q){return q},Z.prototype.visitNamedQueryRef=function(q){return q},Z.prototype.visitContains=function(q){return this.validateStartOrContainsArgs(q.left,q.right),q},Z.prototype.visitStartsWith=function(q){return this.validateStartOrContainsArgs(q.left,q.right),q},Z.prototype.visitArithmetic=function(q){return this.validateArithmeticTypes(q.operator,q.left,q.right),q},Z.prototype.visitScopedEval=function(q){if(q.hasGlobalScope()||q.hasInnerMostScope())return q;for(var me=0,je=q.scope;me<je.length;me++){var Ge=je[me];(0,w.DB)(Ge)||(0,w.t3)(Ge)||this.register(14)}return q},Z.prototype.visitFilteredEval=function(q){q.expression.accept(this),0===_.size(q.filters)&&this.register(17);for(var me=0,je=q.filters;me<je.length;me++){var Ge=je[me];if(!_.isEmpty(Ge.target))for(var ft=0,ir=Ge.target;ft<ir.length;ft++)ir[ft].accept(this);Ge.condition.accept(this)}return q},Z.prototype.visitWithRef=function(q){return q},Z.prototype.visitTransformTableRef=function(q){return q},Z.prototype.visitTransformOutputRoleRef=function(q){return q},Z.prototype.visitRoleRef=function(q){return q},Z.prototype.visitSummaryValueRef=function(q){return q},Z.prototype.visitAllRolesRef=function(q){return q},Z.prototype.visitSparklineData=function(q){if(B.m.isMeasure(q.measure)){var me=q.measure.getMetadata(this.schema),je=null==me?void 0:me.type;(null==je||!je.numeric)&&(null==je||!je.integer)&&this.register(5)}else this.register(5);V.fF.assert(function(){return 1===_.size(q.grouping)},"Only support 1 grouping for now"),_.some(q.grouping,function(br){return B.m.isMeasure(br)})&&this.register(3),q.measure.accept(this);for(var Ge=0,ft=q.grouping;Ge<ft.length;Ge++)ft[Ge].accept(this);return q.scalarKey&&q.scalarKey.accept(this),q},Z.prototype.visitNativeVisualCalc=function(q){return q},Z.prototype.validateExprSequence=function(q){var me=this;return _.reduce(q,function(je,Ge){return je&&_.isEmpty(Ge.validate(me.schema,me.aggrUtils,me.errors,me.context))},!0)},Z.prototype.validateStartOrContainsArgs=function(q,me){q.accept(this),me.accept(this),_.isEmpty(this.errors)&&((0,w.VC)(me)&&me.type.text?this.validateCompatibleType(q,me,!0):this.register(10))},Z.prototype.validateArithmeticTypes=function(q,me,je){B.m.supportsArithmetic(q,me,this.schema)||this.register(9),B.m.supportsArithmetic(q,je,this.schema)||this.register(10)},Z.prototype.validateCompatibleType=function(q,me,je){var Ge=q.getMetadata(this.schema,this.context),ft=Ge&&Ge.type,ir=me.getMetadata(this.schema,this.context),br=ir&&ir.type;(je?!ft||!br||!ft.isCompatibleFrom(br):ft&&br&&!ft.isCompatibleFrom(br))&&this.register(11)},Z.prototype.validateEntity=function(q,me){var je=this.schema.schema(q);if(je){var Ge=je.entities.withName(me);if(Ge)return Ge;this.register(2)}else this.register(1)},Z.prototype.validateIsTableRef=function(q){1!==q.kind&&0!==q.kind&&this.register(15)},Z.prototype.validateHierarchy=function(q,me,je){var Ge=this.validateEntity(q,me);if(Ge){var ft=Ge.hierarchies.withName(je);if(ft)return ft;this.register(6)}},Z.prototype.validateHierarchyLevel=function(q,me,je,Ge){var ft=this.validateHierarchy(q,me,je);if(ft){var ir=ft.levels.withName(Ge);if(ir)return ir;this.register(7)}},Z.prototype.validateHierarchyLevelVariation=function(q){var me=q.source,je=this.schema.schema(me.schema),Ge=je.findProperty(me.entity,me.name);if(this.validateColumnExpr({column:q.source}),Ge&&Ge.column){var ir=Ge.column.variations.withName(q.variationName);if(ir){var br=je.findHierarchyByVariation(me.entity,me.name,q.variationName,q.level.name);if(br&&br.levels.withName(q.level.level))return ir}this.register(8)}},Z.prototype.validateColumnExpr=function(q){var me=q.column,je=this.validateEntity(me.schema,me.entity);if(je){var Ge=je.properties.withName(me.name);if(Ge&&0===Ge.kind&&this.isQueryable(q))return Ge;this.register(3)}},Z.prototype.register=function(q){this.errors||(this.errors=[]),this.errors.push(q)},Z.prototype.isQueryable=function(q){var me=(0,h.Um)(q);if(q.hierarchyLevel||q.hierarchyLevelAggr){var je=function(se,Z){var q=function(se){return se.hierarchyLevel||se.hierarchyLevelAggr||se.columnHierarchyLevelVariation&&se.columnHierarchyLevelVariation.level}(Z);if(q)return u(se,q.schema,q.entity,q.name,q.level)}(this.schema,q);return je&&1!==je.column.queryable}return 1!==this.schema.schema(me.schema).findProperty(me.entity,(0,h.Hp)(q)).queryable},Z}(z.b),va=function(se){function Z(q){var me=se.call(this)||this;return me.schema=q,me}return(0,c.ZT)(Z,se),Z.prototype.visitColumnRef=function(q){return q},Z.prototype.visitGroupRef=function(q){return q},Z.prototype.visitHierarchyLevel=function(q){var me=q.level,je=q.arg,Ge=je.accept(this);if(je&&(0,w.jc)(je.arg)){var ir=Ge.getTargetEntityForVariation(this.schema,je.arg.name);if(Ge&&ir){var br=Ge.source.schema,Tr=Ke(br,ir),$r=this.schema.schema(br).findHierarchy(ir,je.hierarchy);if($r)for(var Ra=0,ja=$r.levels;Ra<ja.length;Ra++){var Ki=ja[Ra];if(Ki.name===me)return new De(Tr,Ki.column.name)}}}else{var Mi=je.arg,_n=u(this.schema,Mi.schema,Mi.entity,je.hierarchy,q.level);if(_n)return new De(je.arg,_n.column.name)}},Z.prototype.visitHierarchy=function(q){return q.arg.accept(this)},Z.prototype.visitPropertyVariationSource=function(q){return new De(q.arg,q.property)},Z.prototype.visitAggr=function(q){return q.arg.accept(this)},Z.prototype.visitDefault=function(q){},Z.getColumnRefSQExpr=function(q,me){var je=new Z(q);return me.accept(je)},Z}(C.vq),ha=function(se){function Z(){return null!==se&&se.apply(this,arguments)||this}return(0,c.ZT)(Z,se),Z.prototype.visitEntity=function(q){var me=this.result;this.result=void 0===me||(0,R.fS)(me,q)?q:null},Z.prototype.visitFilteredEval=function(q){q.expression.accept(this)},Z.getEntityExpr=function(q){var me=new Z;return q.accept(me),me.result||void 0},Z}(C.PA),ya=function(se){function Z(){return null!==se&&se.apply(this,arguments)||this}return(0,c.ZT)(Z,se),Z.prototype.visitNativeVisualCalc=function(q){},Z.prototype.visitDefault=function(q){return q.getTargetEntity().schema},Z.getSchemaName=function(q){return q.accept(Z.instance)},Z.instance=new Z,Z}(C.vq),$a=function(se){function Z(q){var me=this;return V.fF.assertValue(q,"func"),(me=se.call(this)||this).func=q,me}return(0,c.ZT)(Z,se),Z.prototype.visitAggr=function(q){return q.func===this.func?q:new Oe(q.arg,this.func)},Z.prototype.visitColumnRef=function(q){return new Oe(q,this.func)},Z.prototype.visitGroupRef=function(q){return new Oe(q,this.func)},Z.prototype.visitHierarchyLevel=function(q){return new Oe(q,this.func)},Z.rewrite=function(q,me){V.fF.assertValue(q,"expr"),V.fF.assertValue(me,"func");var je=new Z(me);return q.accept(je)},Z}(Mr),li=function(){function se(Z,q){this.sqExpr=Z,this.aggregate=q}return se.rewrite=function(Z,q){return(0,h.Vn)((0,h.QD)(Z),new se(Z,q))},se.prototype.visitPercentOfGrandTotal=function(Z){return Z.baseExpr=(0,h.QD)($a.rewrite((0,D.B)(Z.baseExpr),this.aggregate)),(0,D.B)({percentOfGrandTotal:Z})},se.prototype.visitPercentOfRoleTotal=function(Z){return Z.baseExpr=(0,h.QD)($a.rewrite((0,D.B)(Z.baseExpr),this.aggregate)),(0,D.B)({percentOfRoleTotal:Z})},se.prototype.visitFilteredEval=function(Z){return Z.baseExpr=(0,h.QD)($a.rewrite((0,D.B)(Z.baseExpr),this.aggregate)),(0,D.B)({filteredEval:Z})},se.prototype.visitColumn=function(Z){return this.defaultRewrite()},se.prototype.visitColumnAggr=function(Z){return this.defaultRewrite()},se.prototype.visitGroupingColumn=function(Z){return this.defaultRewrite()},se.prototype.visitGroupingColumnAggr=function(Z){return this.defaultRewrite()},se.prototype.visitColumnHierarchyVariation=function(Z){return this.defaultRewrite()},se.prototype.visitColumnHierarchyLevelVariation=function(Z){return this.defaultRewrite()},se.prototype.visitColumnSubquery=function(Z){return this.defaultRewrite()},se.prototype.visitColumnAggrSubquery=function(Z){return this.defaultRewrite()},se.prototype.visitColumnTransformRef=function(Z){return this.defaultRewrite()},se.prototype.visitSelectRef=function(Z){return this.defaultRewrite()},se.prototype.visitEntity=function(Z){return this.defaultRewrite()},se.prototype.visitEntityAggr=function(Z){return this.defaultRewrite()},se.prototype.visitHierarchy=function(Z){return this.defaultRewrite()},se.prototype.visitHierarchyLevel=function(Z){return this.defaultRewrite()},se.prototype.visitHierarchyLevelAggr=function(Z){return this.defaultRewrite()},se.prototype.visitMeasure=function(Z){return this.defaultRewrite()},se.prototype.visitPercentile=function(Z){return this.defaultRewrite()},se.prototype.visitTransformOutputRoleRef=function(Z){return this.defaultRewrite()},se.prototype.visitArithmetic=function(Z){return this.defaultRewrite()},se.prototype.visitConstant=function(Z){return this.defaultRewrite()},se.prototype.visitSparklineData=function(Z){return this.defaultRewrite()},se.prototype.visitNativeVisualCalc=function(Z){return this.defaultRewrite()},se.prototype.defaultRewrite=function(){return $a.rewrite(this.sqExpr,this.aggregate)},se}(),ui=function(){function se(Z){this.sqExpr=Z}return se.rewrite=function(Z,q){return(0,h.Vn)((0,h.QD)(Z,q),new se(Z))},se.prototype.visitPercentOfGrandTotal=function(Z){return se.rewrite((0,D.B)(Z.baseExpr))},se.prototype.visitPercentOfRoleTotal=function(Z){return se.rewrite((0,D.B)(Z.baseExpr))},se.prototype.visitFilteredEval=function(Z){return se.rewrite((0,D.B)(Z.baseExpr))},se.prototype.visitColumn=function(Z){return this.defaultRewrite()},se.prototype.visitColumnAggr=function(Z){return this.defaultRewrite()},se.prototype.visitGroupingColumn=function(Z){return this.defaultRewrite()},se.prototype.visitGroupingColumnAggr=function(Z){return this.defaultRewrite()},se.prototype.visitColumnHierarchyVariation=function(Z){return this.defaultRewrite()},se.prototype.visitColumnHierarchyLevelVariation=function(Z){return this.defaultRewrite()},se.prototype.visitColumnSubquery=function(Z){return this.defaultRewrite()},se.prototype.visitColumnAggrSubquery=function(Z){return this.defaultRewrite()},se.prototype.visitColumnTransformRef=function(Z){return this.defaultRewrite()},se.prototype.visitSelectRef=function(Z){return this.defaultRewrite()},se.prototype.visitEntity=function(Z){return this.defaultRewrite()},se.prototype.visitEntityAggr=function(Z){return this.defaultRewrite()},se.prototype.visitHierarchy=function(Z){return this.defaultRewrite()},se.prototype.visitHierarchyLevel=function(Z){return this.defaultRewrite()},se.prototype.visitHierarchyLevelAggr=function(Z){return this.defaultRewrite()},se.prototype.visitMeasure=function(Z){return this.defaultRewrite()},se.prototype.visitPercentile=function(Z){return this.defaultRewrite()},se.prototype.visitTransformOutputRoleRef=function(Z){return this.defaultRewrite()},se.prototype.visitArithmetic=function(Z){return this.defaultRewrite()},se.prototype.visitConstant=function(Z){return this.defaultRewrite()},se.prototype.visitSparklineData=function(Z){return this.defaultRewrite()},se.prototype.visitNativeVisualCalc=function(Z){return this.defaultRewrite()},se.prototype.defaultRewrite=function(){return ji.rewrite(this.sqExpr)},se}(),ji=function(se){function Z(){return null!==se&&se.apply(this,arguments)||this}return(0,c.ZT)(Z,se),Z.prototype.visitAggr=function(q){return q.arg},Z.rewrite=function(q){return V.fF.assertValue(q,"expr"),q.accept(Z.instance)},Z.instance=new Z,Z}(Mr),Hi=function(se){function Z(){return null!==se&&se.apply(this,arguments)||this}return(0,c.ZT)(Z,se),Z.prototype.visitEntity=function(q){return q.variable?Ke(q.schema,q.entity):q},Z.rewrite=function(q){return V.fF.assertValue(q,"expr"),q.accept(Z.instance)},Z.instance=new Z,Z}(z.b),Xr=function(se){function Z(){return null!==se&&se.apply(this,arguments)||this}return(0,c.ZT)(Z,se),Z.rewrite=function(q){return V.fF.assertValue(q,"expr"),q.accept(Z.instance)},Z.prototype.visitDefault=function(q){var me=(0,h.QD)(q);return me&&me.percentOfGrandTotal&&(q=(0,D.B)(me.percentOfGrandTotal.baseExpr)),q},Z.instance=new Z,Z}(Mr),Aa=function(se){function Z(){return null!==se&&se.apply(this,arguments)||this}return(0,c.ZT)(Z,se),Z.rewrite=function(q){return V.fF.assertValue(q,"expr"),q.accept(Z.instance)},Z.prototype.visitDefault=function(q){var me=(0,h.QD)(q);return me&&!me.percentOfGrandTotal&&(q=(0,D.B)({percentOfGrandTotal:{baseExpr:me}})),q},Z.instance=new Z,Z}(Mr),Qn=function(se){function Z(){return null!==se&&se.apply(this,arguments)||this}return(0,c.ZT)(Z,se),Z.rewrite=function(q){return V.fF.assertValue(q,"expr"),q.accept(Z.instance)},Z.prototype.visitDefault=function(q){var me=(0,h.QD)(q);return me&&me.percentOfRoleTotal&&(q=(0,D.B)(me.percentOfRoleTotal.baseExpr)),q},Z.instance=new Z,Z}(Mr),ci=function(se){function Z(){return null!==se&&se.apply(this,arguments)||this}return(0,c.ZT)(Z,se),Z.rewrite=function(q,me){return V.fF.assertValue(q,"expr"),q.accept(Z.instance,me)},Z.prototype.visitDefault=function(q,me){var je=(0,h.QD)(q);return je&&!je.percentOfRoleTotal&&(q=(0,D.B)({percentOfRoleTotal:{baseExpr:je,roles:me}})),q},Z.instance=new Z,Z}(Xa),Dn=function(se){function Z(){return null!==se&&se.apply(this,arguments)||this}return(0,c.ZT)(Z,se),Z.rewrite=function(q,me,je){return V.fF.assertValue(q,"expr"),V.fF.assert(function(){return(0,w.jX)(q)},"should be a native visual calc"),q.accept(Z.instance,{expression:me,name:je})},Z.prototype.visitNativeVisualCalc=function(q,me){return ma(me.name,me.expression,q.getAnnotations())},Z.instance=new Z,Z}(Xa),an=function(se){function Z(){return null!==se&&se.apply(this,arguments)||this}return(0,c.ZT)(Z,se),Z.prototype.visitHierarchyLevel=function(q){return q.arg.accept(this)},Z.prototype.visitHierarchy=function(q){return q.arg.accept(this)},Z.prototype.visitPropertyVariationSource=function(q){return q.property},Z.getProperty=function(q){var me=new Z;return q.accept(me)},Z}(C.vq)},9380:function(ie,ve,v){v.d(ve,{C6:function(){return j},FK:function(){return h},Me:function(){return S},fS:function(){return V},qV:function(){return D}});var c=v(8974),l=v(2490),n=v(8955),g=v(130);function V(G,I,E,T,m){return P.run(G,I,E,T,m)}var P=function(){function G(I,E,T){this.ignoreCase=I,this.ignoreVariables=E,this.ignoreAnnotations=T}return G.getInstance=function(I,E,T){I||(I=!1),E||(E=!1),T||(T=!1);var m=[+I,+E,+T].reduce(function(R,w){return R<<1|w}),z=G.instances[m];return z||(z=new G(I,E,T)),z},G.run=function(I,E,T,m,z){return(I=I||null)===(E=E||null)||!I==!E&&(n.fF.assertValue(I,"x"),n.fF.assertValue(E,"y"),I.accept(G.getInstance(T,m,z),E))},G.prototype.visitColumnRef=function(I,E){return!(!(0,g.t3)(E)&&!(0,g.wD)(E))&&I.ref===E.ref&&this.equals(I.source,E.source)&&this.equalAnnotations(I,E)},G.prototype.visitMeasureRef=function(I,E){return!(!(0,g.kb)(E)||!this.equalAnnotations(I,E))&&I.ref===E.ref&&this.equals(I.source,E.source)},G.prototype.visitNativeMeasure=function(I,E){if(!(0,g.cY)(E)||I.language!==E.language||I.expression!==E.expression||I.dataType!==E.dataType||I.format!==E.format||I.proposedName!==E.proposedName||!this.equalAnnotations(I,E))return!1;var T=I.expressionContentCache,m=E.expressionContentCache;return!T&&!m||!(!T||!m)&&T.unrecognizedIdentifiers===m.unrecognizedIdentifiers&&this.equalsAll(T.dependencies,m.dependencies)},G.prototype.visitNativeColumn=function(I,E){if(!(0,g.jk)(E)||I.language!==E.language||I.expression!==E.expression||I.dataType!==E.dataType||I.proposedName!==E.proposedName||I.format!==E.format||!this.equals(I.source,E.source)||!this.equalAnnotations(I,E))return!1;var T=I.expressionContentCache,m=E.expressionContentCache;return!T&&!m||!(!T||!m)&&T.unrecognizedIdentifiers===m.unrecognizedIdentifiers&&this.equalsAll(T.dependencies,m.dependencies)},G.prototype.visitAggr=function(I,E){return(0,g.iV)(E)&&this.equalAnnotations(I,E)&&I.func===E.func&&this.equals(I.arg,E.arg)},G.prototype.visitPercentile=function(I,E){return!(!(0,g.T5)(E)||!this.equalAnnotations(I,E))&&I.exclusive===E.exclusive&&I.k===E.k&&this.equals(I.arg,E.arg)},G.prototype.visitRangePercent=function(I,E){return!(!(0,g.YF)(E)||!this.equalAnnotations(I,E))&&I.percent===E.percent&&this.equals(I.min,E.min)&&this.equals(I.max,E.max)},G.prototype.visitGroupRef=function(I,E){var T=!1;return((0,g.wD)(E)||(0,g.t3)(E))&&(T=I.ref===E.ref&&this.equals(I.source,E.source)&&this.equalAnnotations(I,E)),(0,g.wD)(E)&&this.equalAnnotations(I,E)&&(T=T&&this.equalsAll(I.groupedExprs,E.groupedExprs)),T},G.prototype.visitHierarchy=function(I,E){return!(!(0,g.y3)(E)||!this.equalAnnotations(I,E))&&I.hierarchy===E.hierarchy&&this.equals(I.arg,E.arg)},G.prototype.visitHierarchyLevel=function(I,E){return!(!(0,g.ez)(E)||!this.equalAnnotations(I,E))&&I.level===E.level&&this.equals(I.arg,E.arg)},G.prototype.visitPropertyVariationSource=function(I,E){return!(!(0,g.jc)(E)||!this.equalAnnotations(I,E))&&I.name===E.name&&I.property===E.property&&this.equals(I.arg,E.arg)},G.prototype.visitSelectRef=function(I,E){return!(!(0,g.NH)(E)||!this.equalAnnotations(I,E)||I.expressionName!==E.expressionName||I.attributeKind!==E.attributeKind&&this.isNullOrUndefined(I.attributeKind)!==this.isNullOrUndefined(E.attributeKind))},G.prototype.isNullOrUndefined=function(I){return null==I},G.prototype.visitBetween=function(I,E){return!(!(0,g.Kh)(E)||!this.equalAnnotations(I,E))&&this.equals(I.arg,E.arg)&&this.equals(I.lower,E.lower)&&this.equals(I.upper,E.upper)},G.prototype.visitIn=function(I,E){if(!(0,g.Hi)(E)||!this.equalsAll(I.args,E.args)||!this.equalAnnotations(I,E))return!1;var T=E,m=I.values;if(m){var z=T.values;if(!z||m.length!==z.length)return!1;for(var R=0,w=m.length;R<w;R++)if(!this.equalsAll(m[R],z[R]))return!1}else if(n.fF.assert(function(){return!!I.table},"either values or table must be non-null for an In operator"),!T.table||!this.equals(I.table,T.table))return!1;return!0},G.prototype.visitEntity=function(I,E){return!(!(0,g.Lk)(E)||!this.equalAnnotations(I,E))&&I.schema===E.schema&&I.entity===E.entity&&(this.ignoreVariables||this.optionalEqual(I.variable,E.variable))},G.prototype.visitSubqueryRef=function(I,E){return!(!(0,g.jv)(E)||!this.equalAnnotations(I,E)||!I.query&&E.query||I.query&&!E.query)&&(I.query&&E.query?I.variable===E.variable&&j(I.query,E.query):I.variable===E.variable)},G.prototype.visitNamedQueryRef=function(I,E){return!(!(0,g.Il)(E)||!this.equalAnnotations(I,E))&&I.queryName===E.queryName&&(this.ignoreVariables||this.optionalEqual(I.variable,E.variable))},G.prototype.visitAnd=function(I,E){return!(!(0,g.un)(E)||!this.equalAnnotations(I,E))&&this.equals(I.left,E.left)&&this.equals(I.right,E.right)},G.prototype.visitOr=function(I,E){return!(!(0,g.Z8)(E)||!this.equalAnnotations(I,E))&&this.equals(I.left,E.left)&&this.equals(I.right,E.right)},G.prototype.visitCompare=function(I,E){return!(!(0,g.$Q)(E)||!this.equalAnnotations(I,E))&&I.comparison===E.comparison&&this.equals(I.left,E.left)&&this.equals(I.right,E.right)},G.prototype.visitConditional=function(I,E){var T=this;return!(!(0,g.Gs)(E)||!this.equalAnnotations(I,E))&&(0,l.NF)(I.cases,E.cases,function(m,z){return T.visitCase(m,z)})&&this.equalsNullableObject(I.defaultValue,E.defaultValue,function(m,z){return T.equals(m,z)})},G.prototype.visitCase=function(I,E){return this.equals(I.condition,E.condition)&&this.equals(I.value,E.value)},G.prototype.visitContains=function(I,E){return!(!(0,g.IS)(E)||!this.equalAnnotations(I,E))&&this.equals(I.left,E.left)&&this.equals(I.right,E.right)},G.prototype.visitDateSpan=function(I,E){return!(!(0,g.dZ)(E)||!this.equalAnnotations(I,E))&&I.unit===E.unit&&this.equals(I.arg,E.arg)},G.prototype.visitDateAdd=function(I,E){return!(!(0,g.Ok)(E)||!this.equalAnnotations(I,E))&&I.unit===E.unit&&I.amount===E.amount&&this.equals(I.arg,E.arg)},G.prototype.visitExists=function(I,E){return!(!(0,g.hV)(E)||!this.equalAnnotations(I,E))&&this.equals(I.arg,E.arg)},G.prototype.visitNot=function(I,E){return!(!(0,g.Ym)(E)||!this.equalAnnotations(I,E))&&this.equals(I.arg,E.arg)},G.prototype.visitNow=function(I,E){return!!this.equalAnnotations(I,E)&&(0,g.jr)(E)},G.prototype.visitDefaultValue=function(I,E){return!!this.equalAnnotations(I,E)&&(0,g.FU)(E)},G.prototype.visitAnyValue=function(I,E){return!!this.equalAnnotations(I,E)&&(0,g.cw)(E)},G.prototype.visitResourcePackageItem=function(I,E){return!(!(0,g.MI)(E)||!this.equalAnnotations(I,E))&&I.packageName===E.packageName&&I.packageType===E.packageType&&I.itemName===E.itemName},G.prototype.visitStartsWith=function(I,E){return!(!(0,g.f8)(E)||!this.equalAnnotations(I,E))&&this.equals(I.left,E.left)&&this.equals(I.right,E.right)},G.prototype.visitConstant=function(I,E){return!!((0,g.VC)(E)&&I.type.equals(E.type)&&this.equalAnnotations(I,E))&&(I.type.text&&this.ignoreCase?(0,c.vr)(I.valueEncoded,E.valueEncoded):I.valueEncoded===E.valueEncoded)},G.prototype.visitFillRule=function(I,E){var T=this;if(!(0,g.Tu)(E)||!this.equals(I.input,E.input)||!this.equalAnnotations(I,E))return!1;var m=I.rule,z=E.rule;return m===z||this.equalsNullableObject(m.linearGradient2,z.linearGradient2,function(R,w){return T.visitLinearGradient2(R,w)})&&this.equalsNullableObject(m.linearGradient3,z.linearGradient3,function(R,w){return T.visitLinearGradient3(R,w)})},G.prototype.visitLinearGradient2=function(I,E){var T=this;return n.fF.assertValue(I,"left"),n.fF.assertValue(E,"right"),this.equalsFillRuleStop(I.min,E.min)&&this.equalsFillRuleStop(I.max,E.max)&&this.equalsNullableObject(I.nullColoringStrategy,E.nullColoringStrategy,function(m,z){return T.equalsNullStrategy(m,z)})},G.prototype.visitLinearGradient3=function(I,E){var T=this;return n.fF.assertValue(I,"left"),n.fF.assertValue(E,"right"),this.equalsFillRuleStop(I.min,E.min)&&this.equalsFillRuleStop(I.mid,E.mid)&&this.equalsFillRuleStop(I.max,E.max)&&this.equalsNullableObject(I.nullColoringStrategy,E.nullColoringStrategy,function(m,z){return T.equalsNullStrategy(m,z)})},G.prototype.visitThemeDataColor=function(I,E){return n.fF.assertValue(I,"expr"),n.fF.assertValue(E,"comparand"),(0,g.wt)(E)&&I.colorId===E.colorId&&I.percent===E.percent},G.prototype.equalsFillRuleStop=function(I,E){return n.fF.assertValue(I,"stop1"),n.fF.assertValue(E,"stop2"),this.equals(I.color,E.color)&&this.equalsNullable(I.value,E.value)},G.prototype.equalsNullStrategy=function(I,E){return n.fF.assertValue(I,"equalsNullStrategy - left"),n.fF.assertValue(E,"equalsNullStrategy - right"),this.equals(I.strategy,E.strategy)&&this.equalsNullable(I.color,E.color)},G.prototype.visitArithmetic=function(I,E){return!(!(0,g.lF)(E)||!this.equalAnnotations(I,E))&&I.operator===E.operator&&this.equals(I.left,E.left)&&this.equals(I.right,E.right)},G.prototype.visitFloor=function(I,E){return!(!(0,g.xb)(E)||!this.equalAnnotations(I,E))&&I.timeUnit===E.timeUnit&&I.size===E.size&&this.equals(I.arg,E.arg)},G.prototype.visitScopedEval=function(I,E){return!(!(0,g.g5)(E)||!this.equalAnnotations(I,E))&&this.equals(I.expression,E.expression)&&this.equalsAll(I.scope,E.scope)},G.prototype.visitFilteredEval=function(I,E){return!(!(0,g.ZG)(E)||!this.equalAnnotations(I,E))&&this.equals(I.expression,E.expression)&&I.filters.length===E.filters.length&&_.every(I.filters,function(T,m){return S(T,E.filters[m])})},G.prototype.visitWithRef=function(I,E){return!(!(0,g.DB)(E)||!this.equalAnnotations(I,E))&&I.expressionName===E.expressionName},G.prototype.visitTransformTableRef=function(I,E){return!(!(0,g.PA)(E)||!this.equalAnnotations(I,E))&&I.source===E.source},G.prototype.visitTransformOutputRoleRef=function(I,E){return!(!(0,g.Im)(E)||!this.equalAnnotations(I,E))&&I.role===E.role&&I.transform===E.transform},G.prototype.visitRoleRef=function(I,E){return!(!(0,g.yL)(E)||!this.equalAnnotations(I,E))&&I.role===E.role},G.prototype.visitSummaryValueRef=function(I,E){return!(!(0,g.Bm)(E)||!this.equalAnnotations(I,E))&&I.name===E.name},G.prototype.visitAllRolesRef=function(I,E){return(0,g.LX)(E)},G.prototype.visitDiscretize=function(I,E){return!(!(0,g.P4)(E)||!this.equalAnnotations(I,E))&&I.count===E.count&&this.equals(I.source,E.source)},G.prototype.visitMember=function(I,E){return!(!(0,g.RN)(E)||!this.equalAnnotations(I,E))&&I.member===E.member&&this.equals(I.source,E.source)},G.prototype.visitSparklineData=function(I,E){return!!(0,g.tO)(E)&&this.equals(I.measure,E.measure)&&this.equalsAll(I.grouping,E.grouping)&&!!(!I.scalarKey&&!E.scalarKey||I.scalarKey&&E.scalarKey&&this.equals(I.scalarKey,E.scalarKey))&&I.pointsPerSparkline===E.pointsPerSparkline&&I.includeMinGroupingInterval===E.includeMinGroupingInterval},G.prototype.optionalEqual=function(I,E){return!I||!E||I===E},G.prototype.equals=function(I,E){return I.accept(this,E)},G.prototype.equalsNullable=function(I,E){var T=this;return this.equalsNullableObject(I,E,function(m,z){return T.equals(m,z)})},G.prototype.equalsNullableObject=function(I,E,T){return null==I&&null==E||null!=I&&null!=E&&T(I,E)},G.prototype.equalsAll=function(I,E){var T=this;return(0,l.NF)(I,E,function(m,z){return T.equals(m,z)})},G.prototype.equalAnnotations=function(I,E){return!(!this.ignoreAnnotations&&!_.isEqual(I.getAnnotations(),E.getAnnotations()))},G.prototype.visitNativeVisualCalc=function(I,E){return!(!this.ignoreAnnotations&&!_.isEqual(I.getAnnotations(),E.getAnnotations()))&&I.language===E.language&&I.expression===E.expression&&I.name===E.name},G.instances=[],G}();function S(G,I){return n.fF.assertAnyValue(G,"leftFilter"),n.fF.assertAnyValue(I,"rightFilter"),G||(G=null),I||(I=null),G===I||!(!!G!=!!I||!h(G,I))&&V(G.condition,I.condition)}function h(G,I){return n.fF.assertValue(G,"leftFilter"),n.fF.assertValue(I,"rightFilter"),(0,l.NF)(G.target,I.target,V)}function D(G,I){return n.fF.assertAnyValue(G,"filters"),n.fF.assertValue(I,"searchTarget"),!_.isEmpty(G)&&_.some(G,function(E){return S(E,I)})}function b(G,I){return!G&&!I||!(!G||!I)&&G.direction===I.direction&&V(G.expr,I.expr)}function N(G,I){return!G&&!I||!(!G||!I)&&V(G.expr,I.expr)}function F(G,I){return!G&&!I||!(!G||!I)&&(0,l.NF)(G.columns,I.columns,function(E,T){return function(G,I){return!G&&!I||!(!G||!I)&&G.role===I.role&&N(G.expression,I.expression)}(E,T)})}function Y(G,I){return!G&&!I||!(!G||!I)&&G.algorithm===I.algorithm&&function(G,I){return!G&&!I||!(!G||!I)&&(0,l.NF)(G.parameters,I.parameters,function(E,T){return N(E,T)})&&F(G.table,I.table)}(G.input,I.input)&&function(G,I){return!G&&!I||!(!G||!I)&&F(G.table,I.table)}(G.output,I.output)}function j(G,I){return n.fF.assertValue(G,"x SemanticQuery"),n.fF.assertValue(I,"y SemanticQuery"),G.from().equals(I.from())&&(0,l.NF)(G.where(),I.where(),S)&&(0,l.NF)(G.orderBy(),I.orderBy(),b)&&(0,l.NF)(G.select(),I.select(),N)&&(0,l.NF)(G.groupBy(),I.groupBy(),N)&&(0,l.NF)(G.transforms(),I.transforms(),Y)&&G.top()===I.top()}},6330:function(ie,ve,v){v.d(ve,{b:function(){return P}});var c=v(3188),l=v(2490),n=v(8955),g=v(9291),V=v(1797),P=function(){function S(){}return S.prototype.visitColumnRef=function(h){var D=h.source,b=D.accept(this);return D===b?h:new g.Wh(b,h.ref,void 0,h.getAnnotations())},S.prototype.visitMeasureRef=function(h){var D=h.source,b=D.accept(this);return D===b?h:new g.UY(b,h.ref,h.getAnnotations())},S.prototype.visitNativeMeasure=function(h){var D=h.expressionContentCache&&h.expressionContentCache.dependencies,b=D&&this.rewriteAll(D);return D===b?h:new g.$f(h.language,h.expression,h.dataType,h.proposedName,(0,c.pi)((0,c.pi)({},h.expressionContentCache),{dependencies:b}),h.format,h.getAnnotations())},S.prototype.visitNativeColumn=function(h){var D=h.expressionContentCache&&h.expressionContentCache.dependencies,b=D&&this.rewriteAll(D),N=h.source.accept(this);if(D===b&&h.source===N)return h;var f=h.expressionContentCache?(0,c.pi)((0,c.pi)({},h.expressionContentCache),{dependencies:b}):void 0;return new g.F1(h.language,h.expression,h.dataType,N,h.proposedName,f,h.format,h.getAnnotations())},S.prototype.visitAggr=function(h){var D=h.arg,b=D.accept(this);return D===b?h:new g.v0(b,h.func,h.includeAllTypes,h.getAnnotations())},S.prototype.visitSelectRef=function(h){return h},S.prototype.visitPercentile=function(h){var D=h.arg,b=D.accept(this);return D===b?h:new g._n(b,h.k,h.exclusive,h.getAnnotations())},S.prototype.visitRangePercent=function(h){var D=h.min,b=D.accept(this),N=h.max,f=N.accept(this);return D===b&&N===f?h:new g.LE(b,f,h.percent,h.getAnnotations())},S.prototype.visitGroupRef=function(h){for(var D=h.source,b=h.source.accept(this),N=h.groupedExprs,f=new Array(N.length),F=0;F<N.length;F++)f[F]=N[F].accept(this);return D===b&&V.m.sequenceEqual(N,f)?h:new g.qg(h.ref,b,f,h.getAnnotations())},S.prototype.visitHierarchy=function(h){var D=h.arg,b=D.accept(this);return D===b?h:new g.jE(b,h.hierarchy,h.getAnnotations())},S.prototype.visitHierarchyLevel=function(h){var D=h.arg,b=D.accept(this);return D===b?h:new g.vD(b,h.level,h.getAnnotations())},S.prototype.visitPropertyVariationSource=function(h){var D=h.arg,b=D.accept(this);return D===b?h:new g.c7(b,h.name,h.property,h.getAnnotations())},S.prototype.visitEntity=function(h){return h},S.prototype.visitSubqueryRef=function(h){return h},S.prototype.visitNamedQueryRef=function(h){return h},S.prototype.visitAnd=function(h){var D=h.left,b=D.accept(this),N=h.right,f=N.accept(this);return D===b&&N===f?h:new g.uV(b,f,h.getAnnotations())},S.prototype.visitBetween=function(h){var D=h.arg,b=D.accept(this),N=h.lower,f=N.accept(this),F=h.upper,A=F.accept(this);return D===b&&N===f&&F===A?h:new g.I6(b,f,A,h.getAnnotations())},S.prototype.visitIn=function(h){var f,D=h.args,b=this.rewriteAll(D),N=h.values,F=h.table,A=F;if(N){n.fF.assert(function(){return!F},"values and table cannot be both specified for the In operator");for(var k=0,Y=N.length;k<Y;k++){var j=N[k],G=this.rewriteAll(j);j!==G&&!f&&(f=(0,l.qn)(N,k)),f&&f.push(G)}}return F&&(n.fF.assert(function(){return!N},"values and table cannot be both specified for the In operator"),A=F.accept(this)),D!==b||f||F!==A?new g.Xg(b,f||N,A,h.getAnnotations()):h},S.prototype.rewriteAll=function(h){var D=this;return n.fF.assertValue(h,"origExprs"),(0,l.UU)(h,function(b){return b.accept(D)})},S.prototype.visitOr=function(h){var D=h.left,b=D.accept(this),N=h.right,f=N.accept(this);return D===b&&N===f?h:new g.Cc(b,f,h.getAnnotations())},S.prototype.visitCompare=function(h){var D=h.left,b=D.accept(this),N=h.right,f=N.accept(this);return D===b&&N===f?h:new g.wU(h.comparison,b,f,h.getAnnotations())},S.prototype.visitConditional=function(h){n.fF.assertNonEmpty(h.cases,"orig.cases");for(var f,D=h.defaultValue,b=D&&D.accept(this),N=h.cases,F=0,A=N.length;F<A;F++){var k=N[F],Y=this.visitCase(k);k!==Y&&!f&&(f=(0,l.qn)(N,F)),f&&f.push(Y)}return f||(f=N),b===D&&f===N?h:new g.c8(f,b,h.getAnnotations())},S.prototype.visitCase=function(h){var D=h.condition,b=D.accept(this),N=h.value,f=N.accept(this);return D===b&&N===f?h:{condition:b,value:f}},S.prototype.visitContains=function(h){var D=h.left,b=D.accept(this),N=h.right,f=N.accept(this);return D===b&&N===f?h:new g.ev(b,f,h.getAnnotations())},S.prototype.visitExists=function(h){var D=h.arg,b=D.accept(this);return D===b?h:new g.eX(b,h.getAnnotations())},S.prototype.visitNot=function(h){var D=h.arg,b=D.accept(this);return D===b?h:new g.v3(b,h.getAnnotations())},S.prototype.visitStartsWith=function(h){var D=h.left,b=D.accept(this),N=h.right,f=N.accept(this);return D===b&&N===f?h:new g.fw(b,f,h.getAnnotations())},S.prototype.visitConstant=function(h){return h},S.prototype.visitFloor=function(h){var D=h.arg,b=D.accept(this);return D===b?h:new g.UG(b,h.size,h.timeUnit,h.getAnnotations())},S.prototype.visitDateSpan=function(h){var D=h.arg,b=D.accept(this);return D===b?h:new g.AC(h.unit,b,h.getAnnotations())},S.prototype.visitDateAdd=function(h){var D=h.arg,b=D.accept(this);return D===b?h:new g.YB(h.unit,h.amount,b,h.getAnnotations())},S.prototype.visitNow=function(h){return h},S.prototype.visitDefaultValue=function(h){return h},S.prototype.visitAnyValue=function(h){return h},S.prototype.visitArithmetic=function(h){var D=h.left,b=D.accept(this),N=h.right,f=N.accept(this);return D===b&&N===f?h:new g.MH(b,f,h.operator,h.getAnnotations())},S.prototype.visitScopedEval=function(h){var D=h.expression,b=D.accept(this),N=h.scope,f=this.rewriteAll(N);return D===b&&N===f?h:new g.kC(b,f,h.getAnnotations())},S.prototype.visitFilteredEval=function(h){for(var D=h.expression,b=D.accept(this),N=!1,f=[],F=0,A=h.filters;F<A.length;F++){var k=A[F],Y=k.target,j=void 0;_.isEmpty(Y)||(j=this.rewriteAll(Y));var G=k.condition,I=k.condition.accept(this);(Y!==j||G!==I)&&(N=!0),f.push({target:j,condition:I})}return D!==b||N?new g.Gv(b,f,h.getAnnotations()):h},S.prototype.visitWithRef=function(h){return h},S.prototype.visitTransformTableRef=function(h){return h},S.prototype.visitTransformOutputRoleRef=function(h){return h},S.prototype.visitRoleRef=function(h){return h},S.prototype.visitSummaryValueRef=function(h){return h},S.prototype.visitAllRolesRef=function(h){return h},S.prototype.visitFillRule=function(h){var D=h.input,b=D.accept(this),N=h.rule,f=N.linearGradient2,F=f;f&&(F=this.visitLinearGradient2(f));var A=N.linearGradient3,k=A;if(A&&(k=this.visitLinearGradient3(A)),D!==b||f!==F||A!==k){var Y={};return F&&(Y.linearGradient2=F),k&&(Y.linearGradient3=k),new g.DJ(b,Y,h.getAnnotations())}return h},S.prototype.visitLinearGradient2=function(h){n.fF.assertValue(h,"origGradient");var D=h.min,b=this.visitFillRuleStop(D),N=h.max,f=this.visitFillRuleStop(N),F=h.nullColoringStrategy,A=this.visitFillNullStrategy(F);if(D!==b||N!==f||F!==A){var k={min:b,max:f};return A&&(k.nullColoringStrategy=A),k}return h},S.prototype.visitLinearGradient3=function(h){n.fF.assertValue(h,"origGradient");var D=h.min,b=this.visitFillRuleStop(D),N=h.mid,f=this.visitFillRuleStop(N),F=h.max,A=this.visitFillRuleStop(F),k=h.nullColoringStrategy,Y=this.visitFillNullStrategy(k);if(D!==b||N!==f||F!==A||k!==Y){var j={min:b,mid:f,max:A};return Y&&(j.nullColoringStrategy=Y),j}return h},S.prototype.visitFillRuleStop=function(h){n.fF.assertValue(h,"stop");var D=h.color,b=h.color.accept(this),N=h.value,f=N;if(N&&(f=N.accept(this)),D!==b||N!==f){var F={color:b};return f&&(F.value=f),F}return h},S.prototype.visitFillNullStrategy=function(h){if(h){var D=h.strategy,b=D.accept(this),N=h.color,f=N;if(N&&(f=N.accept(this)),D!==b||N!==f){var F={strategy:b};return f&&(F.color=f),F}return h}},S.prototype.visitThemeDataColor=function(h){return h},S.prototype.visitResourcePackageItem=function(h){return h},S.prototype.visitDiscretize=function(h){var D=h.source.accept(this);return D===h.source?h:new g.ex(D,h.count,h.getAnnotations())},S.prototype.visitMember=function(h){var D=h.source.accept(this);return D===h.source?h:new g.Jm(D,h.member,h.getAnnotations())},S.prototype.visitSparklineData=function(h){var D,b=h.measure.accept(this),N=this.rewriteAll(h.grouping),f=null===(D=h.scalarKey)||void 0===D?void 0:D.accept(this),F=h.pointsPerSparkline,A=h.includeMinGroupingInterval;return b===h.measure&&N===h.grouping&&h.scalarKey===f&&h.pointsPerSparkline===F&&h.includeMinGroupingInterval===A?h:new g.GF(b,N,f,F,A)},S.prototype.visitNativeVisualCalc=function(h){return h},S}()},130:function(ie,ve,v){v.d(ve,{$Q:function(){return Se},AW:function(){return D},Bm:function(){return W},DB:function(){return y},FU:function(){return De},Gs:function(){return we},Hi:function(){return A},IS:function(){return Pe},Il:function(){return ee},Im:function(){return L},Kh:function(){return le},LX:function(){return J},Lk:function(){return N},MI:function(){return O},NH:function(){return B},Ok:function(){return Xe},P4:function(){return ce},PA:function(){return M},RN:function(){return fe},S9:function(){return P},T5:function(){return z},Tu:function(){return lt},VC:function(){return V},WC:function(){return te},YF:function(){return R},Ym:function(){return pe},Z8:function(){return Ae},ZG:function(){return d},cY:function(){return T},cw:function(){return Qe},dZ:function(){return ze},ez:function(){return F},f8:function(){return rt},fU:function(){return h},g:function(){return S},g5:function(){return C},hV:function(){return Me},iV:function(){return k},jX:function(){return oe},jc:function(){return w},jk:function(){return m},jr:function(){return Fe},jv:function(){return u},kb:function(){return E},lF:function(){return l},t3:function(){return g},tO:function(){return ae},uR:function(){return b},un:function(){return Ne},wD:function(){return Q},wt:function(){return Oe},xb:function(){return n},y3:function(){return f},yL:function(){return X}});var c=v(8955);function l(he){return c.fF.assertValue(he,"expr"),23===he.kind}function n(he){return c.fF.assertValue(he,"expr"),35===he.kind}function g(he){return c.fF.assertValue(he,"expr"),2===he.kind}function V(he){return c.fF.assertValue(he,"expr"),17===he.kind}function P(he){return c.fF.assertValue(he,"expr"),V(he)&&he.type.numeric}function S(he){return c.fF.assertValue(he,"expr"),V(he)&&he.type.bool}function h(he){return c.fF.assertValue(he,"expr"),V(he)&&he.type.dateTime}function D(he){return c.fF.assertValue(he,"expr"),V(he)&&he.type.text}function b(he){return c.fF.assertValue(he,"expr"),V(he)&&0===he.type.primitiveType&&null===he.value}function N(he){return c.fF.assertValue(he,"expr"),0===he.kind}function f(he){return c.fF.assertValue(he,"expr"),6===he.kind}function F(he){return c.fF.assertValue(he,"expr"),7===he.kind}function A(he){return c.fF.assertValue(he,"expr"),10===he.kind}function k(he){return c.fF.assertValue(he,"expr"),4===he.kind}function E(he){return c.fF.assertValue(he,"expr"),3===he.kind}function T(he){return c.fF.assertValue(he,"expr"),43===he.kind}function m(he){return c.fF.assertValue(he,"expr"),44===he.kind}function z(he){return c.fF.assertValue(he,"expr"),28===he.kind}function R(he){return c.fF.assertValue(he,"expr"),29===he.kind}function w(he){return c.fF.assertValue(he,"expr"),5===he.kind}function B(he){return c.fF.assertValue(he,"expr"),30===he.kind}function C(he){return c.fF.assertValue(he,"expr"),26===he.kind}function d(he){return c.fF.assertValue(he,"expr"),41===he.kind}function u(he){return c.fF.assertValue(he,"expr"),1===he.kind}function y(he){return c.fF.assertValue(he,"expr"),27===he.kind}function M(he){return c.fF.assertValue(he,"expr"),31===he.kind}function L(he){return c.fF.assertValue(he,"expr"),32===he.kind}function O(he){return c.fF.assertValue(he,"expr"),25===he.kind}function Q(he){return c.fF.assertValue(he,"expr"),34===he.kind}function X(he){return c.fF.assertValue(he,"expr"),36===he.kind}function W(he){return c.fF.assertValue(he,"expr"),45===he.kind}function J(he){return c.fF.assertValue(he,"expr"),37===he.kind}function ee(he){return c.fF.assertValue(he,"expr"),39===he.kind}function le(he){return c.fF.assertValue(he,"expr"),9===he.kind}function Ne(he){return c.fF.assertValue(he,"expr"),8===he.kind}function Ae(he){return c.fF.assertValue(he,"expr"),11===he.kind}function Se(he){return c.fF.assertValue(he,"expr"),13===he.kind}function we(he){return c.fF.assertValue(he,"expr"),42===he.kind}function Pe(he){return c.fF.assertValue(he,"expr"),12===he.kind}function ze(he){return c.fF.assertValue(he,"expr"),18===he.kind}function Xe(he){return c.fF.assertValue(he,"expr"),19===he.kind}function Me(he){return c.fF.assertValue(he,"expr"),15===he.kind}function pe(he){return c.fF.assertValue(he,"expr"),16===he.kind}function Fe(he){return c.fF.assertValue(he,"expr"),20===he.kind}function De(he){return c.fF.assertValue(he,"expr"),22===he.kind}function Qe(he){return c.fF.assertValue(he,"expr"),21===he.kind}function rt(he){return c.fF.assertValue(he,"expr"),14===he.kind}function lt(he){return c.fF.assertValue(he,"expr"),24===he.kind}function Oe(he){return c.fF.assertValue(he,"expr"),33===he.kind}function ce(he){return c.fF.assertValue(he,"expr"),38===he.kind}function fe(he){return c.fF.assertValue(he,"expr"),40===he.kind}function ae(he){return c.fF.assertValue(he,"expr"),46===he.kind}function te(he){return c.fF.assertValue(he,"expr"),0===he.comparison&&(b(he.right)||b(he.left))}function oe(he){return c.fF.assertValue(he,"expr"),47===he.kind}},1797:function(ie,ve,v){v.d(ve,{m:function(){return j}});var c=v(3188),l=v(2490),n=v(8955),g=v(8974),V=v(5867),h=v(2303),D=v(338),b=v(5353),N=v(9291),f=v(8893),F=v(4791),A=v(2972),k=v(130),Y=v(9380),j=function(){function B(){}return B.supportsArithmetic=function(C,d,u){var y=d.getMetadata(u),M=y&&y.type;return!(!y||!M)&&(2===C||3===C?M.numeric:M.numeric||M.dateTime||M.duration)},B.indexOfExpr=function(C,d){n.fF.assertValue(C,"items"),n.fF.assertValue(d,"searchElement");for(var u=0,y=C.length;u<y;u++)if((0,Y.fS)(C[u],d))return u;return-1},B.indexOfNamedExpr=function(C,d){n.fF.assertValue(C,"items"),n.fF.assertValue(d,"searchElement");for(var u=0,y=C.length;u<y;u++){var M=C[u];if(M&&(0,Y.fS)(M.expr,d))return u}return-1},B.sequenceEqual=function(C,d){n.fF.assertValue(C,"x"),n.fF.assertValue(d,"y");var u=C.length;if(u!==d.length)return!1;for(var y=0;y<u;y++)if(!(0,Y.fS)(C[y],d[y]))return!1;return!0},B.isSubset=function(C,d){n.fF.assertValue(C,"x"),n.fF.assertValue(d,"y");for(var u=function(Q){if(-1===_.findIndex(d,function(W){return(0,Y.fS)(W,Q)}))return{value:!1}},y=0,M=C;y<M.length;y++){var O=u(M[y]);if("object"==typeof O)return O.value}return!0},B.uniqueName=function(C,d,u){n.fF.assertValue(C,"namedItems");for(var y={},M=0,L=C.length;M<L;M++)y[C[M].name]=!0;return(0,g.zE)(y,u||this.defaultName(d))},B.defaultName=function(C,d){return void 0===d&&(d="select"),C?C.accept(G.instance,d):d},B.isMeasure=function(C){return n.fF.assertValue(C,"expr"),C.accept(I.instance)},B.isAnyValue=function(C){return n.fF.assertValue(C,"expr"),C.accept(T.instance)},B.isDefaultValue=function(C){return n.fF.assertValue(C,"expr"),C.accept(E.instance)},B.isFromVariation=function(C){return n.fF.assertValue(C,"expr"),(0,k.y3)(C)&&(0,k.jc)(C.arg)||(0,k.ez)(C)&&this.isFromVariation(C.arg)},B.discourageAggregation=function(C,d){var u=this.getSchemaCapabilities(C,d);return _.some(u,function(y){return y.discourageQueryAggregateUsage})},B.getAggregateBehavior=function(C,d){n.fF.assertValue(C,"expr"),n.fF.assertValue(d,"schema");var u=this.getConceptualColumn(C,d);if(u)return u.aggregateBehavior},B.getSchemaCapabilities=function(C,d){n.fF.assertValue(C,"expr"),n.fF.assertValue(d,"schema");var u=(0,D.QD)(C,d);if(u){var y=(0,D.pV)(u);return _.chain(y).map(function(M){var L;return null===(L=d.schema(M.schema))||void 0===L?void 0:L.capabilities}).filter(function(M){return!!M}).value()}},B.getKpiMetadata=function(C,d){var u=this.getKpiStatusProperty(C,d);if(u)return u.kpiValue.measure.kpi.statusMetadata;var y=this.getKpiTrendProperty(C,d);return y?y.kpiValue.measure.kpi.trendMetadata:void 0},B.getParameterMetadata=function(C,d){var u=C.getConceptualProperty(d,!0),y=u&&u.column&&u.column.parameterMetadata;return y&&this.getDataViewParameterColumnMetadata(y)},B.getWhatIfParameterMetadata=function(C){if(C&&C.parameterMetadata&&0===C.parameterMetadata.kind)return C.parameterMetadata},B.getFieldParameterQuerySelects=function(C,d){var u;if(!_.isEmpty(C)){var y=C.getConceptualProperty(d);if(y){var M=y.column;if(M&&2===C.kind&&2===(null===(u=M.parameterMetadata)||void 0===u?void 0:u.kind)){var L=C.getTargetEntity(),O=d.schema(L.schema).entities.withName(L.entity),H=_.some(O.properties,function(ee){return ee.column&&ee.column.keys});n.fF.assert(function(){return H},"A key should always exist within the fieldParameter entity");for(var Q=0,X=O.properties;Q<X.length;Q++){var W=X[Q];if(W.column&&W.column.keys&&1===W.column.keys.length){var J=W.column.keys[0];if(J===y)return{parameterColumn:C,labelColumn:(0,N.Oh)(L,W.name)};if(y===W)return{labelColumn:C,parameterColumn:(0,N.Oh)(L,J.name)}}}return{parameterColumn:C}}}}},B.getFieldParameters=function(C){var d=[];for(var u in C){var M=C[u].getFieldParameters();d.push({role:u,parameters:M})}return d},B.getParameterValuesOrder=function(C,d){if(!_.isEmpty(C))for(var u=0,y=C;u<y.length;u++){var M=y[u],L=null==M?void 0:M.conditions();if(!_.isEmpty(L)){var O=(0,b.lZ)(d,L[0]);if(!_.isEmpty(O))return O}}return[]},B.isFilterForFieldParameter=function(C,d,u){if(C)for(var M=0,L=B.getFieldParameters(C);M<L.length;M++)for(var H=0,Q=L[M].parameters;H<Q.length;H++){var W=B.getFieldParameterQuerySelects(Q[H].expr,u);if(W&&!_.isEmpty(B.getParameterValuesOrder([d],W.parameterColumn)))return!0}return!1},B.shouldUseAsFieldParameter=function(C,d,u,y,M){return!(!C||M||!y||(0,k.ez)(u)||!B.getFieldParameterQuerySelects(u,d))},B.getDataViewParameterColumnMetadata=function(C){return{kind:this.getDataViewParameterKind(C),mappedMParameterNames:C.mappedMParameterNames,supportsMultipleValues:C.supportsMultipleValues,supportsSelectAll:C.supportsSelectAll}},B.getDataViewParameterKind=function(C){if(null!=C){var d=C.kind;if(null==d)return 0;switch(d){case 0:return 0;case 1:return 1;case 2:return 2;default:return void n.fF.assertNever(d)}}},B.hasMappedMParameter=function(C,d){var u=this.getConceptualParameterMetadata(C,d);return 1===(null==u?void 0:u.kind)},B.isSupportMulitpleValuesEnabled=function(C,d){var u=this.getConceptualParameterMetadata(C,d);return null==u?void 0:u.supportsMultipleValues},B.getConceptualParameterMetadata=function(C,d){var u=this.getConceptualColumn(C,d);return null==u?void 0:u.parameterMetadata},B.getConceptualEntity=function(C,d){return n.fF.assertValue(C,"entityExpr"),d.schema(C.schema).entities.withName(C.entity)},B.hasMappedColumn=function(C,d){return m.hasMappedColumn(C,d)},B.getColumnnsWithKey=function(C,d){n.fF.assertValue(C,"keyExpr"),n.fF.assertValue(d,"schema");var u=C.getTargetColumnRef(d);if(u){var y=u.getConceptualProperty(d);if(y&&y.column){var M=u.getTargetEntity();if(M){var L=this.getConceptualEntity(M,d);if(L){for(var O=[],H=0,Q=L.properties;H<Q.length;H++){var X=Q[H];X.column&&X.column.keys&&_.includes(X.column.keys,y)&&O.push((0,N.Oh)(M,X.name))}return O}}}}},B.tryGetExprFromFilter=function(C){if((0,k.Hi)(C.condition)&&1===_.size(C.condition.args))return C.condition.args[0];if((0,k.$Q)(C.condition)){if((0,k.VC)(C.condition.left))return C.condition.right;if((0,k.VC)(C.condition.right))return C.condition.left}},B.checkExprForValidMParameters=function(C,d){return this.checkExprForMapped(C,d).isValidSQExpr},B.checkExprForMapped=function(C,d){return(0,k.$Q)(C)?this.checkComparsionForMapped(C,d):(0,k.Hi)(C)?this.checkInForMapped(C,d):(0,k.Z8)(C)?this.checkOrForMapped(C,d):{isValidSQExpr:!B.hasMappedColumn(C,d)}},B.checkComparsionForMapped=function(C,d){if(!(0,k.t3)(C.left))return{isValidSQExpr:!0};var M,u=B.getConceptualParameterMetadata(C.left,d);if(1===(null==u?void 0:u.kind)){if(0!==C.comparison||(0,k.uR)(C.right))return{isValidSQExpr:!1};if(!u.supportsSelectAll&&(0,k.cw)(C.right))return{isValidSQExpr:!1};M=C.left}return{isValidSQExpr:!0,columnExpr:M}},B.checkInForMapped=function(C,d){for(var y,u=C.args,M=!1,L=!1,O=0,H=u;O<H.length;O++){var Q=H[O];if((0,k.t3)(Q)){var X=B.getConceptualParameterMetadata(Q,d);if(M=1===(null==X?void 0:X.kind)){y=Q,L=null==X?void 0:X.supportsMultipleValues;break}}}if(M){if(u.length>1||C.table&&(0,k.jv)(C.table)||C.values.length>1&&!L)return{isValidSQExpr:!1};if(_.some(C.values,function(J){return _.some(J,function(ee){return(0,k.uR)(ee)})}))return{isValidSQExpr:!1}}return{isValidSQExpr:!0,columnExpr:y}},B.checkOrForMapped=function(C,d){var u=this.checkExprForMapped(C.left,d),y=this.checkExprForMapped(C.right,d),M=u.columnExpr,L=y.columnExpr;return(0,Y.fS)(M,L)?M&&!B.isSupportMulitpleValuesEnabled(M,d)||L&&!B.isSupportMulitpleValuesEnabled(L,d)?{isValidSQExpr:!1}:{isValidSQExpr:u.isValidSQExpr&&y.isValidSQExpr,columnExpr:M}:{isValidSQExpr:!1}},B.getKpiStatusProperty=function(C,d){var u=C.getConceptualProperty(d);if(u){var y=u.kpiValue;if(y&&y.measure.kpi.status===u)return u}},B.getKpiTrendProperty=function(C,d){var u=C.getConceptualProperty(d);if(u){var y=u.kpiValue;if(y&&y.measure.kpi.trend===u)return u}},B.getDefaultValue=function(C,d){var u=this.getConceptualColumn(C,d);if(u)return u.defaultValue},B.getConceptualColumn=function(C,d){if(C&&d){var u=(0,D.QD)(C);if(u){var y=u.column||u.groupingColumn;if(y){if(d.schema(y.schema)&&y.name){var M=d.schema(y.schema).findProperty(y.entity,y.name);if(M)return M.column}}else{var L=u.hierarchyLevel;if(L){var O=(0,D.Um)(u),H=O.schema;if(d.schema(H)){var Q=d.schema(H).findHierarchy(O.entity,L.name);if(Q){var X=Q.levels.withName(L.level);if(X&&X.column)return X.column.column}}}}}}},B.getDefaultValues=function(C,d){if(!_.isEmpty(C)&&d){for(var u=[],y=0,M=C;y<M.length;y++){var O=this.getDefaultValue(M[y],d);O&&u.push(O)}return u}},B.getPrimitiveValuesFromSQConstantExpr=function(C){if((0,k.VC)(C)){if((0,k.AW)(C))return N.jz.getTextValue(C);if((0,k.fU)(C))return N.jz.getDateValue(C);if((0,k.S9)(C))return N.jz.getNumericValue(C);if((0,k.g)(C))return N.jz.getBooleanValue(C)}},B.convertSemanticFilterToDataViewScopeIdentity=function(C){var d=[],u=C.conditions();if(u)for(var y=0,M=u;y<M.length;y++){var L=M[y],O=new b.aL;if(L.accept(O),O.keys&&O.values&&O.values.length>0&&O.keys.length>0&&O.values.length%O.keys.length==0)for(var H=0;H<O.values.length;H+=O.keys.length){for(var Q=[],X=[],W=0;W<O.keys.length;W++)Q.push(O.keys[W]),X.push(O.values[H+W]);var J=B.getDataViewScopeIdentityComparisonExpr(Q,X),ee=(0,h.TZ)(J);d.push(ee)}}return d},B.getDataViewScopeIdentityComparisonExpr=function(C,d){n.fF.assert(function(){return C.length===d.length},"fileds and values need to be the same size");for(var u=[],y=0;y<C.length;y++)u.push((0,N.qu)(0,C[y],d[y]));if(!_.isEmpty(u)){for(var M,L=0,O=u;L<O.length;L++)M=(0,N.xD)(M,O[L]);return M}},B.getActiveTablesNames=function(C){var u=new F.Nh;if(C){var y=C.from();if(void 0!==y)for(var M=0,L=y.keys();M<L.length;M++)y.source(L[M]).accept(u,null)}return _.map(u.entities,function(H){return H.entity})},B.isRelatedToMany=function(C,d,u,y){return this.isRelated(C,d,u,0,2,y)||this.isRelated(C,u,d,2,0,y)},B.isRelatedToOne=function(C,d,u,y){return this.isRelated(C,d,u,2,0,y)||this.isRelated(C,u,d,0,2,y)},B.isRelated=function(C,d,u,y,M,L){var O=B.getConceptualEntity(d,C);if(n.fF.assertValue(O,"could not resolve conceptual entity form sourceExpr."),_.isEmpty(O.navigationProperties))return!1;var H=B.getConceptualEntity(u,C);n.fF.assertValue(H,"could not resolve conceptual entity form targetExpr.");var Q=[];for(Q.push(O);!_.isEmpty(Q);){var W=Q.shift().navigationProperties;if(!_.isEmpty(W))for(var J=0,ee=W;J<ee.length;J++){var le=ee[J];if(le.isActive&&(null==L||le.behavior===L)&&le.targetMultiplicity===M&&le.sourceMultiplicity===y){if(le.targetEntity===H)return!0;Q.push(le.targetEntity)}}}return!1},B.isRelatedOneToOne=function(C,d,u,y){var M=B.getConceptualEntity(d,C);n.fF.assertValue(M,"could not resolve conceptual entity form sourceExpr.");var L=B.getConceptualEntity(u,C);n.fF.assertValue(L,"could not resolve conceptual entity form targetExpr.");var O=M.navigationProperties,H=L.navigationProperties;return(!_.isEmpty(O)||!_.isEmpty(H))&&(this.hasOneToOneNavigation(O,L,y)||this.hasOneToOneNavigation(H,M,y))},B.haveTheSameSchema=function(C){n.fF.assertNonEmpty(C,"exprs should not be null, undefined, or empty");var d=C[0].schema;return _.chain(C).drop(1).every(function(u){return u.schema===d}).value()},B.areHierarchicallyRelated=function(C,d){if(_.isEmpty(d)||!this.haveTheSameSchema(d))return!1;if(1===(d=_.values(_.keyBy(d,function(we){return we.entity}))).length)return!0;var u=d[0].schema,y=_.find(C.schemas,function(we){return we.name===u});if(!y)return!1;var M=d.map(function(we){return B.getConceptualEntity(we,C)});if(_.some(M,function(we){return!we}))return!1;var O=B.buildEntityGraph(y,this.allowedHierarchicalMultiplicityPairForTraversal,0),H=[].concat(M),Q=H.shift(),X=this.findEntityPath([Q],H,O,!0);if(1===X.length&&0===X[0].unableToVisit.length)return!0;var W=_.values(_.keyBy(_.flatten(X.map(function(we){return we.unableToVisit})),function(we){return we.name})),J=this.findEntityPath([Q],W,O,!1);if(1===J.length&&0===J[0].unableToVisit.length)return!0;for(var ee=function(Pe){if(_.find(J,function(Xe){for(var Me=!0,pe=0,Fe=Pe.unableToVisit;pe<Fe.length;pe++)if(Xe.unableToVisit.indexOf(Fe[pe])>=0){Me=!1;break}return Me}))return{value:!0}},le=0,Ne=X;le<Ne.length;le++){var Se=ee(Ne[le]);if("object"==typeof Se)return Se.value}return!1},B.buildEntityGraph=function(C,d,u){for(var y={},M=C.entities.map(function(Se){return Se}),L=0,O=M;L<O.length;L++)y[(H=O[L]).name]={entity:H};for(var Q=0,X=M;Q<X.length;Q++){var H,W=(H=X[Q]).navigationProperties;if(!_.isEmpty(W))for(var J=y[H.name],ee=0,le=W;ee<le.length;ee++){var Ne=le[ee];if(Ne.isActive&&(void 0===Ne.behavior||void 0===u||Ne.behavior===u)){var Ae=y[Ne.targetEntity.name];Ae&&(this.multiplicityPairMatches([Ne.targetMultiplicity,Ne.sourceMultiplicity],d)&&this.addTraversalNodes(Ae,J),1===Ne.crossFilterDirection&&this.multiplicityPairMatches([Ne.sourceMultiplicity,Ne.targetMultiplicity],d)&&this.addTraversalNodes(J,Ae))}}}return y},B.addTraversalNodes=function(C,d){C.forwardNodes=C.forwardNodes||[],_.find(C.forwardNodes,function(u){return u.entity.name===d.entity.name})||C.forwardNodes.push(d),d.backwardNodes=d.backwardNodes||[],_.find(d.backwardNodes,function(u){return u.entity.name===C.entity.name})||d.backwardNodes.push(C)},B.multiplicityPairMatches=function(C,d){if(C&&2===C.length&&!_.isEmpty(d))for(var u=0,y=d;u<y.length;u++){var M=y[u];if(2===M.length&&C[0]===M[0]&&C[1]===M[1])return!0}return!1},B.findEntityPath=function(C,d,u,y){if(d=d||[],0===(C=C||[]).length||0===d.length||!u)return[{path:C,unableToVisit:d}];for(var M=0,L=C;M<L.length;M++)if(!u[L[M].name])return[{path:C,unableToVisit:d}];var Q=u[C[C.length-1].name],X=y?Q.forwardNodes:Q.backwardNodes;if(!X||0===X.length)return[{path:C,unableToVisit:d}];for(var W=this.getEntityLoopPatterns(C),J=[],ee=0,le=X;ee<le.length;ee++){var Ae=le[ee].entity,Se=[].concat(C);Se.push(Ae);for(var we=!1,Pe=0,ze=W;Pe<ze.length;Pe++)if(this.endsWith(Se,ze[Pe])){we=!0;break}if(!we){var Me=d,pe=d.indexOf(Ae);pe>=0&&(Me=[].concat(d)).splice(pe,1);var Fe=this.findEntityPath(Se,Me,u,y);if(1===Fe.length&&0===Fe[0].unableToVisit.length){J=Fe;break}for(var De=0,Qe=Fe;De<Qe.length;De++)J.push(Qe[De])}}return 0===J.length&&(J=[{path:C,unableToVisit:d}]),J},B.getEntityLoopPatterns=function(C){for(var d=[],y=function(Q){if(C.filter(function(Ne){return Ne===Q}).length>=2)for(var X=Q,W=void 0,J=0,ee=C;J<ee.length;J++){var le=ee[J];le===X?(W&&(W.push(le),d.push(W)),W=[le]):W&&W.push(le)}},M=0,L=_.values(_.keyBy(C,function(H){return H.name}));M<L.length;M++)y(L[M]);return d},B.endsWith=function(C,d){if(d.length>C.length)return!1;for(var u=!0,y=C.length-1,M=d.length-1;M>=0;--M){if(d[M]!==C[y]){u=!1;break}y--}return u},B.hasOneToOneNavigation=function(C,d,u){if(_.isEmpty(C))return!1;for(var y=0,M=C;y<M.length;y++){var L=M[y];if(L.isActive&&(null==u||L.behavior===u)&&L.targetEntity===d&&0===L.sourceMultiplicity&&0===L.targetMultiplicity)return!0}return!1},B.concatUnique=function(C,d){n.fF.assertValue(C,"leftExprs"),n.fF.assertValue(d,"rightExprs");for(var u=(0,l.JG)(C),y=0,M=d;y<M.length;y++){var L=M[y];-1===this.indexOfExpr(u,L)&&u.push(L)}return u},B.detectTransformExpr=function(C){n.fF.assertValue(C,"expr");var d=new z;return C.accept(d),d.sawTransformOutputRoleRef},B.isExprValidForAggregation=function(C){return n.fF.assertValue(C,"expr"),!this.isFromVariation(C)&&!(0,k.y3)(C)},B.isExprValidForSorting=function(C){return n.fF.assertValue(C,"expr"),!(0,k.ZG)(C)},B.isExprValidForFiltering=function(C){return n.fF.assertValue(C,"expr"),!((0,k.ZG)(C)||(0,k.Im)(C)||(0,k.tO)(C)||(0,k.jX)(C))},B.isExprValidForClustering=function(C){return n.fF.assertValue(C,"expr"),!((0,k.ZG)(C)||(0,k.y3)(C)||(0,k.ez)(C)||(0,k.tO)(C)||(0,k.jX)(C))},B.isExprValidForAnalysisTransform=function(C){return n.fF.assertValue(C,"expr"),!((0,k.ZG)(C)||(0,k.jX)(C))},B.getSubqueryExpression=function(C,d){var y,M,u=(0,D.QD)(C);if(u.columnSubquery)u.columnSubquery.subqueryRef?y=u.columnSubquery.subqueryRef:u.columnSubquery.subquery?M=new F.vd(u.columnSubquery.subquery):n.fF.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query");else{if(!u.columnAggrSubquery)return void n.fF.assertFail("invalid fieldExpr in subquery");u.columnAggrSubquery.subqueryRef?y=u.columnAggrSubquery.subqueryRef:u.columnAggrSubquery.subquery?M=new F.vd(u.columnAggrSubquery.subquery):n.fF.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query")}M||(n.fF.assert(function(){return!(!d||!d.sources)},"context sources should be available for evaluating subquery source"),d.sources[y]?(M=d.sources[y],n.fF.assert(function(){return M&&(0,A.y)(M)},"column referencing source should be available and be a subquery source")):n.fF.assertFail("No context for the subquery ref.  Cannot construct SQFromSubquerySource without underlying reference."));var L=M;if(L){var O=(0,D._6)(u),H=void 0;if(L.subquery&&(H=L.subquery.select().withName(O)),H)return H.expr}},B.buildExprEvaluationContext=function(C){n.fF.assertValue(C,"from");var d=C.sources();if(d)return{sources:d}},B.transformToVisualQueryField=function(C,d,u,y,M){return{expr:C,queryName:d,isFieldParameter:!!u,nativeReferenceName:y,isHidden:M}},B.isSQExprArray=function(C){return C[0]instanceof N.Il},B.syncSQExprWithFilterIdenities=function(C,d){var u=new w(C,(0,k.Ym)(d)),y=d.accept(u);if(y)return y.accept(new R)},B.validate=function(C,d,u){n.fF.assertValue(d,"schema");var y=[];if(C&&(y=C.validate(d,u,y)),!_.isEmpty(y))return y},B.allowedHierarchicalMultiplicityPairForTraversal=[[0,2],[0,0]],B}(),G=function(B){function C(){return null!==B&&B.apply(this,arguments)||this}return(0,c.ZT)(C,B),C.prototype.visitEntity=function(d){return d.entity},C.prototype.visitNamedQueryRef=function(d){return"QueryRef(".concat(d.queryName,")")},C.prototype.visitColumnRef=function(d){return d.source.accept(this)+"."+d.ref},C.prototype.visitGroupRef=function(d){return d.source.accept(this)+"."+d.ref},C.prototype.visitMeasureRef=function(d){return d.source.accept(this)+"."+d.ref},C.prototype.visitNativeMeasure=function(d){return"NativeMeasure(".concat(d.proposedName,")")},C.prototype.visitNativeColumn=function(d){return"NativeColumn(".concat(d.proposedName,")")},C.prototype.visitHierarchy=function(d){return d.arg.accept(this)+"."+d.hierarchy},C.prototype.visitHierarchyLevel=function(d){return d.arg.accept(this)+"."+d.level},C.prototype.visitPropertyVariationSource=function(d){return d.arg.accept(this)+"."+d.property+"."+d.name},C.prototype.visitAggr=function(d){return function(B){switch(B){case 0:return"Sum";case 1:return"Avg";case 2:return"Count";case 3:return"Min";case 4:return"Max";case 5:return"CountNonNull";case 6:return"Median";case 7:return"StandardDeviation";case 8:return"Variance";default:n.fF.assert(function(){return null==B},"Unrecognized aggregate function.")}}(d.func)+"("+d.arg.accept(this)+")"},C.prototype.visitPercentile=function(d){return(d.exclusive?"Percentile.Exc(":"Percentile.Inc(")+d.arg.accept(this)+", "+d.k+")"},C.prototype.visitRangePercent=function(d){return"RangePercent("+d.min.accept(this)+", "+d.max.accept(this)+", "+d.percent.toString()+")"},C.prototype.visitArithmetic=function(d){return function(B){switch(B){case 0:return"Add";case 1:return"Subtract";case 2:return"Multiply";case 3:return"Divide"}return(0,V.bG)("Unexpected ArithmeticOperatorKind: "+B)}(d.operator)+"("+d.left.accept(this)+", "+d.right.accept(this)+")"},C.prototype.visitConstant=function(d){return"const"},C.prototype.visitTransformOutputRoleRef=function(d){var u=d.role;return d.transform&&(u+="."+d.transform),u},C.prototype.visitScopedEval=function(d){var u=this;return"ScopedEval("+d.expression.accept(this)+", ["+_.map(d.scope,function(y){return y.accept(u)}).join(", ")+"])"},C.prototype.visitFilteredEval=function(d){var u=this;return"FilteredEval(".concat(d.expression.accept(this),", [").concat(_.map(d.filters,function(M){return L=M,O="{",_.isEmpty(L.target)||(O+="Target(".concat(_.map(L.target,function(H){return H.accept(u)}).join(", "),"), ")),O+"Condition(".concat(L.condition.accept(u),")}");var L,O}).join(", "),"])")},C.prototype.visitRoleRef=function(d){return"Role."+d.role},C.prototype.visitSummaryRef=function(d){return"SummaryValueRef."+d.name},C.prototype.visitAllRolesRef=function(d){return"AllRoles"},C.prototype.visitDiscretize=function(d){return"Discretize(".concat(d.source.accept(this),", ").concat(d.count,")")},C.prototype.visitMember=function(d){return"Member(".concat(d.source.accept(this),", ").concat(d.member,")")},C.prototype.visitCompare=function(d){var u=d.left.accept(this),y=d.right.accept(this),M="";switch(d.comparison){case 0:M="=";break;case 1:M=">";break;case 2:M=">=";break;case 3:M="<";break;case 4:M="<="}return"".concat(u).concat(M).concat(y)},C.prototype.visitSparklineData=function(d){var u=this;return"SparklineData(".concat(d.measure.accept(this),"_[").concat(_.map(d.grouping,function(y){return y.accept(u)}).join(","),"])")},C.prototype.visitDefault=function(d,u){return u||"expr"},C.instance=new C,C}(f.Ml),I=function(B){function C(){return null!==B&&B.apply(this,arguments)||this}return(0,c.ZT)(C,B),C.prototype.visitMeasureRef=function(d){return!0},C.prototype.visitNativeMeasure=function(d){return!0},C.prototype.visitNativeVisualCalc=function(d){return!0},C.prototype.visitAggr=function(d){return!0},C.prototype.visitArithmetic=function(d){return!0},C.prototype.visitFilteredEval=function(d){return d.expression.accept(this)},C.prototype.visitSparklineData=function(d){return!0},C.prototype.visitDefault=function(d){return!1},C.instance=new C,C}(f.vq),E=function(B){function C(){return null!==B&&B.apply(this,arguments)||this}return(0,c.ZT)(C,B),C.prototype.visitCompare=function(d){return 0===d.comparison&&d.right.accept(this)},C.prototype.visitAnd=function(d){return d.left.accept(this)&&d.right.accept(this)},C.prototype.visitDefaultValue=function(d){return!0},C.prototype.visitDefault=function(d){return!1},C.instance=new C,C}(f.vq),T=function(B){function C(){return null!==B&&B.apply(this,arguments)||this}return(0,c.ZT)(C,B),C.prototype.visitCompare=function(d){return 0===d.comparison&&d.right.accept(this)},C.prototype.visitAnd=function(d){return d.left.accept(this)&&d.right.accept(this)},C.prototype.visitAnyValue=function(d){return!0},C.prototype.visitDefault=function(d){return!1},C.instance=new C,C}(f.vq),m=function(B){function C(d){var u=B.call(this)||this;return u.schema=d,u.detectedMappedColumn=!1,u}return(0,c.ZT)(C,B),C.prototype.visitIn=function(d){for(var u=0,y=d.args;u<y.length;u++)if(y[u].accept(this),this.detectedMappedColumn)return},C.prototype.visitColumnRef=function(d){j.hasMappedMParameter(d,this.schema)&&(this.detectedMappedColumn=!0)},C.hasMappedColumn=function(d,u){var y=new C(u);return d.accept(y),y.detectedMappedColumn},C}(f.PA),z=function(B){function C(){var d=B.call(this)||this;return d.sawTransformOutputRoleRef=!1,d}return(0,c.ZT)(C,B),C.prototype.visitTransformOutputRoleRef=function(d){this.sawTransformOutputRoleRef=!0},C}(f.PA),R=function(B){function C(){return null!==B&&B.apply(this,arguments)||this}return(0,c.ZT)(C,B),C.prototype.visitIn=function(d){return(0,N.Sh)(d.args,this.removeDuplicates(d.values),d.getAnnotations())},C.prototype.visitAnd=function(d){var u=d.right.accept(this),y=d.left.accept(this);return(0,N.xD)(y,u,d.getAnnotations())},C.prototype.visitOr=function(d){var u=d.right.accept(this),y=d.left.accept(this);return(0,N.or)(y,u,d.getAnnotations())},C.prototype.visitDefault=function(d){return d},C.prototype.removeDuplicates=function(d){return _.uniqWith(d,function(u,y){for(var M=u.length,L=0;L<M;L++)if(!(0,Y.fS)(u[L],y[L]))return!1;return!0})},C}(f.vq),w=function(B){function C(d,u){var y=B.call(this)||this;return y.isRootNotExpr=!1,y.hasBeenModified=!1,y.isSupportedSQExpr=!1,y.filterIdentities=d,y.isRootNotExpr=u,y}return(0,c.ZT)(C,B),C.prototype.visitIn=function(d){if(this.verifyIsSupportedSQExpr(d),!this.shouldDropWholeSQExpr()){if(this.noChangeRequired(d.args))return d;var u=this.tryToRemoveColumnsToMatchVisual(d),y=u.newArgs,M=u.newValues;if(!this.shouldDropWholeSQExpr()&&0!==y.length)return(0,N.Sh)(y,M,d.getAnnotations())}},C.prototype.visitDefault=function(d){if(this.verifyIsSupportedSQExpr(d),!this.shouldDropWholeSQExpr()){var u=d.left,y=d.right;if(u&&_.some(this.filterIdentities,function(M){return(0,Y.fS)(M,u)})||y&&_.some(this.filterIdentities,function(M){return(0,Y.fS)(M,y)}))return d;this.hasBeenModified=!0}},C.prototype.visitAnd=function(d){if(this.verifyIsSupportedSQExpr(d),!this.shouldDropWholeSQExpr()){var u=d.right.accept(this),y=d.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(y&&u)return(0,N.xD)(y,u,d.getAnnotations());if(y)return y;if(u)return u}}},C.prototype.visitOr=function(d){if(this.verifyIsSupportedSQExpr(d),!this.shouldDropWholeSQExpr()){var u=d.right.accept(this),y=d.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(y&&u)return(0,N.or)(y,u,d.getAnnotations());if(y)return y;if(u)return u}}},C.prototype.visitNot=function(d){if(this.verifyIsSupportedSQExpr(d),!this.shouldDropWholeSQExpr()){var u=d.arg.accept(this);if(u&&(this.isRootNotExpr||!this.hasBeenModified))return(0,N.ff)(u,d.getAnnotations())}},C.prototype.verifyIsSupportedSQExpr=function(d){this.isSupportedSQExpr=(0,k.Z8)(d)?(0,k.Hi)(d.right)&&((0,k.Z8)(d.left)||(0,k.Hi)(d.left)):(0,k.un)(d)?(0,k.Ym)(d.right)&&((0,k.Hi)(d.left)||(0,k.Z8)(d.left)):(0,k.Ym)(d)?(0,k.Z8)(d.arg)||(0,k.Ym)(d.arg):!(0,k.Hi)(d)||!!d.values&&d.values.length>0},C.prototype.shouldDropWholeSQExpr=function(){return this.hasBeenModified&&!this.isSupportedSQExpr},C.prototype.noChangeRequired=function(d){var u=this,y=d.map(function(M){return{expr:[M],index:_.findIndex(u.filterIdentities,function(O){return(0,Y.fS)(O,M)})}});return 0===y[0].index&&y.every(function(M,L){return M.index>-1&&(L===y.length-1||M.index+1===y[L+1].index)})},C.prototype.tryToRemoveColumnsToMatchVisual=function(d){var u=this,y=[],M=[],O=d.values,H=d.args.map(function(ee){return{expr:[ee],index:_.findIndex(u.filterIdentities,function(Ne){return(0,Y.fS)(Ne,ee)})}});if(H[0].index>0)return this.hasBeenModified=!0,{newArgs:y,newValues:M};O=_.unzip(O);var Q=H.map(function(ee,le){return{expr:O[le],index:ee.index}});y=H.filter(function(ee){return ee.index>-1}).map(function(ee){return ee.expr[0]}),M=Q.filter(function(ee){return ee.index>-1}).map(function(ee){return ee.expr}),H=H.filter(function(ee){return ee.index>-1});for(var X=0;X<H.length-1;X++)if(H[X].index+1<H[X+1].index){y=y.splice(0,X+1),M=M.splice(0,X+1);break}return M=_.unzip(M),this.hasBeenModified=!0,{newArgs:y,newValues:M}},C}(f.vq)},8893:function(ie,ve,v){v.d(ve,{Ml:function(){return V},PA:function(){return S},vq:function(){return P}});var c=v(3188),l=v(8955),n=v(9149),g=v(643),V=function(){function h(){}return h.prototype.visitEntity=function(D,b){return this.visitDefault(D,b)},h.prototype.visitSubqueryRef=function(D,b){return this.visitDefault(D,b)},h.prototype.visitNamedQueryRef=function(D,b){return this.visitDefault(D,b)},h.prototype.visitColumnRef=function(D,b){return this.visitDefault(D,b)},h.prototype.visitMeasureRef=function(D,b){return this.visitDefault(D,b)},h.prototype.visitAggr=function(D,b){return this.visitDefault(D,b)},h.prototype.visitPercentile=function(D,b){return this.visitDefault(D,b)},h.prototype.visitRangePercent=function(D,b){return this.visitDefault(D,b)},h.prototype.visitGroupRef=function(D,b){return this.visitDefault(D,b)},h.prototype.visitHierarchy=function(D,b){return this.visitDefault(D,b)},h.prototype.visitHierarchyLevel=function(D,b){return this.visitDefault(D,b)},h.prototype.visitPropertyVariationSource=function(D,b){return this.visitDefault(D,b)},h.prototype.visitSelectRef=function(D,b){return this.visitDefault(D,b)},h.prototype.visitBetween=function(D,b){return this.visitDefault(D,b)},h.prototype.visitIn=function(D,b){return this.visitDefault(D,b)},h.prototype.visitAnd=function(D,b){return this.visitDefault(D,b)},h.prototype.visitOr=function(D,b){return this.visitDefault(D,b)},h.prototype.visitCompare=function(D,b){return this.visitDefault(D,b)},h.prototype.visitConditional=function(D,b){return this.visitDefault(D,b)},h.prototype.visitContains=function(D,b){return this.visitDefault(D,b)},h.prototype.visitExists=function(D,b){return this.visitDefault(D,b)},h.prototype.visitNot=function(D,b){return this.visitDefault(D,b)},h.prototype.visitStartsWith=function(D,b){return this.visitDefault(D,b)},h.prototype.visitConstant=function(D,b){return this.visitDefault(D,b)},h.prototype.visitDateSpan=function(D,b){return this.visitDefault(D,b)},h.prototype.visitDateAdd=function(D,b){return this.visitDefault(D,b)},h.prototype.visitNow=function(D,b){return this.visitDefault(D,b)},h.prototype.visitDefaultValue=function(D,b){return this.visitDefault(D,b)},h.prototype.visitAnyValue=function(D,b){return this.visitDefault(D,b)},h.prototype.visitArithmetic=function(D,b){return this.visitDefault(D,b)},h.prototype.visitFloor=function(D,b){return this.visitDefault(D,b)},h.prototype.visitFillRule=function(D,b){return this.visitDefault(D,b)},h.prototype.visitThemeDataColor=function(D,b){return this.visitDefault(D,b)},h.prototype.visitResourcePackageItem=function(D,b){return this.visitDefault(D,b)},h.prototype.visitScopedEval=function(D,b){return this.visitDefault(D,b)},h.prototype.visitFilteredEval=function(D,b){return this.visitDefault(D,b)},h.prototype.visitWithRef=function(D,b){return this.visitDefault(D,b)},h.prototype.visitTransformTableRef=function(D,b){return this.visitDefault(D,b)},h.prototype.visitTransformOutputRoleRef=function(D,b){return this.visitDefault(D,b)},h.prototype.visitRoleRef=function(D,b){return this.visitDefault(D,b)},h.prototype.visitSummaryValueRef=function(D,b){return this.visitDefault(D,b)},h.prototype.visitAllRolesRef=function(D,b){return this.visitDefault(D,b)},h.prototype.visitDiscretize=function(D,b){return this.visitDefault(D,b)},h.prototype.visitMember=function(D,b){return this.visitDefault(D,b)},h.prototype.visitNativeMeasure=function(D,b){return this.visitDefault(D,b)},h.prototype.visitNativeColumn=function(D,b){return this.visitDefault(D,b)},h.prototype.visitSparklineData=function(D,b){return this.visitDefault(D,b)},h.prototype.visitNativeVisualCalc=function(D,b){return this.visitDefault(D,b)},h.prototype.visitDefault=function(D,b){},h}(),P=function(h){function D(){return null!==h&&h.apply(this,arguments)||this}return(0,c.ZT)(D,h),D}(V),S=function(){function h(){}return h.prototype.visitEntity=function(D){this.visitDefault(D)},h.prototype.visitSubqueryRef=function(D){this.visitDefault(D)},h.prototype.visitNamedQueryRef=function(D){this.visitDefault(D)},h.prototype.visitColumnRef=function(D){D.source.accept(this)},h.prototype.visitMeasureRef=function(D){D.source.accept(this)},h.prototype.visitAggr=function(D){D.arg.accept(this)},h.prototype.visitPercentile=function(D){D.arg.accept(this)},h.prototype.visitRangePercent=function(D){D.min.accept(this),D.max.accept(this)},h.prototype.visitGroupRef=function(D){D.source.accept(this);for(var b=0,N=D.groupedExprs;b<N.length;b++)N[b].accept(this)},h.prototype.visitHierarchy=function(D){D.arg.accept(this)},h.prototype.visitHierarchyLevel=function(D){D.arg.accept(this)},h.prototype.visitPropertyVariationSource=function(D){D.arg.accept(this)},h.prototype.visitSelectRef=function(D){this.visitDefault(D)},h.prototype.visitBetween=function(D){D.arg.accept(this),D.lower.accept(this),D.upper.accept(this)},h.prototype.visitIn=function(D){for(var b=D.args,N=0,f=b.length;N<f;N++)b[N].accept(this);var F=D.values;if(F)for(N=0,f=F.length;N<f;N++)for(var A=F[N],k=0,Y=A.length;k<Y;k++)A[k].accept(this);else D.table.accept(this)},h.prototype.visitAnd=function(D){D.left.accept(this),D.right.accept(this)},h.prototype.visitOr=function(D){D.left.accept(this),D.right.accept(this)},h.prototype.visitCompare=function(D){D.left.accept(this),D.right.accept(this)},h.prototype.visitConditional=function(D){l.fF.assertValue(D,"expr"),l.fF.assertNonEmpty(D.cases,"expr.cases");for(var b=0,N=D.cases;b<N.length;b++){var f=N[b];f.condition.accept(this),f.value.accept(this)}D.defaultValue&&D.defaultValue.accept(this)},h.prototype.visitContains=function(D){D.left.accept(this),D.right.accept(this)},h.prototype.visitExists=function(D){D.arg.accept(this)},h.prototype.visitNot=function(D){D.arg.accept(this)},h.prototype.visitStartsWith=function(D){D.left.accept(this),D.right.accept(this)},h.prototype.visitConstant=function(D){this.visitDefault(D)},h.prototype.visitDateSpan=function(D){D.arg.accept(this)},h.prototype.visitDateAdd=function(D){D.arg.accept(this)},h.prototype.visitNow=function(D){this.visitDefault(D)},h.prototype.visitDefaultValue=function(D){this.visitDefault(D)},h.prototype.visitAnyValue=function(D){this.visitDefault(D)},h.prototype.visitArithmetic=function(D){D.left.accept(this),D.right.accept(this)},h.prototype.visitFloor=function(D){D.arg.accept(this)},h.prototype.visitFillRule=function(D){D.input.accept(this),(0,n.RL)(D.rule,new g._(this,null))},h.prototype.visistExists=function(D){D.arg.accept(this)},h.prototype.visitThemeDataColor=function(D){this.visitDefault(D)},h.prototype.visitResourcePackageItem=function(D){this.visitDefault(D)},h.prototype.visitScopedEval=function(D){D.expression.accept(this);for(var b=0,N=D.scope;b<N.length;b++)N[b].accept(this)},h.prototype.visitFilteredEval=function(D){D.expression.accept(this);for(var b=0,N=D.filters;b<N.length;b++){var f=N[b];if(!_.isEmpty(f.target))for(var F=0,A=f.target;F<A.length;F++)A[F].accept(this);f.condition.accept(this)}},h.prototype.visitWithRef=function(D){this.visitDefault(D)},h.prototype.visitTransformTableRef=function(D){this.visitDefault(D)},h.prototype.visitTransformOutputRoleRef=function(D){this.visitDefault(D)},h.prototype.visitRoleRef=function(D){this.visitDefault(D)},h.prototype.visitSummaryValueRef=function(D){this.visitDefault(D)},h.prototype.visitAllRolesRef=function(D){this.visitDefault(D)},h.prototype.visitDiscretize=function(D){this.visitDefault(D)},h.prototype.visitMember=function(D){this.visitDefault(D)},h.prototype.visitNativeMeasure=function(D){this.visitDefault(D)},h.prototype.visitNativeColumn=function(D){this.visitDefault(D)},h.prototype.visitSparklineData=function(D){var b;D.measure.accept(this);for(var N=0,f=D.grouping;N<f.length;N++)f[N].accept(this);null===(b=D.scalarKey)||void 0===b||b.accept(this)},h.prototype.visitNativeVisualCalc=function(D,b){this.visitDefault(D)},h.prototype.visitDefault=function(D){},h}()},4791:function(ie,ve,v){v.d(ve,{$r:function(){return F},Ms:function(){return k},Nh:function(){return j},QS:function(){return h},Qo:function(){return b},SX:function(){return S},Ww:function(){return G},Yg:function(){return A},cL:function(){return N},vd:function(){return D}});var c=v(2490),l=v(8955),n=v(8974),g=v(9291),V=v(9380),P=v(2972),S=function(){function I(E,T){this.schema=E,this.entity=T}return I.prototype.accept=function(E,T){return E.visitEntity(this,T)},I.prototype.equals=function(E){return E&&this.entity===E.entity&&this.schema===E.schema},I}(),h=function(){function I(E,T){this.schema=E,this.pod=T}return I.prototype.accept=function(E,T){return E.visitPod(this,T)},I.prototype.equals=function(E){return E&&this.pod===E.pod&&this.schema===E.schema},I}(),D=function(){function I(E){this.subquery=E}return I.prototype.accept=function(E,T){return E.visitSubquery(this,T)},I.prototype.equals=function(E){return E&&(0,V.C6)(this.subquery,E.subquery)},I}(),b=function(){function I(E){this.expr=E}return I.prototype.accept=function(E,T){return E.visitExpr(this,T)},I.prototype.equals=function(E){return E&&(0,V.fS)(this.expr,E.expr)},I}(),N=function(){function I(E,T){if(this.items=E||{},this.usedNames=T||{},!_.isEmpty(this.items))for(var m=0,z=this.keys();m<z.length;m++)this.usedNames[z[m]]=!0}return I.prototype.keys=function(){return Object.keys(this.items)},I.prototype.source=function(E){return this.items[E]},I.prototype.sources=function(){return this.items},I.prototype.usedSourceNames=function(){return this.usedNames},I.prototype.ensureSource=function(E,T){l.fF.assertValue(E,"source");var m=this.getSourceKeyFromItems(E);return m?{name:m}:{name:this.addSource(E,T),new:!0}},I.prototype.remove=function(E){this.items[E]&&delete this.usedNames[E],delete this.items[E]},I.prototype.getSourceKeyFromItems=function(E){var T=this.keys();for(var m in T){var z=T[m];if(f(this.items[z],E))return z}},I.prototype.addSource=function(E,T){var z=T||E.accept(new Y,null);return z=(0,n.zE)(this.usedNames,z),this.items[z]=E,this.usedNames[z]=!0,z},I.prototype.clone=function(){var E=new I(null,_.clone(this.usedNames));return $.extend(E.items,this.items),E},I.prototype.equals=function(E){var T=this;if(!E)return!1;var m=this.keys(),z=E.keys();return m.length===z.length&&(0,c.NF)(m,z,function(R,w){return f(T.source(R),E.source(w))})},I.prototype.renameSources=function(E){for(var m,T=this.items,z=Object.keys(T),R=0,w=z.length;R<w;R++){var B=z[R],C=B;if(E[B]&&(C=(0,n.zE)(E,B),!m)){m={};for(var d=0;d<R;d++){var u=z[d];m[u]=T[u]}}E[C]=!0,m&&(m[C]=T[B])}return m?new I(m):this},I}();function f(I,E){if(I===E)return!0;if(I&&E){if(F(I)&&F(E)||A(I)&&A(E))return I.equals(E);if((0,P.y)(I)&&(0,P.y)(E))return I.equals(E);if(k(I)&&k(E))return I.equals(E)}return!1}function F(I){return l.fF.assertValue(I,"source"),null!=I.entity}function A(I){return l.fF.assertValue(I,"source"),null!=I.pod}function k(I){return l.fF.assertValue(I,"source"),null!=I.expr}var Y=function(){function I(){}return I.prototype.visitEntity=function(E){return this.getShortName(E.entity)},I.prototype.visitPod=function(E){return this.getShortName(E.pod)},I.prototype.visitSubquery=function(E){return"q"},I.prototype.visitExpr=function(E){return"x"},I.prototype.getShortName=function(E){var T=E,m=T.lastIndexOf(".");return m>=0&&m!==T.length-1&&(T=T.substr(m+1)),(0,n.Nx)(T.charCodeAt(0))?T.charAt(0).toLowerCase():"a"},I}(),j=function(){function I(){this.entities=[]}return I.prototype.visitEntity=function(E,T){this.entities.push(new g.PN(E.schema,E.entity,T))},I.prototype.visitPod=function(E,T){},I.prototype.visitSubquery=function(E,T){},I.prototype.visitExpr=function(E,T){},I}(),G=function(){function I(E){this.exprRewriter=E}return I.prototype.visitEntity=function(E,T){var z=(0,g.nw)(E.schema,E.entity,T).accept(this.exprRewriter);return new S(z.schema,z.entity)},I.prototype.visitPod=function(E,T){var z=(0,g.nw)(E.schema,E.pod,T).accept(this.exprRewriter);return new h(z.schema,z.entity)},I.prototype.visitSubquery=function(E,T){var z=E.subquery.rewrite(this.exprRewriter);return new D(z)},I.prototype.visitExpr=function(E,T){var z=E.expr.accept(this.exprRewriter);return new b(z)},I}()},2972:function(ie,ve,v){v.d(ve,{y:function(){return l}});var c=v(8955);function l(n){return c.fF.assertValue(n,"source"),null!=n.subquery}},390:function(ie,ve,v){v.d(ve,{y3:function(){return Y},dc:function(){return pe},dx:function(){return Ze},OQ:function(){return Qe},rH:function(){return he},SU:function(){return Oe},IE:function(){return Xe},iH:function(){return lt}});var V,c=v(3188),l=v(8955),n=v(8078),g=v(255),h=v(3708),D=v(8836),b=v(8207),N=v(6023),f=v(8974),F=v(9644),A=function(){function be(){}return be.canFormat=function(Ve){return Ve instanceof Date},be.format=function(Ve,We,qe){We=We||"G",(0,b.M4)(Ve)&&(Ve=Y.fromTimeValue(Ve.epochTimeStamp));var ut=1===We.length;try{return ut?M(Ve,We,qe):function(be,Ve,We){var qe,mt=[];if((Ve=E(Ve,mt)).indexOf("F")>-1){Ve=(0,f.ko)(Ve,"FFFF","FFF");var et=be.getMilliseconds();if(et%10>=1&&(Ve=(0,f.ko)(Ve,"FFF","fff")),Ve=(0,f.ko)(Ve,"FFF","FF"),et%100/10>=1&&(Ve=(0,f.ko)(Ve,"FF","ff")),Ve=(0,f.ko)(Ve,"FF","F"),et%1e3/100>=1&&(Ve=(0,f.ko)(Ve,"F","f")),""===(Ve=(0,f.ko)(Ve,"F",""))||"%"===Ve)return""}var ut=function(be){return null!=be.match(/gg/)}(Ve);Ve=function(be){return be===u?y:(u=be,be=function(be){if(be=(be=(be=(be=(be=(be=(be=(be=be.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),V||(V=["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map(function(mt){return{r:new RegExp("%"+mt+"(?!"+mt+")","g"),s:mt}})),-1!==be.indexOf("%")&&be.length>2)for(var Ve=0,We=V;Ve<We.length;Ve++){var qe=We[Ve];be=be.replace(qe.r,qe.s)}return be}(be),y=be,be)}(Ve);var ct=We.calendar;return ut&&(We.calendar=We.calendars.Japanese),qe=Globalize.format(be,Ve,We),ut&&(We.calendar=ct),T(qe=A.localize(qe,We.calendar),mt,!1)}(Ve,We,qe)}catch(ct){return M(Ve,"G",qe)}},be.localize=function(Ve,We){var qe=We[":"];if(":"===qe)return Ve;for(var mt="",et=Ve.length,ut=0;ut<et;ut++){var ct=Ve.charAt(ut);mt+=":"===ct?qe:ct}return mt},be}(),k=function(){function be(){}return be.canFormat=function(Ve){return"number"==typeof Ve},be.format=function(Ve,We,qe){We=We||"G";try{return lt(We)?function(be,Ve,We){var qe,mt=Ve.length>1?parseInt(Ve.substr(1,Ve.length-1),10):void 0,et=We.numberFormat,ut=Ve.charAt(0);switch(ut){case"e":case"E":void 0===mt&&(mt=6);var ct=_.repeat("0",mt);qe=ae(be,Ve="0."+ct+ut+"+000",We);break;case"f":case"F":qe=be.toFixed(void 0!==mt?mt:et.decimals),qe=k.localize(qe,et);break;case"g":case"G":var Vt=Math.abs(be);if(0===Vt||1e-4<=Vt&&Vt<1e15)qe=void 0!==mt?be.toPrecision(mt):be.toString();else{if(l.fF.assert(function(){return"number"==typeof be},"value must be a number"),"number"!=typeof be)return String(be);qe=(qe=void 0!==mt?be.toExponential(mt):be.toExponential()).replace("e","E")}qe=k.localize(qe,et);break;case"r":case"R":qe=be.toString(),qe=k.localize(qe,et);break;case"x":case"X":if(qe=be.toString(16),"X"===ut&&(qe=qe.toUpperCase()),void 0!==mt){var Tt=qe.length,zt=be<0;zt&&Tt--;var Kt=mt-Tt,Ht=void 0;Kt>0&&(Ht=_.repeat("0",Kt)),qe=zt?"-"+Ht+qe.substr(1):Ht+qe}qe=k.localize(qe,et);break;default:qe=Globalize.format(be,Ve,We)}return qe}(Ve,We,qe):ae(Ve,We,qe)}catch(mt){return Globalize.format(Ve,void 0,qe)}},be.localize=function(Ve,We){var qe=We["+"],mt=We["-"],et=We["."],ut=We[","];if("+"===qe&&"-"===mt&&"."===et&&","===ut)return Ve;for(var ct=Ve.length,Vt="",Tt=0;Tt<ct;Tt++){var zt=Ve.charAt(Tt);switch(zt){case"+":Vt+=qe;break;case"-":Vt+=mt;break;case".":Vt+=et;break;case",":Vt+=ut;break;default:Vt+=zt}}return Vt},be}(),Y=function(be){function Ve(){return null!==be&&be.apply(this,arguments)||this}return(0,c.ZT)(Ve,be),Ve.prototype.setInternalDate=function(We){this.date=We},Ve.fromTimeValue=function(We){var qe=new Ve(We);return"function"!=typeof qe.setInternalDate&&h.f.information("epochTimeStamp is '".concat(We,"' of type '").concat(typeof We,"'")),qe.setInternalDate(new Date(We)),qe},Ve.fromDateParts=function(We,qe,mt,et,ut,ct,Vt){void 0===qe&&(qe=0),void 0===mt&&(mt=1),void 0===et&&(et=0),void 0===ut&&(ut=0),void 0===ct&&(ct=0),void 0===Vt&&(Vt=0);var Tt=Date.UTC(We,qe,mt,et,ut,ct,Vt),zt=new Ve(Tt);return zt.setInternalDate(new Date(Tt)),zt},Ve.fromString=function(We){l.fF.assert(function(){return/^[\+-]?\d{4}-\d{2}-\d{2}(T\d{2}\:\d{2}\:\d{2}(\.\d{3})?Z)?$/.test(We)},"Only ISO 8601 is guaranteed to be parsed as UTC");var qe=new Date(We),mt=new Ve(qe.getTime());return mt.setInternalDate(qe),mt},Ve.fromDateWithEpochValue=function(We){return Ve.fromTimeValue(We.epochTimeStamp)},Ve.isDate=function(We){return We instanceof Date},Ve.prototype.getDate=function(){return this.date.getUTCDate()},Ve.prototype.getDay=function(){return this.date.getUTCDay()},Ve.prototype.getFullYear=function(){return this.date.getUTCFullYear()},Ve.prototype.getHours=function(){return this.date.getUTCHours()},Ve.prototype.getMilliseconds=function(){return this.date.getUTCMilliseconds()},Ve.prototype.getMinutes=function(){return this.date.getUTCMinutes()},Ve.prototype.getMonth=function(){return this.date.getUTCMonth()},Ve.prototype.getSeconds=function(){return this.date.getUTCSeconds()},Ve.prototype.setDate=function(We){return this.date.setUTCDate.apply(this.date,arguments)},Ve.prototype.setFullYear=function(We,qe,mt){return this.date.setUTCFullYear.apply(this.date,arguments)},Ve.prototype.setHours=function(We,qe,mt,et){return this.date.setUTCHours.apply(this.date,arguments)},Ve.prototype.setMilliseconds=function(We){return this.date.setUTCMilliseconds.apply(this.date,arguments)},Ve.prototype.setMinutes=function(We,qe,mt){return this.date.setUTCMinutes.apply(this.date,arguments)},Ve.prototype.setMonth=function(We,qe){return this.date.setUTCMonth.apply(this.date,arguments)},Ve.prototype.setSeconds=function(We,qe){return this.date.setUTCSeconds.apply(this.date,arguments)},Ve.prototype.toString=function(){var We=this.date.toUTCString(),qe=We.length-4;return We.indexOf(" GMT")===qe&&(We=We.substr(0,qe)),We},Ve.prototype.getTime=function(){return this.date.getTime()},Ve.prototype.getTimezoneOffset=function(){return this.date.getTimezoneOffset()},Ve.prototype.getUTCDate=function(){return this.date.getUTCDate()},Ve.prototype.getUTCDay=function(){return this.date.getUTCDay()},Ve.prototype.getUTCFullYear=function(){return this.date.getUTCFullYear()},Ve.prototype.getUTCHours=function(){return this.date.getUTCHours()},Ve.prototype.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds()},Ve.prototype.getUTCMinutes=function(){return this.date.getUTCMinutes()},Ve.prototype.getUTCMonth=function(){return this.date.getUTCMonth()},Ve.prototype.getUTCSeconds=function(){return this.date.getUTCSeconds()},Ve.prototype.setUTCDate=function(We){return this.date.setUTCDate.apply(this.date,arguments)},Ve.prototype.setUTCFullYear=function(We,qe,mt){return this.date.setUTCFullYear.apply(this.date,arguments)},Ve.prototype.setUTCHours=function(We,qe,mt,et){return this.date.setUTCHours.apply(this.date,arguments)},Ve.prototype.setUTCMilliseconds=function(We){return this.date.setUTCMilliseconds.apply(this.date,arguments)},Ve.prototype.setUTCMinutes=function(We,qe,mt){return this.date.setUTCMinutes.apply(this.date,arguments)},Ve.prototype.setUTCMonth=function(We,qe){return this.date.setUTCMonth.apply(this.date,arguments)},Ve.prototype.setUTCSeconds=function(We,qe){return this.date.setUTCSeconds.apply(this.date,arguments)},Ve.prototype.toDateString=function(){return this.date.toDateString()},Ve.prototype.toISOString=function(){return this.date.toISOString()},Ve.prototype.toJSON=function(){return this.date.toJSON()},Ve.prototype.toLocaleDateString=function(){return this.date.toLocaleDateString()},Ve.prototype.toLocaleString=function(){return this.date.toLocaleString()},Ve.prototype.toLocaleTimeString=function(){return this.date.toLocaleTimeString()},Ve.prototype.toTimeString=function(){return this.date.toTimeString()},Ve.prototype.toUTCString=function(){return this.date.toUTCString()},Ve.prototype.valueOf=function(){return this.date.valueOf()},Ve}(Date),G=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g");function I(be){return G.lastIndex=0,be.replace(G,"\ue100")}function E(be,Ve){for(G.lastIndex=0;;){var We=G.exec(be);if(!We)break;var qe=We[0],mt=G.lastIndex-qe.length,et=String.fromCharCode(57600+Ve.length);Ve.push(qe),be=be.substr(0,mt)+et+be.substr(G.lastIndex),G.lastIndex=mt+1}return be}function T(be,Ve,We){void 0===We&&(We=!0);for(var qe=Ve.length,mt=0;mt<qe;mt++){var et=String.fromCharCode(57600+mt),ut=Ve[mt];if(!We){var ct=ut[0];ut="\\"===ct||1===ut.length||ut[ut.length-1]!==ct?ut.substring(1):ut.substring(1,ut.length-1)}be=be.replace(et,ut)}return be}var u,y,m=/({{)|(}})|{(\d+[^}]*)}/g,z="0",R="#",C=new RegExp([z,R].join("|"),"g"),d=function(){function be(){}return be.prototype.formatValue=function(Ve,We,qe){if(null==Ve)return"";var mt=this.getCulture(qe);return A.canFormat(Ve)?A.format(Ve,We,mt):k.canFormat(Ve)?k.format(Ve,We,mt):Ve.toString()},be.prototype.format=function(Ve,We,qe){var mt=this;return Ve?Ve.replace(m,function(ut,ct,Vt,Tt){if(ct)return"{";if(Vt)return"}";var zt=Tt.split(":"),Kt=parseInt(zt[0],10);return mt.formatValue(We[Kt],zt[1],qe)}):""},be.prototype.isStandardNumberFormat=function(Ve){return lt(Ve)},be.prototype.formatNumberWithCustomOverride=function(Ve,We,qe,mt){return function(be,Ve,We,qe){return l.fF.assertValue(be,"value"),l.fF.assert(function(){return"number"==typeof be},"value must be a number"),l.fF.assertValue(Ve,"format"),l.fF.assertValue(We,"nonScientificOverrideFormat"),l.fF.assertValue(qe,"culture"),l.fF.assert(function(){return!lt(Ve)},"Standard format"),ae(be,Ve,qe,We)}(Ve,We,qe,this.getCulture(mt))},be.prototype.dateFormatString=function(Ve){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(Ve)},be.prototype.setCurrentCulture=function(Ve){this._currentCultureSelector!==Ve&&(this._currentCulture=this.getCulture(Ve),this._currentCultureSelector=Ve,this._dateTimeScaleFormatInfo=new Ee(this._currentCulture))},be.prototype.normalizeCultureSelector=function(Ve){var We=Ve.split("-");return 2===We.length&&2===We[1].length&&(Ve=We[0]+"-"+We[1].toUpperCase()),Ve},be.prototype.getCulture=function(Ve){if(null==Ve)return null==this._currentCulture&&this.initialize(),this._currentCulture;Ve=this.normalizeCultureSelector(Ve);var We=Globalize.findClosestCulture(Ve);return We||(We=Globalize.culture("en-US")),We},be.prototype.parseFloat=function(Ve){return Globalize.parseFloat(Ve,this.getCulture())},be.prototype.parseDate=function(Ve){var We=Globalize.parseDate(Ve,null,this.getCulture());return We&&(0,b.Fg)(We)},be.prototype.getCurrentCulture=function(){return this.getCulture()},be.prototype.initialize=function(){var Ve=this.getCurrentLocale();this.setCurrentCulture(Ve);var We=this.getUrlParam("calendar");if(We){var qe=this._currentCulture,mt=qe.calendars[We];mt&&(qe.calendar=mt)}},be.prototype.getCurrentLocale=function(){var Ve=D.M.getLanguage()||Globalize.culture().name,We=(0,g.hG)().cultureInfo;return Ve=(0,g.hG)().formattingLocale||We||Ve,this.getUrlParam("formatLocale")||this.getUrlParam("language")||Ve},be.prototype.getUrlParam=function(Ve){var We=window.location.search.match(RegExp("[?&]"+Ve+"=([^&]*)"));return We?We[1]:void 0},be}();function M(be,Ve,We){var qe=We.calendar.patterns;!function(be){var Ve=be.patterns;void 0===Ve.g&&(Ve.g=Ve.f.replace(Ve.D,Ve.d),Ve.G=Ve.F.replace(Ve.D,Ve.d))}(We.calendar);var mt=function(be,Ve,We){switch(Ve){case"m":Ve="M";break;case"O":case"o":Ve="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":be=new Date(be.getUTCFullYear(),be.getUTCMonth(),be.getUTCDate(),be.getUTCHours(),be.getUTCMinutes(),be.getUTCSeconds(),be.getUTCMilliseconds()),Ve="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":Ve="S";break;case"u":be=new Date(be.getUTCFullYear(),be.getUTCMonth(),be.getUTCDate(),be.getUTCHours(),be.getUTCMinutes(),be.getUTCSeconds(),be.getUTCMilliseconds()),Ve="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":be=new Date(be.getUTCFullYear(),be.getUTCMonth(),be.getUTCDate(),be.getUTCHours(),be.getUTCMinutes(),be.getUTCSeconds(),be.getUTCMilliseconds()),Ve="F";break;case"y":case"Y":switch(We){case"default":case"en":case"en-US":Ve="MMMM, yyyy";break;default:Ve="Y"}}return{value:be,format:Ve}}(be,Ve,We.name);return Ve=1===mt.format.length?qe[mt.format]:mt.format,Globalize.format(mt.value,Ve,We)}var rt,X=/^\{.+\}.*/,W=/\{.+\}/,J=/e[+-]*[0#]+/i,ee=/^[a-z]\d{0,2}$/i,le=/0+$/,Ne=/([,]*)\.([0#]*)/g,Ae=/[0#,\.]+[0,#]*/g,Se=/([0#])(?=[^0#]*$)/;function Xe(be,Ve){if(null==Ve)return Ve;if(De(Ve)){var We=Qe(Ve);return Me(be>0?We.positive:0===be?We.zero:We.negative)}return Me(Ve)}function Me(be){var Ve=(0,N.KH)(Ae,be);return Ve?Ve[0]:be}function pe(be,Ve,We){if(null==Ve)return be;if(null==be&&(be=z),De(be)){for(var qe=Qe(be),ct=[qe.positive,qe.negative,qe.zero],Vt=0;Vt<ct.length;Vt++)ct[Vt]=Fe(ct[Vt],Ve,We);return ct.join(";")}return Fe(be,Ve,We)}function Fe(be,Ve,We){if((Ve=Math.abs(Ve))>=0){var qe=[];be=E(be,qe);var et=_.repeat(We?z:R,Math.abs(Ve)),ut=(0,N.KH)(Ne,be);if(ut){var ct=be.substr(0,ut.index+ut[1].length),Vt=be.substr(ut.index+ut[1].length+1,ut[2].length),Tt=ut[1],zt=be.substr(ut.index+ut[0].length);if(We)Vt=et;else{var Kt=et.length-Vt.length;Kt>0?Vt+=et.slice(-Kt):Kt<0&&(Vt=Vt.slice(0,Kt))}Vt.length>0?Vt="."+Vt:Tt.length>0&&(Vt="."),be=ct+Vt+zt}else et.length>0&&(be=be.replace(Se,"$1."+et));0!==qe.length&&(be=T(be,qe))}return be}function De(be){return-1!==I(be).indexOf(";")}function Qe(be){var Ve={hasNegative:!1,positive:be,negative:be,zero:be},We=[],qe=(be=E(be,We)).split(";"),mt=qe.length;return mt>1&&(0!==We.length&&(qe=_.map(qe,function(et){return T(et,We)})),Ve.hasNegative=!0,Ve.positive=Ve.zero=qe[0],Ve.negative=qe[1],mt>2&&(Ve.zero=qe[2])),Ve}function lt(be){return l.fF.assertValue(be,"format"),ee.test(be)}function Oe(be){return!be||lt(be)||he(be).hasDots?be:pe(be,2,!0)}function ae(be,Ve,We,qe){var mt,et=We.numberFormat;if(!isFinite(be))return Globalize.format(be,void 0);var ut=Qe(Ve);Ve=be>0?ut.positive:0===be?ut.zero:ut.negative,ut.hasNegative&&(be=Math.abs(be));var ct=he(Ve,!0),Vt=[];if(ct.hasLiterals&&(Ve=E(Ve,Vt)),ct.hasE&&!qe){var Tt=(0,N.KH)(J,Ve);if(Tt){var zt=Ve.substr(0,Tt.index),Kt=Ve.substr(Tt.index+2),Ht=Le(zt,ct);if(1!==(Xt=Ft(zt,ct))&&(be*=Xt),l.fF.assert(function(){return"number"==typeof be},"value must be a number"),"number"!=typeof be)return String(be);var re=be.toExponential(Ht),ge=re.indexOf("e"),Be=re.substr(0,ge),Ke=re.substr(ge+1),Ye=vt(Be,zt,et),it=vt(Ke,Kt,et);"+"===it.charAt(0)&&"+"!==Tt[0].charAt(1)&&(it=it.substr(1)),mt=Ye+Tt[0].charAt(0)+it}}if(void 0===mt){var Xt,nt=void 0,pt=!1;if(Ht=Le(Ve,ct),1!==(Xt=Ft(Ve,ct))&&(be*=Xt),be=parseFloat(oe(be,Ht)),!isFinite(be))return Globalize.format(be,void 0);qe?(qe=function(be,Ve){return Ve&&void 0!==be?be.replace("{0}","{0:"+Ve+"}"):be}(qe,Xe(be,Ve)),nt=Ze.format(qe,[be],We.name),pt=!0):(nt=oe(be,Ht),nt=function(be,Ve,We,qe){if(0===qe)return Ve;var mt=Ve.indexOf(".");if(-1===mt)return Ve;for(var et=mt+1,ct=et+(We-qe);ct<Ve.length;++ct){var Vt=Ve[ct];if("0"===Vt||"9"===Vt){var Tt=oe(be,ct-et);if(parseFloat(Tt)===be)return Tt}}return Ve}(be,nt,Ht,function(be,Ve){return ot(be,Ve),Ve.optionalPrecision}(Ve,ct))),mt=vt(nt,Ve,et,qe,pt)}return ct.hasLiterals&&(mt=T(mt,Vt,!1)),rt=ct,mt}function oe(be,Ve){var We="",qe=0;Ve>16&&(qe=Ve-16,Ve=16);var mt=(0,n.mv)(Math.abs(be))+1;if(mt<16){if(mt>0){var et=16-mt;Ve>et&&(qe+=Ve-et,Ve=et)}We=function(be,Ve){if(!be||isFinite(be)){var We=be<0;We&&(be=-be);var qe=Math.pow(2,Math.floor(Math.log(be)/Math.LN2)-52),mt=Math.pow(10,Ve);1/mt>10*qe&&(be=Math.round((be+qe)*mt)/mt),We&&(be=-be)}return be.toFixed(Ve)}(be,Ve)}else if(16===mt)We=be.toFixed(0),(qe+=Ve)>0&&(We+=".");else{if(l.fF.assert(function(){return"number"==typeof be},"value must be a number"),"number"!=typeof be)return String(be);var ut=(We=be.toExponential(15)).indexOf("e");if(ut>0){var ct=We.indexOf("."),Vt=We.substr(0,ut),Tt=We.substr(ut+1),zt=parseInt(Tt,10)-(Vt.length-ct-1);We=Vt.replace(".","")+_.repeat("0",zt),Ve>0&&(We=We+"."+_.repeat("0",Ve))}}return qe>0&&(We+=_.repeat("0",qe)),We}function he(be,Ve,We,qe){if(void 0!==rt&&be===rt.format)return rt;for(var mt=[],et=E(be,mt),ut={format:be,hasLiterals:0!==mt.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,optionalPrecision:void 0,scale:void 0,partsPerScale:void 0},ct=0,Vt=et.length;ct<Vt;ct++)switch(et.charAt(ct)){case"e":case"E":ut.hasE=!0;break;case",":ut.hasCommas=!0;break;case".":ut.hasDots=!0;break;case"%":ut.hasPercent=!0;break;case"\u2030":ut.hasPermile=!0}var zt=Qe(be);return Ve&&(ut.precision=Le(zt.positive,ut)),qe&&(ut.partsPerScale=bt(zt.positive,ut)),We&&(ut.scale=Ft(zt.positive,ut)),ut}function Le(be,Ve){return ot(be,Ve),Ve.precision}function ot(be,Ve){if(!(Ve.precision>-1)){var We=0,qe=0;if(Ve.hasDots){Ve.hasLiterals&&(be=I(be));var mt=be.indexOf(".");if(mt>-1){for(var et=be.length,ut=mt;ut<et;ut++){var ct=be.charAt(ut);if(ct.match(C)&&++We,ct===R?++qe:qe=0,"E"===ct)break}We>19&&(qe=Math.max(0,qe-(We-19)),We=19)}}Ve.precision=We,Ve.optionalPrecision=qe}}function bt(be,Ve){if(null!=Ve.partsPerScale)return Ve.partsPerScale;var We=1;return Ve.hasPercent&&be.indexOf("%")>-1&&(We*=100),Ve.hasPermile&&be.indexOf("\u2030")>-1&&(We*=1e3),Ve.partsPerScale=We,We}function Ft(be,Ve){if(Ve.scale>-1)return Ve.scale;var We=bt(be,Ve);if(Ve.hasCommas){var qe=be.indexOf(".");if(-1===qe)for(qe=be.length;qe>0&&")"===be.charAt(qe-1);)qe--;for(var mt=qe-1;mt>-1&&","===be.charAt(mt);mt--)We/=1e3}return Ve.scale=We,We}function vt(be,Ve,We,qe,mt){var et=!!qe,ut=Ve.split(".",2);if(2===ut.length){var ct=ut[0],Vt=ut[1],Tt="";qe&&(l.fF.assert(function(){return X.test(qe)},"Number should always precede the display unit"),Tt=qe.replace(W,""),be=be.replace(Tt,""));var zt=We["."],Ht=be.split(mt?zt:".",2),Xt=1===Ht.length?Ht[0]+Tt:Ht[0],re=2===Ht.length?Ht[1]+Tt:"";re=re.replace(le,"");var ge=Mt(Xt,ct,We,et),Be=function(be,Ve,We){var qe=0,mt=Ve.length,et=be.length;if(We){l.fF.assert(function(){return mt>0},"Empty formatting string");var ut=Ve.charAt(mt-1);return ut.match(C)?{value:be,fmtOnly:""===be}:{value:be+ut,fmtOnly:""===be}}for(var ct="",Vt=!0,Tt=0;Tt<mt;Tt++){var zt=Ve.charAt(Tt);if(qe<et)switch(zt){case z:case R:ct+=be[qe++],Vt=!1;break;default:ct+=zt}else zt!==R&&(ct+=zt,Vt=Vt&&zt!==z)}return{value:ct,fmtOnly:Vt}}(re,Vt,et);return Be.fmtOnly||""===Be.value?ge+Be.value:ge+zt+Be.value}return Mt(be,Ve,We,et)}function Mt(be,Ve,We,qe){var mt=Ve.indexOf(","),et=mt>-1&&mt<Math.max(Ve.lastIndexOf("0"),Ve.lastIndexOf("#"))&&We[","],ut=0,ct=0,Vt=We.groupSizes||[3],Tt=Vt[0],zt=We[","],Kt="",Ht=be.charAt(0);("+"===Ht||"-"===Ht)&&(Kt=We[Ht],be=be.substr(1));for(var Xt="0"===be,re="",ge="",Be=be.length-1,Ke=!0,Ye=Ve.length-1;Ye>-1;Ye--){var it=Ve.charAt(Ye);switch(it){case z:case R:Ke=!1,""!==ge&&(re=ge+re,ge=""),qe||((Be>-1||it===z)&&et&&(ut===Tt?(re=zt+re,++ct<Vt.length&&(Tt=Vt[ct]),ut=1):ut++),Be>-1?(Xt&&it===R||(re=be.charAt(Be)+re),Be--):it!==R&&(re=it+re));break;case",":break;default:ge=it+ge}}if(!qe){if(Be>-1&&""!==re)if(et)for(;Be>-1;)ut===Tt?(re=zt+re,++ct<Vt.length&&(Tt=Vt[ct]),ut=1):ut++,re=be.charAt(Be)+re,Be--;else re=be.substr(0,Be+1)+re;return Kt+ge+re}return Ke?Kt+ge+re:Kt+ge+be+re}var Ee=function(){function be(Ve){var We,qe,mt=Ve.calendar,et=mt.patterns,ut=null!=(null===(qe=null===(We=mt.months)||void 0===We?void 0:We.namesAbbr)||void 0===qe?void 0:qe[0]),ct=et.Y,Vt=et.M,Tt=et.f,zt=et.T,Kt=et.t,Ht=Tt.indexOf(",")>-1?", ":" ",Xt=0===ct.indexOf("yyyy'")&&ct.length>6&&"'"===ct[6];this.YearPattern=Xt?ct.substr(0,7):"yyyy";var re=Tt.indexOf("yy"),ge=Tt.indexOf("MMMM");this.MonthPattern=ut&&ge>-1?re>ge?"MMM yyyy":"yyyy MMM":ct,this.DayPattern=ut?Vt.replace("MMMM","MMM"):Vt;var Be=Tt.indexOf("mm"),Ye=Tt.indexOf("tt")>-1?Kt.replace(":mm ",""):Kt;"fi-FI"===(this.HourPattern=re<Be?this.DayPattern+Ht+Ye:Ye+Ht+this.DayPattern,this.MinutePattern=Kt,this.SecondPattern=zt,this.MillisecondPattern=zt.replace("ss","ss.fff"),Ve.name)&&(this.DayPattern=this.DayPattern.replace("'ta'",""),this.HourPattern=this.HourPattern.replace("'ta'",""))}return be.prototype.getFormatString=function(Ve){switch(Ve){case F.l.Year:return this.YearPattern;case F.l.Month:return this.MonthPattern;case F.l.Week:case F.l.Day:return this.DayPattern;case F.l.Hour:return this.HourPattern;case F.l.Minute:return this.MinutePattern;case F.l.Second:return this.SecondPattern;case F.l.Millisecond:return this.MillisecondPattern}l.fF.assertFail("Unexpected unit: "+Ve)},be}(),Ze=new d},8580:function(ie,ve,v){v.d(ve,{Gg:function(){return S},qC:function(){return P}});var c=v(3188),l=v(8955),n=v(8207),g=v(8893),V=v(390);function P(b){return JSON.stringify(b.accept(h.instance))}function S(b){for(var N="[",f=0,F=b.length;f<F;f++)f>0&&(N+=","),N+=P(b[f]);return N+"]"}var h=function(b){function N(){return null!==b&&b.apply(this,arguments)||this}return(0,c.ZT)(N,b),N.prototype.visitColumnRef=function(f){return{col:{s:f.source.accept(this),r:f.ref}}},N.prototype.visitMeasureRef=function(f){return{measure:{s:f.source.accept(this),r:f.ref}}},N.prototype.visitNativeMeasure=function(f){var F={l:f.language,e:f.expression,t:f.dataType};return f.proposedName&&(F.p=f.proposedName),f.expressionContentCache&&(F.c={}),f.expressionContentCache.dependencies&&(F.c.d=S(f.expressionContentCache.dependencies)),null!=f.expressionContentCache.unrecognizedIdentifiers&&(F.c.u=f.expressionContentCache.unrecognizedIdentifiers),{nativeMeasure:F}},N.prototype.visitNativeColumn=function(f){var F={l:f.language,e:f.expression,t:f.dataType,s:f.source.accept(this),f:f.format};return f.proposedName&&(F.p=f.proposedName),f.expressionContentCache&&(F.c={}),f.expressionContentCache.dependencies&&(F.c.d=S(f.expressionContentCache.dependencies)),null!=f.expressionContentCache.unrecognizedIdentifiers&&(F.c.u=f.expressionContentCache.unrecognizedIdentifiers),{nativeColumn:F}},N.prototype.visitAggr=function(f){return{agg:{a:f.arg.accept(this),f:f.func}}},N.prototype.visitEntity=function(f){return l.fF.assertValue(f,"expr"),l.fF.assertValue(f.entity,"expr.entity"),{e:f.entity}},N.prototype.visitHierarchyLevel=function(f){return{h:f.arg.accept(this),l:f.level}},N.prototype.visitHierarchy=function(f){return{e:f.arg.accept(this),h:f.hierarchy}},N.prototype.visitPropertyVariationSource=function(f){return{e:f.arg.accept(this),n:f.name,p:f.property}},N.prototype.visitAnd=function(f){return l.fF.assertValue(f,"expr"),{and:{l:f.left.accept(this),r:f.right.accept(this)}}},N.prototype.visitCompare=function(f){return l.fF.assertValue(f,"expr"),{comp:{k:f.comparison,l:f.left.accept(this),r:f.right.accept(this)}}},N.prototype.visitConstant=function(f){return l.fF.assertValue(f,"expr"),{const:{t:f.type.primitiveType,v:D(f.value)}}},N.prototype.visitArithmetic=function(f){return l.fF.assertValue(f,"expr"),{arithmetic:{o:f.operator,l:f.left.accept(this),r:f.right.accept(this)}}},N.prototype.visitScopedEval=function(f){return l.fF.assertValue(f,"expr"),{scopedEval:{e:f.expression.accept(this),s:S(f.scope)}}},N.prototype.visitFilteredEval=function(f){var F=this;return l.fF.assertValue(f,"expr"),{filteredEval:{e:f.expression.accept(this),f:"[".concat(_.map(f.filters,function(k){return JSON.stringify((Y=k,j={},_.isEmpty(Y.target)||(j.t=_.map(Y.target,function(G){return G.accept(F)})),j.c=Y.condition.accept(F),j));var Y,j}).join(", "),"]")}}},N.prototype.visitWithRef=function(f){return l.fF.assertValue(f,"expr"),{withRef:{e:f.expressionName}}},N.prototype.visitTransformTableRef=function(f){return l.fF.assertValue(f,"expr"),{transformTableRef:{source:f.source}}},N.prototype.visitTransformOutputRoleRef=function(f){l.fF.assertValue(f,"expr");var F={transformOutputRoleRef:{role:f.role}};return f.transform&&(F.transformOutputRoleRef.transform=f.transform),F},N.prototype.visitFloor=function(f){l.fF.assertValue(f,"expr");var F={floor:{a:f.arg.accept(this),s:f.size}};return null!=f.timeUnit&&(F.floor.timeunit=f.timeUnit),F},N.prototype.visitRoleRef=function(f){return l.fF.assertValue(f,"expr"),{roleRef:{role:f.role}}},N.prototype.visitSummaryValueRef=function(f){return l.fF.assertValue(f,"expr"),{summaryValueRef:{name:f.name}}},N.prototype.visitAllRolesRef=function(f){return l.fF.assertValue(f,"expr"),{allRolesRef:{}}},N.prototype.visitNot=function(f){return l.fF.assertValue(f,"expr"),{not:f.arg.accept(this)}},N.prototype.visitIn=function(f){return l.fF.assertValue(f,"expr"),{in:{c:S(f.args),v:_.map(f.values,function(F){return S(F)})}}},N.prototype.visitSelectRef=function(f){return l.fF.assertValue(f,"expr"),{n:f.expressionName}},N.prototype.visitSparklineData=function(f){var F;return l.fF.assertValue(f,"expr"),{sparklineData:{m:f.measure.accept(this),g:S(f.grouping),s:null===(F=f.scalarKey)||void 0===F?void 0:F.accept(this)}}},N.prototype.visitDefault=function(f){l.fF.assertFail("Unexpected expression type found in DataViewScopeIdentity.")},N.instance=new N,N}(g.vq);function D(b){return(0,n.M4)(b)?V.y3.fromDateWithEpochValue(b):b}},9921:function(ie,ve,v){v.d(ve,{i:function(){return l}});var c=v(8955);function l(g){return new n(g)}var n=function(){function g(V){c.fF.assertValue(V,"allMembers"),this.allMembers=V}return g.prototype.members=function(V){var P=this.allMembers;if(!V)return P;for(var S=[],h=0,D=P;h<D.length;h++){var b=D[h];_.includes(V,b.value)&&S.push(b)}return S},g}()},9149:function(ie,ve,v){v.d(ve,{LX:function(){return n},RL:function(){return S},Sx:function(){return V},TJ:function(){return g},dt:function(){return P}});var c=v(8955),l=v(9921),n="asZero",g="noColor",V="specificColor",P=(0,l.i)([{value:n,displayName:function(F){return F.get("ConditionalFormattingDialog_FormatNull_AsZero")}},{value:g,displayName:function(F){return F.get("ConditionalFormattingDialog_FormatNull_NoFormat")}},{value:V,displayName:function(F){return F.get("ConditionalFormattingDialog_FormatNull_SpecificColor")}}]);function S(f,F){c.fF.assertValue(f,"fillRule"),f.linearGradient2?function(f,F){c.fF.assertValue(f,"gradient2"),b(f.min,F),b(f.max,F),N(f.nullColoringStrategy,F)}(f.linearGradient2,F):f.linearGradient3?function(f,F){c.fF.assertValue(f,"gradient3"),b(f.min,F),b(f.mid,F),b(f.max,F),N(f.nullColoringStrategy,F)}(f.linearGradient3,F):c.fF.assertFail("Unsupported FillRuleDefinition")}function b(f,F){c.fF.assertValue(f,"stop"),F.visitExpr(f.color);var A=f.value;A&&F.visitExpr(A)}function N(f,F){f&&(F.visitExpr(f.strategy),f.color&&F.visitExpr(f.color))}},3122:function(ie,ve,v){v.d(ve,{BD:function(){return l},Ms:function(){return n},c1:function(){return c},t_:function(){return g}});var c="shared",l="packaged",n="geojson",g="topojson"},2479:function(ie,ve,v){v.d(ve,{z:function(){return c}});var c={misc:{imageUrl:!0}}},7184:function(ie,ve,v){v.d(ve,{IM:function(){return V},Kt:function(){return h},RL:function(){return g},Y0:function(){return P},Zm:function(){return D}});var c=v(8955),l=v(9291),n=v(7649);function g(A,k){c.fF.assertValue(A,"paragraphs");for(var Y=0,j=A;Y<j.length;Y++)b(j[Y],k)}function V(A){var k=A;return c.fF.assertValue(k,"textRunDefinition"),_.isString(k.value)||(0,n.U)(k.value)||k.value instanceof l.Il}function P(A){var k=A;return c.fF.assertValue(k,"textRunDefinitionGeneric"),_.isString(k.value)||function(A){return A&&A.expr}(k.value)||(0,n.U)(k.value)}function h(A){var k=A;return c.fF.assertValue(k,"textRunConditionalDefinition"),_.isArray(k.cases)&&void 0!==k.defaultCase&&_.isArray(k.defaultCase.textRuns)&&(0,n.U)(k.expression)}function D(A){var k=A;return c.fF.assertValue(k,"conditionalDefinitionGeneric"),_.isArray(k.cases)&&void 0!==k.defaultCase&&void 0!==k.expression}function b(A,k){if(c.fF.assertValue(A,"paragraph"),!_.isEmpty(A.textRuns))for(var Y=0,j=A.textRuns;Y<j.length;Y++){var G=j[Y];V(G)?N(G,k):h(G)?F(G,k):c.fF.assertNever(G)}}function N(A,k){c.fF.assertValue(A,"textRun"),c.fF.assertValue(A.value,"textRun.value"),!_.isString(A.value)&&f(A.value,k)}function f(A,k){if((0,n.U)(A))return k.visitValueRef(A);k.visitExpr(A)}function F(A,k){c.fF.assertValue(A,"textRunConditional"),c.fF.assertValue(A.expression,"expression"),c.fF.assertValue(A.defaultCase,"defaultCase"),c.fF.assertValue(A.cases,"cases");for(var Y=0,j=A.cases;Y<j.length;Y++)for(var I=0,E=j[Y].textRuns;I<E.length;I++)N(E[I],k);for(var m=0,z=A.defaultCase.textRuns;m<z.length;m++)N(z[m],k);(0,n.U)(A.expression)&&f(A.expression,k)}},643:function(ie,ve,v){v.d(ve,{_:function(){return l}});var c=v(8955),l=function(){function n(g,V){this.exprVisitor=g,this.valueRefVisitor=V}return n.prototype.visitExpr=function(g){return c.fF.assertValue(g,"expr"),c.fF.assertValue(this.exprVisitor,"exprVisitor"),g.accept(this.exprVisitor)},n.prototype.visitValueRef=function(g){return c.fF.assertValue(this.valueRefVisitor,"valueRefVisitor"),this.valueRefVisitor.accept(g)},n}()},3943:function(ie,ve,v){v.d(ve,{RL:function(){return j},TS:function(){return I},Xz:function(){return Y},ZG:function(){return k},bA:function(){return A},hl:function(){return g},r:function(){return F}});var c=v(8955),l=v(1359),n=v(9291);function g(T){return!!T&&(T instanceof l.yl||V(T)||P(T)||function(T){return!!T.identityFieldsValues}(T)||function(T){return T.name instanceof n.Il&&T.url instanceof n.Il}(T)||D(T)||function(T){return T.name instanceof n.Il&&T.content instanceof n.Il&&T.type instanceof n.Il}(T)||function(T){return!(!T.algorithm||!T.parameters)}(T)||f(T)||F(T)||A(T)||k(T)||Y(T))}function V(T){return!!(T.gradient||T.solid||T.pattern)}function P(T){return!(!T.linearGradient2&&!T.linearGradient3)}function D(T){var m=T;if(!_.isArray(m))return!1;for(var z=0,R=m;z<R.length;z++)if(!R[z].textRuns)return!1;return!0}function f(T){return!!(T.axisColor&&T.negativeColor&&T.negativeColor)}function F(T){return"Icon"===T.kind}function A(T){return"ExprList"===T.kind}function k(T){return null!=T&&"ErrorRange"===T.kind}function Y(T){return null!=(null==T?void 0:T.suggestedUtterances)}function j(T,m){V(T)?m.visitFillDefinition(T):P(T)?m.visitFillRuleDefinition(T):D(T)?m.visitParagraphs(T):f(T)?m.visitDataBarsDefinition(T):F(T)?m.visitIconDefinition(T):k(T)&&m.visitErrorRangeDefinition(T)}function I(T,m){return m?T?"Icon"===T.kind&&"Icon"===m.kind?{kind:"Icon",layout:null!=m.layout?m.layout:T.layout,verticalAlignment:null!=m.verticalAlignment?m.verticalAlignment:T.verticalAlignment,value:void 0!==m.value?m.value:T.value}:void c.fF.assertFail("unsupported StructuralObjectValues merging"):m:T}},7649:function(ie,ve,v){function c(n){return!!n&&(void 0!==n.selector&&void 0!==n.propertyIdentifier)}v.d(ve,{S:function(){return l},U:function(){return c}});var l=function(){function n(){this.references=[]}return n.prototype.accept=function(g){this.references.push(g)},n}()},3813:function(ie,ve,v){v.d(ve,{Ge:function(){return P}});var g,V,c=v(8955),l=v(9613),n=v(1598),P=function(){function R(w,B,C,d,u,y){c.fF.assert(function(){return!!w&&null!=A[w]||0===w},"type"),c.fF.assert(function(){return!!B||null===B},"category"),c.fF.assert(function(){return 26214401!==w||!!C},"enumType"),c.fF.assert(function(){return 26280196!==w||!!d},"flagsEnumType"),this.underlyingType=w,this.category=B,(0,n.yE)(w,512)&&(this.temporalType=new h(w)),(0,n.yE)(w,1024)&&(this.geographyType=new D(w)),(0,n.yE)(w,2048)&&(this.miscType=new b(w,y)),(0,n.yE)(w,4096)&&(this.formattingType=new f(w)),(0,n.yE)(w,26214401)&&(this.enumType=C),(0,n.yE)(w,26280196)&&(this.flagsEnumType=d),(0,n.yE)(w,8192)&&(this.scriptingType=new S(w)),(0,n.yE)(w,16384)&&(this.referenceType=new N(w)),(0,n.yE)(w,13)&&(this.variationTypes=u)}return R.isValueTypeDescriptor=function(w){return 0!==R.fromDescriptor(w).primitiveType},R.fromDescriptor=function(w){if((w=w||{}).scripting&&w.scripting.source)return R.fromExtendedType(32776193);if(w.enumeration)return R.fromEnum(w.enumeration);if(w.flagsEnumeration)return R.fromFlagsEnum(w.flagsEnumeration);if(w.temporal){if(w.temporal.year)return R.fromExtendedType(66308);if(w.temporal.quarter)return R.fromExtendedType(262916);if(w.temporal.month)return R.fromExtendedType(131844);if(w.temporal.day)return R.fromExtendedType(328452);if(w.temporal.paddedDateTableDate)return R.fromExtendedType(197127)}if(w.geography){if(w.geography.address)return R.fromExtendedType(6554625);if(w.geography.city)return R.fromExtendedType(6620161);if(w.geography.continent)return R.fromExtendedType(6685697);if(w.geography.country)return R.fromExtendedType(6751233);if(w.geography.county)return R.fromExtendedType(6816769);if(w.geography.region)return R.fromExtendedType(6882305);if(w.geography.postalCode)return R.fromExtendedType(6947841);if(w.geography.stateOrProvince)return R.fromExtendedType(7013377);if(w.geography.place)return R.fromExtendedType(7078913);if(w.geography.latitude)return R.fromExtendedType(7144707);if(w.geography.longitude)return R.fromExtendedType(7210243)}if(w.misc){if(w.misc.image)return R.fromExtendedType(13109259);if(w.misc.imageUrl)return R.fromExtendedType(13174785);if(w.misc.webUrl)return R.fromExtendedType(13240321);if(w.misc.barcode)return R.fromExtendedType(13305857);if(w.misc.sparkline)return R.fromSparklineType(w.misc.sparkline)}if(w.formatting){if(w.formatting.color)return R.fromExtendedType(19664897);if(w.formatting.formatString)return R.fromExtendedType(19730433);if(w.formatting.alignment)return R.fromExtendedType(20058113);if(w.formatting.labelDisplayUnits)return R.fromExtendedType(20123649);if(w.formatting.displayUnitsWithoutAuto)return R.fromExtendedType(20516865);if(w.formatting.fontFamily)return R.fromExtendedType(20385793);if(w.formatting.fontSize)return R.fromExtendedType(20189443);if(w.formatting.altText)return R.fromExtendedType(20451329);if(w.formatting.stylePreset)return R.fromExtendedType(20582401)}if(w.text)return R.fromExtendedType(1);if(w.integer)return R.fromExtendedType(260);if(w.numeric)return R.fromExtendedType(259);if(w.bool)return R.fromExtendedType(5);if(w.dateTime)return R.fromExtendedType(519);if(w.duration)return R.fromExtendedType(10);if(w.binary)return R.fromExtendedType(11);if(w.json)return R.fromExtendedType(14);if(w.none)return R.fromExtendedType(12);if(w.extendedType)return R.fromExtendedType(w.extendedType);if(w.operations&&w.operations.searchEnabled)return R.fromExtendedType(65541);if(w.reference){if(w.reference.bookmark)return R.fromExtendedType(39337985);if(w.reference.bookmarkGroup)return R.fromExtendedType(39534593);if(w.reference.section)return R.fromExtendedType(39403521);if(w.reference.perspective)return R.fromExtendedType(39469057);if(w.reference.rowRefText)return R.fromExtendedType(39600129)}if(w.variant){var B=_.map(w.variant,function(C){return R.fromDescriptor(C)});return R.fromVariant(B)}return R.fromExtendedType(0)},R.fromExtendedType=function(w){var B=I(w=w||0),C=function(R){if(function(R){return(65535&R)===R}(R))return null;var w=A[R];if(!w)return null;var B=w.lastIndexOf("_");if(B>0){var C=w.slice(0,B);C in k&&(c.fF.assert(function(){return(R&G)==(R&G)},"Unexpected value for ExtendedType base member of "+R),w=C)}return w}(w);return c.fF.assert(function(){return 0!==B||0===w},"Cannot create ValueType for abstract extended type. Consider using fromDescriptor instead."),R.fromPrimitiveTypeAndCategory(B,C)},R.fromPrimitiveTypeAndCategory=function(w,B){B=B||null;var C=(w=w||0).toString();return B&&(C+="|"+B),R.typeCache[C]||(R.typeCache[C]=new R(function(R,w){var B=F[R],C=k[B];if(null==C&&(c.fF.assertFail("Unexpected primitiveType "+R),C=0),R&&w){var d=k[w];if(d){var u=I(d);0===u?A[d|=C]&&(c.fF.assert(function(){return A[d]===w+"_"+B},"Unexpected name for ExtendedType member "+d),C=d):u===R&&(C=d)}}return C}(w,B),B))},R.fromEnum=function(w){return c.fF.assertValue(w,"enumType"),new R(26214401,null,w)},R.fromFlagsEnum=function(w){return c.fF.assertValue(w,"enumType"),new R(26280196,null,null,w)},R.fromVariant=function(w){return c.fF.assertValue(w,"variantTypes"),new R(13,null,null,null,w)},R.fromSparklineType=function(w){return new R(13371406,"Sparkline",null,null,null,w)},R.isCompatibleFromAny=function(w,B,C){c.fF.assertValue(w,"type"),c.fF.assertValue(B,"otherType");var d=R.fromDescriptor(w);return!!R.isCompatibleTo(d,[B],C)||d&&d.isCompatibleFrom(R.fromDescriptor(B),C)},R.isCompatibleTo=function(w,B,C){c.fF.assertValue(w,"type"),c.fF.assertValue(B,"otherTypes");for(var d=R.fromDescriptor(w),u=0,y=B;u<y.length;u++)if(R.fromDescriptor(y[u]).isCompatibleFrom(d,C))return!0;return!1},R.prototype.isCompatibleFrom=function(w,B){if(c.fF.assertValue(w,"other"),this===w)return!0;if(w.variant)for(var C=0,d=w.variant;C<d.length;C++)if(!this.isCompatibleFrom(d[C],B))return!1;if(this.variant)for(var y=0,M=this.variant;y<M.length;y++)if(M[y].isCompatibleFrom(w,B))return!0;var O=w.primitiveType;return this.primitiveType===O||0===O||this.numeric&&w.numeric&&(!B||!this.integer||w.integer)},R.prototype.equals=function(w){return _.isEqual(this,w)},Object.defineProperty(R.prototype,"primitiveType",{get:function(){return I(this.underlyingType)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"extendedType",{get:function(){return this.underlyingType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"categoryString",{get:function(){return this.category},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"text",{get:function(){return 1===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"numeric",{get:function(){return(0,n.yE)(this.underlyingType,256)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"integer",{get:function(){return 4===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bool",{get:function(){return 5===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"dateTime",{get:function(){return 7===this.primitiveType||6===this.primitiveType||9===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"duration",{get:function(){return 10===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"binary",{get:function(){return 11===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"json",{get:function(){return 14===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"none",{get:function(){return 12===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"temporal",{get:function(){return this.temporalType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"geography",{get:function(){return this.geographyType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"misc",{get:function(){return this.miscType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"formatting",{get:function(){return this.formattingType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"enum",{get:function(){return this.enumType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"flagsEnum",{get:function(){return this.flagsEnumType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"scripting",{get:function(){return this.scriptingType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"reference",{get:function(){return this.referenceType},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"variant",{get:function(){return this.variationTypes},enumerable:!1,configurable:!0}),R.typeCache={},R}();(0,l.y)(P.prototype);var S=function(){function R(w){c.fF.assert(function(){return!!w&&(0,n.yE)(w,8192)},"type"),this.underlyingType=w}return Object.defineProperty(R.prototype,"source",{get:function(){return z(this.underlyingType,32776193)},enumerable:!1,configurable:!0}),R}(),h=function(){function R(w){c.fF.assert(function(){return!!w&&(0,n.yE)(w,512)},"type"),this.underlyingType=w}return Object.defineProperty(R.prototype,"year",{get:function(){return z(this.underlyingType,66048)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"quarter",{get:function(){return z(this.underlyingType,262656)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"month",{get:function(){return z(this.underlyingType,131584)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"day",{get:function(){return z(this.underlyingType,328192)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"paddedDateTableDate",{get:function(){return z(this.underlyingType,197127)},enumerable:!1,configurable:!0}),R}(),D=function(){function R(w){c.fF.assert(function(){return!!w&&(0,n.yE)(w,1024)},"type"),this.underlyingType=w}return Object.defineProperty(R.prototype,"address",{get:function(){return z(this.underlyingType,6554625)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"city",{get:function(){return z(this.underlyingType,6620161)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"continent",{get:function(){return z(this.underlyingType,6685697)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"country",{get:function(){return z(this.underlyingType,6751233)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"county",{get:function(){return z(this.underlyingType,6816769)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"region",{get:function(){return z(this.underlyingType,6882305)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"postalCode",{get:function(){return z(this.underlyingType,6947840)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stateOrProvince",{get:function(){return z(this.underlyingType,7013377)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"place",{get:function(){return z(this.underlyingType,7078913)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"latitude",{get:function(){return z(this.underlyingType,7144448)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"longitude",{get:function(){return z(this.underlyingType,7209984)},enumerable:!1,configurable:!0}),R}(),b=function(){function R(w,B){c.fF.assert(function(){return!!w&&(0,n.yE)(w,2048)},"type"),this.underlyingType=w,this.sparklineType=B}return Object.defineProperty(R.prototype,"image",{get:function(){return z(this.underlyingType,13109259)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"imageUrl",{get:function(){return z(this.underlyingType,13174785)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"webUrl",{get:function(){return z(this.underlyingType,13240321)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"barcode",{get:function(){return z(this.underlyingType,13305856)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"sparkline",{get:function(){if(z(this.underlyingType,13371406))return this.sparklineType},enumerable:!1,configurable:!0}),R}();Object.getOwnPropertyNames(b.prototype).forEach(function(R){"constructor"!==R&&Object.defineProperty(b.prototype,R,{enumerable:!0})});var N=function(){function R(w){c.fF.assert(function(){return!!w&&(0,n.yE)(w,16384)},"type"),this.underlyingType=w}return Object.defineProperty(R.prototype,"bookmark",{get:function(){return z(this.underlyingType,39337985)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"bookmarkGroup",{get:function(){return z(this.underlyingType,39534593)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"section",{get:function(){return z(this.underlyingType,39403521)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"perspective",{get:function(){return z(this.underlyingType,39469057)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"rowRefText",{get:function(){return z(this.underlyingType,39600129)},enumerable:!1,configurable:!0}),R}(),f=function(){function R(w){c.fF.assert(function(){return!!w&&(0,n.yE)(w,4096)},"type"),this.underlyingType=w}return Object.defineProperty(R.prototype,"color",{get:function(){return z(this.underlyingType,19664897)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"formatString",{get:function(){return z(this.underlyingType,19730433)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"alignment",{get:function(){return z(this.underlyingType,20058113)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"labelDisplayUnits",{get:function(){return z(this.underlyingType,20123649)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"displayUnitsWithoutAuto",{get:function(){return z(this.underlyingType,20516865)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"fontFamily",{get:function(){return z(this.underlyingType,20385793)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"fontSize",{get:function(){return z(this.underlyingType,20189443)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"altText",{get:function(){return z(this.underlyingType,20451329)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"stylePreset",{get:function(){return z(this.underlyingType,20582401)},enumerable:!1,configurable:!0}),R}();Object.getOwnPropertyNames(f.prototype).forEach(function(R){"constructor"!==R&&Object.defineProperty(f.prototype,R,{enumerable:!0})});var F=((g={})[0]="Null",g[1]="Text",g[2]="Decimal",g[3]="Double",g[4]="Integer",g[5]="Boolean",g[6]="Date",g[7]="DateTime",g[8]="DateTimeZone",g[9]="Time",g[10]="Duration",g[11]="Binary",g[12]="None",g[13]="Variant",g[14]="Json",g),A=((V={})[256]="Numeric",V[512]="Temporal",V[1024]="Geography",V[2048]="Miscellaneous",V[4096]="Formatting",V[8192]="Scripting",V[0]="Null",V[1]="Text",V[258]="Decimal",V[259]="Double",V[260]="Integer",V[5]="Boolean",V[518]="Date",V[519]="DateTime",V[520]="DateTimeZone",V[521]="Time",V[10]="Duration",V[11]="Binary",V[12]="None",V[13]="Variant",V[66048]="Years",V[66049]="Years_Text",V[66308]="Years_Integer",V[66054]="Years_Date",V[66055]="Years_DateTime",V[131584]="Months",V[131585]="Months_Text",V[131844]="Months_Integer",V[131590]="Months_Date",V[131591]="Months_DateTime",V[197127]="PaddedDateTableDates",V[262656]="Quarters",V[262657]="Quarters_Text",V[262916]="Quarters_Integer",V[262662]="Quarters_Date",V[262663]="Quarters_DateTime",V[328192]="DayOfMonth",V[328193]="DayOfMonth_Text",V[328452]="DayOfMonth_Integer",V[328198]="DayOfMonth_Date",V[328199]="DayOfMonth_DateTime",V[6554625]="Address",V[6620161]="City",V[6685697]="Continent",V[6751233]="Country",V[6816769]="County",V[6882305]="Region",V[6947840]="PostalCode",V[6947841]="PostalCode_Text",V[6948100]="PostalCode_Integer",V[7013377]="StateOrProvince",V[7078913]="Place",V[7144448]="Latitude",V[7144706]="Latitude_Decimal",V[7144707]="Latitude_Double",V[7209984]="Longitude",V[7210242]="Longitude_Decimal",V[7210243]="Longitude_Double",V[13109259]="Image",V[13174785]="ImageUrl",V[13240321]="WebUrl",V[13305856]="Barcode",V[13305857]="Barcode_Text",V[13306116]="Barcode_Integer",V[19664897]="Color",V[19730433]="FormatString",V[20058113]="Alignment",V[20123649]="LabelDisplayUnits",V[20516865]="DisplayUnitsWithoutAuto",V[20385793]="FontFamily",V[20451329]="AltText",V[20189443]="FontSize",V[26214401]="Enumeration",V[26280196]="FlagsEnumeration",V[32776193]="ScriptSource",V[65541]="SearchEnabled",V[39337985]="BookmarkRef",V[39534593]="BookmarkGroupRef",V[39403521]="SectionRef",V[20582401]="StylePreset",V[39469057]="PerspectiveRef",V[16384]="Reference",V[14]="Json",V[13371406]="Sparkline",V[39600129]="RowRefText",V),k={Numeric:256,Temporal:512,Geography:1024,Miscellaneous:2048,Formatting:4096,Scripting:8192,Null:0,Text:1,Decimal:258,Double:259,Integer:260,Boolean:5,Date:518,DateTime:519,DateTimeZone:520,Time:521,Duration:10,Binary:11,None:12,Variant:13,Years:66048,Years_Text:66049,Years_Integer:66308,Years_Date:66054,Years_DateTime:66055,Months:131584,Months_Text:131585,Months_Integer:131844,Months_Date:131590,Months_DateTime:131591,PaddedDateTableDates:197127,Quarters:262656,Quarters_Text:262657,Quarters_Integer:262916,Quarters_Date:262662,Quarters_DateTime:262663,DayOfMonth:328192,DayOfMonth_Text:328193,DayOfMonth_Integer:328452,DayOfMonth_Date:328198,DayOfMonth_DateTime:328199,Address:6554625,City:6620161,Continent:6685697,Country:6751233,County:6816769,Region:6882305,PostalCode:6947840,PostalCode_Text:6947841,PostalCode_Integer:6948100,StateOrProvince:7013377,Place:7078913,Latitude:7144448,Latitude_Decimal:7144706,Latitude_Double:7144707,Longitude:7209984,Longitude_Decimal:7210242,Longitude_Double:7210243,Image:13109259,ImageUrl:13174785,WebUrl:13240321,Barcode:13305856,Barcode_Text:13305857,Barcode_Integer:13306116,Color:19664897,FormatString:19730433,Alignment:20058113,LabelDisplayUnits:20123649,DisplayUnitsWithoutAuto:20516865,FontFamily:20385793,AltText:20451329,FontSize:20189443,Enumeration:26214401,FlagsEnumeration:26280196,ScriptSource:32776193,SearchEnabled:65541,BookmarkRef:39337985,BookmarkGroupRef:39534593,SectionRef:39403521,StylePreset:20582401,PerspectiveRef:39469057,Reference:16384,Json:14,Sparkline:13371406,RowRefText:39600129},G=4294901760;function I(R){return 255&R}function z(R,w){return(R&G)==(w&G)}},1592:function(ie,ve,v){v.d(ve,{B9:function(){return I},EK:function(){return N},aH:function(){return f},k6:function(){return b},kx:function(){return F},mx:function(){return D}});var S,h,c=v(3188),l=v(8459),n=v(1140),g=v(4171),V=v(3845),P=v(2578);function D(E){return E&&E.buttonTileFormatting?Y:G}var b={fill:P.OV.fill,outline:P.OV.outline,text:V.nm.text,icon:V.nm.icon,shape:P.OV.shape,shadow:P.OV.shadow,glow:P.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},N={fill:P.eM.fill,outline:P.eM.outline,text:V.Vz.text,icon:V.Vz.icon,shape:P.eM.shape,shadow:P.eM.shadow,glow:P.eM.glow,rotation:"rotation"},f=(0,c.pi)((0,c.pi)((0,c.pi)({},P.Mn),V.WI),{rotation:"angle"}),F={default:"default",hover:"hover",selected:"selected",disabled:"disabled"},A=((S={})[f.rotation]={displayName:(0,l.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},S[f.shapeRotation]={displayName:(0,l.V)("Visual_ShapeRotation"),type:{integer:!0}},S[f.textRotation]={displayName:(0,l.V)("Visual_TextRotation"),type:{integer:!0}},S),Y={objects:((h={})[N.fill]=P.zC.fill,h[N.outline]=P.zC.outline,h[N.text]=V.p.text,h[N.icon]=V.p.icon,h[N.shape]=P.zC.shape,h[N.shadow]=P.zC.shadow,h[N.glow]=P.zC.glow,h[N.rotation]={displayName:(0,l.V)("Visual_BasicShape_Rotate"),properties:A},h),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button",disableFormatMode:!0},G={objects:{text:{displayName:(0,l.V)("ActionButton_Text"),properties:{show:g.iD.show,text:{displayName:(0,l.V)("ActionButton_Text"),type:{text:!0},suppressFormatPainterCopy:!0},fontColor:g.iD.fontColor,padding:{displayName:(0,l.V)("Visual_Padding"),type:{integer:!0}},verticalAlignment:{displayName:(0,l.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:{displayName:(0,l.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},fontSize:g.iD.fontSize,fontFamily:g.iD.fontFamily,italic:g.iD.italic,bold:g.iD.bold,underline:g.iD.underline}},icon:{displayName:(0,l.V)("Icon"),properties:{show:g.iD.show,shapeType:{displayName:(0,l.V)("BasicShape_ToolTip"),type:{enumeration:n.dt}},padding:{displayName:(0,l.V)("Visual_Padding"),type:{integer:!0}},verticalAlignment:{displayName:(0,l.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:{displayName:(0,l.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},lineColor:{displayName:(0,l.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},lineWeight:{displayName:(0,l.V)("Visual_BasicShape_Weight"),type:{integer:!0}},lineTransparency:g.iD.lineTransparency}},outline:{displayName:(0,l.V)("Visual_Outline"),properties:{show:g.iD.show,lineColor:g.iD.outlineColor,transparency:g.iD.lineTransparency,weight:g.iD.outlineWeight,roundEdge:{displayName:(0,l.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,l.V)("Visual_Fill"),properties:{show:g.iD.show,fillColor:{displayName:(0,l.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:g.iD.transparency,image:g.iD.image}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button",disableFormatMode:!0},I={text:{show:{objectName:"text",propertyName:"show"},text:{objectName:"text",propertyName:"text"},fontColor:{objectName:"text",propertyName:"fontColor"},padding:{objectName:"text",propertyName:"padding"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},bold:{objectName:"text",propertyName:"bold"},italic:{objectName:"text",propertyName:"italic"},underline:{objectName:"text",propertyName:"underline"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},padding:{objectName:"icon",propertyName:"padding"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},fillColor:{objectName:"icon",propertyName:"fillColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},transparency:{objectName:"outline",propertyName:"transparency"},weight:{objectName:"outline",propertyName:"weight"},roundEdge:{objectName:"outline",propertyName:"roundEdge"}},fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}}}},1911:function(ie,ve,v){v.d(ve,{R9:function(){return j},d1:function(){return C},u9:function(){return R},yD:function(){return w}});var D,b,N,f,F,A,k,d,u,c=v(1813),l=v(8459),n=v(7779),g=v(7725),V=v(4171),P=v(8031),S=v(2578),h=v(1689),j={accentBar:"accentBar",altText:"altText",textRotation:"textAngle",field:"field",fill:S.eM.fillCustom,fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",outline:S.eM.outline,shapeCustomRectangle:S.eM.shapeCustomRectangle,layout:"layout",shadowCustom:S.eM.shadowCustom,glowCustom:S.eM.glowCustom,verticalAlignment:"verticalAlignment",overFlow:"overFlow",Rotation:"textAngle",rotation:"rotation",cards:"cards",icon:"icon",image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",isHorizontal:"isHorizontal",isPaginated:"isPaginated",iconType:"iconType",iconUrl:"iconUrl",ignorePadding:"ignorePadding",imageFit:"imageFit",angle:"angle",position:"position",padding:"padding",setAsBackGround:"setAsBackGround",shapeRotation:"shapeAngle",color:"color",width:"width",size:"size",spacing:"spacing",transparency:"transparency",saturation:"saturation",blur:"blur",background:"background",wrapContent:"wrapContent"},G={icon:{show:{objectName:"icon",propertyName:"show"},iconType:{objectName:"icon",propertyName:"iconType"},icon:{objectName:"icon",propertyName:"icon"},iconUrl:{objectName:"icon",propertyName:"iconUrl"},transparency:{objectName:"icon",propertyName:"transparency"},position:{objectName:"icon",propertyName:"position"},padding:{objectName:"icon",propertyName:"padding"},size:{objectName:"icon",propertyName:"size"},altText:{objectName:"icon",propertyName:"altText"}},image:{image:{objectName:"image",propertyName:"image"},imageFit:{objectName:"image",propertyName:"imageFit"},transparency:{objectName:"image",propertyName:"transparency"},saturation:{objectName:"image",propertyName:"saturation"},blur:{objectName:"image",propertyName:"blur"},position:{objectName:"image",propertyName:"position"},ignorePadding:{objectName:"image",propertyName:"ignorePadding"},setAsBackGround:{objectName:"image",propertyName:"setAsBackGround"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"}},overFlow:{isHorizontal:{objectName:"overFlow",propertyName:"isHorizontal"},isPaginated:{objectName:"overFlow",propertyName:"isPaginated"}},background:{show:{objectName:"background",propertyName:"show"},transparency:{objectName:"background",propertyName:"transparency"},color:{objectName:"background",propertyName:"color"},wrapContent:{objectName:"background",propertyName:"wrapContent"}}},I=((D={})[j.angle]={displayName:(0,l.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},D[j.shapeRotation]={displayName:(0,l.V)("Visual_ShapeRotation"),type:{integer:!0}},D[j.textRotation]={displayName:(0,l.V)("Visual_TextRotation"),type:{integer:!0}},D),E=((b={show:V.iD.show})[j.iconType]={displayName:(0,l.V)("Button_Icon_Type"),type:{enumeration:n.dt}},b[j.icon]=V.iD.image,b[j.iconUrl]={displayName:(0,l.V)("Image_Url"),type:{text:!0}},b[j.transparency]=V.iD.transparency,b[j.position]={displayName:(0,l.V)("Visual_Position"),type:{enumeration:g.u0}},b[j.padding]={displayName:(0,l.V)("Visual_Padding"),type:{integer:!0}},b[j.size]={displayName:(0,l.V)("Visual_BubbleSize"),type:{integer:!0}},b[j.altText]={displayName:(0,l.V)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},b),T=((N={})[j.isHorizontal]={displayName:(0,l.V)("HorizontalScroll"),type:{bool:!0}},N[j.isPaginated]={displayName:(0,l.V)("Visual_Paginated"),type:{bool:!0}},N),m=((f={show:V.iD.show})[j.color]=V.iD.fill,f[j.transparency]=V.iD.transparency,f[j.wrapContent]={displayName:(0,l.V)("ButtonSlicer_Objects_WrapContent"),type:{bool:!0}},f),z=((F={})[j.image]={displayName:(0,l.V)("Field"),type:{variant:[{text:!0}]}},F[j.imageFit]={displayName:(0,l.V)("PagePropertyPane_PageBackgroundImageFit"),type:{enumeration:h.Zt}},F[j.transparency]=V.iD.transparency,F[j.position]={displayName:(0,l.V)("Visual_Position"),type:{enumeration:g.u0}},F[j.saturation]={displayName:(0,l.V)("Visual_Saturation"),type:{integer:!0}},F[j.blur]={displayName:(0,l.V)("Visual_DropShadow_Blur"),type:{integer:!0}},F[j.ignorePadding]={displayName:(0,l.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},F[j.setAsBackGround]={displayName:(0,l.V)("Visual_SetAsBackGround"),type:{bool:!0}},F[j.padding]={displayName:(0,l.V)("Visual_Space_Between_Image"),type:{integer:!0}},F[j.imageAreaSize]={displayName:(0,l.V)("Visual_Image_Area_Size"),type:{integer:!0}},F),R={dataRoles:[{name:P.CT.value,kind:c.DW.Grouping,displayName:(0,l.V)("Field"),description:(0,l.V)("Role_DisplayName_FieldDescription")},{name:"Tooltips",kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Tooltips"),description:(0,l.V)("Role_Tooltips_Description")}],objects:(A={general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:V.iD.formatString,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}}},A[j.fill]=S.zC.fillCustom,A[j.outline]=S.zC.outline,A[S.eM.value]=S.zC.value,A[S.eM.label]=(d=S.zC.label,u=_.cloneDeep(d),delete u.properties[S.Mn.text],u.properties[j.field]={displayName:(0,l.V)("Field"),type:{variant:[{text:!0},{integer:!0},{dateTime:!0}]}},u),A[j.shapeCustomRectangle]=S.zC.shapeCustomRectangle,A[j.layout]=S.zC.layout,A[j.shadowCustom]=S.zC.shadowCustom,A[j.glowCustom]=S.zC.glowCustom,A[j.rotation]={displayName:(0,l.V)("Visual_BasicShape_Rotate"),properties:I},A[j.spacing]=S.zC.spacing,A[j.padding]=S.zC.padding,A[j.accentBar]=S.zC.accentBar,A[j.icon]={displayName:(0,l.V)("Icon"),properties:E},A[j.image]={displayName:(0,l.V)("Image"),properties:z},A[j.background]={displayName:(0,l.V)("Visual_Background"),properties:m},A[j.overFlow]={displayName:(0,l.V)("Visual_OverFlow"),properties:T},A.selection={displayName:(0,l.V)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,l.V)("Visual_SelectAll"),description:(0,l.V)("Visual_SelectAll_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,l.V)("Visual_ForceSelection"),description:(0,l.V)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0},singleSelect:{displayName:(0,l.V)("Visual_StrictSingleSelect"),description:(0,l.V)("Visual_StrictSingleSelect"),type:{bool:!0}}}},A.data={suppressFormatPainterCopy:!0,properties:{isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},A),dataViewMappings:[{conditions:[(k={},k[P.CT.value]={max:1,min:1},k)],matrix:{rows:{select:[{for:{in:P.CT.value}}],dataReductionAlgorithm:{window:{count:100}}},values:{select:[{for:{in:"Tooltips"}}]},includeEmptyGroups:!0}}],tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,hasFilterOptions:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,disableFocusMode:!0,supportsFilterClearButton:!0},w={general:{formatString:V.e0.formatString},fillCustom:S.OV.fillCustom,outline:S.OV.outline,value:S.OV.value,label:S.OV.label,shapeCustomRectangle:S.OV.shapeCustomRectangle,layout:S.OV.layout,shadowCustom:S.OV.shadowCustom,glowCustom:S.OV.glowCustom,spacing:S.OV.spacing,padding:S.OV.padding,accentBar:S.OV.accentBar,icon:G.icon,image:G.image,overFlow:G.overFlow,background:G.background},C={default:"default",hover:"hover",press:"press",selected:"selected"}},1529:function(ie,ve,v){v.d(ve,{Tf:function(){return g},w$:function(){return P}});var c=v(6274),l=v(8459),n=v(4171);function g(){return V}var V={objects:{userPrompt:{properties:{text:{displayName:(0,l.V)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},selectedVisualsJson:{displayName:(0,l.V)("ExplorationBookmarks_SelectedVisuals"),type:{text:!0}},useAllVisuals:{type:{bool:!0}}}},text:{displayName:"Text",properties:{fontColor:n.iD.fontColor,fontSize:n.iD.fontSize,fontFamily:n.iD.fontFamily,textAlignment:n.iD.textAlignment}},narrativeSelection:{properties:{dismissSelectionScreen:{type:{bool:!0}}}}},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsSelection:!1},P=(0,c.wZ)(V.objects)},9926:function(ie,ve,v){v.d(ve,{$E:function(){return G},DQ:function(){return j},Do:function(){return Y},MC:function(){return m},Wx:function(){return h},a:function(){return D}});var c=v(1813),l=v(8459),n=v(9921),g=v(3122),V=v(2333),P=v(7350),S=v(4171),h={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",tooltips:"Tooltips"},D={road:"road",satellite:"satellite",satelliteRoadLabels:"satellite_road_labels",grayscaleDark:"grayscale_dark",night:"night",grayscaleLight:"grayscale_light",roadShadedRelief:"road_shaded_relief",blank:"blank",blankAccessible:"blank_accessible",highContrastDark:"high_contrast_dark",highContrastLight:"high_contrast_light"},b=(0,n.i)([{value:D.road,displayName:(0,l.V)("Visual_MapThemeRoad")},{value:D.satellite,displayName:(0,l.V)("Visual_AzureMapsSatelliteStyle")},{value:D.satelliteRoadLabels,displayName:(0,l.V)("ContentList_Datasets_Hybrid")},{value:D.grayscaleDark,displayName:(0,l.V)("Visual_AzureMapsGrayScaleDarkStyle")},{value:D.night,displayName:(0,l.V)("Visual_AzureMapsNightStyle")},{value:D.grayscaleLight,displayName:(0,l.V)("Visual_AzureMapsGrayScaleLightStyle")},{value:D.roadShadedRelief,displayName:(0,l.V)("Visual_AzureMapsTerraStyle")},{value:D.blank,displayName:(0,l.V)("ReportAppBar_Blank")},{value:D.blankAccessible,displayName:(0,l.V)("Visual_AzureMapsBlankAccessibleStyle")},{value:D.highContrastDark,displayName:(0,l.V)("Visual_AzureMapsHighContrastDarkStyle")},{value:D.highContrastLight,displayName:(0,l.V)("Visual_AzureMapsHighContrastLightStyle")}]),N=(0,n.i)([{value:0,displayName:(0,l.V)("Visual_AzureMapsBoxShape")},{value:1,displayName:(0,l.V)("Visual_AzureMapsCylinderShape")}]),f=(0,n.i)([{value:0,displayName:(0,l.V)("Visual_Axis_Linear")},{value:1,displayName:(0,l.V)("Visual_Axis_Log")},{value:2,displayName:(0,l.V)("Visual_AzureMapsCubicBezier")}]),F=(0,n.i)([{value:"map",displayName:(0,l.V)("Visual_ShapeMap_Map")},{value:"viewport",displayName:(0,l.V)("Visual_AzureMapsViewport")}]),A=(0,n.i)([{value:"",displayName:(0,l.V)("Visual_AzureMapsLayerAboveLabels")},{value:"labels",displayName:(0,l.V)("Visual_AzureMapsLayerBelowLabels")},{value:"transit",displayName:(0,l.V)("Visual_AzureMapsLayerBelowRoads")}]),k=(0,n.i)([{value:"pixels",displayName:function(R){return R.get("Generic_Pixels")}},{value:"meters",displayName:function(R){return R.get("Visual_MapUnitMeters")}}]),Y={mapControls:"mapControls",traffic:"traffic",tileLayer:"tileLayer",bubbleLayer:"bubbleLayer",categoryLabels:"categoryLabels",heatMapLayer:"heatMapLayer",barChart:"barChart",commonDataOptions:"commonDataOptions",referenceLayer:"referenceLayer",filledMap:"filledMap"},j={defaultStyle:"defaultStyle",showStylePicker:"showStylePicker",showLabels:"showLabels",showNavigationControls:"showNavigationControls",zoom:"zoom",centerLatitude:"centerLatitude",centerLongitude:"centerLongitude",heading:"heading",pitch:"pitch",showIncidents:"showIncidents",showTrafficControl:"showTrafficControl",tileLayerUrl:"tileLayerUrl",tileSize:"tileSize",northBounds:"northBounds",southBounds:"southBounds",eastBounds:"eastBounds",westBounds:"westBounds",mapTransparency:"mapTransparency",isTMS:"isTMS",minZoom:"minZoom",maxZoom:"maxZoom",barShape:"barShape",height:"barHeight",scaleHeightOnZoom:"scaleHeightOnZoom",thickness:"thickness",scaleThicknessOnZoom:"scaleThicknessOnZoom",unselectedTransparency:"unselectedTransparency",show:"show",bubbleRadius:"bubbleRadius",minBubbleRadius:"minBubbleRadius",markerRangeType:"markerRangeType",radiusScalingMethod:"radiusScalingMethod",maxRadius:"maxRadius",showZeros:"showZeros",showNegatives:"showNegatives",defaultColor:"defaultColor",strokeColor:"strokeColor",autoStrokeColor:"autoStrokeColor",strokeTransparency:"strokeTransparency",bubbleStrokeWidth:"bubbleStrokeWidth",strokeWidth:"strokeWidth",blur:"blur",pitchAlignment:"pitchAlignment",layerPosition:"layerPosition",minDataValue:"minDataValue",maxDataValue:"maxDataValue",zoomScaleFactor:"zoomScaleFactor",logScale:"logScale",x1:"x1",x2:"x2",y1:"y1",y2:"y2",autoZoom:"autoZoom",worldWrap:"worldWrap",additionalDatasource:"additionalDatasource",showSelectionControl:"showSelectionControl",geocodingCulture:"geocodingCulture",heatMapRadius:"heatMapRadius",heatMapRadiusUnit:"heatMapRadiusUnit",heatMapIntensity:"heatMapIntensity",heatMapColorLow:"heatMapColorLow",heatMapColorCenter:"heatMapColorCenter",heatMapColorHigh:"heatMapColorHigh",heatMapUseSize:"heatMapUseSize",clusteringEnabled:"clusteringEnabled",clusteredBubbleRadius:"clusteredBubbleRadius"};function G(z){return{dataRoles:I(z),objects:E(z),dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{min:1,max:1,kind:c.DW.Measure},Y:{max:1,kind:c.DW.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:c.DW.Measure},Y:{min:1,max:1,kind:c.DW.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:c.DW.Measure},Y:{max:1,kind:c.DW.Measure},Size:{min:1,max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:c.DW.Measure},Y:{max:1,kind:c.DW.Measure},Size:{max:1},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:c.DW.Measure},Y:{max:1,kind:c.DW.Measure},Size:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:h.category}}]}],dataReductionAlgorithm:{top:{}}},columns:{for:{in:h.series},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:h.y}},{bind:{to:h.x}},{bind:{to:h.size}},{for:{in:h.tooltips}}]},dataVolume:6}},{conditions:[{Category:{min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:h.series}},{composite:[{for:{in:h.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:6}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:c.DW.Grouping},Y:{max:1,kind:c.DW.Grouping},Size:{max:1}}],matrix:{rows:{select:[{bind:{to:h.series}},{composite:[{bind:{to:h.x}},{bind:{to:h.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:h.size}},{bind:{to:h.tooltips}}]},dataVolume:6}}],sorting:{custom:{},implicit:{clauses:[{role:h.size,direction:2}]}},drilldown:{roles:[h.category]},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[h.tooltips],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsOnObjectFormatting:!0}}function I(z){var R=[{name:h.y,kind:c.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_Latitude"),description:(0,l.V)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:h.x,kind:c.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_Longitude"),description:(0,l.V)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:h.series,kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Legend"),description:(0,l.V)("Role_DisplayName_LegendDescription")},{name:h.size,kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Size"),description:(0,l.V)("Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:h.tooltips,kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Tooltips"),description:(0,l.V)("Role_Tooltips_Description"),joinPredicate:0}];return null!=z&&z.azureMapsGeocoding&&R.unshift({name:h.category,kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Location"),description:(0,l.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]}),R}function E(z){var R,w,B,C,d,u,y,M,L,O,H=((R={general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:S.iD.formatString}},legend:S.TQ.legend,dataPoint:{displayName:(0,l.V)("Visual_DataPoint"),description:(0,l.V)("Visual_DataPointDescription"),properties:{showAllDataPoints:S.iD.showAllDataPoints,fill:S.iD.defaultCategoryColor}},labels:{displayName:(0,l.V)("Visual_DataPointsLabels"),properties:{show:S.iD.show,color:S.iD.dataColor,labelDisplayUnits:S.iD.labelDisplayUnits,labelPrecision:S.iD.labelPrecision}}})[Y.mapControls]={displayName:(0,l.V)("Visual_AzureMapsMapSettings"),description:(0,l.V)("Visual_MapControlsDescription"),properties:(w={},w[j.defaultStyle]={displayName:(0,l.V)("Visual_AzureMapsDefaultStyle"),description:(0,l.V)("Visual_AzureMapsDefaultStyleDescription"),type:{enumeration:b}},w[j.showStylePicker]={displayName:(0,l.V)("Visual_AzureMapsStylePicker"),description:(0,l.V)("Visual_AzureMapsStylePickerDescription"),type:{bool:!0}},w[j.showLabels]={displayName:(0,l.V)("Visual_MapShowLabels"),description:(0,l.V)("Visual_AzureMapsShowLabelsDescription"),type:{bool:!0}},w[j.showNavigationControls]={displayName:(0,l.V)("Visual_AzureMapsNavigationControls"),description:(0,l.V)("Visual_AzureMapsNavigationControlsDescription"),type:{bool:!0}},w[j.zoom]={displayName:(0,l.V)("Visual_ShapeMap_Zoom"),description:(0,l.V)("Visual_AzureMapsZoomDescription"),type:{numeric:!0}},w[j.centerLatitude]={displayName:(0,l.V)("Visual_AzureMapsCenterLatitude"),description:(0,l.V)("Visual_AzureMapsCenterLatitudeDescription"),type:{numeric:!0}},w[j.centerLongitude]={displayName:(0,l.V)("Visual_AzureMapsCenterLongitude"),description:(0,l.V)("Visual_AzureMapsCenterLongitudeDescription"),type:{numeric:!0}},w[j.heading]={displayName:(0,l.V)("Visual_AzureMapsHeading"),description:(0,l.V)("Visual_AzureMapsHeadingDescription"),type:{numeric:!0}},w[j.pitch]={displayName:(0,l.V)("Visual_AzureMapsPitch"),description:(0,l.V)("Visual_AzureMapsPitchDescription"),type:{numeric:!0}},w[j.autoZoom]={displayName:(0,l.V)("Visual_AutoZoom"),description:(0,l.V)("Visual_AzureMapsAutoZoomDescription"),type:{bool:!0}},w[j.worldWrap]={displayName:(0,l.V)("Visual_AzureMapsWorldWrap"),description:(0,l.V)("Visual_AzureMapsWorldWrapDescription"),type:{bool:!0}},w[j.showSelectionControl]={displayName:(0,l.V)("Visual_AzureMapsSelectionControl"),description:(0,l.V)("Visual_AzureMapsSelectionControlDescription"),type:{bool:!0}},w)},R[Y.filledMap]={displayName:(0,l.V)("FilledMap_ToolTip"),description:(0,l.V)("Visual_AzureMapsFilledMapDescription"),properties:(B={show:S.iD.show},B[j.defaultColor]={displayName:(0,l.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},B[j.mapTransparency]={displayName:(0,l.V)("Visual_Fill_Transparency"),type:{numeric:!0}},B[j.strokeColor]={displayName:(0,l.V)("Visual_OutlineColor"),type:{fill:{solid:{color:!0}}}},B[j.strokeTransparency]={displayName:(0,l.V)("Visual_AzureMapsBubbleStrokeTransparency"),type:{numeric:!0}},B[j.strokeWidth]={displayName:(0,l.V)("Visual_AzureMapsBubbleStrokeWidth"),type:{integer:!0}},B[j.minZoom]={displayName:(0,l.V)("Visual_AzureMapsMinZoom"),description:(0,l.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},B[j.maxZoom]={displayName:(0,l.V)("Visual_AzureMapsMaxZoom"),description:(0,l.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},B[j.layerPosition]={displayName:(0,l.V)("Visual_AzureMapsLayerPosition"),description:(0,l.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:A}},B)},R[Y.bubbleLayer]={displayName:(0,l.V)("Visual_Bubbles"),description:(0,l.V)("Visual_BubblesDescription"),properties:(C={show:S.iD.show},C[j.mapTransparency]={displayName:(0,l.V)("Visual_Fill_Transparency"),description:(0,l.V)("Visual_AzureMapsBubbleTransparencyDescription"),type:{numeric:!0}},C[j.bubbleRadius]={displayName:(0,l.V)("Visual_BubbleSize"),description:(0,l.V)("Visual_AzureMapsBubbleRadiusDescription"),type:{integer:!0}},C[j.minBubbleRadius]={displayName:(0,l.V)("Visual_AzureMapsMinBubbleRadius"),description:(0,l.V)("Visual_AzureMapsMinBubbleRadiusDescription"),type:{integer:!0}},C[j.markerRangeType]={displayName:(0,l.V)("Visual_MarkerRangeType"),description:(0,l.V)("Visual_MarkerRangeType"),type:{enumeration:V.zo}},C[j.radiusScalingMethod]={displayName:(0,l.V)("Visual_AzureMapsBubbleRadiusScalingMethod"),description:(0,l.V)("Visual_AzureMapsBubbleRadiusScalingMethodDescription"),type:{enumeration:f}},C[j.maxRadius]={displayName:(0,l.V)("Visual_AzureMapsBubbleMaxRadius"),description:(0,l.V)("Visual_AzureMapsBubbleMaxRadiusDescription"),type:{integer:!0}},C[j.logScale]={displayName:(0,l.V)("Visual_AzureMapsLogScale"),description:(0,l.V)("Visual_AzureMapsLogScaleDescription"),type:{integer:!0}},C[j.x1]={displayName:(0,l.V)("Visual_AzureMapsX1"),description:(0,l.V)("Visual_AzureMapsX1Description"),type:{numeric:!0}},C[j.x2]={displayName:(0,l.V)("Visual_AzureMapsX2"),description:(0,l.V)("Visual_AzureMapsX2Description"),type:{numeric:!0}},C[j.y1]={displayName:(0,l.V)("Visual_AzureMapsY1"),description:(0,l.V)("Visual_AzureMapsY1Description"),type:{numeric:!0}},C[j.y2]={displayName:(0,l.V)("Visual_AzureMapsY2"),description:(0,l.V)("Visual_AzureMapsY2Description"),type:{numeric:!0}},C[j.defaultColor]={displayName:(0,l.V)("Visual_FillColor"),description:(0,l.V)("Visual_AzureMapsBubbleDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},C[j.strokeColor]={displayName:(0,l.V)("Visual_OutlineColor"),description:(0,l.V)("Visual_AzureMapsBubbleStrokeColorDescription"),type:{fill:{solid:{color:!0}}}},C[j.autoStrokeColor]={displayName:(0,l.V)("Visual_AzureMapsBubbleAutoStrokeColor"),description:(0,l.V)("Visual_AzureMapsBubbleAutoStrokeColorDescription"),type:{bool:!0}},C[j.strokeTransparency]={displayName:(0,l.V)("Visual_AzureMapsBubbleStrokeTransparency"),description:(0,l.V)("Visual_AzureMapsBubbleStrokeTransparencyDescription"),type:{numeric:!0}},C[j.bubbleStrokeWidth]={displayName:(0,l.V)("Visual_AzureMapsBubbleStrokeWidth"),description:(0,l.V)("Visual_AzureMapsBubbleStrokeWidthDescription"),type:{integer:!0}},C[j.blur]={displayName:(0,l.V)("Visual_DropShadow_Blur"),description:(0,l.V)("Visual_AzureMapsBubbleBlurDescription"),type:{numeric:!0}},C[j.pitchAlignment]={displayName:(0,l.V)("Visual_AzureMapsBubblePitchAlignment"),description:(0,l.V)("Visual_AzureMapsBubblePitchAlignmentDescription"),type:{enumeration:F}},C[j.zoomScaleFactor]={displayName:(0,l.V)("Visual_AzureMapsZoomScaleFactor"),description:(0,l.V)("Visual_AzureMapsZoomScaleFactorDescription"),type:{integer:!0}},C[j.minZoom]={displayName:(0,l.V)("Visual_AzureMapsMinZoom"),description:(0,l.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},C[j.maxZoom]={displayName:(0,l.V)("Visual_AzureMapsMaxZoom"),description:(0,l.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},C[j.layerPosition]={displayName:(0,l.V)("Visual_AzureMapsLayerPosition"),description:(0,l.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:A}},C)},R[Y.categoryLabels]={displayName:(0,l.V)("Visual_CategoryLabels"),description:(0,l.V)("Visual_CategoryLabelsDescription"),properties:{show:S.iD.show,color:S.iD.categoryColor,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,fontFamily:S.iD.fontFamily,enableBackground:S.iD.labelEnableBackground,backgroundColor:S.iD.labelBackgroundColor,backgroundTransparency:S.iD.labelBackgroundTransparency}},R[Y.heatMapLayer]={displayName:(0,l.V)("Visual_HeatMap"),description:(0,l.V)("Visual_HeatMapDescription"),properties:(d={show:S.iD.show},d[j.heatMapRadius]={displayName:(0,l.V)("Visual_Radius"),description:(0,l.V)("Visual_AzureMapsHeatMapRadiusDescription"),type:{numeric:!0}},d[j.heatMapRadiusUnit]={displayName:(0,l.V)("Visual_Forecast_Parameter_Units"),description:(0,l.V)("Visual_AzureMapsHeatMapRadiusUnitDescription"),type:{enumeration:k}},d[j.mapTransparency]={displayName:(0,l.V)("Transparency"),description:(0,l.V)("Visual_AzureMapsHeatMapTransparencyDescription"),type:{numeric:!0}},d[j.heatMapIntensity]={displayName:(0,l.V)("Visual_AzureMapsHeatMapIntensity"),description:(0,l.V)("Visual_AzureMapsHeatMapIntensityDescription"),type:{numeric:!0}},d[j.heatMapColorLow]={displayName:(0,l.V)("Visual_Color0"),description:(0,l.V)("Visual_AzureMapsHeatMapColorLowDescription"),type:{fill:{solid:{color:!0}}}},d[j.heatMapColorCenter]={displayName:(0,l.V)("Visual_Color50"),description:(0,l.V)("Visual_AzureMapsHeatMapColorCenterDescription"),type:{fill:{solid:{color:!0}}}},d[j.heatMapColorHigh]={displayName:(0,l.V)("Visual_Color100"),description:(0,l.V)("Visual_AzureMapsHeatMapColorHighDescription"),type:{fill:{solid:{color:!0}}}},d[j.heatMapUseSize]={displayName:(0,l.V)("Visual_AzureMapsHeatMapUseSize"),description:(0,l.V)("Visual_AzureMapsHeatMapUseSizeDescription"),type:{bool:!0}},d[j.minZoom]={displayName:(0,l.V)("Visual_AzureMapsMinZoom"),description:(0,l.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},d[j.maxZoom]={displayName:(0,l.V)("Visual_AzureMapsMaxZoom"),description:(0,l.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},d[j.layerPosition]={displayName:(0,l.V)("Visual_AzureMapsLayerPosition"),description:(0,l.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:A}},d)},R[Y.barChart]={displayName:(0,l.V)("Visual_AzureMapsBarChart"),description:(0,l.V)("Visual_AzureMapsBarChartDescription"),properties:(u={show:S.iD.show},u[j.barShape]={displayName:(0,l.V)("Visual_AzureMapsBarShape"),description:(0,l.V)("Visual_AzureMapsBarShapeDescription"),type:{enumeration:N}},u[j.height]={displayName:(0,l.V)("Visual_General_Properties_Height"),description:(0,l.V)("Visual_AzureMapsBarHeightDescription"),type:{integer:!0}},u[j.scaleHeightOnZoom]={displayName:(0,l.V)("Visual_AzureMapsScaleBarHeight"),description:(0,l.V)("Visual_AzureMapsScaleBarHeightDescription"),type:{bool:!0}},u[j.thickness]={displayName:(0,l.V)("Visual_General_Properties_Width"),description:(0,l.V)("Visual_AzureMapsBarThicknessDescription"),type:{integer:!0}},u[j.scaleThicknessOnZoom]={displayName:(0,l.V)("Visual_AzureMapsScaleBarThickness"),description:(0,l.V)("Visual_AzureMapsScaleBarThicknessDescription"),type:{bool:!0}},u[j.defaultColor]={displayName:(0,l.V)("Visual_FillColor"),description:(0,l.V)("Visual_AzureMapsBarChartDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},u[j.mapTransparency]={displayName:(0,l.V)("Transparency"),description:(0,l.V)("Visual_AzureMapsBarTransparencyDescription"),type:{numeric:!0}},u[j.minZoom]={displayName:(0,l.V)("Visual_AzureMapsMinZoom"),description:(0,l.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},u[j.maxZoom]={displayName:(0,l.V)("Visual_AzureMapsMaxZoom"),description:(0,l.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},u[j.layerPosition]={displayName:(0,l.V)("Visual_AzureMapsLayerPosition"),description:(0,l.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:A}},u)},R[Y.commonDataOptions]={displayName:(0,l.V)("Visual_AzureMapsCommonDataLayer"),description:(0,l.V)("Visual_AzureMapsCommonDataLayerDescription"),properties:(y={},y[j.unselectedTransparency]={displayName:(0,l.V)("Visual_AzureMapsUnselectedTransparency"),description:(0,l.V)("Visual_AzureMapsUnselectedTransparencyDescription"),type:{numeric:!0}},y[j.showZeros]={displayName:(0,l.V)("Visual_AzureMapsShowZeros"),description:(0,l.V)("Visual_AzureMapsShowZerosDescription"),type:{bool:!0}},y[j.showNegatives]={displayName:(0,l.V)("Visual_AzureMapsShowNegatives"),description:(0,l.V)("Visual_AzureMapsShowNegativesDescription"),type:{bool:!0}},y[j.minDataValue]={displayName:(0,l.V)("Visual_AzureMapsMinDataValue"),description:(0,l.V)("Visual_AzureMapsMinDataValueDescription"),type:{numeric:!0}},y[j.maxDataValue]={displayName:(0,l.V)("Visual_AzureMapsMaxDataValue"),description:(0,l.V)("Visual_AzureMapsMaxDataValueDescription"),type:{numeric:!0}},y)},R[Y.referenceLayer]={displayName:(0,l.V)("Visual_AzureMapsReferenceLayer"),description:(0,l.V)("Visual_AzureMapsReferenceLayerDescription"),properties:(M={},M[j.additionalDatasource]={displayName:(0,l.V)("Visual_AzureMapsReferenceLayerDatasource"),type:{geoJson:{contentType:g.Ms}}},M)},R[Y.traffic]={displayName:(0,l.V)("Visual_AzureMapsTrafficLayer"),description:(0,l.V)("Visual_AzureMapsTrafficLayerDescription"),properties:(L={show:S.iD.show},L[j.showIncidents]={displayName:(0,l.V)("Visual_AzureMapsShowIncidents"),description:(0,l.V)("Visual_AzureMapsShowIncidentsDescription"),type:{bool:!0}},L[j.showTrafficControl]={displayName:(0,l.V)("Visual_AzureMapsShowTrafficControl"),description:(0,l.V)("Visual_AzureMapsShowTrafficControlDescription"),type:{bool:!0}},L)},R[Y.tileLayer]={displayName:(0,l.V)("Visual_AzureMapsTileLayer"),description:(0,l.V)("Visual_AzureMapsTileLayerDescription"),properties:(O={},O[j.tileLayerUrl]={displayName:(0,l.V)("Url"),description:(0,l.V)("Visual_AzureMapsTileUrlDescription"),type:{text:!0},suppressFormatPainterCopy:!0},O[j.tileSize]={displayName:(0,l.V)("Visual_AzureMapsTileSize"),description:(0,l.V)("Visual_AzureMapsTileSizeDescription"),type:{numeric:!0}},O[j.northBounds]={displayName:(0,l.V)("Visual_AzureMapsTileNorthBounds"),description:(0,l.V)("Visual_AzureMapsTileNorthBoundsDescription"),type:{numeric:!0}},O[j.southBounds]={displayName:(0,l.V)("Visual_AzureMapsTileSouthBounds"),description:(0,l.V)("Visual_AzureMapsTileSouthBoundsDescription"),type:{numeric:!0}},O[j.eastBounds]={displayName:(0,l.V)("Visual_AzureMapsTileEastBounds"),description:(0,l.V)("Visual_AzureMapsTileEastBoundsDescription"),type:{numeric:!0}},O[j.westBounds]={displayName:(0,l.V)("Visual_AzureMapsTileWestBounds"),description:(0,l.V)("Visual_AzureMapsTileWestBoundsDescription"),type:{numeric:!0}},O[j.mapTransparency]={displayName:(0,l.V)("Transparency"),description:(0,l.V)("Visual_AzureMapsTileTransparencyDescription"),type:{numeric:!0}},O[j.isTMS]={displayName:(0,l.V)("Visual_AzureMapsTileIsTMS"),description:(0,l.V)("Visual_AzureMapsTileIsTMSDescription"),type:{bool:!0}},O[j.minZoom]={displayName:(0,l.V)("Visual_AzureMapsMinZoom"),description:(0,l.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},O[j.maxZoom]={displayName:(0,l.V)("Visual_AzureMapsMaxZoom"),description:(0,l.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},O[j.layerPosition]={displayName:(0,l.V)("Visual_AzureMapsLayerPosition"),description:(0,l.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:A}},O)},R);return null!=z&&z.azureMapsGeocoding&&(H[Y.mapControls].properties[j.geocodingCulture]={displayName:(0,l.V)("Visual_MapGeocodingCulture"),type:{enumeration:P.dt}}),null!=z&&z.azureMapsBubbleCluster&&null!=z&&z.azureMapsUseMapControlV3&&(H[Y.bubbleLayer].properties[j.clusteringEnabled]={displayName:(0,l.V)("ClusteringLegend_Prefix"),description:"Cluster the bubbles nearby",type:{bool:!0}},H[Y.bubbleLayer].properties[j.clusteredBubbleRadius]={displayName:(0,l.V)("Visual_BubbleSize"),description:"The size of the clustered bubble.",type:{integer:!0}}),H}var m={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},mapControls:{defaultStyle:{objectName:"mapControls",propertyName:"defaultStyle"},showStylePicker:{objectName:"mapControls",propertyName:"showStylePicker"},showLabels:{objectName:"mapControls",propertyName:"showLabels"},showNavigationControls:{objectName:"mapControls",propertyName:"showNavigationControls"},zoom:{objectName:"mapControls",propertyName:"zoom"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},heading:{objectName:"mapControls",propertyName:"heading"},pitch:{objectName:"mapControls",propertyName:"pitch"},autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},worldWrap:{objectName:"mapControls",propertyName:"worldWrap"},showSelectionControl:{objectName:"mapControls",propertyName:"showSelectionControl"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},traffic:{showTraffic:{objectName:"traffic",propertyName:"show"},showIncidents:{objectName:"traffic",propertyName:"showIncidents"},showTrafficControl:{objectName:"traffic",propertyName:"showTrafficControl"}},tileLayer:{tileLayerUrl:{objectName:"tileLayer",propertyName:"tileLayerUrl"},tileSize:{objectName:"tileLayer",propertyName:"tileSize"},northBounds:{objectName:"tileLayer",propertyName:"northBounds"},southBounds:{objectName:"tileLayer",propertyName:"southBounds"},eastBounds:{objectName:"tileLayer",propertyName:"eastBounds"},westBounds:{objectName:"tileLayer",propertyName:"westBounds"},transparency:{objectName:"tileLayer",propertyName:"mapTransparency"},isTMS:{objectName:"tileLayer",propertyName:"isTMS"},minZoom:{objectName:"tileLayer",propertyName:"minZoom"},maxZoom:{objectName:"tileLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"}},filledMap:{show:{objectName:"filledMap",propertyName:"show"},defaultColor:{objectName:"filledMap",propertyName:"defaultColor"},transparency:{objectName:"filledMap",propertyName:"mapTransparency"},strokeColor:{objectName:"filledMap",propertyName:"strokeColor"},strokeTransparency:{objectName:"filledMap",propertyName:"strokeTransparency"},strokeWidth:{objectName:"filledMap",propertyName:"strokeWidth"},minZoom:{objectName:"filledMap",propertyName:"minZoom"},maxZoom:{objectName:"filledMap",propertyName:"maxZoom"},layerPosition:{objectName:"filledMap",propertyName:"layerPosition"}},bubbleLayer:{show:{objectName:"bubbleLayer",propertyName:"show"},transparency:{objectName:"bubbleLayer",propertyName:"mapTransparency"},radius:{objectName:"bubbleLayer",propertyName:"bubbleRadius"},minRadius:{objectName:"bubbleLayer",propertyName:"minBubbleRadius"},markerRangeType:{objectName:"bubbleLayer",propertyName:"markerRangeType"},radiusScalingMethod:{objectName:"bubbleLayer",propertyName:"radiusScalingMethod"},maxRadius:{objectName:"bubbleLayer",propertyName:"maxRadius"},defaultColor:{objectName:"bubbleLayer",propertyName:"defaultColor"},strokeColor:{objectName:"bubbleLayer",propertyName:"strokeColor"},autoStrokeColor:{objectName:"bubbleLayer",propertyName:"autoStrokeColor"},strokeTransparency:{objectName:"bubbleLayer",propertyName:"strokeTransparency"},strokeWidth:{objectName:"bubbleLayer",propertyName:"bubbleStrokeWidth"},blur:{objectName:"bubbleLayer",propertyName:"blur"},pitchAlignment:{objectName:"bubbleLayer",propertyName:"pitchAlignment"},zoomScaleFactor:{objectName:"bubbleLayer",propertyName:"zoomScaleFactor"},logScale:{objectName:"bubbleLayer",propertyName:"logScale"},x1:{objectName:"bubbleLayer",propertyName:"x1"},x2:{objectName:"bubbleLayer",propertyName:"x2"},y1:{objectName:"bubbleLayer",propertyName:"y1"},y2:{objectName:"bubbleLayer",propertyName:"y2"},minZoom:{objectName:"bubbleLayer",propertyName:"minZoom"},maxZoom:{objectName:"bubbleLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"},clusteringEnabled:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},clusteredBubbleRadius:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"}},heatMapLayer:{show:{objectName:"heatMapLayer",propertyName:"show"},heatMapRadius:{objectName:"heatMapLayer",propertyName:"heatMapRadius"},heatMapRadiusUnit:{objectName:"heatMapLayer",propertyName:"heatMapRadiusUnit"},heatMapTransparency:{objectName:"heatMapLayer",propertyName:"mapTransparency"},heatMapIntensity:{objectName:"heatMapLayer",propertyName:"heatMapIntensity"},heatMapColorLow:{objectName:"heatMapLayer",propertyName:"heatMapColorLow"},heatMapColorCenter:{objectName:"heatMapLayer",propertyName:"heatMapColorCenter"},heatMapColorHigh:{objectName:"heatMapLayer",propertyName:"heatMapColorHigh"},heatMapUseSize:{objectName:"heatMapLayer",propertyName:"heatMapUseSize"},minZoom:{objectName:"heatMapLayer",propertyName:"minZoom"},maxZoom:{objectName:"heatMapLayer",propertyName:"maxZoom"},layerPosition:{objectName:"heatMapLayer",propertyName:"layerPosition"}},barChart:{show:{objectName:"barChart",propertyName:"show"},barShape:{objectName:"barChart",propertyName:"barShape"},height:{objectName:"barChart",propertyName:"barHeight"},scaleHeightOnZoom:{objectName:"barChart",propertyName:"scaleHeightOnZoom"},thickness:{objectName:"barChart",propertyName:"thickness"},scaleThicknessOnZoom:{objectName:"barChart",propertyName:"scaleThicknessOnZoom"},defaultColor:{objectName:"barChart",propertyName:"defaultColor"},transparency:{objectName:"barChart",propertyName:"mapTransparency"},unselectedTransparency:{objectName:"barChart",propertyName:"unselectedTransparency"},minZoom:{objectName:"barChart",propertyName:"minZoom"},maxZoom:{objectName:"barChart",propertyName:"maxZoom"},layerPosition:{objectName:"barChart",propertyName:"layerPosition"}},commonDataOptions:{unselectedTransparency:{objectName:"commonDataOptions",propertyName:"unselectedTransparency"},showZeros:{objectName:"commonDataOptions",propertyName:"showZeros"},showNegatives:{objectName:"commonDataOptions",propertyName:"showNegatives"},minDataValue:{objectName:"commonDataOptions",propertyName:"minDataValue"},maxDataValue:{objectName:"commonDataOptions",propertyName:"maxDataValue"}},referenceLayer:{additionalDatasource:{objectName:"referenceLayer",propertyName:"additionalDatasource"}}}},8502:function(ie,ve,v){v.d(ve,{O:function(){return g},T:function(){return n}});var c=v(8459),l=v(4171),n={objects:{line:{displayName:(0,c.V)("Visual_BasicShape_Line"),properties:{lineColor:{displayName:(0,c.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},transparency:l.iD.transparency,weight:{displayName:(0,c.V)("Visual_BasicShape_Weight"),type:{numeric:!0}},roundEdge:{displayName:(0,c.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,c.V)("Visual_Fill"),properties:{show:l.iD.show,fillColor:{displayName:(0,c.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:l.iD.transparency}},rotation:{displayName:(0,c.V)("Visual_BasicShape_Rotate"),properties:{angle:{displayName:(0,c.V)("Visual_BasicShape_Rotate"),type:{numeric:!0}}}},general:{properties:{shapeType:{type:{text:!0},suppressFormatPainterCopy:!0}}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,canRotate:!1,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img"},g={general:{shapeType:{objectName:"general",propertyName:"shapeType"}},line:{transparency:{objectName:"line",propertyName:"transparency"},weight:{objectName:"line",propertyName:"weight"},roundEdge:{objectName:"line",propertyName:"roundEdge"},lineColor:{objectName:"line",propertyName:"lineColor"}},fill:{transparency:{objectName:"fill",propertyName:"transparency"},fillColor:{objectName:"fill",propertyName:"fillColor"},show:{objectName:"fill",propertyName:"show"}},rotation:{angle:{objectName:"rotation",propertyName:"angle"}}}},4440:function(ie,ve,v){v.d(ve,{C:function(){return g},d:function(){return V}});var c=v(1813),l=v(8459),n=v(4171),g={dataRoles:[{name:"Values",kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Fields"),description:(0,l.V)("Role_DisplayName_FieldsDescription")}],objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:n.iD.formatString}},labels:{displayName:(0,l.V)("Visual_DataPointLabel"),properties:{color:n.iD.dataColor,labelDisplayUnits:n.iD.labelDisplayUnits,labelPrecision:n.iD.labelPrecision,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,fontFamily:n.iD.fontFamily,preserveWhitespace:{displayName:(0,l.V)("Visual_LabelPreserveWhitespace"),description:(0,l.V)("Visual_LabelPreserveWhitespace_Description"),type:{bool:!0}}}},categoryLabels:{displayName:(0,l.V)("Visual_CategoryLabel"),properties:{show:n.iD.show,color:n.iD.dataColor,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,fontFamily:n.iD.fontFamily,preserveWhitespace:{displayName:(0,l.V)("Visual_LabelPreserveWhitespace"),description:(0,l.V)("Visual_CategoryLabelPreserveWhitespace_Description"),type:{bool:!0}}}},wordWrap:{displayName:(0,l.V)("Visual_Word_Wrap"),properties:{show:n.iD.show}}},dataViewMappings:[{conditions:[{Values:{max:1}}],single:{role:"Values"}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0,analyze:{supportsAnalyzeHighLowValues:!0},supportsOnObjectFormatting:!0},V={categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"categoryLabels",propertyName:"preserveWhitespace"}},labels:{color:{objectName:"labels",propertyName:"color"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"labels",propertyName:"preserveWhitespace"}},wordWrap:{show:{objectName:"wordWrap",propertyName:"show"}}}},5709:function(ie,ve,v){v.d(ve,{NX:function(){return C},LS:function(){return ee},pz:function(){return d},L$:function(){return y}});var G,I,E,T,m,z,R,w,B,c=v(3188),l=v(1813),n=v(8459),g=v(7779),V=v(7725),P=v(4171),S=v(2578),h=v(3446),D=v(6604),b=v(9921),F=(0,b.i)([{value:"rows",displayName:function(Ne){return Ne.get("Small_Multiples_Layout_Rows")}},{value:"columns",displayName:function(Ne){return Ne.get("Small_Multiples_Layout_Columns")}}]),Y=(0,b.i)([{value:"sentence",displayName:function(Ne){return Ne.get("Visual_LabelLayout_Sentence")}},{value:"tabular",displayName:function(Ne){return Ne.get("Visual_LabelLayout_Tabular")}}]),j=v(7243),C={Data:"Data",Tooltips:"Tooltips"},d={accentBar:"accentBar",altText:"altText",backgroundColor:"backgroundColor",backgroundShow:"backgroundShow",backgroundTransparency:"backgroundTransparency",angle:"angle",cards:"cards",color:"color",customFormatString:"customFormatString",detailFontColor:"detailFontColor",detailFontSize:"detailFontSize",detailFontFamily:"detailFontFamily",detailItalic:"detailItalic",detailBold:"detailBold",detailUnderline:"detailUnderline",detailTransparency:"detailTransparency",detailPrecision:"detailPrecision",detailDisplayUnits:"detailDisplayUnits",detailValue:"detailValue",detailBackgroundColor:"detailBackgroundColor",dividerColor:"dividerColor",dividerLineStyle:"dividerLineStyle",dividerWidth:"dividerWidth",dividerIgnorePadding:"dividerIgnorePadding",fill:S.eM.fillCustom,fontSize:"fontSize",fontFamily:"fontFamily",fontColor:"fontColor",glowCustom:S.eM.glowCustom,image:"image",imageType:"imageType",imageUrl:"imageUrl",layout:"layout",outline:S.eM.outline,padding:"padding",position:"position",Rotation:"textAngle",referenceLabel:"referenceLabel",referenceLabelDetail:"referenceLabelDetail",referenceLabelLayout:"referenceLabelLayout",referenceLabelTitle:"referenceLabelTitle",referenceLabelValue:"referenceLabelValue",divider:"divider",rotation:"rotation",spacing:"spacing",size:"size",shapeCustomRectangle:S.eM.shapeCustomRectangle,shadowCustom:S.eM.shadowCustom,shapeRotation:"shapeAngle",title:"title",titleFontFamily:"titleFontFamily",titleFontSize:"titleFontSize",titleContentType:"titleContentType",titleText:"titleText",titleTransparency:"titleTransparency",titleUnderline:"titleUnderline",titleItalic:"titleItalic",titleFontColor:"titleFontColor",titleBold:"titleBold",textRotation:"textAngle",transparency:"transparency",verticalAlignment:"verticalAlignment",value:"value",valueFontColor:"valueFontColor",valueFontSize:"valueFontSize",valueFontFamily:"valueFontFamily",valueItalic:"valueItalic",valueBold:"valueBold",valueUnderline:"valueUnderline",valueTransparency:"valueTransparency",valuePrecision:"valuePrecision",valueDisplayUnits:"valueDisplayUnits",showBlankAs:"showBlankAs",width:"width"},u={image:{show:{objectName:"image",propertyName:"show"},imageType:{objectName:"image",propertyName:"imageType"},image:{objectName:"image",propertyName:"image"},imageUrl:{objectName:"image",propertyName:"imageUrl"},transparency:{objectName:"image",propertyName:"transparency"},position:{objectName:"image",propertyName:"position"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"}},referenceLabel:{value:{objectName:"referenceLabel",propertyName:"value"},formatString:{objectName:"referenceLabel",propertyName:"formatString"},backgroundShow:{objectName:"referenceLabel",propertyName:"backgroundShow"},backgroundColor:{objectName:"referenceLabel",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"referenceLabel",propertyName:"backgroundTransparency"}},referenceLabelTitle:{show:{objectName:"referenceLabelTitle",propertyName:"show"},titleContentType:{objectName:"referenceLabelTitle",propertyName:"titleContentType"},titleText:{objectName:"referenceLabelTitle",propertyName:"titleText"},titleFontColor:{objectName:"referenceLabelTitle",propertyName:"titleFontColor"},titleFontSize:{objectName:"referenceLabelTitle",propertyName:"titleFontSize"},titleFontFamily:{objectName:"referenceLabelTitle",propertyName:"titleFontFamily"},titleItalic:{objectName:"referenceLabelTitle",propertyName:"titleItalic"},titleBold:{objectName:"referenceLabelTitle",propertyName:"titleBold"},titleUnderline:{objectName:"referenceLabelTitle",propertyName:"titleUnderline"},titleTransparency:{objectName:"referenceLabelTitle",propertyName:"titleTransparency"}},referenceLabelValue:{show:{objectName:"referenceLabelValue",propertyName:"show"},valueFontColor:{objectName:"referenceLabelValue",propertyName:"valueFontColor"},valueFontSize:{objectName:"referenceLabelValue",propertyName:"valueFontSize"},valueFontFamily:{objectName:"referenceLabelValue",propertyName:"valueFontFamily"},valueItalic:{objectName:"referenceLabelValue",propertyName:"valueItalic"},valueBold:{objectName:"referenceLabelValue",propertyName:"valueBold"},valueUnderline:{objectName:"referenceLabelValue",propertyName:"valueUnderline"},valueTransparency:{objectName:"referenceLabelValue",propertyName:"valueTransparency"},valuePrecision:{objectName:"referenceLabelValue",propertyName:"valuePrecision"},valueDisplayUnits:{objectName:"referenceLabelValue",propertyName:"valueDisplayUnits"},showBlankAs:{objectName:"referenceLabelValue",propertyName:"showBlankAs"},customFormatString:{objectName:"referenceLabelValue",propertyName:"customFormatString"}},referenceLabelDetail:{show:{objectName:"referenceLabelDetail",propertyName:"show"},detailFontColor:{objectName:"referenceLabelDetail",propertyName:"detailFontColor"},detailFontSize:{objectName:"referenceLabelDetail",propertyName:"detailFontSize"},detailFontFamily:{objectName:"referenceLabelDetail",propertyName:"detailFontFamily"},detailItalic:{objectName:"referenceLabelDetail",propertyName:"detailItalic"},detailBold:{objectName:"referenceLabelDetail",propertyName:"detailBold"},detailUnderline:{objectName:"referenceLabelDetail",propertyName:"detailUnderline"},detailTransparency:{objectName:"referenceLabelDetail",propertyName:"detailTransparency"},detailPrecision:{objectName:"referenceLabelDetail",propertyName:"detailPrecision"},detailDisplayUnits:{objectName:"referenceLabelDetail",propertyName:"detailDisplayUnits"},showBlankAs:{objectName:"referenceLabelDetail",propertyName:"showBlankAs"},detailValue:{objectName:"referenceLabelDetail",propertyName:"detailValue"},detailBackgroundColor:{objectName:"referenceLabelDetail",propertyName:"detailBackgroundColor"},customFormatString:{objectName:"referenceLabelDetail",propertyName:"customFormatString"},formatString:{objectName:"referenceLabelDetail",propertyName:"formatString"}},referenceLabelLayout:{arrangement:{objectName:"referenceLabelLayout",propertyName:"arrangement"},style:{objectName:"referenceLabelLayout",propertyName:"style"},horizontalAlignment:{objectName:"referenceLabelLayout",propertyName:"horizontalAlignment"},verticalAlignment:{objectName:"referenceLabelLayout",propertyName:"verticalAlignment"},valueArea:{objectName:"referenceLabelLayout",propertyName:"valueArea"},textWrap:{objectName:"referenceLabelLayout",propertyName:"textWrap"},labelSpace:{objectName:"referenceLabelLayout",propertyName:"labelSpace"},outerPadding:{objectName:"referenceLabelLayout",propertyName:"outerPadding"},customizePadding:{objectName:"referenceLabelLayout",propertyName:"customizePadding"},paddingBeforeDivider:{objectName:"referenceLabelLayout",propertyName:"paddingBeforeDivider"},paddingAfterDivider:{objectName:"referenceLabelLayout",propertyName:"paddingAfterDivider"}},divider:{show:{objectName:"divider",propertyName:"show"},dividerColor:{objectName:"divider",propertyName:"dividerColor"},dividerLineStyle:{objectName:"divider",propertyName:"dividerLineStyle"},dividerWidth:{objectName:"divider",propertyName:"dividerWidth"},dividerIgnorePadding:{objectName:"divider",propertyName:"dividerIgnorePadding"}}},y={general:{formatString:P.e0.formatString},fillCustom:S.OV.fillCustom,outline:S.OV.outline,value:S.OV.value,label:S.OV.label,referenceLabel:u.referenceLabel,shapeCustomRectangle:S.OV.shapeCustomRectangle,layout:S.OV.layout,shadowCustom:S.OV.shadowCustom,glowCustom:S.OV.glowCustom,spacing:S.OV.spacing,padding:S.OV.padding,accentBar:S.OV.accentBar,image:u.image,referenceLabelTitle:u.referenceLabelTitle,referenceLabelValue:u.referenceLabelValue,referenceLabelDetail:u.referenceLabelDetail,referenceLabelLayout:u.referenceLabelLayout,divider:u.divider},M=((G={})[d.angle]={displayName:(0,n.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},G[d.shapeRotation]={displayName:(0,n.V)("Visual_ShapeRotation"),type:{integer:!0}},G[d.textRotation]={displayName:(0,n.V)("Visual_TextRotation"),type:{integer:!0}},G),L=((I={show:P.iD.show})[d.imageType]={displayName:(0,n.V)("Visual_ImageType"),type:{enumeration:g.dt}},I[d.image]=P.iD.image,I[d.imageUrl]={displayName:(0,n.V)("Image_Url"),type:{text:!0}},I[d.transparency]=P.iD.transparency,I[d.position]={displayName:(0,n.V)("Visual_Position"),type:{enumeration:V.u0}},I[d.padding]={displayName:(0,n.V)("Visual_Padding"),type:{integer:!0}},I[d.size]={displayName:(0,n.V)("Visual_BubbleSize"),type:{integer:!0}},I[d.altText]={displayName:(0,n.V)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},I),O=((E={})[d.value]={displayName:(0,n.V)("Field"),formatStringProperty:y.referenceLabel.formatString,type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},E.formatString=P.iD.formatString,E[d.backgroundColor]={displayName:(0,n.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},E[d.backgroundTransparency]=P.iD.transparency,E[d.backgroundShow]=P.iD.show,E),H=((T={show:P.iD.show})[d.titleText]={displayName:(0,n.V)("Text"),type:{text:!0}},T[d.titleFontColor]=P.iD.fontColor,T[d.titleFontSize]=P.iD.fontSize,T[d.titleFontFamily]=P.iD.fontFamily,T[d.titleUnderline]=P.iD.underline,T[d.titleItalic]=P.iD.italic,T[d.titleBold]=P.iD.bold,T[d.titleFontColor]={displayName:(0,n.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},T[d.titleTransparency]=P.iD.transparency,T[d.titleContentType]={displayName:(0,n.V)("Content"),type:{enumeration:h.FH}},T),Q=((m={show:P.iD.show})[d.valueFontColor]=P.iD.fontColor,m[d.valueFontSize]=P.iD.fontSize,m[d.valueFontFamily]=P.iD.fontFamily,m[d.valueUnderline]=P.iD.underline,m[d.valueBold]=P.iD.bold,m[d.valueItalic]=P.iD.italic,m[d.valueTransparency]=P.iD.transparency,m[d.valuePrecision]=P.iD.labelPrecision,m[d.valueDisplayUnits]=(0,c.pi)((0,c.pi)({},P.iD.labelDisplayUnits),{type:{enumeration:D.d}}),m[d.showBlankAs]=P.iD.showBlankAs,m[d.customFormatString]={displayName:(0,n.V)("Visual_FormatCode"),description:(0,n.V)("Visual_FormatCode_Description"),type:{text:!0}},m),X=((z={show:P.iD.show})[d.detailFontColor]=P.iD.fontColor,z[d.detailFontSize]=P.iD.fontSize,z[d.detailFontFamily]=P.iD.fontFamily,z[d.detailUnderline]=P.iD.underline,z[d.detailBold]=P.iD.bold,z[d.detailItalic]=P.iD.italic,z[d.detailTransparency]=P.iD.transparency,z[d.detailPrecision]=P.iD.labelPrecision,z[d.detailDisplayUnits]=(0,c.pi)((0,c.pi)({},P.iD.labelDisplayUnits),{type:{enumeration:D.d}}),z[d.showBlankAs]=P.iD.showBlankAs,z[d.detailValue]=(0,c.pi)((0,c.pi)({},P.iD.dynamicLabelValue),{formatStringProperty:y.referenceLabel.formatString}),z.formatString=P.iD.formatString,z[d.detailBackgroundColor]={displayName:(0,n.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},z[d.customFormatString]={displayName:(0,n.V)("Visual_FormatCode"),description:(0,n.V)("Visual_FormatCode_Description"),type:{text:!0}},z),W=((R={show:P.iD.show})[d.dividerColor]={displayName:(0,n.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},R[d.dividerLineStyle]={displayName:(0,n.V)("Style"),type:{enumeration:j.dt}},R[d.dividerWidth]={displayName:(0,n.V)("Visual_General_Properties_Width"),type:{numeric:!0}},R[d.dividerIgnorePadding]={displayName:(0,n.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},R),J={arrangement:{displayName:(0,n.V)("Visual_Arrangement"),type:{enumeration:F}},style:{displayName:(0,n.V)("Visual_Axis_Style"),type:{enumeration:Y}},horizontalAlignment:{displayName:(0,n.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},verticalAlignment:{displayName:(0,n.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},valueArea:{displayName:(0,n.V)("Visual_Label_ValueArea"),type:{numeric:!0}},textWrap:P.iD.textWrap,labelSpace:{displayName:(0,n.V)("Visual_LabelSpacing"),type:{numeric:!0}},outerPadding:{displayName:(0,n.V)("Visual_OuterPadding"),type:{numeric:!0}},customizePadding:{displayName:(0,n.V)("Visual_OuterPadding_Custom"),type:{bool:!0}},paddingBeforeDivider:{displayName:(0,n.V)("Visual_LabelPadding_DividerBefore"),type:{numeric:!0}},paddingAfterDivider:{displayName:(0,n.V)("Visual_LabelPadding_DividerAfter"),type:{numeric:!0}}},ee={dataRoles:[{name:C.Data,kind:l.DW.Measure,displayName:(0,n.V)("Data")},{name:C.Tooltips,kind:l.DW.Measure,displayName:(0,n.V)("Role_DisplayName_Tooltips"),description:(0,n.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:(w={general:{displayName:(0,n.V)("Visual_General"),properties:{formatString:P.iD.formatString}}},w[d.fill]=S.zC.fillCustom,w[d.outline]=S.zC.outline,w[S.eM.value]=S.zC.value,w[S.eM.label]=S.zC.label,w[d.shapeCustomRectangle]=S.zC.shapeCustomRectangle,w[d.layout]=S.zC.layout,w[d.shadowCustom]=S.zC.shadowCustom,w[d.glowCustom]=S.zC.glowCustom,w[d.rotation]={displayName:(0,n.V)("Visual_BasicShape_Rotate"),properties:M},w[d.spacing]=S.zC.spacing,w[d.padding]=S.zC.padding,w[d.accentBar]=S.zC.accentBar,w[d.image]={displayName:(0,n.V)("Image"),properties:L},w[d.referenceLabel]={displayName:(0,n.V)("Visual_Reference_Labels"),properties:O},w[d.referenceLabelTitle]={displayName:(0,n.V)("Title"),properties:H},w[d.referenceLabelValue]={displayName:(0,n.V)("Value"),properties:Q},w[d.referenceLabelDetail]={displayName:(0,n.V)("Visual_Label_DetailLabelName"),properties:X},w[d.referenceLabelLayout]={displayName:(0,n.V)("Small_Multiples_LayoutGroup"),properties:J},w[d.divider]={displayName:(0,n.V)("Visual_Divider"),properties:W},w),dataViewMappings:[{conditions:[(B={},B[C.Data]={min:1},B)],matrix:{values:{select:[{for:{in:C.Data}},{for:{in:C.Tooltips}}]}}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}},8926:function(ie,ve,v){v.d(ve,{p:function(){return n},x:function(){return l}});var c=v(5662),l={category:"Category",series:"Series",x:"X",y:"Y",y2:"Y2",gradient:"Gradient",tooltips:"Tooltips",rows:"Rows"},n={scalarKey:{scalarKeyMin:c.it},filters:{filteredToUniqueValue:{objectName:"filters",propertyName:"filteredToUniqueValue"}},categoryAxis:{show:{objectName:"categoryAxis",propertyName:"show"},fontFamily:{objectName:"categoryAxis",propertyName:"fontFamily"},fontSize:{objectName:"categoryAxis",propertyName:"fontSize"},bold:{objectName:"categoryAxis",propertyName:"bold"},italic:{objectName:"categoryAxis",propertyName:"italic"},underline:{objectName:"categoryAxis",propertyName:"underline"},showAxisTitle:{objectName:"categoryAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"categoryAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"categoryAxis",propertyName:"titleFontSize"},titleBold:{objectName:"categoryAxis",propertyName:"titleBold"},titleItalic:{objectName:"categoryAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"categoryAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"categoryAxis",propertyName:"concatenateLabels"},start:{objectName:"categoryAxis",propertyName:"start"},end:{objectName:"categoryAxis",propertyName:"end"},position:{objectName:"categoryAxis",propertyName:"position"},axisType:{objectName:"categoryAxis",propertyName:"axisType"},axisScale:{objectName:"categoryAxis",propertyName:"axisScale"},axisStyle:{objectName:"categoryAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"categoryAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"categoryAxis",propertyName:"labelPrecision"},labelColor:{objectName:"categoryAxis",propertyName:"labelColor"},logAxisScale:{objectName:"categoryAxis",propertyName:"logAxisScale"},titleText:{objectName:"categoryAxis",propertyName:"titleText"},titleColor:{objectName:"categoryAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},gridlineShow:{objectName:"categoryAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"categoryAxis",propertyName:"gridlineColor"},gridlineThickness:{objectName:"categoryAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"categoryAxis",propertyName:"gridlineStyle"},maxMarginFactor:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},innerPadding:{objectName:"categoryAxis",propertyName:"innerPadding"},invertAxis:{objectName:"categoryAxis",propertyName:"invertAxis"},switchAxisPosition:{objectName:"categoryAxis",propertyName:"switchAxisPosition"}},valueAxis:{show:{objectName:"valueAxis",propertyName:"show"},fontFamily:{objectName:"valueAxis",propertyName:"fontFamily"},fontSize:{objectName:"valueAxis",propertyName:"fontSize"},bold:{objectName:"valueAxis",propertyName:"bold"},italic:{objectName:"valueAxis",propertyName:"italic"},underline:{objectName:"valueAxis",propertyName:"underline"},showAxisTitle:{objectName:"valueAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"valueAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"valueAxis",propertyName:"titleFontSize"},titleBold:{objectName:"valueAxis",propertyName:"titleBold"},titleItalic:{objectName:"valueAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"valueAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"valueAxis",propertyName:"concatenateLabels"},start:{objectName:"valueAxis",propertyName:"start"},end:{objectName:"valueAxis",propertyName:"end"},invertAxis:{objectName:"valueAxis",propertyName:"invertAxis"},sharedAxis:{objectName:"valueAxis",propertyName:"sharedAxis"},scaleToFit:{objectName:"valueAxis",propertyName:"scaleToFit"},totalsEnabled:{objectName:"valueAxis",propertyName:"totalsEnabled"},position:{objectName:"valueAxis",propertyName:"position"},axisType:{objectName:"valueAxis",propertyName:"axisType"},axisScale:{objectName:"valueAxis",propertyName:"axisScale"},axisStyle:{objectName:"valueAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"valueAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"valueAxis",propertyName:"labelPrecision"},labelColor:{objectName:"valueAxis",propertyName:"labelColor"},logAxisScale:{objectName:"valueAxis",propertyName:"logAxisScale"},titleText:{objectName:"valueAxis",propertyName:"titleText"},titleColor:{objectName:"valueAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"valueAxis",propertyName:"preferredCategoryWidth"},axisLabel:{objectName:"valueAxis",propertyName:"axisLabel"},gridlineShow:{objectName:"valueAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"valueAxis",propertyName:"gridlineColor"},gridlineThickness:{objectName:"valueAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"valueAxis",propertyName:"gridlineStyle"},secShow:{objectName:"valueAxis",propertyName:"secShow"},alignZeros:{objectName:"valueAxis",propertyName:"alignZeros"},secShowAxisTitle:{objectName:"valueAxis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"valueAxis",propertyName:"secFontFamily"},secFontSize:{objectName:"valueAxis",propertyName:"secFontSize"},secBold:{objectName:"valueAxis",propertyName:"secBold"},secItalic:{objectName:"valueAxis",propertyName:"secItalic"},secUnderline:{objectName:"valueAxis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"valueAxis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"valueAxis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"valueAxis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"valueAxis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"valueAxis",propertyName:"secTitleUnderline"},secStart:{objectName:"valueAxis",propertyName:"secStart"},secEnd:{objectName:"valueAxis",propertyName:"secEnd"},secInvertAxis:{objectName:"valueAxis",propertyName:"secInvertAxis"},secPosition:{objectName:"valueAxis",propertyName:"secPosition"},secAxisScale:{objectName:"valueAxis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"valueAxis",propertyName:"secAxisStyle"},secLogAxisScale:{objectName:"valueAxis",propertyName:"secLogAxisScale"},secLabelDisplayUnits:{objectName:"valueAxis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"valueAxis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"valueAxis",propertyName:"secLabelColor"},secTitleText:{objectName:"valueAxis",propertyName:"secTitleText"},secTitleColor:{objectName:"valueAxis",propertyName:"secTitleColor"},switchAxisPosition:{objectName:"valueAxis",propertyName:"switchAxisPosition"}},y2Axis:{show:{objectName:"y2Axis",propertyName:"show"},secShowAxisTitle:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"y2Axis",propertyName:"secFontFamily"},secFontSize:{objectName:"y2Axis",propertyName:"secFontSize"},secBold:{objectName:"y2Axis",propertyName:"secBold"},secItalic:{objectName:"y2Axis",propertyName:"secItalic"},secUnderline:{objectName:"y2Axis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"y2Axis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"y2Axis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"y2Axis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"y2Axis",propertyName:"secTitleUnderline"},secStart:{objectName:"y2Axis",propertyName:"secStart"},secEnd:{objectName:"y2Axis",propertyName:"secEnd"},secInvertAxis:{objectName:"y2Axis",propertyName:"secInvertAxis"},secAxisScale:{objectName:"y2Axis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"y2Axis",propertyName:"secAxisStyle"},secLabelDisplayUnits:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"y2Axis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"y2Axis",propertyName:"secLabelColor"},secLogAxisScale:{objectName:"y2Axis",propertyName:"secLogAxisScale"},secTitleText:{objectName:"y2Axis",propertyName:"secTitleText"},secTitleColor:{objectName:"y2Axis",propertyName:"secTitleColor"},invertAxis:{objectName:"y2Axis",propertyName:"invertAxis"}},general:{responsive:{objectName:"general",propertyName:"responsive"},responsiveLegacy:{objectName:"general",propertyName:"responsiveLegacy"}}}},7706:function(ie,ve,v){v.d(ve,{gE:function(){return A},mi:function(){return j},au:function(){return F},nn:function(){return Y},Ns:function(){return k}});var c=v(3188),l=v(6274),n=v(1813),V=(0,v(9921).i)([{value:"Percent of total",displayName:function(I){return I.get("Visual_LabelStyle_Percent")}},{value:"Custom",displayName:function(I){return I.get("Custom")}}]),P=v(8459),S=v(5122),h=v(7210),D=v(8932),b=v(7123),N=v(8926),f=v(4171),F={category:"Category",series:"Series",rows:N.x.rows,y:"Y",gradient:"Gradient",tooltips:"Tooltips"},A=(0,l.wZ)(k(!1,!1,!1,!1,!0));function k(G,I,E,T,m,z){var R;return void 0===G&&(G=!1),void 0===I&&(I=!1),void 0===E&&(E=!1),void 0===T&&(T=!1),void 0===m&&(m=!1),void 0===z&&(z=!1),(0,c.pi)((0,c.pi)((0,c.pi)((0,c.pi)(((R={general:{displayName:(0,P.V)("Visual_General"),properties:{formatString:f.iD.formatString,responsive:f.iD.responsive,responsiveLegacy:f.iD.responsiveLegacy}},legend:E&&!m?f.TQ.legend:{displayName:f.TQ.legend.displayName,description:f.TQ.legend.description,properties:(0,c.pi)((0,c.pi)({},f.TQ.legend.properties),{showGradientLegend:f.iD.showGradientLegend})},subheader:(0,c.pi)({},f.TQ.subheader)})[S.Xi]=(0,c.pi)({},f.TQ.smallMultiplesLayout),R.categoryAxis={displayName:(0,P.V)(G?"Visual_YAxis":"Visual_XAxis"),properties:(0,c.pi)((0,c.pi)({show:f.iD.show,start:f.iD.axisStart,end:f.iD.axisEnd,axisType:f.iD.axisType,showAxisTitle:G?f.iD.showAxisTitle_Y:f.iD.showAxisTitle_X,axisStyle:f.iD.axisStyle,labelColor:f.iD.labelColor,fontFamily:f.iD.fontFamily,fontSize:f.iD.fontSize,bold:f.iD.bold,italic:f.iD.italic,underline:f.iD.underline,invertAxis:f.iD.invertAxis,labelDisplayUnits:f.iD.labelDisplayUnits,labelPrecision:f.iD.labelPrecision,concatenateLabels:f.iD.concatenateLabels,preferredCategoryWidth:f.iD.preferredCategoryWidth,maxMarginFactor:f.iD.maxMarginFactor,titleColor:f.iD.titleColor,titleFontFamily:f.iD.fontFamily,titleFontSize:f.iD.titleFontSize,titleBold:f.iD.bold,titleItalic:f.iD.italic,titleUnderline:f.iD.underline,titleText:f.iD.titleText,gridlineShow:(0,c.pi)((0,c.pi)({},f.iD.show),{displayName:(0,P.V)("Visual_Gridline_Show")}),gridlineColor:f.iD.lineColor,gridlineThickness:f.iD.strokeWidth,gridlineStyle:f.iD.lineStyle,innerPadding:f.iD.innerPadding},(I||m)&&{reverseStackOrder:f.iD.reverseStackOrder}),{logAxisScale:f.iD.logAxisScale,switchAxisPosition:f.iD.switchAxisPosition})},R.valueAxis={displayName:(0,P.V)(G?"Visual_XAxis":"Visual_YAxis"),properties:{show:f.iD.show,start:f.iD.axisStart,end:f.iD.axisEnd,invertAxis:f.iD.invertAxis,sharedAxis:f.iD.sharedAxis,scaleToFit:f.iD.scaleToFit,showAxisTitle:G?f.iD.showAxisTitle_X:f.iD.showAxisTitle_Y,axisStyle:f.iD.axisStyle,labelColor:f.iD.labelColor,fontFamily:f.iD.fontFamily,fontSize:f.iD.fontSize,bold:f.iD.bold,italic:f.iD.italic,underline:f.iD.underline,labelDisplayUnits:f.iD.labelDisplayUnits,labelPrecision:f.iD.labelPrecision,titleColor:f.iD.titleColor,titleFontFamily:f.iD.fontFamily,titleFontSize:f.iD.titleFontSize,titleBold:f.iD.bold,titleItalic:f.iD.italic,titleUnderline:f.iD.underline,titleText:f.iD.titleText,gridlineShow:(0,c.pi)((0,c.pi)({},f.iD.show),{displayName:(0,P.V)("Visual_Gridline_Show")}),gridlineColor:f.iD.lineColor,gridlineThickness:f.iD.strokeWidth,gridlineStyle:f.iD.lineStyle,logAxisScale:f.iD.logAxisScale,switchAxisPosition:f.iD.switchAxisPosition}},R.zoom={displayName:f.TQ.zoom.displayName,properties:{show:f.TQ.zoom.properties.show,showOnCategoryAxis:{displayName:(0,P.V)(G?"Visual_YAxis":"Visual_XAxis"),type:{bool:!0}},categoryMin:f.TQ.zoom.properties.categoryMin,categoryMax:f.TQ.zoom.properties.categoryMax,categorySize:f.TQ.zoom.properties.categorySize,showOnValueAxis:{displayName:(0,P.V)(G?"Visual_XAxis":"Visual_YAxis"),type:{bool:!0}},valueMin:f.TQ.zoom.properties.valueMin,valueMax:f.TQ.zoom.properties.valueMax,valueSize:f.TQ.zoom.properties.valueSize,showLabels:f.TQ.zoom.properties.showLabels,showTooltip:f.TQ.zoom.properties.showTooltip}},R.dataPoint={displayName:(0,P.V)("Visual_DataPoint"),description:(0,P.V)("Visual_DataPointDescription"),properties:(0,c.pi)((0,c.pi)({defaultColor:(0,c.pi)((0,c.pi)({},f.iD.defaultColor),T&&{displayName:(0,P.V)("Visual_DefaultColumnColor")}),fill:f.iD.fillColor,fillRule:{displayName:(0,P.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:F.gradient,output:{property:"fill",selector:[F.category]}}},fillTransparency:f.iD.fillTransparency},f.sz),{cornerType:f.iD.cornerType,cornerRadius:f.iD.cornerRadius,showAllDataPoints:f.iD.showAllDataPoints})},R.layout={displayName:(0,P.V)("Small_Multiples_LayoutGroup"),properties:(0,c.pi)((0,c.pi)((0,c.pi)({seriesOrderReversed:f.iD.seriesOrderReversed,seriesOrderSorted:f.iD.seriesOrderSorted},(I||m)&&(0,c.pi)({stackedGapSize:f.iD.stackedGapSize},(!T||m)&&{stackedGapExplodes:f.iD.stackedGapExplodes})),(!I||m)&&{clusteredGapSize:f.iD.clusteredGapSize,clusteredGapOverlaps:f.iD.clusteredGapOverlaps,clusteredGapOverlapReverse:f.iD.clusteredGapOverlapReverse}),(E||m)&&{ribbonGapSize:f.iD.ribbonGapSize})},R.labels={displayName:(0,P.V)("Visual_DataPointsLabels"),description:(0,P.V)("Visual_DataPointsLabelsDescription"),properties:{show:f.iD.show,showByDefault:{type:{bool:!0}},showSeries:{displayName:(0,P.V)("Visual_Show"),type:{bool:!0}},color:f.iD.dataColor,labelDisplayUnits:z?f.iD.dataLabelDisplayUnitsWithCustom:f.iD.dataLabelDisplayUnits,valueCustomFormatString:f.iD.dataLabelCustomFormatString,labelPrecision:(0,c.pi)((0,c.pi)({},f.iD.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:(0,P.V)("Visual_LabelOrientation"),type:{enumeration:h.d}},labelPosition:{displayName:(0,P.V)("Visual_Position"),type:{enumeration:D.dt}},enableBackground:f.iD.labelEnableBackground,backgroundColor:f.iD.labelBackgroundColor,backgroundTransparency:f.iD.labelBackgroundTransparency,labelOverflow:{displayName:(0,P.V)("Visual_LabelOverflow"),description:(0,P.V)("Visual_LabelOverflow_Description"),type:{bool:!0}},showAll:{displayName:(0,P.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:f.iD.fontSize,bold:f.iD.bold,italic:f.iD.italic,underline:f.iD.underline,fontFamily:f.iD.fontFamily,labelDensity:{displayName:(0,P.V)("Visual_LabelDensity"),type:{integer:!0}},showDynamicLabels:f.iD.showDynamicLabels,dynamicLabelValue:f.iD.dynamicLabelValue,enableValueDataLabel:{type:{bool:!0}},showBlankAs:f.iD.showBlankAs,transparency:f.iD.transparency,wordWrap:f.iD.wordWrap,titleBold:f.iD.bold,titleColor:f.iD.dataColor,titleContentType:{displayName:(0,P.V)("Content"),type:{enumeration:b.D}},enableTitleDataLabel:{type:{bool:!0}},titleFontFamily:f.iD.fontFamily,titleFontSize:f.iD.fontSize,dynamicLabelTitle:f.iD.dynamicLabelValue,titleItalic:f.iD.italic,titleTransparency:f.iD.transparency,titleLabelDisplayUnits:f.iD.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:f.iD.dataLabelCustomFormatString,titleLabelPrecision:f.iD.labelPrecision,titleUnderline:f.iD.underline,titleShowBlankAs:f.iD.showBlankAs,detailBold:f.iD.bold,detailColor:f.iD.dataColor,dynamicLabelDetail:f.iD.dynamicLabelValue,enableDetailDataLabel:{type:{bool:!0}},detailFontFamily:f.iD.fontFamily,detailFontSize:f.iD.fontSize,detailItalic:f.iD.italic,detailTransparency:f.iD.transparency,detailUnderline:f.iD.underline,detailShowBlankAs:f.iD.showBlankAs,detailLabelDisplayUnits:f.iD.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:f.iD.dataLabelCustomFormatString,detailLabelPrecision:f.iD.labelPrecision,detailContentType:{displayName:(0,P.V)("Content"),type:{enumeration:V}}}},R),(I&&!E||m)&&{totals:f.TQ.totalsWithNet}),{plotArea:{displayName:(0,P.V)("Visual_Plot"),properties:{transparency:f.iD.transparency,image:f.iD.image}},y1AxisReferenceLine:{displayName:(0,P.V)("Visual_Reference_Line"),description:(0,P.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:f.iD.show,displayName:f.iD.referenceLineDisplayName,value:f.iD.referenceLineValue,lineColor:f.iD.referenceLineColor,transparency:f.iD.referenceLineTransparency,style:f.iD.lineStyle,position:f.iD.referenceLinePosition,dataLabelShow:f.iD.dataLabelShow,dataLabelText:f.iD.dataLabelText,dataLabelColor:f.iD.dataLabelColor,dataLabelDecimalPoints:f.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:f.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:f.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:f.iD.dataLabelDisplayUnits}},xAxisReferenceLine:{displayName:(0,P.V)("Visual_Reference_Line_X"),description:(0,P.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:f.iD.show,displayName:f.iD.referenceLineDisplayName,value:f.iD.referenceLineValueWithDateTime,lineColor:f.iD.lineColor,transparency:f.iD.referenceLineTransparency,style:f.iD.lineStyle,position:f.iD.referenceLinePosition,shadeRegion:f.iD.shadeRegion,shadeColor:f.iD.shadeColor,shadeTransparency:f.iD.shadeTransparency,dataLabelShow:f.iD.dataLabelShow,dataLabelColor:f.iD.dataLabelColor,dataLabelText:f.iD.dataLabelText,dataLabelDecimalPoints:f.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:f.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:f.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:f.iD.dataLabelDisplayUnits}},trend:{displayName:(0,P.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:{type:{bool:!0}},displayName:f.iD.trendlineDisplayName,lineColor:f.iD.trendlineColor,transparency:f.iD.trendlineTransparency,style:f.iD.trendlineStyle,combineSeries:f.iD.trendlineCombineSeries,useHighlightValues:f.iD.trendlineUseHighlightValues}},error:{displayName:f.TQ.error.displayName,objectCategory:f.TQ.error.objectCategory,suppressFormatPainterCopy:f.TQ.error.suppressFormatPainterCopy,properties:{enabled:f.TQ.error.properties.enabled,errorRange:f.TQ.error.properties.errorRange,barShow:f.TQ.error.properties.barShow,barMatchSeriesColor:f.TQ.error.properties.barMatchSeriesColor,barColor:f.TQ.error.properties.barColor,barWidth:f.TQ.error.properties.barWidth,barBorderColor:f.TQ.error.properties.barBorderColor,barBorderSize:f.TQ.error.properties.barBorderSize,markerShape:f.TQ.error.properties.markerShape,markerSize:f.TQ.error.properties.markerSize,labelShow:f.TQ.error.properties.labelShow,labelFontFamily:f.TQ.error.properties.labelFontFamily,labelFontSize:f.TQ.error.properties.labelFontSize,labelBold:f.TQ.error.properties.labelBold,labelItalic:f.TQ.error.properties.labelItalic,labelUnderline:f.TQ.error.properties.labelUnderline,labelColor:f.TQ.error.properties.labelColor,labelMatchSeriesColor:f.TQ.error.properties.labelMatchSeriesColor,labelFormat:f.TQ.error.properties.labelFormat,labelBackground:f.TQ.error.properties.labelBackground,labelBackgroundColor:f.TQ.error.properties.labelBackgroundColor,labelBackgroundTransparency:f.TQ.error.properties.labelBackgroundTransparency,tooltipShow:f.TQ.error.properties.tooltipShow,tooltipFormat:f.TQ.error.properties.tooltipFormat}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}}}),(!I||m)&&{referenceLine:{displayName:(0,P.V)("Visual_Reference_Line"),description:(0,P.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:f.iD.show,displayName:f.iD.referenceLineDisplayName,value:f.iD.referenceLineValue,lineColor:f.iD.referenceLineColor,transparency:f.iD.referenceLineTransparency,style:f.iD.lineStyle,position:f.iD.referenceLinePosition,dataLabelShow:f.iD.dataLabelShow,dataLabelText:f.iD.dataLabelText,dataLabelColor:f.iD.dataLabelColor,dataLabelDecimalPoints:f.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:f.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:f.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:f.iD.dataLabelDisplayUnits}}}),(E||m)&&{ribbonChart:{displayName:(0,P.V)("RibbonChart"),description:(0,P.V)("RibbonChart_Description"),properties:{colorBands:{displayName:(0,P.V)("RibbonChart_Color"),description:(0,P.V)("RibbonChart_ColorDescription"),type:{bool:!0}},showBorder:{displayName:(0,P.V)("Visual_Border"),description:(0,P.V)("RibbonChart_BorderDescription"),type:{bool:!0}},seriesGapRatio:{displayName:(0,P.V)("RibbonChart_SeriesGapWidth"),description:(0,P.V)("RibbonChart_SeriesGapWidthDescription"),type:{integer:!0}},bandsTransparency:{displayName:(0,P.V)("Transparency"),description:(0,P.V)("RibbonChart_ColorTransparencyDescription"),type:{integer:!0}}}},ribbonBands:{displayName:(0,P.V)("RibbonChart"),description:(0,P.V)("RibbonChart_Description"),properties:(0,c.pi)({fillMatchColor:{displayName:(0,P.V)("RibbonChart_Color"),description:(0,P.V)("RibbonChart_ColorDescription"),type:{bool:!0}},fillColor:f.iD.fillColor,fillTransparency:f.iD.fillTransparency},f.sz)}})}function Y(G,I,E,T){var m,z,R,w;void 0===G&&(G=!1),void 0===I&&(I=!1),void 0===E&&(E=!1);var H,Q,X,W,J,d=null==T?void 0:T.labelEnhancementsM0;return{dataRoles:(H=G,Q=E,X=null==T?void 0:T.cartesianConditionalFormatting,W=null==T?void 0:T.useModernFormatPane,J=[{name:F.category,kind:n.DW.Grouping,displayName:(0,P.V)(W?H?"Visual_YAxis_Hyphen":"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,P.V)("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:F.series,kind:n.DW.Grouping,displayName:(0,P.V)("Role_DisplayName_Legend"),displayOrder:W?3:2,description:(0,P.V)("Role_DisplayName_LegendDescription")},{name:F.y,kind:n.DW.Measure,displayName:(0,P.V)(W?H?"Visual_XAxis_Hyphen":"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:W?2:3,description:(0,P.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],!X&&!Q&&J.push({name:F.gradient,kind:n.DW.Measure,displayName:(0,P.V)("Role_DisplayName_Gradient"),displayOrder:4,description:(0,P.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),J.push({name:F.rows,kind:n.DW.Grouping,displayName:(0,P.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,P.V)("Role_DisplayName_SmallMultiples_Description")}),J.push({name:F.tooltips,kind:n.DW.Measure,displayName:(0,P.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,P.V)("Role_Tooltips_Description"),joinPredicate:0}),J),objects:k(G,I,E,void 0,void 0,d),dataViewMappings:[function(){var H,Q,X;return{conditions:[(H={},H[F.rows]={min:1},H[F.series]={max:0},H),(Q={},Q[F.rows]={min:1},Q[F.series]={min:1,max:1},Q[F.y]={max:1},Q),(X={},X[F.rows]={min:1},X[F.series]={min:1,max:1},X[F.y]={max:0},X)],matrix:{rows:{select:[{composite:[{for:{in:F.rows}}],dataReductionAlgorithm:{window:{count:S.QS}}},{composite:[{for:{in:F.category}}],synchronized:!0,dataReductionAlgorithm:{top:{}}}]},columns:{for:{in:F.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:F.y}},{for:{in:F.tooltips}}]},dataVolume:6}}}(),function(){var H,Q,X;return{conditions:[(H={},H[F.rows]={max:0},H[F.series]={max:0},H[F.gradient]={max:0},H),(Q={},Q[F.rows]={max:0},Q[F.series]={min:1,max:1},Q[F.y]={max:1},Q[F.gradient]={max:0},Q),(X={},X[F.rows]={max:0},X[F.series]={max:0},X[F.y]={min:0,max:1},X[F.gradient]={max:1},X)],categorical:{categories:{for:{in:F.category},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:F.series,select:[{for:{in:F.y}},{bind:{to:F.gradient}},{for:{in:F.tooltips}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}}}(),function(){var H,Q,X;return{conditions:[(H={},H[N.x.rows]={max:0},H[F.series]={max:0},H[F.gradient]={max:0},H),(Q={},Q[N.x.rows]={max:0},Q[F.series]={min:1,max:1},Q[F.y]={max:1},Q[F.gradient]={max:0},Q),(X={},X[N.x.rows]={max:0},X[F.series]={max:0},X[F.y]={min:0,max:1},X[F.gradient]={max:1},X)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}}()],supportsHighlight:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[F.tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},drilldown:{roles:[F.category]},grouping:{groupingRules:[{condition:(m={},m[F.category]={min:1,max:1},m[F.y]={min:1,max:1},m[F.series]={max:0},m[F.gradient]={max:0},m),groupingTargetRole:F.series,kind:0},{condition:(z={},z[F.category]={min:1,max:1},z[F.y]={min:1},z[F.series]={max:0},z[F.gradient]={max:0},z),groupingTargetRole:F.category,kind:1},{condition:(R={},R[F.category]={min:1,max:1},R[F.y]={min:0,max:1},R[F.series]={max:0},R[F.gradient]={max:1},R),groupingTargetRole:F.category,kind:1},{condition:(w={},w[F.category]={max:0},w[F.y]={min:1,max:1},w[F.series]={max:1},w[F.gradient]={max:0},w),groupingTargetRole:F.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,expandAndSort:G?[]:[F.category],supportsOnObjectFormatting:!0}}var j={dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},general:{formatString:{objectName:"general",propertyName:"formatString"}},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},innerPadding:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"}},labels:{show:{objectName:"labels",propertyName:"show"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showSeries:{objectName:"labels",propertyName:"showSeries"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelOrientation:{objectName:"labels",propertyName:"labelOrientation"},labelPosition:{objectName:"labels",propertyName:"labelPosition"},enableBackground:{objectName:"labels",propertyName:"enableBackground"},backgroundColor:{objectName:"labels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"labels",propertyName:"backgroundTransparency"},labelOverflow:{objectName:"labels",propertyName:"labelOverflow"},showAll:{objectName:"labels",propertyName:"showAll"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},labelDensity:{objectName:"labels",propertyName:"labelDensity"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},transparency:{objectName:"labels",propertyName:"transparency"},wordWrap:{objectName:"labels",propertyName:"wordWrap"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},totals:{show:{objectName:"totals",propertyName:"show"},color:{objectName:"totals",propertyName:"color"},labelDisplayUnits:{objectName:"totals",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"totals",propertyName:"labelPrecision"},enableBackground:{objectName:"totals",propertyName:"enableBackground"},backgroundColor:{objectName:"totals",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"totals",propertyName:"backgroundTransparency"},fontSize:{objectName:"totals",propertyName:"fontSize"},fontFamily:{objectName:"totals",propertyName:"fontFamily"},bold:{objectName:"totals",propertyName:"bold"},italic:{objectName:"totals",propertyName:"italic"},underline:{objectName:"totals",propertyName:"underline"},showPositiveAndNegative:{objectName:"totals",propertyName:"showPositiveAndNegative"}}}},8828:function(ie,ve,v){v.d(ve,{OA:function(){return F},p5:function(){return A},rJ:function(){return f}});var c=v(3188),l=v(6274),n=v(1813),g=v(8459),V=v(5122),P=v(7210),S=v(8932),h=v(591),D=v(7706),b=v(4171),N=v(7123),f={category:"Category",series:"Series",y:"Y",y2:"Y2",tooltips:"Tooltips",rows:"Rows"},F=(0,l.wZ)(A(!0).objects);function A(Y,j){var G,I,E,T,m,z,R,w,B,C=(0,D.Ns)(!1,Y,!1,!0);return{dataRoles:[{name:f.category,kind:n.DW.Grouping,displayName:(0,g.V)(null!=j&&j.useModernFormatPane?"Visual_XAxis_Hyphen":"Role_ComboChart_Category"),displayOrder:1,description:(0,g.V)("Role_ComboChart_CategoryDescription"),cartesianKind:0},{name:f.series,kind:n.DW.Grouping,displayName:(0,g.V)(null!=j&&j.useModernFormatPane?"Role_ComboChart_Legend":"Role_ComboChart_Series"),displayOrder:null!=j&&j.useModernFormatPane?4:2},{name:f.y,kind:n.DW.Measure,displayName:(0,g.V)(null!=j&&j.useModernFormatPane?"Role_ComboChart_Y_Axis":"Role_ComboChart_Y"),displayOrder:null!=j&&j.useModernFormatPane?2:3,description:(0,g.V)("Role_ComboChart_YDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:f.y2,kind:n.DW.Measure,displayName:(0,g.V)(null!=j&&j.useModernFormatPane?"Role_ComboChart_Y2_Axis":"Role_ComboChart_Y2"),displayOrder:null!=j&&j.useModernFormatPane?3:4,description:(0,g.V)("Role_ComboChart_Y2Description"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:f.rows,kind:n.DW.Grouping,displayName:(0,g.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,g.V)("Role_DisplayName_SmallMultiples_Description")},{name:f.tooltips,kind:n.DW.Measure,displayName:(0,g.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,g.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:(0,c.pi)((0,c.pi)((G={general:{displayName:(0,g.V)("Visual_General"),properties:{formatString:b.iD.formatString,visualType1:{type:{text:!0}},visualType2:{type:{text:!0}},responsive:b.iD.responsive,responsiveLegacy:b.iD.responsiveLegacy}},legend:{displayName:b.TQ.legend.displayName,description:b.TQ.legend.description,properties:(0,c.pi)((0,c.pi)({},b.TQ.legend.properties),{legendMarkerRendering:b.iD.legendMarkerRendering,defaultToCircle:b.iD.defaultToCircle,matchLineColor:b.iD.matchLineColor})},subheader:(0,c.pi)({},b.TQ.subheader)},G[V.Xi]=(0,c.pi)({},b.TQ.smallMultiplesLayout),G.categoryAxis={displayName:(0,g.V)("Visual_XAxis"),properties:{show:b.iD.show,start:b.iD.axisStart,end:b.iD.axisEnd,axisType:b.iD.axisType,showAxisTitle:b.iD.showAxisTitle_X,axisStyle:b.iD.axisStyle,labelColor:b.iD.labelColor,fontFamily:b.iD.fontFamily,fontSize:b.iD.fontSize,bold:b.iD.bold,italic:b.iD.italic,underline:b.iD.underline,invertAxis:b.iD.invertAxis,labelDisplayUnits:b.iD.labelDisplayUnits,labelPrecision:b.iD.labelPrecision,concatenateLabels:b.iD.concatenateLabels,preferredCategoryWidth:b.iD.preferredCategoryWidth,maxMarginFactor:b.iD.maxMarginFactor,titleColor:b.iD.titleColor,titleFontFamily:b.iD.fontFamily,titleFontSize:b.iD.titleFontSize,titleBold:b.iD.bold,titleItalic:b.iD.italic,titleUnderline:b.iD.underline,titleText:b.iD.titleText,gridlineShow:(0,c.pi)((0,c.pi)({},b.iD.show),{displayName:(0,g.V)("Visual_Gridline_Show")}),gridlineColor:b.iD.lineColor,gridlineThickness:b.iD.strokeWidth,gridlineStyle:b.iD.lineStyle,innerPadding:b.iD.innerPadding,logAxisScale:b.iD.logAxisScale,reverseStackOrder:b.iD.reverseStackOrder}},G.valueAxis={displayName:(0,g.V)("Visual_YAxis"),properties:(0,c.pi)({show:b.iD.show,axisLabel:{displayName:(0,g.V)("Visual_YAxis_ColumnTitle"),type:{none:!0}},start:b.iD.axisStart,end:b.iD.axisEnd,invertAxis:b.iD.invertAxis,sharedAxis:b.iD.sharedAxis,scaleToFit:b.iD.scaleToFit,showAxisTitle:b.iD.showAxisTitle_Y,axisStyle:b.iD.axisStyle,labelColor:b.iD.labelColor,fontFamily:b.iD.fontFamily,fontSize:b.iD.fontSize,bold:b.iD.bold,italic:b.iD.italic,underline:b.iD.underline,labelDisplayUnits:b.iD.labelDisplayUnits,labelPrecision:b.iD.labelPrecision,titleColor:b.iD.titleColor,titleFontFamily:b.iD.fontFamily,titleFontSize:b.iD.titleFontSize,titleBold:b.iD.bold,titleItalic:b.iD.italic,titleUnderline:b.iD.underline,titleText:b.iD.titleText,gridlineShow:(0,c.pi)((0,c.pi)({},b.iD.show),{displayName:(0,g.V)("Visual_Gridline_Show")}),gridlineColor:b.iD.lineColor,gridlineThickness:b.iD.strokeWidth,gridlineStyle:b.iD.lineStyle,logAxisScale:b.iD.logAxisScale,switchAxisPosition:b.iD.switchAxisPosition},b.sJ)},G.zoom={displayName:b.TQ.zoom.displayName,properties:(0,c.pi)((0,c.pi)({},b.TQ.zoom.properties),b.DW.zoom.properties)},G.dataPoint=C.dataPoint,G.layout=C.layout,G.labels={displayName:(0,g.V)("Visual_DataPointsLabels"),description:(0,g.V)("Visual_DataPointsLabelsDescription"),properties:{show:b.iD.show,showSeries:{displayName:(0,g.V)("Visual_Show"),type:{bool:!0}},color:b.iD.dataColor,labelDisplayUnits:b.iD.dataLabelDisplayUnits,valueCustomFormatString:b.iD.dataLabelCustomFormatString,labelPrecision:(0,c.pi)((0,c.pi)({},b.iD.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:(0,g.V)("Visual_LabelOrientation"),type:{enumeration:P.d}},labelPosition:{displayName:(0,g.V)("Visual_Position"),type:{enumeration:S.dt}},fontSize:b.iD.fontSize,bold:b.iD.bold,italic:b.iD.italic,underline:b.iD.underline,fontFamily:b.iD.fontFamily,labelDensity:{displayName:(0,g.V)("Visual_LabelDensity"),type:{integer:!0}},enableBackground:b.iD.labelEnableBackground,backgroundColor:b.iD.labelBackgroundColor,backgroundTransparency:b.iD.labelBackgroundTransparency,showAll:{displayName:(0,g.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},showByDefault:{type:{bool:!0}},showDynamicLabels:b.iD.showDynamicLabels,dynamicLabelValue:b.iD.dynamicLabelValue,enableValueDataLabel:{type:{bool:!0}},showBlankAs:b.iD.showBlankAs,transparency:b.iD.transparency,titleBold:b.iD.bold,titleColor:b.iD.dataColor,titleContentType:{displayName:(0,g.V)("Content"),type:{enumeration:N.D}},enableTitleDataLabel:{type:{bool:!0}},titleFontFamily:b.iD.fontFamily,titleFontSize:b.iD.fontSize,dynamicLabelTitle:b.iD.dynamicLabelValue,titleItalic:b.iD.italic,titleTransparency:b.iD.transparency,titleLabelDisplayUnits:b.iD.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:b.iD.dataLabelCustomFormatString,titleLabelPrecision:b.iD.labelPrecision,titleUnderline:b.iD.underline,titleShowBlankAs:b.iD.showBlankAs,detailBold:b.iD.bold,detailColor:b.iD.dataColor,dynamicLabelDetail:b.iD.dynamicLabelValue,enableDetailDataLabel:{type:{bool:!0}},detailFontFamily:b.iD.fontFamily,detailFontSize:b.iD.fontSize,detailItalic:b.iD.italic,detailTransparency:b.iD.transparency,detailUnderline:b.iD.underline,detailShowBlankAs:b.iD.showBlankAs,detailLabelDisplayUnits:b.iD.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:b.iD.dataLabelCustomFormatString,detailLabelPrecision:b.iD.labelPrecision}},G.seriesLabels=b.TQ.seriesLabels,G.error=b.TQ.error,G.lineStyles={displayName:(0,g.V)("Visual_Shapes"),description:(0,g.V)("Visual_ShapesDescription"),properties:{shadeArea:{displayName:(0,g.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}},strokeWidth:b.iD.strokeWidth,strokeLineJoin:b.iD.strokeLineJoin,lineStyle:b.iD.lineStyle,showMarker:b.iD.showMarker,markerShape:b.iD.markerShape,markerSize:b.iD.markerSize,markerColor:b.iD.markerColor,stepped:b.iD.stepped,showSeries:{displayName:(0,g.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},showMarkerByDefault:{type:{bool:!0}},lineChartType:{displayName:(0,g.V)("Visual_Line_Type"),description:(0,g.V)("Visual_Line_Type_Description"),type:{enumeration:h.dt}}}},G.plotArea={displayName:(0,g.V)("Visual_Plot"),properties:{transparency:b.iD.transparency,image:b.iD.image}},G.filters={properties:{filteredToUniqueValue:{type:{bool:!0}}}},G.xAxisReferenceLine={displayName:(0,g.V)("Visual_Reference_Line_X"),description:(0,g.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:b.iD.show,displayName:b.iD.referenceLineDisplayName,value:{displayName:(0,g.V)("Visual_Reference_Line_Value"),description:(0,g.V)("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},lineColor:b.iD.lineColor,transparency:b.iD.referenceLineTransparency,style:b.iD.lineStyle,position:b.iD.referenceLinePosition,shadeRegion:b.iD.shadeRegion,shadeColor:b.iD.shadeColor,shadeTransparency:b.iD.shadeTransparency,dataLabelShow:b.iD.dataLabelShow,dataLabelColor:b.iD.dataLabelColor,dataLabelText:b.iD.dataLabelText,dataLabelDecimalPoints:b.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:b.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:b.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:b.iD.dataLabelDisplayUnits}},G),Y&&{totals:b.TQ.totalsWithNet}),!Y&&{trend:{displayName:(0,g.V)("Visual_Trend_Line"),objectCategory:2,properties:{show:{type:{bool:!0}},displayName:{type:{text:!0}},lineColor:b.iD.trendlineColor,transparency:b.iD.trendlineTransparency,style:b.iD.trendlineStyle,combineSeries:b.iD.trendlineCombineSeries,useHighlightValues:b.iD.trendlineUseHighlightValues}}}),dataViewMappings:[{conditions:[(I={Series:{max:0}},I[f.rows]={max:0},I),(E={Series:{min:1,max:1},Y:{max:1}},E[f.rows]={max:0},E)],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[(T={Series:{max:0},Y2:{min:1}},T[f.rows]={max:0},T),(m={Series:{min:1,max:1},Y:{max:1},Y2:{min:1}},m[f.rows]={max:0},m)],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{select:[{for:{in:"Y2"}}]},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[(z={Series:{max:0}},z[f.rows]={max:0},z),(R={Series:{min:1,max:1},Y:{max:1}},R[f.rows]={max:0},R)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[(w={},w[f.series]={max:0},w[f.rows]={min:1},w)],matrix:k(!1)},{conditions:[(B={},B[f.series]={min:1,max:1},B[f.y]={max:1},B[f.rows]={min:1},B)],matrix:k(!0)}],supportsHighlight:!0,sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:0}},groupingTargetRole:"Series",kind:0},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{min:1,max:1},Gradient:{max:0}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,expandAndSort:[D.au.category],supportsOnObjectFormatting:!0}}function k(Y){var j={rows:{select:[{composite:[{for:{in:f.rows}}],dataReductionAlgorithm:{window:{count:V.QS}}},{composite:[{for:{in:f.category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:f.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:f.y}},{for:{in:f.tooltips}}]},dataVolume:6};return Y?j.rows.values={select:[{for:{in:f.y2}}]}:j.values.select.push({for:{in:f.y2}}),j}},790:function(ie,ve,v){v.d(ve,{KK:function(){return n},Qw:function(){return V},YE:function(){return S}});var c=v(1813),l=v(4171),n={values:"Values"},V={objectName:"overrideDataReduction",propertyName:"count"},S={dataRoles:[{name:"Values",kind:c.DW.GroupingOrMeasure}],objects:{general:{properties:{formatString:l.iD.formatString}},overrideDataReduction:{properties:{count:{type:{numeric:!0}}}},columnOptions:{properties:{suppressJoinPredicate:{type:{bool:!0}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{count:2}}}}}]}},4171:function(ie,ve,v){v.d(ve,{sz:function(){return W},sJ:function(){return H},DW:function(){return Ne},TQ:function(){return J},N_:function(){return ee},iD:function(){return O},e0:function(){return le}});var c=v(3188),l=v(6274),n=v(8459),g=v(2051),V=v(180),D=(0,v(9921).i)([{value:"Number of bins",displayName:function(Se){return Se.get("BinsDialog_ModeByCount")}},{value:"Bin size",displayName:function(Se){return Se.get("BinsDialog_ModeBySize")}}]),b=v(2323),N=v(8504),f=v(3505),F=v(2447),A=v(9385),k=v(8476),Y=v(5675),j=v(7725),G=v(7243),I=v(2333),E=v(6802),T=v(8540),m=v(2290),z=v(286),R=v(7581),w=v(7582),B=v(7871),C=v(9963),d=v(3440),u=v(2763),y=v(6604),M=v(7842),L=v(9150),O={axisEnd:{displayName:(0,n.V)("Visual_Axis_End"),description:(0,n.V)("Visual_Axis_EndDescription"),placeHolderText:(0,n.V)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStart:{displayName:(0,n.V)("Visual_Axis_Start"),description:(0,n.V)("Visual_Axis_StartDescription"),placeHolderText:(0,n.V)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStyle:{displayName:(0,n.V)("Visual_Axis_Style"),type:{enumeration:g.dt}},axisType:{displayName:(0,n.V)("Type"),type:{enumeration:V.dt}},backColor:{displayName:(0,n.V)("Background_Color"),description:(0,n.V)("Visual_Tablix_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},binType:{displayName:(0,n.V)("BinsDialog_BinType"),type:{enumeration:D}},bold:{displayName:(0,n.V)("Bold"),type:{bool:!0}},borderColor:{displayName:(0,n.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},borderColor2:{displayName:(0,n.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},borderPreset:{displayName:(0,n.V)("Style"),type:{enumeration:L.dt}},borderShow:{displayName:(0,n.V)("Visual_Border"),type:{bool:!0}},borderSize:{displayName:(0,n.V)("Visual_General_Properties_Width"),type:{numeric:!0}},borderTransparency:{displayName:(0,n.V)("Transparency"),type:{numeric:!0}},borderIntensity:{displayName:(0,n.V)("Visual_Color_Intensity"),type:{numeric:!0}},cornerType:{displayName:(0,n.V)("Visual_CornerType"),type:{enumeration:M.dt}},cornerRadius:{displayName:(0,n.V)("Visual_Radius"),type:{numeric:!0}},numOfBins:{displayName:(0,n.V)("BinsDialog_ModeByCount"),type:{numeric:!0}},binSize:{displayName:(0,n.V)("BinsDialog_ModeBySize"),type:{numeric:!0}},dataColor:{displayName:(0,n.V)("Visual_LabelsFill"),description:(0,n.V)("Visual_LabelsFillDescription"),type:{fill:{solid:{color:!0}}}},categoryColor:{displayName:(0,n.V)("Visual_LabelsFill"),description:(0,n.V)("Visual_LabelStyle_CategoryDescription"),type:{fill:{solid:{color:!0}}}},color:{displayName:(0,n.V)("Visual_LabelsFill"),type:{fill:{solid:{color:!0}}}},dataLabelCustomFormatString:{displayName:(0,n.V)("Visual_FormatCode"),description:(0,n.V)("Visual_FormatCode_Description"),type:{text:!0}},dataLabelColor:{displayName:(0,n.V)("Visual_Reference_Line_Data_Label_Color"),description:(0,n.V)("Visual_Reference_Line_Data_Label_Color_Description"),type:{fill:{solid:{color:!0}}}},dataLabelDecimalPoints:{displayName:(0,n.V)("Visual_Precision"),placeHolderText:(0,n.V)("Visual_Auto"),type:{numeric:!0}},dataLabelDisplayUnits:{displayName:(0,n.V)("Visual_DisplayUnits"),description:(0,n.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}},suppressFormatPainterCopy:!0},dataLabelDisplayUnitsWithCustom:{displayName:(0,n.V)("Visual_DisplayUnits"),description:(0,n.V)("Visual_DisplayUnitsDescription"),type:{enumeration:y.d},suppressFormatPainterCopy:!0},dataLabelHorizontalPosition:{displayName:(0,n.V)("Visual_Reference_Line_Data_Horizontal_Position"),description:(0,n.V)("Visual_Reference_Line_Data_Label_Horizontal_Position_Description"),type:{enumeration:z.dt}},dataLabelText:{displayName:(0,n.V)("Text"),description:(0,n.V)("Visual_Reference_Line_Data_Label_Text_Description"),type:{enumeration:k.dt}},dataLabelShow:{displayName:(0,n.V)("Visual_Reference_Line_Data_Label"),description:(0,n.V)("Visual_Reference_Line_Data_Label_Show_Description"),type:{bool:!0}},dataLabelVerticalPosition:{displayName:(0,n.V)("Visual_Reference_Line_Data_Vertical_Position"),description:(0,n.V)("Visual_Reference_Line_Data_Label_Vertical_Position_Description"),type:{enumeration:R.dt}},defaultColor:{displayName:(0,n.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultCategoryColor:{displayName:(0,n.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultDataPointColor:{displayName:(0,n.V)("DataPointColorTitle"),type:{fill:{solid:{color:!0}}}},defaultToCircle:{displayName:(0,n.V)("Visual_LegendDefaultToCircle"),description:(0,n.V)("Visual_LegendDefaultToCircleDescription"),type:{bool:!0}},dynamicLabelValue:{displayName:(0,n.V)("Field"),type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},errorFormat:{displayName:(0,n.V)("Visual_Error_Format"),type:{enumeration:N.dt}},fill:{displayName:(0,n.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},fillColor:{displayName:(0,n.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},fillTransparency:{displayName:(0,n.V)("Transparency"),type:{numeric:!0}},fontColor:{displayName:(0,n.V)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,n.V)("Visual_TextSize"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,n.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},formatString:{type:{formatting:{formatString:!0}}},iconSize:{displayName:(0,n.V)("Visual_IconSize"),type:{formatting:{fontSize:!0}}},italic:{displayName:(0,n.V)("Italic"),type:{bool:!0}},image:{type:{image:{}}},invertAxis:{displayName:(0,n.V)("Visual_InvertAxis"),type:{bool:!0}},labelBackgroundColor:{displayName:(0,n.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},labelBackgroundTransparency:{displayName:(0,n.V)("Visual_Reference_Line_Transparency"),type:{integer:!0}},innerPadding:{displayName:(0,n.V)("Visual_Axis_InnerPadding"),description:(0,n.V)("Visual_Axis_InnerPaddingDescription"),type:{integer:!0}},concatenateLabels:{displayName:(0,n.V)("Visual_Axis_ConcatenateLabels"),description:(0,n.V)("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},labelColor:{displayName:(0,n.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},labelDisplayUnits:{displayName:(0,n.V)("Visual_DisplayUnits"),description:(0,n.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},labelEnableBackground:{displayName:(0,n.V)("Visual_LabelEnableBackground"),type:{bool:!0}},labelPrecision:{displayName:(0,n.V)("Visual_Precision"),description:(0,n.V)("Visual_PrecisionDescription"),placeHolderText:(0,n.V)("Visual_Auto"),type:{integer:!0}},leaderLines:{displayName:(0,n.V)("Visual_LeaderLines"),type:{bool:!0}},logAxisScale:{displayName:(0,n.V)("Visual_LogarithmicScale"),type:{bool:!0}},matchLineColor:{displayName:(0,n.V)("Visual_LegendMatchLineColor"),description:(0,n.V)("Visual_LegendMatchLineColorDescription"),type:{bool:!0}},maximumOffset:{displayName:(0,n.V)("Visual_Maximum_Offset"),placeHolderText:(0,n.V)("Visual_Auto"),type:{numeric:!0}},minimumOffset:{displayName:(0,n.V)("Visual_Minimum_Offset"),placeHolderText:(0,n.V)("Visual_Auto"),type:{numeric:!0}},preferredCategoryWidth:{displayName:(0,n.V)("Visual_Category_Width"),type:{numeric:!0}},maxMarginFactor:{displayName:(0,n.V)("Visual_MaxMarginFactor"),description:(0,n.V)("Visual_MaxMarginFactorDescription"),type:{integer:!0}},percentageLabelPrecision:{displayName:(0,n.V)("Visual_Percentage_Precision"),description:(0,n.V)("Visual_Percentage_PrecisionDescription"),placeHolderText:(0,n.V)("Visual_Auto"),type:{integer:!0}},legendMarkerRendering:{displayName:(0,n.V)("Visual_Axis_Style"),description:(0,n.V)("Visual_LegendStyleDescription"),type:{enumeration:Y.dt}},legendPosition:{displayName:(0,n.V)("Visual_LegendPosition"),description:(0,n.V)("Visual_LegendPositionDescription"),type:{enumeration:j.dt}},legendTitle:{displayName:(0,n.V)("Visual_LegendName"),description:(0,n.V)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},lineColor:{displayName:(0,n.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},lineStyle:{displayName:(0,n.V)("Visual_LineStyle"),type:{enumeration:G.dt}},textWrap:{displayName:(0,n.V)("TextWrap"),type:{bool:!0}},titleColor:{displayName:(0,n.V)("Visual_AxisTitleColor"),type:{fill:{solid:{color:!0}}}},titleFontSize:{displayName:(0,n.V)("Visual_AxisTitleTextSize"),type:{formatting:{fontSize:!0}}},titleText:{displayName:(0,n.V)("Visual_AxisTitleText"),placeHolderText:(0,n.V)("Visual_Auto"),type:{text:!0},suppressFormatPainterCopy:!0},outline:{displayName:(0,n.V)("Visual_Outline"),type:{enumeration:T.dt}},outlineStyle:{displayName:(0,n.V)("Visual_Outline"),type:{flagsEnumeration:T.Ob}},outlineColor:{displayName:(0,n.V)("Visual_OutlineColor"),description:(0,n.V)("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:(0,n.V)("Visual_OutlineWeight"),description:(0,n.V)("Visual_OutlineWeight_Desc"),type:{numeric:!0}},referenceLineDisplayName:{displayName:(0,n.V)("Name"),description:(0,n.V)("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},referenceLinePosition:{displayName:(0,n.V)("Visual_Reference_Line_Arrange"),description:(0,n.V)("Visual_Reference_Line_Arrange_Description"),type:{enumeration:m.dt}},referenceLineTransparency:{displayName:(0,n.V)("Visual_Reference_Line_Transparency"),description:(0,n.V)("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},referenceLineValue:{displayName:(0,n.V)("Visual_Reference_Line_Value"),description:(0,n.V)("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},referenceLineValueWithDateTime:{displayName:(0,n.V)("Visual_Reference_Line_Value"),description:(0,n.V)("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},reverseStackOrder:{displayName:(0,n.V)("Visual_ReverseStackOrder"),type:{bool:!0}},scaleToFit:{displayName:(0,n.V)("ScaleToFit"),type:{bool:!0}},sharedAxis:{displayName:(0,n.V)("Visual_Shared_YAxis"),type:{bool:!0}},show:{displayName:(0,n.V)("Visual_Show"),type:{bool:!0}},showAllDataPoints:{displayName:(0,n.V)("ShowAll"),type:{bool:!0}},showBlankAs:{displayName:(0,n.V)("Visual_ShowBlankAs"),type:{text:!0}},showDynamicLabels:{displayName:(0,n.V)("Visual_ShowCustomLabel"),type:{bool:!0}},showLegendTitle:{displayName:(0,n.V)("Visual_LegendShowTitle"),description:(0,n.V)("Visual_LegendShowTitleDescription"),type:{bool:!0}},seriesOrderReversed:{displayName:(0,n.V)("Visual_SeriesOrderReversed"),description:(0,n.V)("Visual_SeriesOrderReversed_Description"),type:{bool:!0}},seriesOrderSorted:{displayName:(0,n.V)("Visual_SeriesOrderSorted"),description:(0,n.V)("Visual_SeriesOrderSorted_Description"),type:{bool:!0}},stackedGapSize:{displayName:(0,n.V)("Visual_Space_Between_Series"),type:{numeric:!0}},stackedGapExplodes:{displayName:(0,n.V)("Visual_Spacing_Explode"),description:(0,n.V)("Visual_Spacing_Explode_Description"),type:{bool:!0}},clusteredGapSize:{displayName:(0,n.V)("Visual_Space_Between_Series"),type:{numeric:!0}},clusteredGapOverlaps:{displayName:(0,n.V)("Visual_Overlap_ClusteredSeries"),type:{bool:!0}},clusteredGapOverlapReverse:{displayName:(0,n.V)("Visual_Overlap_ClusteredSeries_Flip"),type:{bool:!0}},strokeWidth:{displayName:(0,n.V)("Visual_StrokeWidth"),type:{integer:!0}},strokeLineJoin:{displayName:(0,n.V)("Visual_StrokeLineJoin"),type:{enumeration:C.dt}},switchAxisPosition:{displayName:(0,n.V)("Visual_SwitchAxisPosition"),type:{bool:!0}},lineDashType:{displayName:(0,n.V)("Visual_LineDashType"),type:{enumeration:G.dt}},showIcon:{displayName:(0,n.V)("Visual_ShowIcon"),type:{bool:!0}},showMarker:{displayName:(0,n.V)("Visual_ShowMarker"),type:{bool:!0}},markerShape:{displayName:(0,n.V)("Visual_MarkerShape"),type:{enumeration:E.dt}},fillPointStyle:{displayName:(0,n.V)("Style"),type:{enumeration:f.oB}},markerSize:{displayName:(0,n.V)("Visual_MarkerSize"),type:{numeric:!0}},markerRangeType:{displayName:(0,n.V)("Visual_MarkerRangeType"),type:{enumeration:I.zo}},markerColor:{displayName:(0,n.V)("Visual_MarkerColor"),type:{fill:{solid:{color:!0}}}},matchFillColor:{displayName:(0,n.V)("Visual_MatchFillColor"),description:(0,n.V)("Visual_MatchFillColor_Description"),type:{bool:!0}},matchSeriesColor:{displayName:(0,n.V)("RibbonChart_Color"),type:{bool:!0}},ribbonGapSize:{displayName:(0,n.V)("Visual_Space_Around_RibbonBands"),type:{numeric:!0}},transparency:{displayName:(0,n.V)("Transparency"),description:(0,n.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}},lineTransparency:{displayName:(0,n.V)("Transparency"),description:(0,n.V)("Visual_Background_TransparencyLineDescription"),type:{numeric:!0}},referenceLineColor:{displayName:(0,n.V)("Visual_Reference_Line_Color"),description:(0,n.V)("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},responsive:{displayName:(0,n.V)("Visual_General_ResponsiveLabel"),description:(0,n.V)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},responsiveLegacy:{type:{bool:!0}},shadeRegion:{displayName:(0,n.V)("Visual_ShadeRegion"),type:{enumeration:w.dt}},shadeColor:{displayName:(0,n.V)("Visual_ShadeColor"),type:{fill:{solid:{color:!0}}}},shadeTransparency:{displayName:(0,n.V)("Visual_ShadeTransparency"),type:{numeric:!0}},showAxisTitle_Y:{displayName:(0,n.V)("Visual_Axis_Title"),description:(0,n.V)("Visual_Axis_YTitleDescription"),type:{bool:!0}},showAxisTitle_X:{displayName:(0,n.V)("Visual_Axis_Title"),description:(0,n.V)("Visual_Axis_XTitleDescription"),type:{bool:!0}},showGradientLegend:{displayName:(0,n.V)("Visual_Show"),type:{bool:!0}},stepped:{displayName:(0,n.V)("Visual_SteppedLine"),description:(0,n.V)("Visual_SteppedLineDescription"),type:{bool:!0}},tablixFontColor:{displayName:(0,n.V)("Visual_FontColor"),description:(0,n.V)("Visual_Tablix_FontColor_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},textAlignment:{displayName:(0,n.V)("Visual_TextAlignment"),type:{enumeration:d.dt}},trendlineColor:{displayName:(0,n.V)("Visual_Trend_Line_Color"),description:(0,n.V)("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},trendlineDisplayName:{displayName:(0,n.V)("Name"),description:(0,n.V)("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},trendlineTransparency:{displayName:(0,n.V)("Visual_Trend_Line_Transparency"),description:(0,n.V)("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},trendlineStyle:{displayName:(0,n.V)("Style"),description:(0,n.V)("Visual_Trend_Line_Style_Description"),type:{enumeration:G.dt}},trendlineCombineSeries:{displayName:(0,n.V)("Visual_Trend_Line_Combine_Series"),description:(0,n.V)("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},trendlineUseHighlightValues:{displayName:(0,n.V)("Visual_Trend_Line_UseHighlightValues"),description:(0,n.V)("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}},totalsEnabled:{displayName:(0,n.V)("Visual_Axis_Total"),description:(0,n.V)("Visual_Axis_TotalDescription"),type:{bool:!0}},underline:{displayName:(0,n.V)("Underline"),type:{bool:!0}},width:{displayName:(0,n.V)("Visual_General_Properties_Width"),type:{integer:!0}},wordWrap:{displayName:(0,n.V)("Visual_Word_Wrap"),type:{bool:!0}}},H={secShow:{displayName:(0,n.V)("Visual_YAxis_ShowSecondary"),type:{bool:!0}},alignZeros:{displayName:(0,n.V)("Visual_YAxis_AlignZeros"),description:(0,n.V)("Visual_YAxis_AlignZeros_Description"),type:{bool:!0}},secLogAxisScale:{displayName:(0,n.V)("Visual_LogarithmicScale"),type:{bool:!0}},secAxisLabel:{displayName:(0,n.V)("Visual_YAxis_LineTitle"),type:{none:!0}},secStart:{displayName:(0,n.V)("Visual_Axis_Start"),description:(0,n.V)("Visual_Axis_StartDescription"),placeHolderText:(0,n.V)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secEnd:{displayName:(0,n.V)("Visual_Axis_End"),description:(0,n.V)("Visual_Axis_EndDescription"),placeHolderText:(0,n.V)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secShowAxisTitle:O.showAxisTitle_Y,secAxisStyle:O.axisStyle,secLabelColor:O.labelColor,secFontFamily:O.fontFamily,secFontSize:O.fontSize,secBold:O.bold,secItalic:O.italic,secUnderline:O.underline,secLabelDisplayUnits:O.labelDisplayUnits,secLabelPrecision:O.labelPrecision,secTitleColor:O.titleColor,secTitleFontFamily:O.fontFamily,secTitleFontSize:O.titleFontSize,secTitleBold:O.bold,secTitleItalic:O.italic,secTitleUnderline:O.underline,secTitleText:O.titleText},Q={displayName:(0,n.V)("Visual_DataTotalLabels"),description:(0,n.V)("Visual_DataTotalLabelsDescription"),properties:{show:O.show,color:O.dataColor,labelDisplayUnits:O.dataLabelDisplayUnits,labelPrecision:(0,c.pi)((0,c.pi)({},O.labelPrecision),{suppressFormatPainterCopy:!0}),enableBackground:O.labelEnableBackground,backgroundColor:O.labelBackgroundColor,backgroundTransparency:O.labelBackgroundTransparency,fontSize:O.fontSize,bold:O.bold,italic:O.italic,underline:O.underline,fontFamily:O.fontFamily}},X=_.cloneDeep(Q);X.properties.showPositiveAndNegative={displayName:(0,n.V)("Visual_LabelPosAndNeg"),description:(0,n.V)("Visual_LabelPosAndNeg_Description"),type:{bool:!0}};var W={borderShow:O.borderShow,borderSize:O.borderSize,borderPreset:O.borderPreset,borderColorMatchSeries:O.matchSeriesColor,borderColor:O.borderColor2,borderTransparency:O.borderTransparency,borderIntensity:O.borderIntensity},J={legend:{displayName:(0,n.V)("Visual_Legend"),description:(0,n.V)("Visual_LegendDescription"),properties:{show:{displayName:(0,n.V)("Visual_Show"),type:{bool:!0}},position:{displayName:(0,n.V)("Visual_LegendPosition"),description:(0,n.V)("Visual_LegendPositionDescription"),type:{enumeration:j.dt}},showTitle:{displayName:(0,n.V)("Visual_LegendShowTitle"),description:(0,n.V)("Visual_LegendShowTitleDescription"),type:{bool:!0}},titleText:{displayName:(0,n.V)("Visual_LegendName"),description:(0,n.V)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},labelColor:{displayName:(0,n.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},fontFamily:{displayName:(0,n.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},fontSize:{displayName:(0,n.V)("Visual_TextSize"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,n.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,n.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,n.V)("Underline"),type:{bool:!0}}}},totals:Q,totalsWithNet:X,zoom:{displayName:(0,n.V)("Visual_ZoomSlider"),properties:{show:{displayName:(0,n.V)("Visual_Show"),type:{bool:!0}},showOnCategoryAxis:{displayName:(0,n.V)("Visual_XAxis"),type:{bool:!0}},categoryMin:{type:{numeric:!0},captureState:!0},categoryMax:{type:{numeric:!0},captureState:!0},categorySize:{type:{numeric:!0},captureState:!0},showOnValueAxis:{displayName:(0,n.V)("Visual_YAxis"),type:{bool:!0}},valueMin:{type:{numeric:!0},captureState:!0},valueMax:{type:{numeric:!0},captureState:!0},valueSize:{type:{numeric:!0},captureState:!0},showLabels:{displayName:(0,n.V)("Visual_ZoomLabels"),type:{bool:!0}},showTooltip:{displayName:(0,n.V)("Visual_ZoomTooltips"),type:{bool:!0}}}},subheader:{displayName:(0,n.V)("Small_Multiples_Title"),description:(0,n.V)("Small_Multiples_Title_Description"),properties:{show:O.show,fontFamily:O.fontFamily,fontSize:O.fontSize,bold:O.bold,italic:O.italic,underline:O.underline,fontColor:O.fontColor,alignment:{displayName:(0,n.V)("Visual_Title_Alignment"),description:(0,n.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},position:{displayName:(0,n.V)("Visual_Position"),type:{enumeration:u.dt}},titleWrap:O.wordWrap}},smallMultiplesLayout:{displayName:(0,n.V)("Small_Multiples_Layout"),description:(0,n.V)("Small_Multiples_Layout_Description"),properties:{layoutType:{displayName:(0,n.V)("Small_Multiples_Layout"),type:{enumeration:B.dt}},rowCount:{displayName:(0,n.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},columnCount:{displayName:(0,n.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},backgroundColor:{displayName:(0,n.V)("Background_Color"),description:(0,n.V)("Small_Multiples_Layout_Background_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},backgroundTransparency:(0,c.pi)((0,c.pi)({},O.transparency),{displayName:(0,n.V)("Small_Multiples_Layout_Background_Transparency")}),gridLineType:{displayName:(0,n.V)("Visual_Gridline_Show"),description:(0,n.V)("Small_Multiples_Layout_Grid_Line_Type_Desc"),type:{enumeration:F.dt}},gridLineColor:(0,c.pi)({},O.lineColor),gridLineWidth:(0,c.pi)((0,c.pi)({},O.strokeWidth),{displayName:(0,n.V)("Visual_Line_Width")}),gridLineStyle:O.lineStyle,gridPadding:{displayName:(0,n.V)("Small_Multiples_Grid_Padding"),type:{numeric:!0}},advancedPaddingOptions:{displayName:(0,n.V)("Small_Multiples_Advanced_Padding"),type:{bool:!0}},columnPaddingInner:{displayName:(0,n.V)("Small_Multiples_Column_Padding_Inner"),type:{numeric:!0}},columnPaddingOuter:{displayName:(0,n.V)("Small_Multiples_Column_Padding_Outer"),type:{numeric:!0}},rowPaddingInner:{displayName:(0,n.V)("Small_Multiples_Row_Padding_Inner"),type:{numeric:!0}},rowPaddingOuter:{displayName:(0,n.V)("Small_Multiples_Row_Padding_Outer"),type:{numeric:!0}}}},error:{displayName:(0,n.V)("Visual_Error_Bars"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{enabled:{displayName:(0,n.V)("Enabled"),type:{bool:!0}},errorRange:{displayName:(0,n.V)("Desktop_FileMenu_Options"),type:{errorRange:{}}},barShow:O.show,barMatchSeriesColor:O.matchSeriesColor,barColor:{displayName:(0,n.V)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWidth:O.width,barBorderColor:O.borderColor,barBorderSize:{displayName:(0,n.V)("Visual_Border_Size"),type:{integer:!0}},shadeShow:O.show,shadeBandStyle:{displayName:(0,n.V)("Visual_Axis_Style"),type:{enumeration:b.uv}},shadeColor:{displayName:(0,n.V)("Visual_Error_BandColor"),type:{fill:{solid:{color:!0}}}},shadeMatchSeriesColor:O.matchSeriesColor,shadeTransparency:O.transparency,markerShape:{displayName:(0,n.V)("Visual_MarkerShape"),type:{enumeration:E.OE}},showMarkerByDefault:{type:{bool:!0}},markerSize:O.markerSize,labelShow:O.show,labelFontFamily:O.fontFamily,labelFontSize:O.fontSize,labelBold:O.bold,labelItalic:O.italic,labelUnderline:O.underline,labelColor:O.color,labelMatchSeriesColor:O.matchSeriesColor,labelFormat:O.errorFormat,labelBackground:O.labelEnableBackground,labelBackgroundColor:O.labelBackgroundColor,labelBackgroundTransparency:O.labelBackgroundTransparency,tooltipShow:(0,c.pi)((0,c.pi)({},O.show),{displayName:(0,n.V)("Visual_ShowInTooltip")}),tooltipFormat:O.errorFormat}},seriesLabels:{displayName:(0,n.V)("Visual_SeriesLabels"),description:(0,n.V)("Visual_SeriesDescription"),properties:{show:{displayName:(0,n.V)("Visual_SeriesLabels"),type:{bool:!0}},showByDefault:{type:{bool:!0}},seriesColor:{displayName:(0,n.V)("Visual_SeriesColor"),type:{fill:{solid:{color:!0}}}},seriesPosition:{displayName:(0,n.V)("Visual_SeriesPosition"),type:{enumeration:A.dt}},enableBackground:O.labelEnableBackground,backgroundColor:O.labelBackgroundColor,backgroundTransparency:O.labelBackgroundTransparency,showAll:{displayName:(0,n.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},textSize:{displayName:(0,n.V)("Visual_SeriesSize"),type:{formatting:{fontSize:!0}}},bold:O.bold,italic:O.italic,underline:O.underline,seriesFontFamily:{displayName:(0,n.V)("Visual_SeriesFontFamily"),type:{formatting:{fontFamily:!0}}},seriesWordWrap:{displayName:(0,n.V)("Visual_WordWrap"),type:{bool:!0}},seriesMaximumWidth:{displayName:(0,n.V)("Visual_Max_Width"),placeHolderText:(0,n.V)("Visual_Auto"),type:{integer:!0}}}}},ee=(0,l.wZ)(J),le={formatString:{objectName:"general",propertyName:"formatString"},smallMultiplesBackgroundColor:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor"},smallMultiplesGridLineColor:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},dynamicLabelEnabled:{objectName:"labels",propertyName:"showDynamicLabels"}},Ne={zoom:{properties:{showOnValueSecAxis:{displayName:(0,n.V)("Visual_Y2Axis"),type:{bool:!0}},valueSecMin:{type:{numeric:!0},captureState:!0},valueSecMax:{type:{numeric:!0},captureState:!0},valueSecSize:{type:{numeric:!0},captureState:!0}}}}},9886:function(ie,ve,v){v.d(ve,{Fw:function(){return V},I8:function(){return P},Sd:function(){return D},bR:function(){return h},hq:function(){return S}});var c=v(1813),l=v(8459),n=v(9921),g=v(4171),V={analyze:"Analyze",explainBy:"ExplainBy",tooltips:"Tooltips"},P={analysis:"analysis",tree:"tree",categoryLabels:"categoryLabels",dataBars:"dataBars",dataLabels:"dataLabels",levelHeader:"levelHeader",insights:"insights"},S={aiEnabled:"aiEnabled",aiMode:"aiMode",axisEnd:"axisEnd",axisStart:"axisStart",barsPerLevel:"barsPerLevel",categoryLabelFontColor:"categoryLabelFontColor",categoryLabelFontFamily:"categoryLabelFontFamily",categoryLabelFontSize:"categoryLabelFontSize",categoryLabelBold:"categoryLabelBold",categoryLabelItalic:"categoryLabelItalic",categoryLabelUnderline:"categoryLabelUnderline",dataLabelFontColor:"dataLabelFontColor",dataLabelFontFamily:"dataLabelFontFamily",dataLabelFontSize:"dataLabelFontSize",dataLabelDisplayUnits:"dataLabelDisplayUnits",dataLabelPrecision:"dataLabelPrecision",dataLabelBold:"dataLabelBold",dataLabelItalic:"dataLabelItalic",dataLabelUnderline:"dataLabelUnderline",defaultClickAction:"defaultClickAction",density:"density",connectorType:"connectorType",dataBarScalingType:"dataBarScalingType",dataBarBackgroundColor:"dataBarBackgroundColor",dataBarWidthPercent:"dataBarWidthPercent",isAINode:"isAINode",levelHeaderBackgroundColor:"levelHeaderBackgroundColor",levelTitleFontColor:"levelTitleFontColor",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontSize:"levelTitleFontSize",levelTitleBold:"levelTitleBold",levelTitleItalic:"levelTitleItalic",levelTitleUnderline:"levelTitleUnderline",levelSubtitleFontColor:"levelSubtitleFontColor",levelSubtitleFontFamily:"levelSubtitleFontFamily",levelSubtitleFontSize:"levelSubtitleFontSize",levelSubtitleBold:"levelSubtitleBold",levelSubtitleItalic:"levelSubtitleItalic",levelSubtitleUnderline:"levelSubtitleUnderline",showSubtitles:"showSubtitles",positiveBarColor:"positiveBarColor",negativeBarColor:"negativeBarColor",accentColor:"accentColor",connectorDefaultColor:"connectorDefaultColor",responsiveLayout:"responsiveLayout",dataBarColor:"dataBarColor",effectiveBarsPerLevel:"effectiveBarsPerLevel"},h={defaultValue:10,minValue:3,maxValue:30};function D(b){var N,f,F,A,k,Y,j,G,I,E=[{name:V.analyze,kind:c.DW.Measure,kindPreference:0,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,l.V)("Role_DisplayName_Target"),description:(0,l.V)("DecompositionTree_Analyze_Tooltip")},{name:V.explainBy,kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_ExplainBy"),description:(0,l.V)("DecompositionTree_ExplainBy_Tooltip"),noDuplicates:!0},{name:V.tooltips,kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Tooltips"),description:(0,l.V)("Role_Tooltips_Description"),joinPredicate:0}],T={select:[{for:{in:V.analyze}},{for:{in:V.tooltips}}]};return{dataRoles:E,dataViewMappings:[{conditions:[(N={},N[V.analyze]={max:1},N)],matrix:{rows:{for:{in:V.explainBy},dataReductionAlgorithm:{topNPerLevel:{count:10,fallbackTopCount:500}}},values:T}}],tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[V.tooltips],supportEnhancedTooltips:!1},objects:(f={general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:g.iD.formatString}}},f[P.analysis]={displayName:(0,l.V)("Analysis"),description:(0,l.V)("Analysis"),properties:(F={},F[S.aiEnabled]={displayName:(0,l.V)("DecompositionTree_Formatting_EnableAI"),description:(0,l.V)("DecompositionTree_Formatting_EnableAI_Tooltip"),type:{bool:!0}},F[S.aiMode]={displayName:(0,l.V)("DecompositionTree_AnalysisType"),description:(0,l.V)("DecompositionTree_AnalysisTypeDescription"),type:{enumeration:(0,n.i)([{displayName:(0,l.V)("DecompositionTree_AnalysisType_Absolute"),value:"absolute"},{displayName:(0,l.V)("DecompositionTree_AnalysisType_Relative"),value:"relative"}])}},F)},f[P.tree]={displayName:(0,l.V)("DecompositionTree_Formatting_Tree"),description:(0,l.V)("DecompositionTree_Formatting_Tree"),properties:(A={},A[S.density]={displayName:(0,l.V)("DecompositionTree_Density"),description:(0,l.V)("DecompositionTree_Density_Description"),type:{enumeration:(0,n.i)([{displayName:(0,l.V)("DecompositionTree_Density_Dense"),value:"dense"},{displayName:(0,l.V)("Default"),value:"default"},{displayName:(0,l.V)("DecompositionTree_Density_Sparse"),value:"sparse"}])}},A[S.accentColor]={displayName:(0,l.V)("DecompositionTree_Formatting_Selected_Line"),description:(0,l.V)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},A[S.connectorDefaultColor]={displayName:(0,l.V)("DecompositionTree_Formatting_Unselected_Line"),description:(0,l.V)("DecompositionTree_Formatting_Deselected_Connectors_Description"),type:{fill:{solid:{color:!0}}}},A[S.connectorType]={displayName:(0,l.V)("Style"),description:(0,l.V)("DecompositionTree_Formatting_ConnectorShape_Tooltip"),type:{enumeration:(0,n.i)([{displayName:(0,l.V)("Default"),value:"curve"},{displayName:(0,l.V)("Visual_StrokeLineJoin_Round"),value:"round"}])}},A[S.responsiveLayout]={displayName:(0,l.V)("Visual_General_ResponsiveLabel"),description:(0,l.V)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},A[S.effectiveBarsPerLevel]={type:{integer:!0}},A[S.barsPerLevel]={displayName:(0,l.V)("DecompositionTree_BarsPerLevel"),description:(0,l.V)("DecompositionTree_BarsPerLevel_Description"),type:{integer:!0}},A[S.defaultClickAction]={displayName:(0,l.V)("DecompositionTree_DefaultAction"),description:(0,l.V)("DecompositionTree_DefaultAction_Description"),type:{enumeration:(0,n.i)([{displayName:(0,l.V)("DecompositionTree_DefaultAction_Filter"),value:"select"},{displayName:(0,l.V)("Collapse"),value:"toggle"}])}},A)},f[P.dataBars]={displayName:(0,l.V)("Visual_Bars_Title"),description:(0,l.V)("Visual_ConditionalFormatting_DataBars"),properties:(k={},k[S.positiveBarColor]={displayName:(0,l.V)("DataBarsDialog_PositiveBar"),description:(0,l.V)("DecompositionTree_Formatting_PositiveBar_Tooltip"),type:{fill:{solid:{color:!0}}}},k[S.negativeBarColor]={displayName:(0,l.V)("DataBarsDialog_NegativeBar"),description:(0,l.V)("DecompositionTree_Formatting_NegativeBar_Tooltip"),type:{fill:{solid:{color:!0}}}},k[S.dataBarBackgroundColor]={displayName:(0,l.V)("DecompositionTree_Formatting_BarBackground"),description:(0,l.V)("DecompositionTree_Formatting_BarBackground_Description"),type:{fill:{solid:{color:!0}}}},k[S.dataBarColor]={displayName:(0,l.V)("DecompositionTree_DataBarColor"),description:(0,l.V)("DecompositionTree_Formatting_DataBarColor_Tooltip"),type:{fill:{solid:{color:!0}}}},k[S.dataBarWidthPercent]={displayName:(0,l.V)("DecompositionTree_Formatting_DataBarSize"),description:(0,l.V)("DecompositionTree_Formatting_DataBarSize"),type:{integer:!0}},k[S.dataBarScalingType]={displayName:(0,l.V)("DecompositionTree_Formatting_ScaleType"),description:(0,l.V)("DecompositionTree_Formatting_ScaleType_Tooltip"),type:{enumeration:(0,n.i)([{displayName:(0,l.V)("DecompositionTree_Formatting_ScaleType_TopNode"),value:"topNode"},{displayName:(0,l.V)("DecompositionTree_Formatting_ScaleType_ParentNode"),value:"parentNode"},{displayName:(0,l.V)("DecompositionTree_Formatting_ScaleType_LevelMaximum"),value:"levelMaximum"}])}},k[S.axisStart]=g.iD.axisStart,k[S.axisEnd]=g.iD.axisEnd,k)},f[P.categoryLabels]={displayName:(0,l.V)("Visual_CategoryLabels"),description:(0,l.V)("DecompositionTree_Formatting_CategoryLabels_Description"),properties:(Y={},Y[S.categoryLabelFontFamily]=g.iD.fontFamily,Y[S.categoryLabelFontSize]=g.iD.fontSize,Y[S.categoryLabelBold]=g.iD.bold,Y[S.categoryLabelItalic]=g.iD.italic,Y[S.categoryLabelUnderline]=g.iD.underline,Y[S.categoryLabelFontColor]=g.iD.fontColor,Y)},f[P.dataLabels]={displayName:(0,l.V)("Visual_Tablix_Values"),description:(0,l.V)("DecompositionTree_Formatting_ValueLabels_Description"),properties:(j={},j[S.dataLabelFontFamily]=g.iD.fontFamily,j[S.dataLabelFontSize]=g.iD.fontSize,j[S.dataLabelBold]=g.iD.bold,j[S.dataLabelItalic]=g.iD.italic,j[S.dataLabelUnderline]=g.iD.underline,j[S.dataLabelFontColor]=g.iD.fontColor,j[S.dataLabelDisplayUnits]=g.iD.labelDisplayUnits,j[S.dataLabelPrecision]=g.iD.labelPrecision,j)},f[P.levelHeader]={displayName:(0,l.V)("Header_Plural"),description:(0,l.V)("DecompositionTree_Formatting_TreeHeader_Description"),properties:(G={},G[S.levelHeaderBackgroundColor]={displayName:(0,l.V)("Generic_Color"),description:(0,l.V)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},G[S.levelTitleFontFamily]={displayName:(0,l.V)("DecompositionTree_Formatting_LevelTitle_FontFamily"),description:(0,l.V)("DecompositionTree_Formatting_LevelTitle_FontFamily"),type:{formatting:{fontFamily:!0}}},G[S.levelTitleFontSize]={displayName:(0,l.V)("DecompositionTree_Formatting_LevelTitle_FontSize"),description:(0,l.V)("DecompositionTree_Formatting_LevelTitle_FontSize"),type:{formatting:{fontSize:!0}}},G[S.levelTitleBold]=g.iD.bold,G[S.levelTitleItalic]=g.iD.italic,G[S.levelTitleUnderline]=g.iD.underline,G[S.levelTitleFontColor]={displayName:(0,l.V)("Generic_Color"),description:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},G[S.showSubtitles]={displayName:(0,l.V)("DecompositionTree_Formatting_ShowSubtitles"),description:(0,l.V)("DecompositionTree_Formatting_ShowSubtitles"),type:{bool:!0}},G[S.levelSubtitleFontFamily]={displayName:(0,l.V)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),description:(0,l.V)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),type:{formatting:{fontFamily:!0}}},G[S.levelSubtitleFontSize]={displayName:(0,l.V)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),description:(0,l.V)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),type:{formatting:{fontSize:!0}}},G[S.levelSubtitleBold]=g.iD.bold,G[S.levelSubtitleItalic]=g.iD.italic,G[S.levelSubtitleUnderline]=g.iD.underline,G[S.levelSubtitleFontColor]={displayName:(0,l.V)("Generic_Color"),description:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},G)},f[P.insights]={properties:(I={},I[S.isAINode]={type:{bool:!0}},I)},f),drilldown:{suppresDrillOperations:!0},expandCollapse:{roles:[V.explainBy],addDataViewFlags:{defaultValue:!0},supportsMerge:!0,restoreProjectionsOrderFromBookmark:!0,addDataViewExpansionState:!0,collapseParentAfterRemovingChildLevel:!0},filterMappings:{measureFilter:{targetRoles:[V.explainBy]}},sorting:{default:{}},suppressDefaultTitle:!0,supportsHighlight:!0,supportsSelection:!0,supportsKeyboardFocus:!0,noDefaultProjections:!0,keepAllMetadataColumns:!0,insights:{decomposition:{analyzeRole:V.analyze,explainByRole:V.explainBy,enableAIProperty:{objectName:P.analysis,propertyName:S.aiEnabled},highlightedAIMatrixNode:{objectName:P.insights,propertyName:S.isAINode},analysisType:{objectName:P.analysis,propertyName:S.aiMode}},ignoreHighlightFilter:!0}}}},7004:function(ie,ve,v){v.d(ve,{V9:function(){return b},cw:function(){return N}});var c=v(3188),l=v(6274),n=v(1813),g=v(8459),V=v(3806),P=v(5834),S=v(8970),h=v(4171),b=(0,l.wZ)(N().objects);function N(f){return{dataRoles:[{name:"Category",kind:n.DW.Grouping,displayName:(0,g.V)("Role_DisplayName_Legend"),displayOrder:1,description:(0,g.V)("Role_DisplayName_LegendDescription")},{name:"Series",kind:n.DW.Grouping,displayName:(0,g.V)("Details"),displayOrder:null!=f&&f.useModernFormatPane?3:2,description:(0,g.V)("Role_DisplayName_DetailsDonutChartDescription")},{name:"Y",kind:n.DW.Measure,displayName:(0,g.V)("Role_DisplayName_Values"),displayOrder:null!=f&&f.useModernFormatPane?2:3,description:(0,g.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:"Tooltips",kind:n.DW.Measure,displayName:(0,g.V)("Role_DisplayName_Tooltips"),displayOrder:4,description:(0,g.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:(0,g.V)("Visual_General"),properties:{formatString:h.iD.formatString}},legend:h.TQ.legend,dataPoint:{displayName:(0,g.V)("Visual_DataPoint"),description:(0,g.V)("Visual_DataPointDescription"),properties:{defaultColor:h.iD.defaultColor,fill:h.iD.fill}},labels:{displayName:(0,g.V)("Visual_DetailLabels"),properties:{show:h.iD.show,color:h.iD.dataColor,labelDisplayUnits:h.iD.dataLabelDisplayUnits,labelPrecision:(0,c.pi)((0,c.pi)({},h.iD.labelPrecision),{suppressFormatPainterCopy:!0}),percentageLabelPrecision:(0,c.pi)((0,c.pi)({},h.iD.percentageLabelPrecision),{suppressFormatPainterCopy:!0}),fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,labelStyle:{displayName:(0,g.V)("Visual_LabelStyle"),type:{enumeration:S.dt}},position:{displayName:(0,g.V)("Visual_DonutLabelPosition"),type:{enumeration:P.dt}},overflow:{displayName:(0,g.V)("Visual_LabelOverflow"),type:{bool:!0}},background:{displayName:(0,g.V)("Visual_Background"),type:{enumeration:V.dt}}}},slices:{displayName:(0,g.V)("Visual_Shapes"),description:(0,g.V)("Visual_ShapesDescription"),properties:{innerRadiusRatio:{displayName:(0,g.V)("Visual_DonutInnerRadius"),type:{integer:!0}},startAngle:{displayName:(0,g.V)("Visual_DonutStartAngle"),type:{integer:!0}},borderWidth:{displayName:(0,g.V)("Visual_DonutBorderWidth"),type:{integer:!0}},borderColor:{displayName:(0,g.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},explode:{displayName:(0,g.V)("Visual_DonutExplode"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2},supported:{min:1}}}}],sorting:{default:{}},supportsHighlight:!0,drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Category",groupSourceTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},Y:{min:1},Series:{max:0}},groupingTargetRole:"Category",kind:1},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{max:1}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}},6462:function(ie,ve,v){v.d(ve,{Vh:function(){return D},XN:function(){return S}});var c=v(1813),l=v(8459),n=v(1207),g=v(7350),V=v(4171);function S(b){return{dataRoles:h(b&&b.cartesianConditionalFormatting),objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:V.iD.formatString}},legend:V.TQ.legend,dataPoint:{displayName:(0,l.V)("Visual_DataPoint"),description:(0,l.V)("Visual_DataPointDescription"),properties:{defaultColor:V.iD.defaultColor,showAllDataPoints:V.iD.showAllDataPoints,fill:V.iD.defaultCategoryColor,fillRule:{displayName:(0,l.V)("Role_DisplayName_Values"),description:(0,l.V)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:"Size",output:{property:"fill",selector:["Category"]}}},transparency:V.iD.transparency}},labels:{displayName:(0,l.V)("Visual_DataPointsLabels"),properties:{show:V.iD.show,color:V.iD.dataColor,labelDisplayUnits:V.iD.labelDisplayUnits,labelPrecision:V.iD.labelPrecision}},categoryLabels:{displayName:(0,l.V)("Visual_CategoryLabels"),properties:{show:V.iD.show}},mapControls:{displayName:(0,l.V)("Visual_MapControls"),description:(0,l.V)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,l.V)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,l.V)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,l.V)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,l.V)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,l.V)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,l.V)("Visual_MapGeocodingCulture"),type:{enumeration:g.dt}}}},mapStyles:{displayName:(0,l.V)("Visual_MapStyles"),description:(0,l.V)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,l.V)("Visual_MapTheme"),type:{enumeration:n.dt}},showLabels:{displayName:(0,l.V)("Visual_MapShowLabels"),type:{bool:!0}}}},stroke:{displayName:"Shape outline",properties:{show:V.iD.show,strokeColor:{displayName:(0,l.V)("Visual_LabelsFill"),type:{fill:{solid:{color:!0}}}},strokeWidth:V.iD.strokeWidth}}},dataViewMappings:[{conditions:[{Category:{},Series:{max:1},X:{min:1,max:1},Y:{max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{min:1,max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Tooltips:{min:1}},{Category:{},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:"Size",direction:2}]}},drilldown:{roles:["Category"]},supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0}}}function h(b){var N=[{name:"Category",kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Location"),description:(0,l.V)("Role_DisplayName_LocationFilledMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:"Series",kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Legend"),description:(0,l.V)("Role_DisplayName_LegendDescription")},{name:"Y",kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Latitude"),description:(0,l.V)("Role_DisplayName_LatitudeFilledMapDescription"),preferredTypes:[{geography:{latitude:!0}}]},{name:"X",kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Longitude"),description:(0,l.V)("Role_DisplayName_LongitudeFilledMapDescription"),preferredTypes:[{geography:{longitude:!0}}]}];return b||N.push({name:"Size",kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Gradient"),description:(0,l.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}),N.push({name:"Tooltips",kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Tooltips"),description:(0,l.V)("Role_Tooltips_Description"),joinPredicate:0}),N}var D={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},stroke:{show:{objectName:"stroke",propertyName:"show"},color:{objectName:"stroke",propertyName:"strokeColor"},width:{objectName:"stroke",propertyName:"strokeWidth"}}}},8797:function(ie,ve,v){v.d(ve,{jP:function(){return D},qW:function(){return b}});var c=v(3188),l=v(6274),n=v(1813),g=v(8459),V=v(931),P=v(8932),S=v(4171),h={category:"Category",y:"Y",gradient:"Gradient",tooltips:"Tooltips"},D=(0,l.wZ)(b().objects);function b(N){return{dataRoles:[{name:h.category,kind:n.DW.Grouping,displayName:(0,g.V)(null!=N&&N.useModernFormatPane?"Role_DisplayName_Category":"Group"),description:(0,g.V)("Role_DisplayName_GroupFunnelDescription")},{name:h.y,kind:n.DW.Measure,displayName:(0,g.V)("Role_DisplayName_Values"),description:(0,g.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},!(null!=N&&N.cartesianConditionalFormatting)&&{name:h.gradient,kind:n.DW.Measure,displayName:(0,g.V)("Role_DisplayName_Gradient"),description:(0,g.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0},{name:h.tooltips,kind:n.DW.Measure,displayName:(0,g.V)("Role_DisplayName_Tooltips"),description:(0,g.V)("Role_Tooltips_Description"),joinPredicate:0}].filter(function(f){return f}),dataViewMappings:[{conditions:[{Category:{max:0},Gradient:{max:0}},{Category:{max:1},Y:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:"Y"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},rowCount:{preferred:{min:1}}}}],objects:{general:{displayName:(0,g.V)("Visual_General"),properties:{formatString:S.iD.formatString}},categoryAxis:{displayName:(0,g.V)("Visual_CategoryLabels"),description:(0,g.V)("Visual_CategoryLabelOptionsDescription"),properties:{show:S.iD.show,color:S.iD.categoryColor,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,fontFamily:S.iD.fontFamily}},dataPoint:{displayName:(0,g.V)("Visual_DataPoint"),description:(0,g.V)("Visual_DataPointDescription"),properties:{defaultColor:S.iD.defaultColor,showAllDataPoints:S.iD.showAllDataPoints,fill:S.iD.defaultCategoryColor,fillRule:{displayName:(0,g.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},labels:{displayName:(0,g.V)("Visual_DataPointsLabels"),description:(0,g.V)("Visual_DataPointsLabelsDescription"),properties:{show:S.iD.show,color:S.iD.dataColor,enableBackground:S.iD.labelEnableBackground,backgroundColor:S.iD.labelBackgroundColor,backgroundTransparency:S.iD.labelBackgroundTransparency,labelPosition:{displayName:(0,g.V)("Visual_Position"),type:{enumeration:P.dt},suppressFormatPainterCopy:!0},labelDisplayUnits:S.iD.dataLabelDisplayUnits,labelPrecision:(0,c.pi)((0,c.pi)({},S.iD.labelPrecision),{suppressFormatPainterCopy:!0}),percentageLabelPrecision:(0,c.pi)((0,c.pi)({},S.iD.percentageLabelPrecision),{suppressFormatPainterCopy:!0}),fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,fontFamily:S.iD.fontFamily,funnelLabelStyle:{displayName:(0,g.V)("Visual_LabelStyle"),type:{enumeration:V.dt}}}},percentBarLabel:{displayName:(0,g.V)("Visual_PercentBarLabel"),description:(0,g.V)("Visual_PercentBarLabelDescription"),properties:{show:S.iD.show,color:S.iD.dataColor,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,fontFamily:S.iD.fontFamily}}},supportsHighlight:!0,supportsKeyboardFocus:!0,sorting:{default:{}},drilldown:{roles:["Category"]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0}}},915:function(ie,ve,v){v.d(ve,{J1:function(){return V},Vd:function(){return g},qJ:function(){return P}});var c=v(1813),l=v(8459),n=v(4171),g={y:"Y",minValue:"MinValue",maxValue:"MaxValue",targetValue:"TargetValue",tooltips:"Tooltips"},V={dataRoles:[{name:g.y,kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Value"),description:(0,l.V)("Role_DisplayName_ValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:g.minValue,kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_MinValue"),description:(0,l.V)("Role_DisplayName_MinValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:g.maxValue,kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_MaxValue"),description:(0,l.V)("Role_DisplayName_MaxValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:g.targetValue,kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_TargetValue"),description:(0,l.V)("Role_DisplayName_TargetValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:"Tooltips",kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Tooltips"),description:(0,l.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{properties:{formatString:n.iD.formatString}},axis:{displayName:(0,l.V)("Visual_Gauge_Axis"),properties:{min:{displayName:(0,l.V)("Min"),placeHolderText:(0,l.V)("Visual_Auto"),type:{numeric:!0}},max:{displayName:(0,l.V)("Max"),placeHolderText:(0,l.V)("Visual_Auto"),type:{numeric:!0}},target:{displayName:(0,l.V)("Visual_Gauge_Axis_Target"),placeHolderText:(0,l.V)("Visual_Auto"),type:{numeric:!0}}}},dataPoint:{displayName:(0,l.V)("Visual_DataPoint"),properties:{fill:n.iD.fill,target:{displayName:(0,l.V)("Visual_Gauge_Axis_TargetColor"),type:{fill:{solid:{color:!0}}}}}},labels:{displayName:(0,l.V)("Visual_DataPointsLabels"),properties:{show:n.iD.show,color:n.iD.dataColor,labelDisplayUnits:n.iD.labelDisplayUnits,labelPrecision:n.iD.labelPrecision,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,fontFamily:n.iD.fontFamily}},target:{displayName:(0,l.V)("Visual_Gauge_Axis_Target"),properties:{show:n.iD.show,color:n.iD.dataColor,labelDisplayUnits:n.iD.labelDisplayUnits,labelPrecision:n.iD.labelPrecision,fontSize:n.iD.fontSize,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,fontFamily:n.iD.fontFamily}},calloutValue:{displayName:(0,l.V)("Visual_Gauge_CalloutValue"),properties:{show:n.iD.show,color:n.iD.dataColor,fontFamily:n.iD.fontFamily,bold:n.iD.bold,italic:n.iD.italic,underline:n.iD.underline,labelDisplayUnits:n.iD.labelDisplayUnits,labelPrecision:n.iD.labelPrecision,showDynamicLabels:n.iD.showDynamicLabels,dynamicLabelValue:n.iD.dynamicLabelValue}}},dataViewMappings:[{conditions:[{Y:{max:1},MinValue:{max:1},MaxValue:{max:1},TargetValue:{max:1}}],categorical:{values:{select:[{bind:{to:"Y"}},{bind:{to:"MinValue"}},{bind:{to:"MaxValue"}},{bind:{to:"TargetValue"}},{for:{in:"Tooltips"}}]}}}],supportsSelection:!1,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0},P={general:{formatString:{objectName:"general",propertyName:"formatString"}},axis:{min:{objectName:"axis",propertyName:"min"},max:{objectName:"axis",propertyName:"max"},target:{objectName:"axis",propertyName:"target"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"},target:{objectName:"dataPoint",propertyName:"target"}},target:{show:{objectName:"target",propertyName:"show"},labelDisplayUnits:{objectName:"target",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"target",propertyName:"labelPrecision"},fontSize:{objectName:"target",propertyName:"fontSize"},fontFamily:{objectName:"target",propertyName:"fontFamily"},color:{objectName:"target",propertyName:"color"},bold:{objectName:"target",propertyName:"bold"},italic:{objectName:"target",propertyName:"italic"},underline:{objectName:"target",propertyName:"underline"}},labels:{show:{objectName:"labels",propertyName:"show"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},color:{objectName:"labels",propertyName:"color"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"}},calloutValue:{show:{objectName:"calloutValue",propertyName:"show"},color:{objectName:"calloutValue",propertyName:"color"},labelDisplayUnits:{objectName:"calloutValue",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"calloutValue",propertyName:"labelPrecision"},fontFamily:{objectName:"calloutValue",propertyName:"fontFamily"},bold:{objectName:"calloutValue",propertyName:"bold"},italic:{objectName:"calloutValue",propertyName:"italic"},underline:{objectName:"calloutValue",propertyName:"underline"},showDynamicLabels:{objectName:"calloutValue",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"calloutValue",propertyName:"dynamicLabelValue"}}}},2570:function(ie,ve,v){v.d(ve,{Jz:function(){return P},_g:function(){return V}});var c=v(6274),l=v(8459),n=v(1689),g={general:{properties:{imageUrl:{type:{misc:{imageUrl:!0}},suppressFormatPainterCopy:!0}}},imageScaling:{displayName:(0,l.V)("Visual_Image_Scaling_Type"),properties:{imageScalingType:{displayName:(0,l.V)("Visual_Image_Scaling_Type"),type:{enumeration:n.dt}}}}},V=(0,c.wZ)(g),P={objects:g,suppressDefaultTitle:!0,supportsSelection:!1,supportsVisualLink:!0,disableFormatMode:!0}},3979:function(ie,ve,v){v.d(ve,{Pn:function(){return h},Te:function(){return N},pW:function(){return b},xg:function(){return f}});var c=v(6274),l=v(1813),n=v(8459),g=v(7746),V=v(6449),P=v(8014),S=v(4171),h={indicator:"Indicator",trendLine:"TrendLine",goal:"Goal"};function D(F){var A=F&&F.useModernFormatPane;return[{name:h.indicator,kind:l.DW.Measure,displayName:(0,n.V)(A?"KpiValueFieldListDisplayName":"Role_DisplayName_KPI_Indicator"),description:(0,n.V)("Role_DisplayName_KPI_IndicatorDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:h.trendLine,kind:l.DW.Grouping,displayName:(0,n.V)("Role_DisplayName_KPI_TrendLine"),description:(0,n.V)("Role_DisplayName_KPI_Trendline_Description")},{name:h.goal,kind:l.DW.Measure,displayName:(0,n.V)(A?"Target":"Role_DisplayName_KPI_Goal"),description:(0,n.V)("Role_DisplayName_KPI_GoalDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}]}function b(F){return{dataRoles:D(F),dataViewMappings:[{conditions:[{Indicator:{max:1},TrendLine:{max:1},Goal:{max:2}}],categorical:{categories:{for:{in:"TrendLine"},dataReductionAlgorithm:{bottom:{}}},values:{select:[{bind:{to:"Indicator"}},{bind:{to:"Goal"}}]}}}],objects:{general:{displayName:(0,n.V)("Visual_General"),properties:{formatString:S.iD.formatString}},indicator:{displayName:(0,n.V)("Role_DisplayName_KPI_Indicator"),description:(0,n.V)("Role_DisplayName_KPI_IndicatorDescription"),properties:{indicatorDisplayUnits:{displayName:(0,n.V)("Visual_DisplayUnits"),description:(0,n.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},indicatorPrecision:S.iD.labelPrecision,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,fontFamily:S.iD.fontFamily,fontColor:S.iD.fontColor,showIcon:S.iD.showIcon,iconSize:S.iD.iconSize,verticalAlignment:{displayName:(0,n.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:{displayName:(0,n.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}}}},trendline:{displayName:(0,n.V)("Role_DisplayName_KPI_TrendLine"),description:(0,n.V)("Role_DisplayName_KPI_Trendline_Description"),properties:{show:S.iD.show,transparency:S.iD.transparency}},goals:{displayName:(0,n.V)("Role_DisplayName_KPI_Goals"),description:(0,n.V)("Role_DisplayName_KPI_Goals"),properties:{showGoal:{displayName:(0,n.V)("Role_DisplayName_KPI_Show_Goal"),type:{bool:!0}},goalText:{displayName:(0,n.V)("Role_DisplayName_Label"),type:{text:!0}},fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,goalFontFamily:S.iD.fontFamily,goalFontColor:S.iD.fontColor,showDistance:{displayName:(0,n.V)("Distance"),type:{bool:!0}},distanceLabel:{displayName:(0,n.V)("Role_DisplayName_Label"),type:{enumeration:P.dt}},labelPrecision:S.iD.labelPrecision,titleFontSize:S.iD.fontSize,titleBold:S.iD.bold,titleItalic:S.iD.italic,titleUnderline:S.iD.underline,distanceFontFamily:S.iD.fontFamily,distanceFontColor:S.iD.fontColor,direction:{displayName:(0,n.V)("Visual_KPI_DistanceDirection"),type:{enumeration:V.dt}}}},status:{displayName:(0,n.V)("Role_DisplayName_KPI_Color_Coding"),description:(0,n.V)("Role_DisplayName_KPI_Color_Coding"),properties:{direction:{displayName:(0,n.V)("Visual_KPI_Direction"),type:{enumeration:g.dt}},goodColor:{displayName:(0,n.V)("Visual_KPI_Good_Color"),type:{fill:{solid:{color:!0}}}},neutralColor:{displayName:(0,n.V)("Visual_KPI_Neutral_Color"),type:{fill:{solid:{color:!0}}}},badColor:{displayName:(0,n.V)("Visual_KPI_Bad_Color"),type:{fill:{solid:{color:!0}}}}}},lastDate:{displayName:(0,n.V)("ConditionalFormattingDialog_Date"),description:(0,n.V)("Role_DisplayName_KPI_Date_Description"),properties:{show:S.iD.show,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,lastDateFontFamily:S.iD.fontFamily,lastDateFontColor:S.iD.fontColor}}},sorting:{custom:{},implicit:{clauses:[{role:"TrendLine",direction:1}]}},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0}}var N=(0,c.wZ)(b().objects),f={directionTypeStringProp:{objectName:"status",propertyName:"direction"},goodColorProp:{objectName:"status",propertyName:"goodColor"},neutralColorProp:{objectName:"status",propertyName:"neutralColor"},badColorProp:{objectName:"status",propertyName:"badColor"},showKPIGoal:{objectName:"goals",propertyName:"showGoal"},showKPIDistance:{objectName:"goals",propertyName:"showDistance"},showKPITrendLine:{objectName:"trendline",propertyName:"show"},showKPILastDate:{objectName:"lastDate",propertyName:"show"},indicatorDisplayUnitsProp:{objectName:"indicator",propertyName:"indicatorDisplayUnits"},indicatorPrecisionProp:{objectName:"indicator",propertyName:"indicatorPrecision"},indicatorFontSizeProp:{objectName:"indicator",propertyName:"fontSize"},indicatorBoldProp:{objectName:"indicator",propertyName:"bold"},indicatorItalicProp:{objectName:"indicator",propertyName:"italic"},indicatorUnderlineProp:{objectName:"indicator",propertyName:"underline"},indicatorFontFamilyProp:{objectName:"indicator",propertyName:"fontFamily"},indicatorFontColorProp:{objectName:"indicator",propertyName:"fontColor"},indicatorIconSizeProp:{objectName:"indicator",propertyName:"iconSize"},indicatorIconShowIconProp:{objectName:"indicator",propertyName:"showIcon"},indicatorTransparencyProp:{objectName:"trendline",propertyName:"transparency"},indicatorHorizontalAlignmentProp:{objectName:"indicator",propertyName:"horizontalAlignment"},indicatorVerticalAlignmentProp:{objectName:"indicator",propertyName:"verticalAlignment"},goalTextProp:{objectName:"goals",propertyName:"goalText"},goalFontSizeProp:{objectName:"goals",propertyName:"fontSize"},goalBoldProp:{objectName:"goals",propertyName:"bold"},goalItalicProp:{objectName:"goals",propertyName:"italic"},goalUnderlineProp:{objectName:"goals",propertyName:"underline"},goalFontFamilyProp:{objectName:"goals",propertyName:"goalFontFamily"},goalFontColorProp:{objectName:"goals",propertyName:"goalFontColor"},distanceLabelProp:{objectName:"goals",propertyName:"distanceLabel"},distancePrecisionProp:{objectName:"goals",propertyName:"labelPrecision"},distanceFontSizeProp:{objectName:"goals",propertyName:"titleFontSize"},distanceBoldProp:{objectName:"goals",propertyName:"titleBold"},distanceItalicProp:{objectName:"goals",propertyName:"titleItalic"},distanceUnderlineProp:{objectName:"goals",propertyName:"titleUnderline"},distanceFontFamilyProp:{objectName:"goals",propertyName:"distanceFontFamily"},distanceFontColorProp:{objectName:"goals",propertyName:"distanceFontColor"},distanceDirectionTypeStringProp:{objectName:"goals",propertyName:"direction"},lastDateFontSizeProp:{objectName:"lastDate",propertyName:"fontSize"},lastDateBoldProp:{objectName:"lastDate",propertyName:"bold"},lastDateItalicProp:{objectName:"lastDate",propertyName:"italic"},lastDateUnderlineProp:{objectName:"lastDate",propertyName:"underline"},lastDateFontFamilyProp:{objectName:"lastDate",propertyName:"lastDateFontFamily"},lastDateFontColorProp:{objectName:"lastDate",propertyName:"lastDateFontColor"}}},7094:function(ie,ve,v){v.d(ve,{BX:function(){return m},qn:function(){return j},yg:function(){return G},zK:function(){return E}});var c=v(3188),l=v(8955),n=v(6274),g=v(1813),V=v(8459),P=v(5122),S=v(6986),h=v(4933),D=v(2323),b=v(8932),N=v(591),f=v(8926),F=v(4171),A=v(1431),k=v(7123);function Y(R,w,B){var C;return void 0===B&&(B=!1),(0,c.pi)((0,c.pi)(((C={general:{displayName:(0,V.V)("Visual_General"),properties:{formatString:F.iD.formatString,responsive:F.iD.responsive,responsiveLegacy:F.iD.responsiveLegacy}},legend:{displayName:F.TQ.legend.displayName,description:F.TQ.legend.description,properties:(0,c.pi)((0,c.pi)({},F.TQ.legend.properties),{legendMarkerRendering:F.iD.legendMarkerRendering,defaultToCircle:F.iD.defaultToCircle,matchLineColor:F.iD.matchLineColor})},subheader:(0,c.pi)({},F.TQ.subheader)})[P.Xi]=(0,c.pi)({},F.TQ.smallMultiplesLayout),C.categoryAxis={displayName:(0,V.V)("Visual_XAxis"),properties:(0,c.pi)((0,c.pi)({show:F.iD.show,start:F.iD.axisStart,end:F.iD.axisEnd,axisType:F.iD.axisType,showAxisTitle:{displayName:(0,V.V)("Visual_Axis_Title"),description:(0,V.V)("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:F.iD.axisStyle,labelColor:F.iD.labelColor,fontFamily:F.iD.fontFamily,fontSize:F.iD.fontSize,bold:F.iD.bold,italic:F.iD.italic,underline:F.iD.underline,invertAxis:F.iD.invertAxis,labelDisplayUnits:F.iD.labelDisplayUnits,labelPrecision:F.iD.labelPrecision,logAxisScale:F.iD.logAxisScale,concatenateLabels:{displayName:(0,V.V)("Visual_Axis_ConcatenateLabels"),description:(0,V.V)("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},preferredCategoryWidth:F.iD.preferredCategoryWidth,maxMarginFactor:F.iD.maxMarginFactor},(R&&w||B)&&{reverseStackOrder:F.iD.reverseStackOrder}),{titleColor:F.iD.titleColor,titleFontFamily:F.iD.fontFamily,titleFontSize:F.iD.titleFontSize,titleBold:F.iD.bold,titleItalic:F.iD.italic,titleUnderline:F.iD.underline,titleText:F.iD.titleText,gridlineShow:(0,c.pi)((0,c.pi)({},F.iD.show),{displayName:(0,V.V)("Visual_Gridline_Show")}),gridlineColor:F.iD.lineColor,gridlineThickness:F.iD.strokeWidth,gridlineStyle:F.iD.lineStyle})},C.valueAxis={displayName:(0,V.V)("Visual_YAxis"),properties:{show:F.iD.show,start:F.iD.axisStart,end:F.iD.axisEnd,invertAxis:F.iD.invertAxis,sharedAxis:F.iD.sharedAxis,scaleToFit:F.iD.scaleToFit,showAxisTitle:{displayName:(0,V.V)("Visual_Axis_Title"),description:(0,V.V)("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:F.iD.axisStyle,labelColor:F.iD.labelColor,fontFamily:F.iD.fontFamily,fontSize:F.iD.fontSize,bold:F.iD.bold,italic:F.iD.italic,underline:F.iD.underline,labelDisplayUnits:F.iD.labelDisplayUnits,labelPrecision:F.iD.labelPrecision,logAxisScale:F.iD.logAxisScale,titleColor:F.iD.titleColor,titleFontFamily:F.iD.fontFamily,titleFontSize:F.iD.titleFontSize,titleBold:F.iD.bold,titleItalic:F.iD.italic,titleUnderline:F.iD.underline,titleText:F.iD.titleText,gridlineShow:(0,c.pi)((0,c.pi)({},F.iD.show),{displayName:(0,V.V)("Visual_Gridline_Show")}),gridlineColor:F.iD.lineColor,gridlineThickness:F.iD.strokeWidth,gridlineStyle:F.iD.lineStyle,switchAxisPosition:F.iD.switchAxisPosition}},C.y2Axis={displayName:(0,V.V)("Visual_Y2Axis"),properties:(0,c.pi)({show:F.iD.show},_.omit(F.sJ,["alignZeros","switchAxisPosition","secShow"]))},C.zoom={displayName:F.TQ.zoom.displayName,properties:(0,c.pi)((0,c.pi)({},F.TQ.zoom.properties),F.DW.zoom.properties)},C.dataPoint={displayName:(0,V.V)("Visual_DataPoint"),description:(0,V.V)("Visual_DataPointDescription"),properties:{transparency:{displayName:(0,V.V)("Visual_AreaTransparency"),type:{numeric:!0}},defaultColor:F.iD.defaultColor,fill:F.iD.defaultDataPointColor,showAllDataPoints:F.iD.showAllDataPoints}},C.layout={displayName:(0,V.V)("Small_Multiples_LayoutGroup"),properties:(0,c.pi)({},(R&&w||B)&&{seriesOrderReversed:F.iD.seriesOrderReversed})},C.labels={displayName:(0,V.V)("Visual_DataPointsLabels"),description:(0,V.V)("Visual_DataPointsLabelsDescription"),properties:{show:F.iD.show,showByDefault:{type:{bool:!0}},showSeries:{displayName:(0,V.V)("Visual_Show"),type:{bool:!0}},color:F.iD.dataColor,labelDisplayUnits:F.iD.dataLabelDisplayUnits,valueCustomFormatString:F.iD.dataLabelCustomFormatString,labelPrecision:(0,c.pi)((0,c.pi)({},F.iD.labelPrecision),{suppressFormatPainterCopy:!0}),labelPosition:{displayName:(0,V.V)("Visual_Position"),type:{enumeration:b.dt}},enableBackground:F.iD.labelEnableBackground,backgroundColor:F.iD.labelBackgroundColor,backgroundTransparency:F.iD.labelBackgroundTransparency,showAll:{displayName:(0,V.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:F.iD.fontSize,bold:F.iD.bold,italic:F.iD.italic,underline:F.iD.underline,fontFamily:F.iD.fontFamily,labelDensity:{displayName:(0,V.V)("Visual_LabelDensity"),type:{integer:!0}},showDynamicLabels:F.iD.showDynamicLabels,dynamicLabelValue:F.iD.dynamicLabelValue,leaderLines:F.iD.leaderLines,maximumOffset:F.iD.maximumOffset,minimumOffset:F.iD.minimumOffset,enableValueDataLabel:{type:{bool:!0}},showBlankAs:F.iD.showBlankAs,transparency:F.iD.transparency,titleBold:F.iD.bold,titleColor:F.iD.dataColor,titleContentType:{displayName:(0,V.V)("Content"),type:{enumeration:k.D}},enableTitleDataLabel:{type:{bool:!0}},titleFontFamily:F.iD.fontFamily,titleFontSize:F.iD.fontSize,dynamicLabelTitle:F.iD.dynamicLabelValue,titleItalic:F.iD.italic,titleTransparency:F.iD.transparency,titleLabelDisplayUnits:F.iD.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:F.iD.dataLabelCustomFormatString,titleLabelPrecision:F.iD.labelPrecision,titleUnderline:F.iD.underline,titleShowBlankAs:F.iD.showBlankAs,detailBold:F.iD.bold,detailColor:F.iD.dataColor,dynamicLabelDetail:F.iD.dynamicLabelValue,enableDetailDataLabel:{type:{bool:!0}},detailFontFamily:F.iD.fontFamily,detailFontSize:F.iD.fontSize,detailItalic:F.iD.italic,detailTransparency:F.iD.transparency,detailUnderline:F.iD.underline,detailShowBlankAs:F.iD.showBlankAs,detailLabelDisplayUnits:F.iD.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:F.iD.dataLabelCustomFormatString,detailLabelPrecision:F.iD.labelPrecision}},C),(R||B)&&{totals:F.TQ.totals}),{seriesLabels:F.TQ.seriesLabels,lineStyles:{displayName:(0,V.V)("Visual_Shapes"),description:(0,V.V)("Visual_ShapesDescription"),properties:{strokeWidth:F.iD.strokeWidth,strokeLineJoin:F.iD.strokeLineJoin,lineStyle:F.iD.lineStyle,showMarker:F.iD.showMarker,showMarkerByDefault:{type:{bool:!0}},markerShape:F.iD.markerShape,markerSize:F.iD.markerSize,markerColor:F.iD.markerColor,stepped:F.iD.stepped,showSeries:{displayName:(0,V.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},lineChartType:{displayName:(0,V.V)("Visual_Line_Type"),description:(0,V.V)("Visual_Line_Type_Description"),type:{enumeration:N.dt}}}},plotArea:{displayName:(0,V.V)("Visual_Plot"),properties:{transparency:F.iD.transparency,image:F.iD.image}},trend:{displayName:(0,V.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:F.iD.show,displayName:F.iD.trendlineDisplayName,lineColor:F.iD.trendlineColor,transparency:F.iD.trendlineTransparency,style:F.iD.trendlineStyle,combineSeries:F.iD.trendlineCombineSeries,useHighlightValues:F.iD.trendlineUseHighlightValues}},scalarKey:{properties:{min:{type:{dateTime:!0}}}},y1AxisReferenceLine:{displayName:(0,V.V)("Visual_Reference_Line_Y"),description:(0,V.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:F.iD.show,displayName:F.iD.referenceLineDisplayName,value:F.iD.referenceLineValue,lineColor:F.iD.referenceLineColor,transparency:F.iD.referenceLineTransparency,style:F.iD.lineStyle,position:F.iD.referenceLinePosition,dataLabelShow:F.iD.dataLabelShow,dataLabelColor:F.iD.dataLabelColor,dataLabelText:F.iD.dataLabelText,dataLabelDecimalPoints:F.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:F.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:F.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:F.iD.dataLabelDisplayUnits}},xAxisReferenceLine:{displayName:(0,V.V)("Visual_Reference_Line_X"),description:(0,V.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:F.iD.show,displayName:F.iD.referenceLineDisplayName,value:F.iD.referenceLineValueWithDateTime,lineColor:F.iD.lineColor,transparency:F.iD.referenceLineTransparency,style:F.iD.lineStyle,position:F.iD.referenceLinePosition,shadeRegion:F.iD.shadeRegion,shadeColor:F.iD.shadeColor,shadeTransparency:F.iD.shadeTransparency,dataLabelShow:F.iD.dataLabelShow,dataLabelColor:F.iD.dataLabelColor,dataLabelText:F.iD.dataLabelText,dataLabelDecimalPoints:F.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:F.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:F.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:F.iD.dataLabelDisplayUnits}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}}})}var j=(0,n.wZ)(Y(!0,!0,!0));function G(R,w,B){var C,d=B&&B.useModernFormatPane;l.fF.assert(function(){return!R||w},"Non-area stacked line is not supported");var u=Y(R,w),y=[{name:A.R.Category,kind:g.DW.Grouping,displayName:(0,V.V)(d?"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,V.V)("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:A.R.Series,kind:g.DW.Grouping,displayName:(0,V.V)("Role_DisplayName_Legend"),displayOrder:d?4:2,description:(0,V.V)("Role_DisplayName_LegendDescription")},{name:A.R.Y,kind:g.DW.Measure,displayName:(0,V.V)(d?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:d?2:3,description:(0,V.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}];R||y.push({name:A.R.Y2,kind:g.DW.Measure,displayName:(0,V.V)(d?"Visual_Y2Axis_Hyphen":"Role_DisplayName_Y2"),displayOrder:d?3:4,description:(0,V.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}),y.push({name:A.R.Rows,kind:g.DW.Grouping,displayName:(0,V.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,V.V)("Role_DisplayName_SmallMultiples_Description")}),y.push({name:A.R.Tooltips,kind:g.DW.Measure,displayName:(0,V.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,V.V)("Role_Tooltips_Description"),joinPredicate:0});var W,J,ee,le,M={dataRoles:y,objects:u,dataViewMappings:[(le={conditions:[(W={},W[A.R.Series]={max:0},W[A.R.Rows]={min:1},W),(J={},J[A.R.Series]={min:1,max:1},J[A.R.Y]={max:1},J[A.R.Rows]={min:1},J),(ee={},ee[A.R.Series]={min:1,max:1},ee[A.R.Y]={max:0},ee[A.R.Rows]={min:1},ee)],matrix:{rows:{select:[{composite:[{for:{in:A.R.Rows}}],dataReductionAlgorithm:{window:{count:P.QS}}},{composite:[{for:{in:A.R.Category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:A.R.Series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:A.R.Y}},{for:{in:A.R.Tooltips}}]},dataVolume:6}},R||I(le),le),function(){var W,J,ee,le={conditions:[(W={},W[A.R.Series]={max:0},W[A.R.Rows]={max:0},W),(J={},J[A.R.Series]={min:1,max:1},J[A.R.Y]={max:1},J[A.R.Rows]={max:0},J),(ee={},ee[A.R.Series]={min:1,max:1},ee[A.R.Y]={max:0},ee[A.R.Rows]={max:0},ee)],categorical:{categories:{for:{in:A.R.Category}},values:{group:{by:A.R.Series,select:[{for:{in:A.R.Y}},{for:{in:A.R.Tooltips}}]}}}};return R?function(R){l.fF.assertValue(R,"mapping"),l.fF.assertValue(R.categorical,"categorical mapping");var w=R.categorical;w.dataReductionAlgorithm=void 0,w.categories.dataReductionAlgorithm={sample:{}},w.values.group.dataReductionAlgorithm={top:{}}}(le):function(R){if(l.fF.assertValue(R,"mapping"),R.categorical){var w=R.categorical;w.dataReductionAlgorithm={binnedLineSample:{}},w.categories.dataReductionAlgorithm=void 0,w.values.group.dataReductionAlgorithm=void 0}else R.matrix&&l.fF.assertFail("Binned sampling not supported in this configuration")}(le),R||I(le),le}(),function(){var W,J,ee;return{conditions:[(W={},W[f.x.rows]={max:0},W[A.R.Series]={max:0},W),(J={},J[f.x.rows]={max:0},J[A.R.Series]={min:1,max:1},J[A.R.Y]={max:1},J[A.R.Y2]={max:0},J),(ee={},ee[f.x.rows]={max:0},ee[A.R.Series]={min:1,max:1},ee[A.R.Y]={max:0},ee[A.R.Y2]={max:1},ee)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}}(),function(){var W;return{conditions:[(W={},W[f.x.rows]={max:0},W[A.R.Series]={max:0},W[A.R.Category]={min:1},W[A.R.Y]={min:1,max:1},W[A.R.Y2]={max:0},W)],requiredProperties:[{objectName:"forecast",propertyName:"show"}],usage:{forecast:{}},categorical:{categories:{for:{in:A.R.Category}},values:{group:{by:A.R.Series,select:[{for:{in:"forecast.ForecastValue"}},{for:{in:"forecast.ConfidenceHighBound"}},{for:{in:"forecast.ConfidenceLowBound"}}]}}}}}(),function(){var W;return{conditions:[(W={},W[A.R.Rows]={max:0},W[A.R.Series]={max:0},W[A.R.Category]={min:1},W[A.R.Y]={min:1,max:1},W[A.R.Y2]={max:0},W)],requiredProperties:[{objectName:S.xn,propertyName:"show"}],usage:{anomalyDetection:{}},categorical:{categories:{for:{in:A.R.Category}},values:{group:{by:A.R.Series,select:[{for:{in:S.rj.ExpectedValue}},{for:{in:S.rj.ExpectedLow}},{for:{in:S.rj.ExpectedHigh}},{for:{in:S.rj.RawScore}},{for:{in:S.rj.Anomaly}},{for:{in:S.rj.BatchStart}},{for:{in:S.rj.BatchEnd}}]}}}}}()],sorting:{default:{}},drilldown:{roles:[A.R.Category]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0,roles:[A.R.Tooltips]},supportsDataDrivenAlerts:!0,insights:{explainAnomalies:{anomalyDataPointObjectName:S.rH}},expandAndSort:[A.R.Category],supportsOnObjectFormatting:!0};return R||(M.objects.referenceLine={displayName:(0,V.V)("Visual_Reference_Line"),description:(0,V.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:F.iD.show,displayName:F.iD.referenceLineDisplayName,value:F.iD.referenceLineValue,lineColor:F.iD.referenceLineColor,transparency:F.iD.referenceLineTransparency,style:F.iD.lineStyle,position:F.iD.referenceLinePosition,dataLabelShow:F.iD.dataLabelShow,dataLabelColor:F.iD.dataLabelColor,dataLabelText:F.iD.dataLabelText,dataLabelDecimalPoints:F.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:F.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:F.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:F.iD.dataLabelDisplayUnits}}),!R&&!w&&(M.objects.error=(0,c.pi)({},F.TQ.error),M.objects.forecast={displayName:(0,V.V)("Visual_Forecast"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:F.iD.show,displayName:{displayName:(0,V.V)("Name"),description:(0,V.V)("Visual_Forecast_DisplayName_Description"),type:{text:!0}},confidenceBandStyle:{displayName:(0,V.V)("Visual_Forecast_Confidence_Band_Style"),description:(0,V.V)("Visual_Forecast_Confidence_Band_Style_Description"),type:{enumeration:D.dt}},lineColor:{displayName:(0,V.V)("Visual_Forecast_Line_Color"),description:(0,V.V)("Visual_Forecast_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:F.iD.transparency,style:F.iD.lineStyle,transform:{type:{queryTransform:{}}}}},B&&B.daxTransformEnabled&&(M.objects[S.xn]={displayName:(0,V.V)("Visual_AnomalyDetection"),objectCategory:2,suppressFormatPainterCopy:!0,properties:(C={},C[S.MA.show]=F.iD.show,C[S.MA.displayName]={displayName:(0,V.V)("Name"),description:(0,V.V)("Visual_AnomalyDetection_DisplayName_Description"),type:{text:!0}},C[S.MA.markerShape]={displayName:(0,V.V)("Visual_AnomalyDetection_AnomalyShape"),description:(0,V.V)("Visual_AnomalyDetection_AnomalyShape_Description"),type:{enumeration:h.dt}},C[S.MA.markerShapeSize]={displayName:(0,V.V)("Visual_AnomalyDetection_AnomalyShapeSize"),description:(0,V.V)("Visual_AnomalyDetection_AnomalyShapeSize_Description"),type:{numeric:!0}},C[S.MA.markerColor]={displayName:(0,V.V)("Visual_AnomalyDetection_AnomalyColor"),description:(0,V.V)("Visual_AnomalyDetection_AnomalyColor_Description"),type:{fill:{solid:{color:!0}}}},C[S.MA.confidenceBandStyle]={displayName:(0,V.V)("Visual_AnomalyDetection_RangeStyle"),description:(0,V.V)("Visual_AnomalyDetection_RangeStyle_Description"),type:{enumeration:D.dt}},C[S.MA.transparency]={displayName:(0,V.V)("Visual_AnomalyDetection_RangeTransparency"),description:(0,V.V)("Visual_AnomalyDetection_RangeTransparency_Description"),type:{numeric:!0}},C[S.MA.confidenceBandColor]={displayName:(0,V.V)("Visual_AnomalyDetection_RangeColor"),description:(0,V.V)("Visual_AnomalyDetection_RangeColor_Description"),type:{fill:{solid:{color:!0}}}},C[S.K1.CategoryValue]={type:{dateTime:!0}},C[S.K1.Value]={type:{numeric:!0}},C[S.K1.ExpectedValue]={type:{numeric:!0}},C[S.K1.ExpectedLow]={type:{numeric:!0}},C[S.K1.ExpectedHigh]={type:{numeric:!0}},C[S.K1.BatchStart]={type:{dateTime:!0}},C[S.K1.BatchEnd]={type:{dateTime:!0}},C.transform={type:{queryTransform:{}}},C[S.Bx]={type:{exprList:{}}},C[S.It]={type:{bool:!0}},C)})),M}function I(R){var w;_.find(R.conditions,function(B){return _.isEqual(B[A.R.Series],{min:1,max:1})&&_.isEqual(B[A.R.Y],{max:1})})[A.R.Y2]={max:0},_.find(R.conditions,function(B){return _.isEqual(B[A.R.Series],{min:1,max:1})&&_.isEqual(B[A.R.Y],{max:0})})[A.R.Y2]={max:1},R.categorical?w=R.categorical.values.group.select:R.matrix&&(w=R.matrix.values.select),w.splice(1,0,{for:{in:A.R.Y2}})}var E={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{transparency:{objectName:"dataPoint",propertyName:"transparency"},defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},trend:{show:{objectName:"trend",propertyName:"show"}},forecast:{show:{objectName:"forecast",propertyName:"show"}},anomalyDetection:{show:S.Ne},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"},legendMarkerRendering:{objectName:"legend",propertyName:"legendMarkerRendering"},defaultToCircle:{objectName:"legend",propertyName:"defaultToCircle"},matchLineColor:{objectName:"legend",propertyName:"matchLineColor"}},labels:{labelDensity:{objectName:"labels",propertyName:"labelDensity"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},leaderLines:{objectName:"labels",propertyName:"leaderLines"},minimumOffset:{objectName:"labels",propertyName:"minimumOffset"},maximumOffset:{objectName:"labels",propertyName:"maximumOffset"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"}},seriesLabels:{show:{objectName:"seriesLabels",propertyName:"showSeries"},showByDefault:{objectName:"seriesLabels",propertyName:"showByDefault"},seriesColor:{objectName:"seriesLabels",propertyName:"seriesColor"},seriesPosition:{objectName:"seriesLabels",propertyName:"seriesPosition"},enableBackground:{objectName:"seriesLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"seriesLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"seriesLabels",propertyName:"backgroundTransparency"},showAll:{objectName:"seriesLabels",propertyName:"showAll"},textSize:{objectName:"seriesLabels",propertyName:"textSize"},seriesFontFamily:{objectName:"seriesLabels",propertyName:"seriesFontFamily"},seriesWordWrap:{objectName:"seriesLabels",propertyName:"seriesWordWrap"},seriesMaximumWidth:{objectName:"seriesLabels",propertyName:"seriesMaximumWidth"},bold:{objectName:"seriesLabels",propertyName:"bold"},italic:{objectName:"seriesLabels",propertyName:"italic"},underline:{objectName:"seriesLabels",propertyName:"underline"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},lineStyles:{shadeArea:{objectName:"lineStyles",propertyName:"shadeArea"},strokeWidth:{objectName:"lineStyles",propertyName:"strokeWidth"},strokeLineJoin:{objectName:"lineStyles",propertyName:"strokeLineJoin"},lineStyle:{objectName:"lineStyles",propertyName:"lineStyle"},showMarkerByDefault:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},showMarker:{objectName:"lineStyles",propertyName:"showMarker"},markerShape:{objectName:"lineStyles",propertyName:"markerShape"},markerSize:{objectName:"lineStyles",propertyName:"markerSize"},markerColor:{objectName:"lineStyles",propertyName:"markerColor"},showSeries:{objectName:"lineStyles",propertyName:"showSeries"},stepped:{objectName:"lineStyles",propertyName:"stepped"},lineChartType:{objectName:"lineStyles",propertyName:"lineChartType"}}};function m(R,w){if(l.fF.assertValue(R,"mapping"),R.categorical){var B=R.categorical;if(!B)return;B.dataReductionAlgorithm=void 0,B.categories.dataReductionAlgorithm={window:{count:200}},B.values.group.dataReductionAlgorithm={top:{count:60}}}else w&&(0,P.qO)(R)&&(R.matrix.rows.select[1].dataReductionAlgorithm={top:{}})}},1431:function(ie,ve,v){v.d(ve,{R:function(){return l}});var l={Rows:v(8926).x.rows,Category:"Category",Series:"Series",Y:"Y",Y2:"Y2",Tooltips:"Tooltips"}},7735:function(ie,ve,v){v.d(ve,{NC:function(){return D},jM:function(){return f}});var c=v(1813),l=v(8459),n=v(1207),g=v(2201),V=v(7350),P=v(2333),S=v(4171);function D(F){return{dataRoles:b(F&&F.cartesianConditionalFormatting,F&&F.useModernFormatPane),objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:S.iD.formatString}},legend:S.TQ.legend,dataPoint:{displayName:(0,l.V)("Visual_DataPoint"),description:(0,l.V)("Visual_DataPointDescription"),properties:{defaultColor:S.iD.defaultColor,showAllDataPoints:S.iD.showAllDataPoints,fill:S.iD.defaultCategoryColor,fillRule:{displayName:(0,l.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category","X","Y"]}}},transparency:S.iD.transparency}},categoryLabels:{displayName:(0,l.V)("Visual_CategoryLabels"),description:(0,l.V)("Visual_CategoryLabelsDescription"),properties:{show:S.iD.show,color:S.iD.categoryColor,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,fontFamily:S.iD.fontFamily,enableBackground:S.iD.labelEnableBackground,backgroundColor:S.iD.labelBackgroundColor,backgroundTransparency:S.iD.labelBackgroundTransparency}},bubbles:{displayName:(0,l.V)("Visual_Bubbles"),description:(0,l.V)("Visual_BubblesDescription"),properties:{bubbleSize:{displayName:(0,l.V)("Visual_BubbleSize"),type:{integer:!0}},markerRangeType:{displayName:(0,l.V)("Visual_MarkerRangeType"),type:{enumeration:P.zo}}}},mapControls:{displayName:(0,l.V)("Visual_MapControls"),description:(0,l.V)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,l.V)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,l.V)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,l.V)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,l.V)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,l.V)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,l.V)("Visual_MapGeocodingCulture"),type:{enumeration:V.dt}}}},mapStyles:{displayName:(0,l.V)("Visual_MapStyles"),description:(0,l.V)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,l.V)("Visual_MapTheme"),type:{enumeration:n.dt}},showLabels:{displayName:(0,l.V)("Visual_MapShowLabels"),type:{bool:!0}}}},heatMap:{displayName:(0,l.V)("Visual_HeatMap"),properties:{show:S.iD.show,filterRadius:{displayName:(0,l.V)("Visual_Radius"),type:{numeric:!0}},transparency:S.iD.transparency,unit:{displayName:(0,l.V)("Visual_Forecast_Parameter_Units"),type:{enumeration:g.dt}},color0:{displayName:(0,l.V)("Visual_Color0"),type:{fill:{solid:{color:!0}}}},color50:{displayName:(0,l.V)("Visual_Color50"),type:{fill:{solid:{color:!0}}}},color100:{displayName:(0,l.V)("Visual_Color100"),type:{fill:{solid:{color:!0}}}}}}},dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{max:1,kind:c.DW.Measure},Y:{max:1,kind:c.DW.Measure},Size:{max:1,min:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,min:1,kind:c.DW.Measure},Y:{max:1,kind:c.DW.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:c.DW.Measure},Y:{max:1,min:1,kind:c.DW.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:c.DW.Measure},Y:{max:1,kind:c.DW.Measure},Size:{max:1},Gradient:{max:0},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:c.DW.Measure},Y:{max:1,kind:c.DW.Measure},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:c.DW.Grouping},Y:{max:1,kind:c.DW.Grouping},Size:{max:1,min:1},Gradient:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:c.DW.Grouping},Y:{max:1,kind:c.DW.Grouping},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{select:[{bind:{to:"X"}},{bind:{to:"Y"}}],dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1,min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Gradient:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1,min:1},X:{max:1,kind:c.DW.Grouping},Y:{max:1,kind:c.DW.Grouping},Size:{max:0},Gradient:{max:0},Tooltips:{}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{bind:{to:"X"}},{bind:{to:"Y"}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{for:{in:"Tooltips"}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:"Size",direction:2}]}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Gradient:{max:0}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0}}}function b(F,A){var k=[{name:"Category",kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Location"),description:(0,l.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:"Series",kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Legend"),description:(0,l.V)("Role_DisplayName_LegendDescription")},{name:"Y",kind:c.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_Latitude"),description:(0,l.V)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:"X",kind:c.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_Longitude"),description:(0,l.V)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:"Size",kind:c.DW.Measure,displayName:(0,l.V)(A?"Visual_BubbleSize_Fieldwell":"Role_DisplayName_Size"),description:(0,l.V)(A?"Role_DisplayName_SizeDescription_Bubble":"Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];return F||k.push({name:"Gradient",kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Gradient"),description:(0,l.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),k.push({name:"Tooltips",kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Tooltips"),description:(0,l.V)("Role_Tooltips_Description"),joinPredicate:0}),k}var f={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerRangeType:{objectName:"bubbles",propertyName:"markerRangeType"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},mapStyles:{mapTheme:{objectName:"mapStyles",propertyName:"mapTheme"},showLabels:{objectName:"mapStyles",propertyName:"showLabels"}},heatMap:{show:{objectName:"heatMap",propertyName:"show"},filterRadius:{objectName:"heatMap",propertyName:"filterRadius"},transparency:{objectName:"heatMap",propertyName:"transparency"},unit:{objectName:"heatMap",propertyName:"unit"},color0:{objectName:"heatMap",propertyName:"color0"},color50:{objectName:"heatMap",propertyName:"color50"},color100:{objectName:"heatMap",propertyName:"color100"}}}},6763:function(ie,ve,v){v.d(ve,{d:function(){return V},r:function(){return g}});var c=v(1813),l=v(8459),n=v(4171),g={rows:"Rows",columns:"Columns",values:"Values"},V={dataRoles:[{name:g.rows,kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Rows"),description:(0,l.V)("Role_DisplayName_RowsDescription")},{name:g.columns,kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Columns"),description:(0,l.V)("Role_DisplayName_ColumnsDescription")},{name:g.values,kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:n.iD.formatString,columnWidth:{type:{numeric:!0}},rowSubtotals:{type:{bool:!0},displayName:(0,l.V)("Visual_TotalRow"),suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,l.V)("Visual_TotalColumn"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,l.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,l.V)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,l.V)("Visual_Grid"),properties:{outlineColor:n.iD.outlineColor,outlineWeight:n.iD.outlineWeight,gridVertical:{displayName:(0,l.V)("Visual_GridVertical"),description:(0,l.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,l.V)("Visual_GridVertical_Color"),description:(0,l.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,l.V)("Visual_GridVertical_Weight"),description:(0,l.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,l.V)("Visual_GridHorizontal"),description:(0,l.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,l.V)("Visual_GridHorizontal_Color"),description:(0,l.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,l.V)("Visual_GridHorizontal_Weight"),description:(0,l.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,l.V)("Visual_RowPadding"),description:(0,l.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,l.V)("Visual_Tablix_ImageHeight"),description:(0,l.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,l.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:n.iD.outline,fontColor:n.iD.tablixFontColor,backColor:n.iD.backColor}},rowHeaders:{displayName:(0,l.V)("Visual_Tablix_RowHeaders"),properties:{outline:n.iD.outline,fontColor:n.iD.tablixFontColor,backColor:n.iD.backColor,wordWrap:n.iD.wordWrap}},values:{displayName:(0,l.V)("Visual_Tablix_Values"),properties:{outline:n.iD.outline,backColor:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,l.V)("Visual_FontColor"),description:(0,l.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,l.V)("Visual_Tablix_FontColorSecondary"),description:(0,l.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,l.V)("Visual_Tablix_BackColorSecondary"),description:(0,l.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}}}},subTotals:{displayName:(0,l.V)("Visual_Tablix_TotalSub"),properties:{outline:n.iD.outline,fontColor:n.iD.tablixFontColor,backColor:n.iD.backColor}},total:{displayName:(0,l.V)("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:n.iD.outline,fontColor:n.iD.tablixFontColor,backColor:n.iD.backColor,applyToHeaders:{displayName:(0,l.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:n.iD.tablixFontColor,backColor:n.iD.backColor,styleHeader:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],filterMappings:{measureFilter:{targetRoles:[g.rows]}},sorting:{custom:{}},dataRoleTotals:[{roles:[g.columns],displayName:(0,l.V)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,l.V)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,l.V)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[g.rows],displayName:(0,l.V)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,l.V)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,l.V)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],suppressDefaultTitle:!0,supportsSelection:!1,supportsMultiVisualSelection:!0}},3960:function(ie,ve,v){v.d(ve,{Mb:function(){return P},Pt:function(){return h},_i:function(){return S}});var c=v(6274),l=v(1813),n=v(8459),g=v(4171),V={general:{properties:{formatString:g.iD.formatString}},dataLabels:{displayName:(0,n.V)("Visual_DataPointsLabels"),description:(0,n.V)("Visual_DataPointsLabelsDescription"),properties:{color:g.iD.dataColor,fontSize:g.iD.fontSize,bold:g.iD.bold,italic:g.iD.italic,underline:g.iD.underline,fontFamily:g.iD.fontFamily}},categoryLabels:{displayName:(0,n.V)("Visual_CategoryLabels"),description:(0,n.V)("Visual_CategoryLabelsDescription"),properties:{show:g.iD.show,color:g.iD.categoryColor,fontSize:g.iD.fontSize,bold:g.iD.bold,italic:g.iD.italic,underline:g.iD.underline,fontFamily:g.iD.fontFamily}},cardTitle:{displayName:(0,n.V)("Visual_CardTitle"),description:(0,n.V)("Visual_CardTitleDescription"),properties:{color:g.iD.dataColor,fontSize:g.iD.fontSize,bold:g.iD.bold,italic:g.iD.italic,underline:g.iD.underline,fontFamily:g.iD.fontFamily}},card:{displayName:(0,n.V)("Card_ToolTip"),properties:{outline:g.iD.outline,outlineStyle:g.iD.outlineStyle,outlineColor:{displayName:(0,n.V)("Visual_OutlineColor"),description:(0,n.V)("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:(0,n.V)("Visual_OutlineWeight"),description:(0,n.V)("Visual_OutlineWeight_Desc"),type:{numeric:!0}},barShow:{displayName:(0,n.V)("Visual_MultiRowCard_BarShow"),description:(0,n.V)("Visual_MultiRowCard_BarShow_Desc"),type:{bool:!0}},barColor:{displayName:(0,n.V)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWeight:{displayName:(0,n.V)("Visual_MultiRowCard_BarWeight"),description:(0,n.V)("Visual_MultiRowCard_BarWeight_Desc"),type:{numeric:!0}},cardPadding:{displayName:(0,n.V)("Visual_Padding"),description:(0,n.V)("Visual_MultiRowCard_CardBackground"),type:{numeric:!0}},cardBackground:{displayName:(0,n.V)("Background_Color"),type:{fill:{solid:{color:!0}}}}}}},P=(0,c.wZ)(V),S={dataRoles:[{name:"Values",kind:l.DW.GroupingOrMeasure,displayName:(0,n.V)("Role_DisplayName_Fields"),description:(0,n.V)("Role_DisplayName_FieldsDescription")}],objects:V,dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{}},suppressDefaultTitle:!0,supportsSelection:!1,disableVisualDetails:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0},h={card:{outline:{objectName:"card",propertyName:"outline"},outlineStyle:{objectName:"card",propertyName:"outlineStyle"},outlineColor:{objectName:"card",propertyName:"outlineColor"},outlineWeight:{objectName:"card",propertyName:"outlineWeight"},barShow:{objectName:"card",propertyName:"barShow"},barColor:{objectName:"card",propertyName:"barColor"},barWeight:{objectName:"card",propertyName:"barWeight"},cardPadding:{objectName:"card",propertyName:"cardPadding"},cardBackground:{objectName:"card",propertyName:"cardBackground"}}}},3789:function(ie,ve,v){v.d(ve,{JT:function(){return T},LU:function(){return M},QP:function(){return O},RI:function(){return G},Uo:function(){return m},a5:function(){return I},h:function(){return R},hx:function(){return j},j0:function(){return H},mr:function(){return E},tP:function(){return z},tp:function(){return Y}});var S,h,D,b,N,f,F,A,k,c=v(3188),l=v(8459),n=v(7793),g=v(4171),V=v(3845),P=v(2578),Y={fill:P.OV.fill,outline:P.OV.outline,text:V.nm.text,shape:P.OV.shape,layout:{orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"}},shadow:P.OV.shadow,glow:P.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},j=(0,c.pi)((0,c.pi)({},Y),{pages:{showHiddenPages:{objectName:"pages",propertyName:"showHiddenPages"},showTooltipPages:{objectName:"pages",propertyName:"showTooltipPages"},showByDefault:{objectName:"pages",propertyName:"showByDefault"},showPage:{objectName:"pages",propertyName:"showPage"}}}),G=(0,c.pi)((0,c.pi)({},Y),{bookmarks:{bookmarkGroup:{objectName:"bookmarks",propertyName:"bookmarkGroup"},allowDeselectionBookmark:{objectName:"bookmarks",propertyName:"allowDeselectionBookmark"},deselectionBookmark:{objectName:"bookmarks",propertyName:"deselectionBookmark"},hideDeselectedBookmark:{objectName:"bookmarks",propertyName:"hideDeselectedBookmark"},selectedBookmark:{objectName:"bookmarks",propertyName:"selectedBookmark"}}}),I={fill:P.eM.fill,outline:P.eM.outline,text:V.Vz.text,shape:P.eM.shape,layout:"layout",shadow:P.eM.shadow,glow:P.eM.glow,rotation:"rotation"},E=(0,c.pi)((0,c.pi)({},I),{pages:"pages"}),T=(0,c.pi)((0,c.pi)({},I),{bookmarks:"bookmarks"}),m=(0,c.pi)((0,c.pi)((0,c.pi)({},P.Mn),V.WI),{orientation:"orientation",rowCount:"rowCount",columnCount:"columnCount",cellPadding:"cellPadding",rotation:"angle"}),z=(0,c.pi)((0,c.pi)({},m),{showHiddenPages:"showHiddenPages",showTooltipPages:"showTooltipPages",showByDefault:"showByDefault",showPage:"showPage"}),R=(0,c.pi)((0,c.pi)({},m),{bookmarkGroup:"bookmarkGroup",allowDeselectionBookmark:"allowDeselectionBookmark",deselectionBookmark:"deselectionBookmark",hideDeselectedBookmark:"hideDeselectedBookmark",selectedBookmark:"selectedBookmark"}),w=((S={show:g.iD.show})[P.Mn.fillColor]=g.iD.fill,S[P.Mn.fillTransparency]=g.iD.transparency,S),B=((h={show:g.iD.show})[V.WI.fontColor]=g.iD.fontColor,h[V.WI.fontSize]=g.iD.fontSize,h[V.WI.fontFamily]=g.iD.fontFamily,h[V.WI.underline]=g.iD.underline,h[V.WI.italic]=g.iD.italic,h[V.WI.bold]=g.iD.bold,h[V.WI.textVerticalAlignment]={displayName:(0,l.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},h[V.WI.textHorizontalAlignment]={displayName:(0,l.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},h[V.WI.textLeftMargin]={displayName:(0,l.V)("Visual_Margin_Left"),type:{integer:!0}},h[V.WI.textRightMargin]={displayName:(0,l.V)("Visual_Margin_Right"),type:{integer:!0}},h[V.WI.textTopMargin]={displayName:(0,l.V)("Visual_Margin_Top"),type:{integer:!0}},h[V.WI.textBottomMargin]={displayName:(0,l.V)("Visual_Margin_Bottom"),type:{integer:!0}},h),C=((D={})[m.orientation]={displayName:(0,l.V)("Slicer_Orientation"),type:{enumeration:n.d}},D[m.rowCount]={displayName:(0,l.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},D[m.columnCount]={displayName:(0,l.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},D[m.cellPadding]={displayName:(0,l.V)("Visual_Padding"),type:{integer:!0}},D),d=((b={})[m.rotation]={displayName:(0,l.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},b[m.shapeRotation]={displayName:(0,l.V)("Visual_ShapeRotation"),type:{integer:!0}},b[m.textRotation]={displayName:(0,l.V)("Visual_TextRotation"),type:{integer:!0}},b),u=((N={})[z.showHiddenPages]={displayName:(0,l.V)("Visual_Navigator_ShowHiddenPages"),type:{bool:!0}},N[z.showTooltipPages]={displayName:(0,l.V)("Visual_Navigator_ShowTooltipPages"),type:{bool:!0}},N[z.showByDefault]={displayName:(0,l.V)("Visual_Navigator_ShowByDefault"),type:{bool:!0}},N[z.showPage]={displayName:(0,l.V)("Show"),type:{bool:!0},suppressFormatPainterCopy:!0},N),y=((f={})[R.bookmarkGroup]={displayName:(0,l.V)("Generic_Bookmark"),type:{reference:{bookmarkGroup:!0}}},f[R.allowDeselectionBookmark]={displayName:(0,l.V)("Visual_AllowDeselection"),description:(0,l.V)("Visual_AllowDeselection_Description"),type:{bool:!0}},f[R.deselectionBookmark]={displayName:(0,l.V)("Visual_LaunchOnDeselection"),description:(0,l.V)("Visual_LaunchOnDeselection_Description"),type:{reference:{bookmark:!0}}},f[R.hideDeselectedBookmark]={displayName:(0,l.V)("Visual_HideDeselectionBookmark"),description:(0,l.V)("Visual_HideDeselectionBookmark_Description"),type:{bool:!0}},f[R.selectedBookmark]={type:{text:!0}},f),M={default:"default",hover:"hover",press:"press",selected:"selected"},L=((F={})[I.fill]={displayName:(0,l.V)("Visual_Fill"),properties:w},F[I.outline]=P.zC.outline,F[I.text]={displayName:(0,l.V)("Text"),properties:B},F[I.shape]=P.zC.shape,F[I.layout]={displayName:(0,l.V)("Small_Multiples_Layout"),properties:C},F[I.shadow]=P.zC.shadow,F[I.glow]=P.zC.glow,F[I.rotation]={displayName:(0,l.V)("Visual_BasicShape_Rotate"),properties:d},F),O={objects:(0,c.pi)((0,c.pi)({},L),(A={},A[E.pages]={displayName:(0,l.V)("Pages"),properties:u},A)),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0},H={objects:(0,c.pi)((0,c.pi)({},L),(k={},k[T.bookmarks]={displayName:(0,l.V)("ExplorationBookmarksPane_Title"),properties:y},k)),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0}},1769:function(ie,ve,v){v.d(ve,{R:function(){return b},t:function(){return N}});var c=v(6274),l=v(1813),n=v(8459),g=v(8416),V=v(8120),P=v(9791),S=v(3440),h=v(4171),D=v(6763);function b(f){return{dataRoles:[{name:D.r.rows,kind:l.DW.Grouping,displayName:(0,n.V)("Role_DisplayName_Rows"),description:(0,n.V)("Role_DisplayName_RowsDescription")},{name:D.r.columns,kind:l.DW.Grouping,displayName:(0,n.V)("Role_DisplayName_Columns"),description:(0,n.V)("Role_DisplayName_ColumnsDescription")},{name:D.r.values,kind:l.DW.Measure,displayName:(0,n.V)("Role_DisplayName_Values"),supportsSparklines:!0}],objects:{general:{displayName:(0,n.V)("Visual_General"),properties:{formatString:h.iD.formatString}},grid:{displayName:(0,n.V)("Visual_Grid"),properties:{outline:h.iD.outline,outlineStyle:h.iD.outlineStyle,outlineColor:h.iD.outlineColor,outlineWeight:h.iD.outlineWeight,gridVertical:{displayName:(0,n.V)("Visual_GridVertical"),description:(0,n.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,n.V)("Visual_GridVertical_Color"),description:(0,n.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,n.V)("Visual_GridVertical_Weight"),description:(0,n.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,n.V)("Visual_GridHorizontal"),description:(0,n.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,n.V)("Visual_GridHorizontal_Color"),description:(0,n.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,n.V)("Visual_GridHorizontal_Weight"),description:(0,n.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,n.V)("Visual_RowPadding"),description:(0,n.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,n.V)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,n.V)("Visual_General_Properties_Height"),description:(0,n.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,n.V)("Visual_General_Properties_Width"),description:(0,n.V)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,n.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:h.iD.outline,outlineStyle:h.iD.outlineStyle,outlineColor:h.iD.outlineColor,outlineWeight:h.iD.outlineWeight,fontColor:h.iD.tablixFontColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,backColor:h.iD.backColor,alignment:h.iD.textAlignment,titleAlignment:{displayName:(0,n.V)("Visual_TextAlignment_Title"),type:{enumeration:S.dt}},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,n.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},urlIcon:{displayName:(0,n.V)("Visual_Tablix_UrlIcon"),description:(0,n.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:h.iD.wordWrap}},rowHeaders:{displayName:(0,n.V)("Visual_Tablix_RowHeaders"),properties:{unfrozen:{type:{bool:!0},transient:!0},outline:h.iD.outline,outlineStyle:h.iD.outlineStyle,outlineColor:h.iD.outlineColor,outlineWeight:h.iD.outlineWeight,fontColor:h.iD.tablixFontColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,backColor:h.iD.backColor,alignment:h.iD.textAlignment,stepped:{displayName:(0,n.V)("Visual_PivotTable_SteppedLayout"),description:(0,n.V)("Visual_PivotTable_SteppedLayout_Description"),type:{bool:!0}},steppedLayoutIndentation:{displayName:(0,n.V)("Visual_PivotTable_SteppedLayoutIndentation"),description:(0,n.V)("Visual_PivotTable_SteppedLayoutIndentation_Description"),type:{numeric:!0}},urlIcon:{displayName:(0,n.V)("Visual_Tablix_UrlIcon"),description:(0,n.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:h.iD.wordWrap,showExpandCollapseButtons:{displayName:(0,n.V)("Visual_PivotTable_ExpandCollapseButtons_Toggle"),type:{bool:!0}},expandCollapseButtonsColor:{displayName:(0,n.V)("Visual_PivotTable_ExpandCollapseButtons_Color"),type:{fill:{solid:{color:!0}}}},expandCollapseButtonsSize:{displayName:(0,n.V)("Visual_PivotTable_ExpandCollapseButtons_Size"),type:{formatting:{fontSize:!0}}},expandCompositeHierarchy:{type:{bool:!0}}}},values:{displayName:(0,n.V)("Visual_Tablix_Values"),properties:{outline:h.iD.outline,outlineStyle:h.iD.outlineStyle,outlineColor:h.iD.outlineColor,outlineWeight:h.iD.outlineWeight,backColor:{displayName:(0,n.V)("Background_Color"),description:(0,n.V)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,n.V)("Visual_FontColor"),description:(0,n.V)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontColorPrimary:{displayName:(0,n.V)("Visual_FontColor"),description:(0,n.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,n.V)("Background_Color"),description:(0,n.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,n.V)("Visual_Tablix_FontColorSecondary"),description:(0,n.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,n.V)("Visual_Tablix_BackColorSecondary"),description:(0,n.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},bandedRowHeaders:{displayName:(0,n.V)("Visual_PivotTable_ValuesBandedRowHeaders"),description:(0,n.V)("Visual_PivotTable_ValuesBandedRowHeaders_Description"),type:{bool:!0}},urlIcon:{displayName:(0,n.V)("Visual_Tablix_UrlIcon"),description:(0,n.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:h.iD.wordWrap,valuesOnRow:{displayName:(0,n.V)("Visual_PivotTable_ValuesOnRow"),description:(0,n.V)("Visual_PivotTable_ValuesOnRow_Description"),type:{bool:!0}},icon:{displayName:(0,n.V)("Visual_Tablix_Icons"),description:(0,n.V)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,n.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},subTotals:{displayName:(0,n.V)("Visual_Tablix_TotalSub"),properties:{outline:h.iD.outline,fontColor:h.iD.tablixFontColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,backColor:h.iD.backColor,rowSubtotals:{type:{bool:!0},displayName:(0,n.V)("Visual_SubtotalRow"),description:(0,n.V)("Visual_SubtotalRow_Desc"),suppressFormatPainterCopy:!0},rowSubtotalsLabel:{type:{text:!0},displayName:(0,n.V)("Visual_PivotTable_TotalLabel_RowSubtotals"),suppressFormatPainterCopy:!0},rowSubtotalsPosition:{displayName:(0,n.V)("Visual_SubtotalRow_Position"),type:{enumeration:g.dt},suppressFormatPainterCopy:!0},perRowLevel:{displayName:(0,n.V)("Visual_SubtotalRow_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,n.V)("Visual_SubtotalColumn"),description:(0,n.V)("Visual_SubtotalColumn_Desc"),suppressFormatPainterCopy:!0},columnSubtotalsLabel:{type:{text:!0},displayName:(0,n.V)("Visual_PivotTable_TotalLabel_ColumnSubtotals"),suppressFormatPainterCopy:!0},perColumnLevel:{displayName:(0,n.V)("Visual_SubtotalColumn_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},applyToHeaders:{displayName:(0,n.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}},levelSubtotalEnabled:{type:{bool:!0}},levelSubtotalLabel:{type:{text:!0},suppressFormatPainterCopy:!0}}},total:{displayName:(0,n.V)("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:h.iD.outline,fontColor:h.iD.tablixFontColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,backColor:h.iD.backColor,applyToHeaders:{displayName:(0,n.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},rowTotal:{displayName:(0,n.V)("Visual_Tablix_Matrix_Row_TotalGrand"),properties:{fontColor:h.iD.tablixFontColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,backColor:h.iD.backColor,applyToHeaders:{displayName:(0,n.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnTotal:{displayName:(0,n.V)("Visual_Tablix_Matrix_Column_TotalGrand"),properties:{fontColor:h.iD.tablixFontColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,backColor:h.iD.backColor,applyToHeaders:{displayName:(0,n.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,n.V)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,n.V)("Visual_DisplayUnits"),description:(0,n.V)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:h.iD.labelPrecision,fontColor:h.iD.tablixFontColor,backColor:h.iD.backColor,alignment:h.iD.textAlignment,styleHeader:{displayName:(0,n.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,n.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,n.V)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,n.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,n.V)("Visual_ConditionalFormatting_DataBars"),description:(0,n.V)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},sparklines:{displayName:(0,n.V)("Sparkline_Label"),properties:{chartType:{displayName:(0,n.V)("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:V.dt}},dataColor:{displayName:(0,n.V)("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:h.iD.strokeWidth,markers:{displayName:(0,n.V)("Sparkline_Formatting_Slice_ShowTheseMarkers"),type:{flagsEnumeration:P.dt}},markerColor:h.iD.markerColor,markerSize:{displayName:(0,n.V)("Visual_MarkerSize"),type:{integer:!0}},markerShape:h.iD.markerShape}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],dataRoleTotals:[{roles:[D.r.columns],displayName:(0,n.V)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,n.V)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,n.V)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[D.r.rows],displayName:(0,n.V)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,n.V)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,n.V)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],filterMappings:{measureFilter:{targetRoles:[D.r.rows]}},sorting:{default:{},custom:{}},drilldown:{roles:[D.r.rows,D.r.columns]},expandCollapse:{roles:[D.r.rows],addDataViewFlags:{defaultValue:!0},supportsMerge:!(null==f||!f.fieldParameterDynamicSlicer)},suppressDefaultTitle:!0,supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}var N=(0,c.wZ)(b().objects)},4625:function(ie,ve,v){v.d(ve,{CS:function(){return F},TL:function(){return h},il:function(){return A},r4:function(){return D}});var c=v(3188),l=v(8955),n=v(6274),g=v(1813),V=v(8459),P=v(2333),S=v(4171),h={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",play:"Play",tooltips:"Tooltips"};function D(k){return{dataRoles:b(k&&k.cartesianConditionalFormatting,k&&k.useModernFormatPane),objects:f,dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:g.DW.Measure},Y:{max:1,kind:g.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:g.DW.Measure},Y:{max:1,kind:g.DW.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:g.DW.Measure},Y:{max:1,kind:g.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{min:1,max:1}}],matrix:{rows:{select:[{bind:{to:"Play"}},{bind:{to:"Category"}}],dataReductionAlgorithm:{bottom:{count:5e3}}},columns:{for:{in:"Series"},dataReductionAlgorithm:{top:{count:60}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},N(!0,!0,!1),N(!0,!1,!0),N(!1,!0,!1),{conditions:[{Category:{max:0},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:1},Play:{max:0}},{Category:{max:1},Series:{max:1},X:{max:1,kind:g.DW.Measure},Y:{max:1,kind:g.DW.Measure},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:g.DW.Measure},Y:{max:1,kind:g.DW.Measure},Size:{max:0},Gradient:{max:1},Play:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},matrix:{rows:{select:[{bind:{to:"regression.Series"}},{bind:{to:"regression.X"}}],dataReductionAlgorithm:{sample:{}}},values:{select:[{for:{in:"regression.Y"}}]},dataVolume:4}}],sorting:{default:{},custom:{},implicit:{clauses:[{role:"Play",direction:1}]}},drilldown:{roles:[h.category,h.x]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1},{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Play:{max:1}},groupingTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1}],cluster:{clusteringRole:"Series",conditions:[{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Size:{max:1},Gradient:{max:0},Play:{max:0}}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0}}function b(k,Y){var j=[{name:h.category,kind:g.DW.Grouping,displayName:(0,V.V)(Y?"Role_DisplayName_Values":"Details"),displayOrder:1,description:(0,V.V)("Role_DisplayName_DetailsScatterChartDescription")},{name:h.series,kind:g.DW.Grouping,displayName:(0,V.V)("Role_DisplayName_Legend"),displayOrder:Y?4:2,description:(0,V.V)("Role_DisplayName_LegendDescription")},{name:h.x,kind:g.DW.GroupingOrMeasure,displayName:(0,V.V)("Role_DisplayName_X"),displayOrder:Y?2:3,description:(0,V.V)("Role_DisplayName_XScatterChartDescription"),requiredTypes:void 0,cartesianKind:0},{name:h.y,kind:g.DW.GroupingOrMeasure,displayName:(0,V.V)("Role_DisplayName_Y"),displayOrder:Y?3:4,description:(0,V.V)("Role_DisplayName_YScatterChartDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:h.size,kind:g.DW.Measure,displayName:(0,V.V)("Role_DisplayName_Size"),displayOrder:5,description:(0,V.V)("Role_DisplayName_SizeDescription_Bubble"),requiredTypes:[{numeric:!0},{integer:!0}]}];return k||j.push({name:h.gradient,kind:g.DW.Measure,displayName:(0,V.V)("Role_DisplayName_Gradient"),displayOrder:6,description:(0,V.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),j.push({name:h.play,kind:g.DW.Grouping,displayName:(0,V.V)("Role_DisplayName_Play"),displayOrder:7}),j.push({name:h.tooltips,kind:g.DW.Measure,displayName:(0,V.V)("Role_DisplayName_Tooltips"),displayOrder:8,description:(0,V.V)("Role_Tooltips_Description"),joinPredicate:0}),j}function N(k,Y,j){l.fF.assert(function(){return k||Y},"At least one of groupedX or groupedY must be true");var G={min:1,max:1,kind:g.DW.Grouping};j&&(G={min:1,kind:g.DW.Grouping});var E={max:1,kind:g.DW.Measure},T=k?G:E,m=Y?{min:1,max:1,kind:g.DW.Grouping}:E,z={bind:{to:"X"}},w={bind:{to:"Y"}},B=[],C=[];k?B.push(j?{for:{in:"X"}}:z):C.push(z),Y?B.push(w):C.push(w);var d,u=B.length;return u>=2||1===u&&k&&j?d={composite:B}:1===u&&(d=B[0]),{conditions:[{Category:{max:0},Series:{max:1},X:T,Y:m,Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:T,Y:m,Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},d],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:(0,c.ev)((0,c.ev)([],C||[],!0),[{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],!1)},dataVolume:4}}}var f={general:{displayName:(0,V.V)("Visual_General"),properties:{formatString:S.iD.formatString,responsive:S.iD.responsive,responsiveLegacy:S.iD.responsiveLegacy,dataVolume:{displayName:(0,V.V)("Visual_DataVolume"),description:(0,V.V)("Visual_DataVolumeDescription"),type:{integer:!0}}}},legend:{displayName:S.TQ.legend.displayName,description:S.TQ.legend.description,properties:(0,c.pi)((0,c.pi)({},S.TQ.legend.properties),{showGradientLegend:S.iD.showGradientLegend})},categoryAxis:{displayName:(0,V.V)("Visual_XAxis"),properties:{show:S.iD.show,start:S.iD.axisStart,end:S.iD.axisEnd,invertAxis:S.iD.invertAxis,axisType:S.iD.axisType,showAxisTitle:S.iD.showAxisTitle_X,axisStyle:S.iD.axisStyle,labelColor:S.iD.labelColor,fontFamily:S.iD.fontFamily,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,labelDisplayUnits:S.iD.labelDisplayUnits,labelPrecision:S.iD.labelPrecision,logAxisScale:S.iD.logAxisScale,preferredCategoryWidth:S.iD.preferredCategoryWidth,maxMarginFactor:S.iD.maxMarginFactor,treatNullsAsZero:{displayName:(0,V.V)("Visual_Scatter_TreatNullsAsZero"),description:(0,V.V)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},titleColor:S.iD.titleColor,titleFontFamily:S.iD.fontFamily,titleFontSize:S.iD.titleFontSize,titleBold:S.iD.bold,titleItalic:S.iD.italic,titleUnderline:S.iD.underline,titleText:S.iD.titleText,gridlineShow:(0,c.pi)((0,c.pi)({},S.iD.show),{displayName:(0,V.V)("Visual_Gridline_Show")}),gridlineColor:S.iD.lineColor,gridlineThickness:S.iD.strokeWidth,gridlineStyle:S.iD.lineStyle,innerPadding:S.iD.innerPadding}},valueAxis:{displayName:(0,V.V)("Visual_YAxis"),properties:{show:S.iD.show,start:S.iD.axisStart,end:S.iD.axisEnd,invertAxis:S.iD.invertAxis,treatNullsAsZero:{displayName:(0,V.V)("Visual_Scatter_TreatNullsAsZero"),description:(0,V.V)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},showAxisTitle:S.iD.showAxisTitle_Y,axisStyle:S.iD.axisStyle,labelColor:S.iD.labelColor,fontFamily:S.iD.fontFamily,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,labelDisplayUnits:S.iD.labelDisplayUnits,labelPrecision:S.iD.labelPrecision,logAxisScale:S.iD.logAxisScale,titleColor:S.iD.titleColor,titleFontFamily:S.iD.fontFamily,titleFontSize:S.iD.titleFontSize,titleBold:S.iD.bold,titleItalic:S.iD.italic,titleUnderline:S.iD.underline,titleText:S.iD.titleText,gridlineShow:(0,c.pi)((0,c.pi)({},S.iD.show),{displayName:(0,V.V)("Visual_Gridline_Show")}),gridlineColor:S.iD.lineColor,gridlineThickness:S.iD.strokeWidth,gridlineStyle:S.iD.lineStyle,switchAxisPosition:S.iD.switchAxisPosition}},zoom:S.TQ.zoom,dataPoint:{displayName:(0,V.V)("Visual_DataPoint"),description:(0,V.V)("Visual_DataPointDescription"),properties:{defaultColor:S.iD.defaultColor,showAllDataPoints:S.iD.showAllDataPoints,fill:S.iD.defaultCategoryColor,fillRule:{displayName:(0,V.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category","X","Y"]}}}}},bubbles:{displayName:(0,V.V)("Visual_Shapes"),description:(0,V.V)("Visual_ShapesDescription"),properties:{bubbleSize:{displayName:(0,V.V)("Visual_BubbleSize"),type:{integer:!0}},markerRangeType:{displayName:(0,V.V)("Visual_MarkerRangeType"),type:{enumeration:P.zo}},markerShape:S.iD.markerShape,showSeries:{displayName:(0,V.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},plotArea:{displayName:(0,V.V)("Visual_Plot"),properties:{transparency:S.iD.transparency,image:S.iD.image}},categoryLabels:{displayName:(0,V.V)("Visual_CategoryLabels"),description:(0,V.V)("Visual_CategoryLabelsDescription"),properties:{show:S.iD.show,color:S.iD.categoryColor,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,fontFamily:S.iD.fontFamily,enableBackground:S.iD.labelEnableBackground,backgroundColor:S.iD.labelBackgroundColor,backgroundTransparency:S.iD.labelBackgroundTransparency}},trend:{displayName:(0,V.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:S.iD.show,displayName:S.iD.trendlineDisplayName,lineColor:S.iD.trendlineColor,transparency:S.iD.trendlineTransparency,style:S.iD.trendlineStyle,combineSeries:S.iD.trendlineCombineSeries}},xAxisReferenceLine:{displayName:(0,V.V)("Visual_Reference_Line_X"),description:(0,V.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:S.iD.show,displayName:S.iD.referenceLineDisplayName,value:S.iD.referenceLineValue,lineColor:S.iD.referenceLineColor,transparency:S.iD.referenceLineTransparency,style:S.iD.lineStyle,position:S.iD.referenceLinePosition,dataLabelShow:S.iD.dataLabelShow,dataLabelColor:S.iD.dataLabelColor,dataLabelText:S.iD.dataLabelText,dataLabelDecimalPoints:S.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:S.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:S.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:S.iD.dataLabelDisplayUnits}},y1AxisReferenceLine:{displayName:(0,V.V)("Visual_Reference_Line_Y"),description:(0,V.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:S.iD.show,displayName:S.iD.referenceLineDisplayName,value:S.iD.referenceLineValue,lineColor:S.iD.referenceLineColor,transparency:S.iD.referenceLineTransparency,style:S.iD.lineStyle,position:S.iD.referenceLinePosition,dataLabelShow:S.iD.dataLabelShow,dataLabelColor:S.iD.dataLabelColor,dataLabelText:S.iD.dataLabelText,dataLabelDecimalPoints:S.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:S.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:S.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:S.iD.dataLabelDisplayUnits}},referenceLine:{displayName:(0,V.V)("Visual_Reference_Line"),description:(0,V.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:S.iD.show,displayName:S.iD.referenceLineDisplayName,value:S.iD.referenceLineValue,lineColor:S.iD.referenceLineColor,transparency:S.iD.referenceLineTransparency,style:S.iD.lineStyle,position:S.iD.referenceLinePosition,dataLabelShow:S.iD.dataLabelShow,dataLabelColor:S.iD.dataLabelColor,dataLabelText:S.iD.dataLabelText,dataLabelDecimalPoints:S.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:S.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:S.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:S.iD.dataLabelDisplayUnits}},colorBorder:{displayName:(0,V.V)("Visual_ColorBorder"),properties:{show:S.iD.show}},fillPoint:{displayName:(0,V.V)("Visual_FillPoint"),properties:{style:S.iD.fillPointStyle}},colorByCategory:{displayName:(0,V.V)("Visual_ColorByCategory"),properties:{show:S.iD.show}},currentFrameIndex:{properties:{index:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},plotAreaShading:{displayName:(0,V.V)("Visual_Scatter_SymmetryShading"),description:(0,V.V)("Visual_Scatter_SymmetryShadingDescription"),objectCategory:2,properties:{show:S.iD.show,displayName:{displayName:(0,V.V)("Name"),type:{text:!0}},upperShadingColor:{displayName:(0,V.V)("Visual_Scatter_SymmetryShadingUpper"),description:(0,V.V)("Visual_Scatter_SymmetryShadingUpperDescription"),type:{fill:{solid:{color:!0}}}},lowerShadingColor:{displayName:(0,V.V)("Visual_Scatter_SymmetryShadingLower"),description:(0,V.V)("Visual_Scatter_SymmetryShadingLowerDescription"),type:{fill:{solid:{color:!0}}}},transparency:S.iD.transparency}},ratioLine:{displayName:(0,V.V)("Visual_Scatter_RatioLine"),description:(0,V.V)("Visual_Scatter_RatioLineDescription"),objectCategory:2,properties:{show:S.iD.show,displayName:{displayName:(0,V.V)("Name"),type:{text:!0}},lineColor:S.iD.referenceLineColor,transparency:S.iD.lineTransparency,style:S.iD.lineStyle}}},F=(0,n.wZ)(f),A={general:{formatString:{objectName:"general",propertyName:"formatString"},dataVolume:{objectName:"general",propertyName:"dataVolume"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerRangeType:{objectName:"bubbles",propertyName:"markerRangeType"},markerShape:{objectName:"bubbles",propertyName:"markerShape"},showSeries:{objectName:"bubbles",propertyName:"showSeries"}},trend:{show:{objectName:"trend",propertyName:"show"}},colorBorder:{show:{objectName:"colorBorder",propertyName:"show"}},fillPoint:{style:{objectName:"fillPoint",propertyName:"style"}},colorByCategory:{show:{objectName:"colorByCategory",propertyName:"show"}},currentFrameIndex:{index:{objectName:"currentFrameIndex",propertyName:"index"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},plotAreaShading:{show:{objectName:"plotAreaShading",propertyName:"show"},upperShadingColor:{objectName:"plotAreaShading",propertyName:"upperShadingColor"},lowerShadingColor:{objectName:"plotAreaShading",propertyName:"lowerShadingColor"},transparency:{objectName:"plotAreaShading",propertyName:"transparency"}},ratioLine:{show:{objectName:"ratioLine",propertyName:"show"},lineColor:{objectName:"ratioLine",propertyName:"lineColor"},transparency:{objectName:"ratioLine",propertyName:"transparency"},style:{objectName:"ratioLine",propertyName:"style"}},categoryAxis:{treatNullsAsZero:{objectName:"categoryAxis",propertyName:"treatNullsAsZero"}},valueAxis:{treatNullsAsZero:{objectName:"valueAxis",propertyName:"treatNullsAsZero"}}}},3889:function(ie,ve,v){v.d(ve,{A:function(){return P},b:function(){return V}});var c=v(6274),l=v(8459),n=v(9921),g=v(4171),V={dataViewMappings:[],objects:{scorecard:{displayName:(0,l.V)("Scorecard"),properties:{scorecardId:{type:{text:!0},displayName:(0,l.V)("ContentHeader_URL"),suppressFormatPainterCopy:!0},goalIds:{displayName:(0,l.V)("Metrics"),type:{text:!0},suppressFormatPainterCopy:!0},displayMode:{displayName:(0,l.V)("ExplorationBookmarks_Display"),type:{enumeration:(0,n.i)([{displayName:(0,l.V)("Tile_Generic"),value:"tile"},{displayName:(0,l.V)("Visual_SliderMode_Basic"),value:"list"}])}},backgroundColor:g.iD.backColor,foregroundColor:g.iD.fontColor,fontFamily:g.iD.fontFamily,tableBackgroundColor:g.iD.backColor,showCommandBar:{type:{bool:!0},displayName:(0,l.V)("ScorecardVisual_Format_ShowCommandBar")}}},header:{displayName:(0,l.V)("ThemeDialog_SubSection_Header"),properties:{show:g.iD.show,showTitle:{type:{bool:!0},displayName:(0,l.V)("EditWidget_ShowTitleCheckbox")},showToolbar:{type:{bool:!0},displayName:(0,l.V)("ScorecardVisual_Format_ShowToolbar")},showCards:{type:{bool:!0},displayName:(0,l.V)("Cards")},foregroundColor:g.iD.fontColor,backgroundColor:g.iD.backColor}},columnHeaders:{displayName:(0,l.V)("Visual_Tablix_ColumnHeaders"),properties:{show:g.iD.show,foregroundColor:g.iD.fontColor}},goals:{displayName:(0,l.V)("MetricsName_New"),properties:{foregroundColor:g.iD.fontColor,backgroundColor:g.iD.backColor}},detailsPane:{displayName:(0,l.V)("DetailsPane"),properties:{foregroundColor:g.iD.fontColor,backgroundColor:g.iD.backColor,cardForegroundColor:{displayName:(0,l.V)("Card_Font_Color"),type:{fill:{solid:{color:!0}}}},cardBackgroundColor:{displayName:(0,l.V)("Card_Background_Color"),type:{fill:{solid:{color:!0}}}},chartBackgroundColor:{displayName:(0,l.V)("Chart_Background_Color"),type:{fill:{solid:{color:!0}}}},chartForegroundColor:{displayName:(0,l.V)("Chart_Foreground_Color"),type:{fill:{solid:{color:!0}}}}}},visualization:{displayName:(0,l.V)("Visualization"),properties:{backgroundColor:g.iD.backColor,backgroundTransparency:g.iD.transparency,showScorecardName:{displayName:(0,l.V)("ScorecardDialog_Name"),description:(0,l.V)("ScorecardDialog_Name"),type:{bool:!0}},scorecardNameFontFamily:g.iD.fontFamily,scorecardNameFontSize:g.iD.titleFontSize,scorecardNameFontColor:g.iD.fontColor,scorecardNameBold:g.iD.bold,scorecardNameItalic:g.iD.italic,scorecardNameUnderline:g.iD.underline,currentValueFontFamily:g.iD.fontFamily,currentValueFontSize:g.iD.titleFontSize,currentValueFontColor:g.iD.fontColor,currentValueBold:g.iD.bold,currentValueItalic:g.iD.italic,currentValueUnderline:g.iD.underline,targetValueFontFamily:g.iD.fontFamily,targetValueFontSize:g.iD.titleFontSize,targetValueFontColor:g.iD.fontColor,targetValueBold:g.iD.bold,targetValueItalic:g.iD.italic,targetValueUnderline:g.iD.underline,showGrowth:{displayName:(0,l.V)("ScorecardVisual_Growth"),description:(0,l.V)("ScorecardVisual_Growth"),type:{bool:!0}},growthFontFamily:g.iD.fontFamily,growthFontSize:g.iD.titleFontSize,growthFontColor:g.iD.fontColor,growthBold:g.iD.bold,growthItalic:g.iD.italic,growthUnderline:g.iD.underline,showGoalName:{displayName:(0,l.V)("MetricName"),description:(0,l.V)("MetricName"),type:{bool:!0}},goalNameFontFamily:g.iD.fontFamily,goalNameFontSize:g.iD.titleFontSize,goalNameFontColor:g.iD.fontColor,goalNameBold:g.iD.bold,goalNameItalic:g.iD.italic,goalNameUnderline:g.iD.underline,showOwner:{displayName:(0,l.V)("Owner_Lowercase"),description:(0,l.V)("Owner_Lowercase"),type:{bool:!0}},ownerPhotoSize:{displayName:(0,l.V)("Role_DisplayName_Size"),description:(0,l.V)("Role_DisplayName_Size"),type:{numeric:!0}},showDueDate:{displayName:(0,l.V)("Due"),description:(0,l.V)("Due"),type:{bool:!0}},dueDateFontFamily:g.iD.fontFamily,dueDateFontSize:g.iD.titleFontSize,dueDateFontColor:g.iD.fontColor,dueDateBold:g.iD.bold,dueDateItalic:g.iD.italic,dueDateUnderline:g.iD.underline,showStatus:{displayName:(0,l.V)("Status"),description:(0,l.V)("Status"),type:{bool:!0}},showNotes:{displayName:(0,l.V)("Notes"),description:(0,l.V)("Notes"),type:{bool:!0}},notesFontSize:g.iD.titleFontSize,notesFontColor:g.iD.fontColor,showVisualization:{displayName:(0,l.V)("Visualization"),description:(0,l.V)("Visualization"),type:{bool:!0}},showLegends:{displayName:(0,l.V)("Visual_Legend"),description:(0,l.V)("Visual_Legend"),type:{bool:!0}},showTargetLine:{displayName:(0,l.V)("ScorecardVisual_TargetLine"),description:(0,l.V)("ScorecardVisual_TargetLine"),type:{bool:!0}},targetLineColor:g.iD.fontColor,currentLineColor:g.iD.fontColor,currentAreaShaded:{displayName:(0,l.V)("Visual_Shapes_ShadeArea"),description:(0,l.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}},showXAxis:{displayName:(0,l.V)("Visual_XAxis_Hyphen"),description:(0,l.V)("Visual_XAxis_Hyphen"),type:{bool:!0}},xAxisFontFamily:g.iD.fontFamily,xAxisFontSize:g.iD.titleFontSize,xAxisFontColor:g.iD.fontColor,xAxisBold:g.iD.bold,xAxisItalic:g.iD.italic,xAxisUnderline:g.iD.underline,showYAxis:{displayName:(0,l.V)("Visual_YAxis_Hyphen"),description:(0,l.V)("Visual_YAxis_Hyphen"),type:{bool:!0}},yAxisFontFamily:g.iD.fontFamily,yAxisFontSize:g.iD.titleFontSize,yAxisFontColor:g.iD.fontColor,yAxisBold:g.iD.bold,yAxisItalic:g.iD.italic,yAxisUnderline:g.iD.underline}}},sorting:{custom:{}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,supportsSelection:!1,showVisualContainerScreen:!0},P=(0,c.wZ)(V.objects)},4834:function(ie,ve,v){v.d(ve,{Ic:function(){return E},W6:function(){return Y},MI:function(){return A},B3:function(){return k},WO:function(){return T},W$:function(){return F}});var D,b,N,f,c=v(3188),l=v(6274),n=v(8459),V=(0,v(9921).i)([{value:"flat",displayName:function(z){return z.get("Visual_StrokeCap_Flat")}},{value:"round",displayName:function(z){return z.get("Visual_StrokeLineJoin_Round")}}]),P=v(4171),S=v(3845),h=v(2578),F={fill:h.OV.fill,outline:h.OV.outline,text:S.nm.text,shape:(0,c.pi)((0,c.pi)({},h.OV.shape),{linecapType:{objectName:"shape",propertyName:"linecapType"}}),shadow:h.OV.shadow,glow:h.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},A=(0,c.pi)((0,c.pi)((0,c.pi)({},h.eM),S.Vz),{rotation:"rotation"}),k=(0,c.pi)((0,c.pi)((0,c.pi)({},h.Mn),S.WI),{linecapType:"linecapType",rotation:"angle"}),Y={default:"default"},j=((D={show:P.iD.show})[h.Mn.fillColor]=P.iD.fill,D[h.Mn.fillTransparency]=P.iD.transparency,D),G=((b={})[k.rotation]={displayName:(0,n.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},b[k.shapeRotation]={displayName:(0,n.V)("Visual_ShapeRotation"),type:{integer:!0}},b[k.textRotation]={displayName:(0,n.V)("Visual_TextRotation"),type:{integer:!0}},b),I=((N={})[A.fill]={displayName:(0,n.V)("Visual_Fill"),properties:j},N[A.outline]=h.zC.outline,N[A.text]=S.p.text,N[A.shape]={displayName:(0,n.V)("Visual_Shape"),properties:(0,c.pi)((0,c.pi)({},h.zC.shape.properties),(f={},f[k.linecapType]={displayName:(0,n.V)("LinecapType"),type:{enumeration:V}},f))},N[A.shadow]=h.zC.shadow,N[A.glow]=h.zC.glow,N[A.rotation]={displayName:(0,n.V)("Visual_BasicShape_Rotate"),properties:G},N),E={objects:I,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img",disableFormatMode:!0},T=(0,l.wZ)(I)},6222:function(ie,ve,v){v.d(ve,{L:function(){return b},x:function(){return h}});var c=v(6274),l=v(1813),n=v(8459),g=v(3122),V=v(8496),P=v(4171),S={general:{displayName:(0,n.V)("Visual_General"),properties:{formatString:P.iD.formatString}},legend:P.TQ.legend,dataPoint:{displayName:(0,n.V)("Visual_DataPoint"),description:(0,n.V)("Visual_DataPointDescription"),properties:{defaultColor:P.iD.defaultColor,showAllDataPoints:P.iD.showAllDataPoints,fill:P.iD.defaultCategoryColor,fillRule:{displayName:(0,n.V)("Role_DisplayName_Values"),description:(0,n.V)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:V.S3,output:{property:"fill",selector:[V.W3]}}}}},shape:{displayName:(0,n.V)("Visual_Shape"),description:(0,n.V)("Visual_Shape"),properties:{map:{type:{geoJson:{contentType:g.t_}}},projectionEnum:{displayName:(0,n.V)("Visual_ShapeMap_Projection"),description:(0,n.V)("Visual_ShapeMap_Projection_Desc"),type:{enumeration:V.dt}}}},defaultColors:{displayName:(0,n.V)("Visual_ShapeMap_DefaultColor"),description:(0,n.V)("Visual_ShapeMap_DefaultColor_Desc"),properties:{defaultShow:{displayName:(0,n.V)("Visual_ShapeMap_DefaultShow"),description:(0,n.V)("Visual_ShapeMap_DefaultShow_Desc"),type:{bool:!0}},defaultColor:{displayName:(0,n.V)("Visual_ShapeMap_DefaultColorColor"),description:(0,n.V)("Visual_ShapeMap_DefaultColorColor_Desc"),type:{fill:{solid:{color:!0}}}},borderColor:{displayName:(0,n.V)("Visual_ShapeMap_BorderColor"),description:(0,n.V)("Visual_ShapeMap_BorderColor_Desc"),type:{fill:{solid:{color:!0}}}},borderThickness:{displayName:(0,n.V)("Visual_ShapeMap_BorderThickness"),description:(0,n.V)("Visual_ShapeMap_BorderThickness_Desc"),type:{numeric:!0}}}},zoom:{displayName:(0,n.V)("Visual_ShapeMap_Zoom"),description:(0,n.V)("Visual_ShapeMap_Zoom_Desc"),properties:{autoZoom:{displayName:(0,n.V)("Visual_ShapeMap_AutoZoom"),description:(0,n.V)("Visual_ShapeMap_AutoZoom_Desc"),type:{bool:!0}},selectionZoom:{displayName:(0,n.V)("Visual_ShapeMap_SelectionZoom"),description:(0,n.V)("Visual_ShapeMap_SelectionZoom_Desc"),type:{bool:!0}},manualZoom:{displayName:(0,n.V)("Visual_ShapeMap_ManualZoom"),description:(0,n.V)("Visual_ShapeMap_ManualZoom_Desc"),type:{bool:!0}}}}};function h(){var N;return{dataRoles:[{name:V.W3,kind:l.DW.Grouping,displayName:(0,n.V)("Role_DisplayName_Location"),description:(0,n.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:V.ac,kind:l.DW.Grouping,displayName:(0,n.V)("Role_DisplayName_Legend"),description:(0,n.V)("Role_DisplayName_LegendDescription")},{name:V.S3,kind:l.DW.Measure,displayName:(0,n.V)("Role_DisplayName_Gradient"),description:(0,n.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:V.jH,kind:l.DW.Measure,displayName:(0,n.V)("Role_DisplayName_Tooltips"),description:(0,n.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:S,dataViewMappings:[{conditions:[(N={},N[V.W3]={min:0,max:1},N[V.ac]={min:0,max:1},N[V.S3]={min:0,max:1},N)],categorical:{categories:{for:{in:V.W3},dataReductionAlgorithm:{top:{}}},values:{group:{by:V.ac,select:[{bind:{to:V.S3}},{for:{in:V.jH}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:V.S3,direction:2}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0}}}var b=(0,c.wZ)(S)},8031:function(ie,ve,v){v.d(ve,{st:function(){return k},gO:function(){return A},CT:function(){return f}});var c=v(6274),l=v(1813),n=v(8459),g=v(1701),V=v(6118),P=v(6249),h=(0,v(9921).i)([{value:0,displayName:function(E){return E.get("Icon_Chevron")}},{value:1,displayName:function(E){return E.get("Icon_PlusMinus")}},{value:2,displayName:function(E){return E.get("Icon_Caret")}}]),D=v(7401),b=v(3799),N=v(4171),f={value:"Values"},F={general:{displayName:(0,n.V)("Visual_General"),properties:{responsive:N.iD.responsive,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},defaultValue:{type:{expression:{defaultValue:!0}}},formatString:N.iD.formatString,outlineColor:N.iD.outlineColor,outlineWeight:N.iD.outlineWeight,orientation:{displayName:(0,n.V)("Slicer_Orientation"),type:{enumeration:b.d}},count:{type:{integer:!0}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},data:{suppressFormatPainterCopy:!0,properties:{startDate:{type:{dateTime:!0},filterState:!0},endDate:{type:{dateTime:!0},filterState:!0},numericStart:{type:{numeric:!0},filterState:!0},numericEnd:{type:{numeric:!0},filterState:!0},relativeRange:{type:{enumeration:P.dt},filterState:!0},relativePeriod:{type:{enumeration:V.GA},filterState:!0},relativeTimePeriod:{type:{enumeration:V._k},filterState:!0},relativeDuration:{type:{numeric:!0},filterState:!0},mode:{displayName:(0,n.V)("Style"),type:{enumeration:D.dt},filterState:!0,persistUnmatchedState:!0},isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selection:{displayName:(0,n.V)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,n.V)("Visual_SelectAll"),description:(0,n.V)("Visual_SelectAll_Description"),type:{bool:!0}},singleSelect:{displayName:(0,n.V)("Visual_MultiSelectWithCtrl"),description:(0,n.V)("Visual_MultiSelectWithCtrl_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,n.V)("Visual_StrictSingleSelect"),description:(0,n.V)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0}}},header:{displayName:(0,n.V)("Slicer_Header"),properties:{show:N.iD.show,fontColor:N.iD.fontColor,text:{displayName:(0,n.V)("Visual_Title_Text"),description:(0,n.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},background:{displayName:(0,n.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},outline:N.iD.outline,outlineStyle:N.iD.outlineStyle,textSize:{displayName:(0,n.V)("Visual_TextSize"),type:{numeric:!0}},bold:N.iD.bold,italic:N.iD.italic,underline:N.iD.underline,fontFamily:N.iD.fontFamily,showRestatement:{displayName:(0,n.V)("Slicer_Restatement_Enabled"),type:{bool:!0}}}},pendingChangesIcon:{displayName:(0,n.V)("PendingIcon"),properties:{show:N.iD.show,color:N.iD.color,transparency:N.iD.transparency,position:{displayName:(0,n.V)("Visual_LegendPosition"),type:{enumeration:g.dt}},size:{displayName:(0,n.V)("Embed_Size"),type:{numeric:!0}},showTooltip:{displayName:(0,n.V)("Visual_ShowTooltip"),type:{bool:!0}},tooltipText:{displayName:(0,n.V)("VisualHeaderTooltip_Text"),type:{text:!0}},tooltipLabel:{displayName:(0,n.V)("VisualHeaderTooltip_Label"),type:{text:!0}}}},searchBox:{displayName:(0,n.V)("SearchBox"),properties:{outline:N.iD.outline,outlineStyle:N.iD.outlineStyle,borderColor:N.iD.outlineColor,background:{displayName:(0,n.V)("Visual_Background"),type:{fill:{solid:{color:!0}}}}}},items:{displayName:(0,n.V)("Items"),properties:{fontColor:N.iD.fontColor,background:{displayName:(0,n.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},outline:N.iD.outline,outlineStyle:N.iD.outlineStyle,textSize:{displayName:(0,n.V)("Visual_TextSize"),type:{numeric:!0}},bold:N.iD.bold,italic:N.iD.italic,underline:N.iD.underline,fontFamily:N.iD.fontFamily,expandCollapseToggleType:{displayName:(0,n.V)("Slicer_ExpandCollapse_Toggle"),type:{enumeration:h}},steppedLayoutIndentation:{displayName:(0,n.V)("Visual_PivotTable_SteppedLayoutIndentation"),type:{numeric:!0}},padding:{displayName:(0,n.V)("Visual_Padding"),type:{numeric:!0}},accessibilityContrastProperties:{type:{bool:!0}}}},date:{displayName:(0,n.V)("Slicer_DateInputs"),properties:{fontColor:N.iD.fontColor,textSize:{displayName:(0,n.V)("Visual_TextSize"),type:{numeric:!0}},bold:N.iD.bold,italic:N.iD.italic,underline:N.iD.underline,fontFamily:N.iD.fontFamily,background:{displayName:(0,n.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},hideDatePickerButton:{type:{bool:!0}}}},numericInputStyle:{displayName:(0,n.V)("Slicer_NumericInputs"),properties:{fontColor:N.iD.fontColor,textSize:{displayName:(0,n.V)("Visual_TextSize"),type:{numeric:!0}},bold:N.iD.bold,italic:N.iD.italic,underline:N.iD.underline,fontFamily:N.iD.fontFamily,background:{displayName:(0,n.V)("Background_Color"),type:{fill:{solid:{color:!0}}}}}},slider:{displayName:(0,n.V)("Slicer_Slider"),properties:{show:N.iD.show,color:{displayName:(0,n.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},handleFillColor:{displayName:(0,n.V)("Visual_Fill"),type:{fill:{solid:{color:!0}}}},handleBorderColor:{displayName:(0,n.V)("Visual_Border"),type:{fill:{solid:{color:!0}}}},secondaryLineColor:{displayName:(0,n.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}}}},dateRange:{displayName:(0,n.V)("Slicer_DateRange"),properties:{includeToday:{displayName:(0,n.V)("Visual_IncludeToday"),type:{bool:!0},filterState:!0},anchorDate:{displayName:(0,n.V)("RelativeSlicer_AnchorDate"),description:(0,n.V)("RelativeSlicer_AnchorDateDescription"),type:{dateTime:!0},filterState:!0}}}},A=(0,c.wZ)(F);function k(I){return{dataRoles:[{name:f.value,kind:l.DW.Grouping,displayName:(0,n.V)("Field"),description:(0,n.V)("Role_DisplayName_FieldDescription"),preferDateColumn:!0}],hasFilterOptions:!0,objects:F,drilldown:{roles:[f.value],suppresDrillOperations:!0},dataViewMappings:G(),expandCollapse:j(I),sorting:{default:{}},suppressDefaultTitle:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,keepAllMetadataColumns:!0}}function j(I){return{roles:[f.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!(null==I||!I.fieldParameterDynamicSlicer)}}function G(){var I,E,T=[{conditions:[(I={},I[f.value]={max:1,suppressDrill:!0},I)],categorical:{categories:{for:{in:f.value},dataReductionAlgorithm:{window:{}}},includeEmptyGroups:!0}}];return T.unshift({conditions:[(E={},E[f.value]={min:2,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0},E)],matrix:{rows:{for:{in:f.value},dataReductionAlgorithm:{window:{count:500}}},includeEmptyGroups:!0}}),T}},1456:function(ie,ve,v){v.d(ve,{D_:function(){return C},PM:function(){return f},Wj:function(){return m},ot:function(){return N},pQ:function(){return z},vu:function(){return u}});var c=v(8955),l=v(8207),n=v(2348),g=v(4842),V=v(4344),P=v(6118),S=v(6249),h=v(7401),D=v(8031);function N(y){var M=y.dataViewMappings[0],L=d(M);if(!_.isEmpty(L)){var O=R(M.metadata.objects);if(null===(O=C(L,O))||(0,h.l6)(O)||(0,h.G5)(O))return null}return[D.CT.value]}function f(y){var M=function(y){var M=R(y.objects),L=R(y.changes);return(M===h.RB&&L===h.j6||M===h.j6&&L===h.RB)&&M!==L&&M?{merge:!0,mode:M}:{merge:!1,mode:L||M}}(y),L=y.changes&&y.changes[D.gO.general.filter.objectName],O=L&&L[D.gO.general.filter.propertyName];if(null!=O){var H=T(y,M.mode);return(0,h.l6)(M.mode)?(function(y,M,L){if(c.fF.assertValue(y,"filter should be defined"),(0,h.l6)(M)){var O=(0,g.pi)(y);if(!O||!O.options)return void c.fF.assertValue(O&&O.options,"filterParams and filterParams.options must be defined.");var H=D.gO.data.numericStart.objectName;c.fF.assert(function(){return D.gO.data.numericStart.objectName===D.gO.data.numericEnd.objectName},"numericStart & numericEnd must have same object name"),c.fF.assert(function(){return D.gO.data.numericStart.objectName===D.gO.data.startDate.objectName},"numericStart & startDate must have same object name"),c.fF.assert(function(){return D.gO.data.numericStart.objectName===D.gO.data.endDate.objectName},"numericStart & endDate must have same object name");var Q={};_.isNumber(O.options.min)||_.isNumber(O.options.max)?(Q[D.gO.data.numericStart.propertyName]=O.options.min,M!==h.Zr&&(Q[D.gO.data.numericEnd.propertyName]=O.options.max),G(L,H,Q)):(_.isDate(O.options.min)||_.isDate(O.options.max))&&(c.fF.assert(function(){return void 0===O.options.min||(0,l.M4)(O.options.min)},"Implementing DateWithEpochValue is needed for serialization"),c.fF.assert(function(){return void 0===O.options.max||(0,l.M4)(O.options.max)},"Implementing DateWithEpochValue is needed for serialization"),Q[D.gO.data.startDate.propertyName]=O.options.min,Q[D.gO.data.endDate.propertyName]=O.options.max,G(L,H,Q))}}(O,M.mode,H),H):M.mode===h.K8?(A(O,M.mode,H,D.gO.data.relativePeriod.propertyName),H):(M.mode===h.GV&&A(O,M.mode,H,D.gO.data.relativeTimePeriod.propertyName),H)}return M.merge?T(y,M.mode):null}function A(y,M,L,O){if(c.fF.assertValue(y,"filter should be defined"),(0,h.G5)(M)){var H=(0,h.nW)(M),Q=(0,V.pi)(y,H);if(!Q||!Q.options)return void c.fF.assertValue(Q&&Q.options,"filterParams and filterParams.options must be defined.");var X=D.gO.data.relativeRange.objectName;c.fF.assert(function(){return D.gO.data.relativeRange.objectName===D.gO.data.relativeDuration.objectName},"relativeRange & relativeDuration must have same object name"),c.fF.assert(function(){return D.gO.data.relativeRange.objectName===D.gO.data.relativePeriod.objectName},"relativeRange & relativePeriod must have same object name");var W=(0,S.BB)(Q.options.relativeQualifier),J=(0,P.BB)(Q.options.relativeUnit),ee=Q.options.duration;(null==W||null==ee||null==J)&&Y(L,X),(null!=W||null!=ee||null!=J)&&k(L,X);var le={};le[D.gO.data.relativeRange.propertyName]=W,le[D.gO.data.relativeDuration.propertyName]=W===S.Vk?0:Q.options.duration,le[O]=J,G(L,X,le),function(y,M){var L=D.gO.dateRange.includeToday.objectName;c.fF.assert(function(){return D.gO.dateRange.includeToday.objectName===D.gO.dateRange.anchorDate.objectName},"anchorDate is not in the same object as includeToday");var O={};M.includeTodayFromDefault||(O[D.gO.dateRange.includeToday.propertyName]=M.includeToday),O[D.gO.dateRange.anchorDate.propertyName]=M.anchorDate,G(y,L,O)}(L,Q.options)}}function k(y,M){y.merge=y.merge||[];var L=I(y.merge,M);return y.merge[L]}function Y(y,M){y.remove=y.remove||[];var L=I(y.remove,M);return y.remove[L]}function G(y,M,L){var O=null,H=null;for(var Q in _.some(L,function(X){return null==X})&&(O=Y(y,M)),_.some(L,function(X){return null!=X})&&(H=k(y,M)),L)null==L[Q]?(c.fF.assertValue(O,"remove must be defined here."),O.properties[Q]=!0):(c.fF.assertValue(H,"merge must be defined here."),H.properties[Q]=L[Q])}function I(y,M){c.fF.assertValue(y,"visualObjects");var L=y.map(function(O){return O.objectName}).indexOf(M);return L<0&&(y.push({objectName:M,selector:null,properties:{}}),L=y.length-1),L}function T(y,M){var L=[];for(var O in y.changes){var H={};for(var Q in y.changes[O])H[Q]=y.changes[O][Q];null!=M&&O===D.gO.data.mode.objectName&&(H[D.gO.data.mode.propertyName]=M),L.push({objectName:O,selector:null,properties:H})}return{merge:L}}function m(y){if(!_.isEmpty(y.dataViewMappings)){var M=y.dataViewMappings[0];if(M&&M.metadata){var L=d(M)||[];if(M.matrix&&M.matrix.rows){var O=M.matrix.rows.for.in.items;if(!_.isEmpty(O))for(var H=function(Ae){if(!_.find(L,function(we){return we.queryName===Ae.queryName}))return"continue";Ae.subtotalType=1},Q=0,X=O;Q<X.length;Q++)H(X[Q])}var J=R(M.metadata.objects);if(!_.isEmpty(L)){if((J=C(L,J))===h.Zr){var ee=M.categorical&&M.categorical.categories;return void(ee&&(ee.dataReductionAlgorithm={sample:{}}))}if((0,h.Lw)(J)&&M.categorical&&M.categorical.categories){var le=M.categorical.categories.for.in.items;M.categorical.categories=null,M.categorical.values={bind:{to:{role:D.CT.value,aggregates:{min:!0,max:!0},items:le}}}}}(0,h.G5)(J)&&(M.updateType=2),J===h.j6&&function(y){if(y){var M=!1;if(M=(0,n.NA)(y,D.gO.selection.strictSingleSelect,M)){var L=null,O=!1;return L=(0,n.NA)(y,D.gO.general.filter,L),O=(0,n.NA)(y,D.gO.data.isInvertedSelectionMode,O),null!=L&&!O}}return!0}(M.metadata.objects)&&(M.updateType=1)}}}function z(y){var L=y.objects,O=R(L),Q=d(y.dataViewMappings[0]);if(!_.isEmpty(Q)){O=C(Q,O,!0);var X=L&&L[D.gO.data.mode.objectName];X||(X={});var W={};for(var J in X)W[J]=X[J];return W[D.gO.data.mode.propertyName]=O,{replace:[{objectName:D.gO.data.mode.objectName,selector:null,properties:W}]}}}function R(y){var M=null;return y&&(M=(0,n.NA)(y,D.gO.data.mode,M)),M}function C(y,M,L){if(void 0===L&&(L=!1),c.fF.assertNonEmpty(y,"pluginMethods.getValidateSlicerMode - columns"),y.length>1)return M===h.j6?h.j6:h.RB;var O=y[0];if(!O.type)return M;if(O.parameter&&0===O.parameter.kind)M=null===M||(0,h.G5)(M)?h.Zr:M;else{if(O.parameter&&1===O.parameter.kind)return null==M?h.RB:M;!0===O.type.dateTime?M=null===M||M===h.Zr?h.vX:M:O.type.numeric?null===M?M=L?h.vX:h.RB:((0,h.G5)(M)||M===h.Zr)&&(M=h.vX):M!==h.RB&&M!==h.j6&&(M=h.RB)}return M}function d(y){return y.metadata?y.metadata.columns:null}function u(y){if(y.filterForFieldParameter)return!1;var O=y.dataViewMappings[0];if(!O||!O.metadata)return!1;var H=R(O.metadata.objects),Q=d(O);return _.isEmpty(Q)||(H=C(Q,H)),(0,h.l6)(H)}},1229:function(ie,ve,v){v.d(ve,{Z:function(){return D},k:function(){return h}});var c=v(6274),l=v(1813),n=v(8459),g=v(8120),V=v(9791),P=v(4171);function S(b){return[{name:"Values",kind:l.DW.GroupingOrMeasure,displayName:(0,n.V)(b&&b.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values"),supportsSparklines:!0}]}function h(b){return{dataRoles:S(b),objects:{general:{displayName:(0,n.V)("Visual_General"),properties:{formatString:P.iD.formatString}},grid:{displayName:(0,n.V)("Visual_Grid"),properties:{outline:P.iD.outline,outlineStyle:P.iD.outlineStyle,outlineColor:P.iD.outlineColor,outlineWeight:P.iD.outlineWeight,gridVertical:{displayName:(0,n.V)("Visual_GridVertical"),description:(0,n.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,n.V)("Visual_GridVertical_Color"),description:(0,n.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,n.V)("Visual_GridVertical_Weight"),description:(0,n.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,n.V)("Visual_GridHorizontal"),description:(0,n.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,n.V)("Visual_GridHorizontal_Color"),description:(0,n.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,n.V)("Visual_GridHorizontal_Weight"),description:(0,n.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,n.V)("Visual_RowPadding"),description:(0,n.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,n.V)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,n.V)("Visual_General_Properties_Height"),description:(0,n.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,n.V)("Visual_General_Properties_Width"),description:(0,n.V)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,n.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:P.iD.outline,outlineStyle:P.iD.outlineStyle,outlineColor:P.iD.outlineColor,outlineWeight:P.iD.outlineWeight,fontColor:P.iD.tablixFontColor,fontFamily:P.iD.fontFamily,fontSize:P.iD.fontSize,bold:P.iD.bold,italic:P.iD.italic,underline:P.iD.underline,backColor:P.iD.backColor,alignment:P.iD.textAlignment,autoSizeColumnWidth:{type:{bool:!0},displayName:(0,n.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},wordWrap:P.iD.wordWrap}},values:{displayName:(0,n.V)("Visual_Tablix_Values"),properties:{outline:P.iD.outline,outlineStyle:P.iD.outlineStyle,outlineColor:P.iD.outlineColor,outlineWeight:P.iD.outlineWeight,backColor:{displayName:(0,n.V)("Background_Color"),description:(0,n.V)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,n.V)("Visual_FontColor"),description:(0,n.V)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontFamily:P.iD.fontFamily,fontSize:P.iD.fontSize,bold:P.iD.bold,italic:P.iD.italic,underline:P.iD.underline,fontColorPrimary:{displayName:(0,n.V)("Visual_FontColor"),description:(0,n.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,n.V)("Background_Color"),description:(0,n.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,n.V)("Visual_Tablix_FontColorSecondary"),description:(0,n.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,n.V)("Visual_Tablix_BackColorSecondary"),description:(0,n.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,n.V)("Visual_Tablix_UrlIcon"),description:(0,n.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:P.iD.wordWrap,icon:{displayName:(0,n.V)("Visual_Tablix_Icons"),description:(0,n.V)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,n.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},total:{displayName:(0,n.V)("Visual_Total"),properties:{totals:{type:{bool:!0},displayName:(0,n.V)("Visual_Totals"),suppressFormatPainterCopy:!0},label:{type:{text:!0},displayName:(0,n.V)("Visual_TableEx_TotalLabel"),suppressFormatPainterCopy:!0},outline:P.iD.outline,outlineStyle:P.iD.outlineStyle,outlineColor:P.iD.outlineColor,outlineWeight:P.iD.outlineWeight,fontColor:P.iD.tablixFontColor,fontFamily:P.iD.fontFamily,fontSize:P.iD.fontSize,bold:P.iD.bold,italic:P.iD.italic,underline:P.iD.underline,backColor:P.iD.backColor}},columnFormatting:{displayName:(0,n.V)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,n.V)("Visual_DisplayUnits"),description:(0,n.V)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:P.iD.labelPrecision,fontColor:P.iD.tablixFontColor,backColor:P.iD.backColor,alignment:P.iD.textAlignment,styleHeader:{displayName:(0,n.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,n.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,n.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,n.V)("Visual_ConditionalFormatting_DataBars"),description:(0,n.V)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},sparklines:{displayName:(0,n.V)("Sparkline_Label"),properties:{chartType:{displayName:(0,n.V)("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:g.dt}},dataColor:{displayName:(0,n.V)("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:P.iD.strokeWidth,markers:{displayName:(0,n.V)("Sparkline_Formatting_Slice_ShowTheseMarkers"),type:{flagsEnumeration:V.dt}},markerColor:P.iD.markerColor,markerSize:{displayName:(0,n.V)("Visual_MarkerSize"),type:{integer:!0}},markerShape:P.iD.markerShape}},accessibility:{displayName:(0,n.V)("Accessibility"),properties:{altTextColumns:{displayName:(0,n.V)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}},rowWithReferenceText:{displayName:(0,n.V)("Visual_Tablix_RowName"),type:{reference:{rowRefText:!0}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{},custom:{}},suppressDefaultTitle:!0,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,enablePointerEventsFormatMode:!0,supportsOnObjectFormatting:!0}}var D=(0,c.wZ)(h().objects)},9550:function(ie,ve,v){v.d(ve,{RL:function(){return P},d$:function(){return D},dd:function(){return S},mj:function(){return h}});var n,g,V,c=v(8459),l=v(4171),P={general:{paragraphs:{objectName:"general",propertyName:"paragraphs"}},text:{color:{objectName:"text",propertyName:"color"},fontFamily:{objectName:"text",propertyName:"fontFamily"},fontSize:{objectName:"text",propertyName:"fontSize"}},values:{expr:{objectName:"values",propertyName:"expr"},formatString:{objectName:"values",propertyName:"formatString"}}},S={objects:{general:{displayName:(0,c.V)("Visual_General"),properties:(n={},n[P.general.paragraphs.propertyName]={type:{paragraphs:{}},suppressFormatPainterCopy:!0},n)},text:{displayName:(0,c.V)("Text"),properties:(g={},g[P.text.fontSize.propertyName]={displayName:(0,c.V)("Default_Font_Size"),type:{formatting:{fontSize:!0}}},g[P.text.fontFamily.propertyName]={displayName:(0,c.V)("Default_Font_Family"),type:{formatting:{fontFamily:!0}}},g[P.text.color.propertyName]={displayName:(0,c.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},g)},values:{properties:(V={},V[P.values.expr.propertyName]={formatStringProperty:P.values.formatString,ignoreUnreferenced:!0,type:{variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},V[P.values.formatString.propertyName]=l.iD.formatString,V)}},suppressDefaultTitle:!0,supportsSelection:!1,supportsKeyboardFocus:!0,disableFormatMode:!0},h="\n",D="__Newline__"},3845:function(ie,ve,v){v.d(ve,{Vz:function(){return D},WI:function(){return b},nm:function(){return h},p:function(){return F}});var V,P,S,c=v(8459),l=v(1140),n=v(1701),g=v(4171),h={text:{show:{objectName:"text",propertyName:"show"},fontColor:{objectName:"text",propertyName:"fontColor"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},italic:{objectName:"text",propertyName:"italic"},bold:{objectName:"text",propertyName:"bold"},underline:{objectName:"text",propertyName:"underline"},text:{objectName:"text",propertyName:"text"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},leftMargin:{objectName:"text",propertyName:"leftMargin"},rightMargin:{objectName:"text",propertyName:"rightMargin"},topMargin:{objectName:"text",propertyName:"topMargin"},bottomMargin:{objectName:"text",propertyName:"bottomMargin"},angle:{objectName:"text",propertyName:"angle"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},image:{objectName:"icon",propertyName:"image"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},placement:{objectName:"icon",propertyName:"placement"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},leftMargin:{objectName:"icon",propertyName:"leftMargin"},rightMargin:{objectName:"icon",propertyName:"rightMargin"},topMargin:{objectName:"icon",propertyName:"topMargin"},bottomMargin:{objectName:"icon",propertyName:"bottomMargin"},spacing:{objectName:"icon",propertyName:"spacing"},iconSize:{objectName:"icon",propertyName:"iconSize"}}},D={text:"text",icon:"icon"},b={fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",italic:"italic",bold:"bold",underline:"underline",text:"text",textVerticalAlignment:"verticalAlignment",textHorizontalAlignment:"horizontalAlignment",textLeftMargin:"leftMargin",textRightMargin:"rightMargin",textTopMargin:"topMargin",textBottomMargin:"bottomMargin",textRotation:"textAngle",shapeType:"shapeType",iconImage:"image",iconColor:"lineColor",iconTransparency:"lineTransparency",iconWeight:"lineWeight",iconPlacement:"placement",iconVerticalAlignment:"verticalAlignment",iconHorizontalAlignment:"horizontalAlignment",iconLeftMargin:"leftMargin",iconRightMargin:"rightMargin",iconTopMargin:"topMargin",iconBottomMargin:"bottomMargin",iconSize:"iconSize"},N=((V={show:g.iD.show})[b.fontColor]=g.iD.fontColor,V[b.fontSize]=g.iD.fontSize,V[b.fontFamily]=g.iD.fontFamily,V[b.underline]=g.iD.underline,V[b.italic]=g.iD.italic,V[b.bold]=g.iD.bold,V[b.text]={displayName:(0,c.V)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},V[b.textVerticalAlignment]={displayName:(0,c.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},V[b.textHorizontalAlignment]={displayName:(0,c.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},V[b.textLeftMargin]={displayName:(0,c.V)("Visual_Margin_Left"),type:{integer:!0}},V[b.textRightMargin]={displayName:(0,c.V)("Visual_Margin_Right"),type:{integer:!0}},V[b.textTopMargin]={displayName:(0,c.V)("Visual_Margin_Top"),type:{integer:!0}},V[b.textBottomMargin]={displayName:(0,c.V)("Visual_Margin_Bottom"),type:{integer:!0}},V),f=((P={show:g.iD.show,shapeType:{displayName:(0,c.V)("Icon"),type:{enumeration:l.dt}}})[b.iconImage]=g.iD.image,P[b.iconColor]={displayName:(0,c.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},P[b.iconTransparency]=g.iD.lineTransparency,P[b.iconWeight]={displayName:(0,c.V)("Visual_BasicShape_Weight"),type:{integer:!0}},P[b.iconPlacement]={displayName:(0,c.V)("Visual_IconPlacement"),type:{enumeration:n.dt}},P[b.iconVerticalAlignment]={displayName:(0,c.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},P[b.iconHorizontalAlignment]={displayName:(0,c.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},P[b.iconLeftMargin]={displayName:(0,c.V)("Visual_Margin_Left"),type:{integer:!0}},P[b.iconRightMargin]={displayName:(0,c.V)("Visual_Margin_Right"),type:{integer:!0}},P[b.iconTopMargin]={displayName:(0,c.V)("Visual_Margin_Top"),type:{integer:!0}},P[b.iconBottomMargin]={displayName:(0,c.V)("Visual_Margin_Bottom"),type:{integer:!0}},P[b.iconSize]={displayName:(0,c.V)("Visual_IconSize"),placeHolderText:(0,c.V)("Visual_Auto"),type:{numeric:!0}},P),F=((S={})[D.text]={displayName:(0,c.V)("Text"),properties:N},S[D.icon]={displayName:(0,c.V)("Icon"),properties:f},S)},2578:function(ie,ve,v){v.d(ve,{Mn:function(){return O},OV:function(){return u},eM:function(){return L},zC:function(){return pe}});var F,A,k,Y,j,G,I,E,T,m,z,R,w,B,C,d,c=v(3188),l=v(8459),n=v(9921),g=v(2406),V=v(6604),P=v(7725),S=v(7793),h=v(3500),D=v(1306),b=v(7681),N=v(510),f=v(4171),u={fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}},fillCustom:{show:{objectName:"fillCustom",propertyName:"show"},fillColor:{objectName:"fillCustom",propertyName:"fillColor"},transparency:{objectName:"fillCustom",propertyName:"transparency"},imageSplitTransparency:{objectName:"fillCustom",propertyName:"imageSplitTransparency"},image:{objectName:"fillCustom",propertyName:"image"},imageTransparency:{objectName:"fillCustom",propertyName:"imageTransparency"}},layout:{alignment:{objectName:"layout",propertyName:"alignment"},orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"}},label:{show:{objectName:"label",propertyName:"show"},fontColor:{objectName:"label",propertyName:"fontColor"},fontSize:{objectName:"label",propertyName:"fontSize"},fontFamily:{objectName:"label",propertyName:"fontFamily"},italic:{objectName:"label",propertyName:"italic"},bold:{objectName:"label",propertyName:"bold"},underline:{objectName:"label",propertyName:"underline"},text:{objectName:"label",propertyName:"text"},heading:{objectName:"label",propertyName:"heading"},position:{objectName:"label",propertyName:"position"},transparency:{objectName:"label",propertyName:"transparency"},textWrap:{objectName:"label",propertyName:"textWrap"},alignBaselines:{objectName:"label",propertyName:"alignBaselines"},field:{objectName:"label",propertyName:"field"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},weight:{objectName:"outline",propertyName:"weight"},transparency:{objectName:"outline",propertyName:"transparency"}},shape:{tileShape:{objectName:"shape",propertyName:"tileShape"},roundEdge:{objectName:"shape",propertyName:"roundEdge"},arrowheadSize:{objectName:"shape",propertyName:"arrowheadSize"},arrowStemWidth:{objectName:"shape",propertyName:"arrowStemWidth"},chevronAngle:{objectName:"shape",propertyName:"chevronAngle"},isocelesTriangleTipPosition:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},parallelogramSlant:{objectName:"shape",propertyName:"parallelogramSlant"},trapezoidSlant:{objectName:"shape",propertyName:"trapezoidSlant"},hexagonSlant:{objectName:"shape",propertyName:"hexagonSlant"},octagonSnipSize:{objectName:"shape",propertyName:"octagonSnipSize"},speechBubbleHeight:{objectName:"shape",propertyName:"speechBubbleHeight"},speechBubbleTailPosition:{objectName:"shape",propertyName:"speechBubbleTailPosition"},speechBubbleTailAngle:{objectName:"shape",propertyName:"speechBubbleTailAngle"},rectangleRoundedCurve:{objectName:"shape",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTopRight:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},tabCutCornerSnipSizeTop:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},tabRoundCornerTopRight:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},tabRoundCornerTop:{objectName:"shape",propertyName:"tabRoundCornerTop"},tabRoundCornerBottom:{objectName:"shape",propertyName:"tabRoundCornerBottom"}},shapeCustomRectangle:{rectangleRoundedCurveLeftTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightBottom"},rectangleRoundedCurveCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeBottom"},tabCutCornerSnipSizeCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeCustomStyle"},tabCutCornerSnipSizeLeftTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftTop"},tabCutCornerSnipSizeRightTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightTop"},tabCutCornerSnipSizeLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftBottom"},tabCutCornerSnipSizeRightBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightBottom"},tileShape:{objectName:"shapeCustomRectangle",propertyName:"tileShape"}},shadow:{show:{objectName:"shadow",propertyName:"show"},color:{objectName:"shadow",propertyName:"color"},transparency:{objectName:"shadow",propertyName:"transparency"},shadowBlur:{objectName:"shadow",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadow",propertyName:"shadowPositionPreset"},angle:{objectName:"shadow",propertyName:"angle"},shadowDistance:{objectName:"shadow",propertyName:"shadowDistance"}},glow:{show:{objectName:"glow",propertyName:"show"},color:{objectName:"glow",propertyName:"color"},transparency:{objectName:"glow",propertyName:"transparency"},shadowBlur:{objectName:"glow",propertyName:"shadowBlur"}},shadowCustom:{show:{objectName:"shadowCustom",propertyName:"show"},color:{objectName:"shadowCustom",propertyName:"color"},transparency:{objectName:"shadowCustom",propertyName:"transparency"},shadowBlur:{objectName:"shadowCustom",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadowCustom",propertyName:"shadowPositionPreset"},angle:{objectName:"shadowCustom",propertyName:"angle"},shadowDistance:{objectName:"shadowCustom",propertyName:"shadowDistance"},position:{objectName:"shadowCustom",propertyName:"position"},shadowSpread:{objectName:"shadowCustom",propertyName:"shadowSpread"}},glowCustom:{show:{objectName:"glowCustom",propertyName:"show"},color:{objectName:"glowCustom",propertyName:"color"},transparency:{objectName:"glowCustom",propertyName:"transparency"},shadowBlur:{objectName:"glowCustom",propertyName:"shadowBlur"},glowPositionPreset:{objectName:"glowCustom",propertyName:"glowPositionPreset"},angle:{objectName:"glowCustom",propertyName:"angle"},glowDistance:{objectName:"glowCustom",propertyName:"glowDistance"},position:{objectName:"glowCustom",propertyName:"position"},glowSpread:{objectName:"glowCustom",propertyName:"glowSpread"}},accentBar:{show:{objectName:"accentBar",propertyName:"show"},position:{objectName:"accentBar",propertyName:"position"},color:{objectName:"accentBar",propertyName:"color"},transparency:{objectName:"accentBar",propertyName:"transparency"},width:{objectName:"accentBar",propertyName:"width"}},padding:{paddingSelection:{objectName:"padding",propertyName:"paddingSelection"},leftMargin:{objectName:"padding",propertyName:"leftMargin"},rightMargin:{objectName:"padding",propertyName:"rightMargin"},topMargin:{objectName:"padding",propertyName:"topMargin"},bottomMargin:{objectName:"padding",propertyName:"bottomMargin"}},value:{show:{objectName:"value",propertyName:"show"},fontColor:{objectName:"value",propertyName:"fontColor"},fontSize:{objectName:"value",propertyName:"fontSize"},fontFamily:{objectName:"value",propertyName:"fontFamily"},italic:{objectName:"value",propertyName:"italic"},bold:{objectName:"value",propertyName:"bold"},underline:{objectName:"value",propertyName:"underline"},text:{objectName:"value",propertyName:"text"},horizontalAlignment:{objectName:"value",propertyName:"horizontalAlignment"},transparency:{objectName:"value",propertyName:"transparency"},textWrap:{objectName:"value",propertyName:"textWrap"},labelDisplayUnits:{objectName:"value",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"value",propertyName:"labelPrecision"},customFormatString:{objectName:"value",propertyName:"customFormatString"},showBlankAs:{objectName:"value",propertyName:"showBlankAs"}},spacing:{verticalSpacing:{objectName:"spacing",propertyName:"verticalSpacing"}}},y=(0,n.i)([{value:"custom",displayName:function(De){return De.get("Custom")}},{value:"top",displayName:function(De){return De.get("Top")}},{value:"topLeft",displayName:function(De){return De.get("Visual_LabelPosition_TopLeft")}},{value:"topRight",displayName:function(De){return De.get("Visual_LabelPosition_TopRight")}},{value:"center",displayName:function(De){return De.get("Visual_TextAlignment_Center")}},{value:"centerLeft",displayName:function(De){return De.get("Visual_TextAlignment_Left")}},{value:"centerRight",displayName:function(De){return De.get("Visual_TextAlignment_Right")}},{value:"bottom",displayName:function(De){return De.get("Bottom")}},{value:"bottomLeft",displayName:function(De){return De.get("Visual_LabelPosition_BottomLeft")}},{value:"bottomRight",displayName:function(De){return De.get("Visual_LabelPosition_BottomRight")}}]),M=(0,n.i)([{value:"Outer",displayName:function(De){return De.get("Visual_DonutLabelPosition_Outside")}},{value:"Inner",displayName:function(De){return De.get("Visual_DonutLabelPosition_Inside")}}]),L={accentBar:"accentBar",fill:"fill",fillCustom:"fillCustom",layout:"layout",label:"label",outline:"outline",padding:"padding",shape:"shape",shadow:"shadow",glow:"glow",shapeCustomRectangle:"shapeCustomRectangle",shadowCustom:"shadowCustom",spacing:"spacing",glowCustom:"glowCustom",value:"value"},O={alignment:"alignment",columnCount:"columnCount",cellPadding:"cellPadding",accentBarColor:"color",accentBarTransparency:"transparency",accentBarWidth:"width",bottomMargin:"bottomMargin",fillColor:"fillColor",fillTransparency:"transparency",fillImage:"image",imageSplitTransparency:"imageSplitTransparency",imageTransparency:"imageTransparency",outlineColor:"lineColor",outlineWeight:"weight",outlineTransparency:"transparency",leftMargin:"leftMargin",paddingSelection:"paddingSelection",tileShape:"tileShape",shapeRotation:"shapeAngle",shapeRounding:"roundEdge",shadowColor:"color",shadowTransparency:"transparency",shadowPositionPreset:"shadowPositionPreset",glowPositionPreset:"glowPositionPreset",shadowBlur:"shadowBlur",shadowAngle:"angle",shadowDistance:"shadowDistance",glowDistance:"glowDistance",shadowSpread:"shadowSpread",show:"show",glowSpread:"glowSpread",glowColor:"color",glowTransparency:"transparency",arrowheadSize:"arrowheadSize",arrowStemWidth:"arrowStemWidth",chevronAngle:"chevronAngle",isocelesTriangleTipPosition:"isocelesTriangleTipPosition",orientation:"orientation",parallelogramSlant:"parallelogramSlant",position:"position",trapezoidSlant:"trapezoidSlant",hexagonSlant:"hexagonSlant",octagonSnipSize:"octagonSnipSize",speechBubbleHeight:"speechBubbleHeight",speechBubbleTailPosition:"speechBubbleTailPosition",speechBubbleTailAngle:"speechBubbleTailAngle",rectangleRoundedCurve:"rectangleRoundedCurve",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",rowCount:"rowCount",rightMargin:"rightMargin",tabCutCornerSnipSizeTopRight:"tabCutCornerSnipSizeTopRight",tabCutCornerSnipSizeTop:"tabCutCornerSnipSizeTop",tabCutCornerSnipSizeCustomStyle:"tabCutCornerSnipSizeCustomStyle",tabCutCornerSnipSizeLeftTop:"tabCutCornerSnipSizeLeftTop",tabCutCornerSnipSizeRightTop:"tabCutCornerSnipSizeRightTop",tabCutCornerSnipSizeLeftBottom:"tabCutCornerSnipSizeLeftBottom",tabCutCornerSnipSizeRightBottom:"tabCutCornerSnipSizeRightBottom",tabCutCornerSnipSizeBottom:"tabCutCornerSnipSizeBottom",tabRoundCornerTopRight:"tabRoundCornerTopRight",tabRoundCornerTop:"tabRoundCornerTop",tabRoundCornerBottom:"tabRoundCornerBottom",alignBaselines:"alignBaselines",bold:"bold",customFormatString:"customFormatString",fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",horizontalAlignment:"horizontalAlignment",italic:"italic",labelDisplayUnits:"labelDisplayUnits",labelPrecision:"labelPrecision",showBlankAs:"showBlankAs",textWrap:"textWrap",transparency:"transparency",text:"text",heading:"heading",underline:"underline",topMargin:"topMargin",verticalSpacing:"verticalSpacing"},H=((F={show:f.iD.show})[O.fillColor]=f.iD.fill,F[O.fillTransparency]=f.iD.transparency,F[O.fillImage]=f.iD.image,F),Q=((A={show:f.iD.show})[O.fillColor]=f.iD.fill,A[O.fillTransparency]=f.iD.transparency,A[O.fillImage]=f.iD.image,A[O.imageTransparency]=f.iD.transparency,A[O.imageSplitTransparency]={type:{bool:!0}},A),X=((k={show:f.iD.show})[O.outlineColor]=f.iD.outlineColor,k[O.outlineTransparency]=f.iD.lineTransparency,k[O.outlineWeight]=f.iD.outlineWeight,k),W=((Y={})[O.tileShape]={displayName:(0,l.V)("Visual_Shape"),type:{enumeration:D.d},suppressFormatPainterCopy:!0},Y[O.shapeRounding]={displayName:(0,l.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}},Y[O.arrowheadSize]={displayName:(0,l.V)("Visual_Shape_ArrowheadSize"),type:{integer:!0}},Y[O.arrowStemWidth]={displayName:(0,l.V)("Visual_Shape_ArrowStemWidth"),type:{integer:!0}},Y[O.chevronAngle]={displayName:(0,l.V)("Visual_Angle"),type:{integer:!0}},Y[O.isocelesTriangleTipPosition]={displayName:(0,l.V)("Visual_Shape_TriangleTipPosition"),type:{integer:!0}},Y[O.parallelogramSlant]={displayName:(0,l.V)("Visual_Shape_Slant"),type:{integer:!0}},Y[O.trapezoidSlant]={displayName:(0,l.V)("Visual_Shape_Slant"),type:{integer:!0}},Y[O.hexagonSlant]={displayName:(0,l.V)("Visual_Shape_Slant"),type:{integer:!0}},Y[O.octagonSnipSize]={displayName:(0,l.V)("Visual_Shape_OctagonSnipSize"),type:{integer:!0}},Y[O.speechBubbleHeight]={displayName:(0,l.V)("Visual_Shape_ChatBubbleHeight"),type:{integer:!0}},Y[O.speechBubbleTailPosition]={displayName:(0,l.V)("Visual_Shape_ChatTailPosition"),type:{enumeration:b.dt}},Y[O.speechBubbleTailAngle]={displayName:(0,l.V)("Visual_Shape_ChatTailAngle"),type:{integer:!0}},Y[O.rectangleRoundedCurve]={displayName:(0,l.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},Y[O.tabCutCornerSnipSizeTopRight]={displayName:(0,l.V)("Visual_Shape_TabSnipSizeTopRight"),type:{integer:!0}},Y[O.tabCutCornerSnipSizeTop]={displayName:(0,l.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},Y[O.tabCutCornerSnipSizeBottom]={displayName:(0,l.V)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},Y[O.tabRoundCornerTop]={displayName:(0,l.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},Y[O.tabRoundCornerTopRight]={displayName:(0,l.V)("Visual_Shape_TabRoundingTopRight"),type:{integer:!0}},Y[O.tabRoundCornerTop]={displayName:(0,l.V)("Visual_Shape_TabRoundingTop"),type:{integer:!0}},Y[O.tabRoundCornerBottom]={displayName:(0,l.V)("Visual_Shape_TabRoundingBottom"),type:{integer:!0}},Y),J=((j={})[O.tileShape]={displayName:(0,l.V)("Visual_Shape"),type:{enumeration:D.d},suppressFormatPainterCopy:!0},j[O.rectangleRoundedCurveCustomStyle]={displayName:(0,l.V)("Visual_CustomStyle"),type:{bool:!0}},j[O.rectangleRoundedCurveLeftTop]={displayName:(0,l.V)("Visual_CornerTopLeft"),type:{integer:!0}},j[O.rectangleRoundedCurveRightTop]={displayName:(0,l.V)("Visual_CornerTopRight"),type:{integer:!0}},j[O.rectangleRoundedCurveLeftBottom]={displayName:(0,l.V)("Visual_CornerBottomLeft"),type:{integer:!0}},j[O.rectangleRoundedCurveRightBottom]={displayName:(0,l.V)("Visual_CornerBottomRight"),type:{integer:!0}},j[O.rectangleRoundedCurve]={displayName:(0,l.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},j[O.tabCutCornerSnipSizeTop]={displayName:(0,l.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},j[O.tabCutCornerSnipSizeCustomStyle]={displayName:(0,l.V)("Visual_CustomStyle"),type:{bool:!0}},j[O.tabCutCornerSnipSizeLeftTop]={displayName:(0,l.V)("Visual_CornerTopLeft"),type:{integer:!0}},j[O.tabCutCornerSnipSizeRightTop]={displayName:(0,l.V)("Visual_CornerTopRight"),type:{integer:!0}},j[O.tabCutCornerSnipSizeLeftBottom]={displayName:(0,l.V)("Visual_CornerBottomLeft"),type:{integer:!0}},j[O.tabCutCornerSnipSizeRightBottom]={displayName:(0,l.V)("Visual_CornerBottomRight"),type:{integer:!0}},j[O.tabCutCornerSnipSizeBottom]={displayName:(0,l.V)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},j),ee=((G={show:f.iD.show})[O.shadowColor]={displayName:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},G[O.shadowTransparency]=f.iD.transparency,G[O.shadowBlur]={displayName:(0,l.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},G[O.shadowPositionPreset]={displayName:(0,l.V)("Visual_DropShadow_Preset"),type:{enumeration:y}},G[O.shadowAngle]={displayName:(0,l.V)("Visual_Angle"),type:{numeric:!0}},G[O.shadowDistance]={displayName:(0,l.V)("Distance"),type:{numeric:!0}},G),le=((I={show:f.iD.show})[O.glowColor]={displayName:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},I[O.glowTransparency]=f.iD.transparency,I[O.shadowBlur]={displayName:(0,l.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},I),Ne=((E={show:f.iD.show})[O.shadowColor]={displayName:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},E[O.shadowTransparency]=f.iD.transparency,E[O.shadowBlur]={displayName:(0,l.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},E[O.shadowPositionPreset]={displayName:(0,l.V)("Visual_DropShadow_Preset"),type:{enumeration:y}},E[O.shadowAngle]={displayName:(0,l.V)("Visual_Angle"),type:{numeric:!0}},E[O.shadowDistance]={displayName:(0,l.V)("Distance"),type:{numeric:!0}},E[O.position]={displayName:(0,l.V)("Offset"),type:{enumeration:M}},E[O.shadowSpread]={displayName:(0,l.V)("Visual_BubbleSize"),type:{numeric:!0}},E),Ae=((T={show:f.iD.show})[O.glowColor]={displayName:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},T[O.glowTransparency]=f.iD.transparency,T[O.shadowBlur]={displayName:(0,l.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},T[O.glowPositionPreset]={displayName:(0,l.V)("Visual_DropShadow_Preset"),type:{enumeration:y}},T[O.shadowAngle]={displayName:(0,l.V)("Visual_Angle"),type:{numeric:!0}},T[O.glowDistance]={displayName:(0,l.V)("Distance"),type:{numeric:!0}},T[O.position]={displayName:(0,l.V)("Offset"),type:{enumeration:M}},T[O.glowSpread]={displayName:(0,l.V)("Visual_BubbleSize"),type:{numeric:!0}},T),Se=((m={show:f.iD.show})[O.position]={displayName:(0,l.V)("Visual_Position"),type:{enumeration:P.u0}},m[O.accentBarColor]={displayName:(0,l.V)("Visual_Reference_Line_Color"),type:{fill:{solid:{color:!0}}}},m[O.accentBarTransparency]=f.iD.transparency,m[O.accentBarWidth]={displayName:(0,l.V)("Visual_General_Properties_Width"),type:{integer:!0}},m),we=((z={})[O.alignment]={displayName:(0,l.V)("Visual_TextAlignment"),type:{formatting:{alignment:!0}}},z[O.orientation]={displayName:(0,l.V)("Slicer_Orientation"),type:{enumeration:S.d}},z[O.rowCount]={displayName:(0,l.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},z[O.columnCount]={displayName:(0,l.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},z[O.cellPadding]={displayName:(0,l.V)("Visual_Spacing_Between_Cards"),type:{integer:!0}},z),Pe=((R={})[O.paddingSelection]={displayName:(0,l.V)("Embed_Size"),type:{enumeration:h.dt}},R[O.leftMargin]={displayName:(0,l.V)("Visual_Margin_Left"),type:{integer:!0}},R[O.rightMargin]={displayName:(0,l.V)("Visual_Margin_Right"),type:{integer:!0}},R[O.topMargin]={displayName:(0,l.V)("Visual_Margin_Top"),type:{integer:!0}},R[O.bottomMargin]={displayName:(0,l.V)("Visual_Margin_Bottom"),type:{integer:!0}},R),ze=((w={show:f.iD.show})[O.fontColor]=f.iD.fontColor,w[O.fontSize]=f.iD.fontSize,w[O.fontFamily]=f.iD.fontFamily,w[O.underline]=f.iD.underline,w[O.italic]=f.iD.italic,w[O.bold]=f.iD.bold,w[O.horizontalAlignment]={displayName:(0,l.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},w[O.textWrap]=f.iD.textWrap,w[O.labelDisplayUnits]=(0,c.pi)((0,c.pi)({},f.iD.labelDisplayUnits),{type:{enumeration:V.d}}),w[O.labelPrecision]=f.iD.labelPrecision,w[O.customFormatString]={displayName:(0,l.V)("Visual_FormatCode"),description:(0,l.V)("Visual_FormatCode_Description"),type:{text:!0}},w[O.showBlankAs]=f.iD.showBlankAs,w[O.transparency]=f.iD.transparency,w),Xe=((B={show:f.iD.show})[O.text]={displayName:(0,l.V)("Text"),type:{text:!0}},B[O.heading]={displayName:(0,l.V)("Visual_AzureMapsHeading"),type:{enumeration:N.dt}},B[O.fontColor]=f.iD.fontColor,B[O.fontSize]=f.iD.fontSize,B[O.fontFamily]=f.iD.fontFamily,B[O.underline]=f.iD.underline,B[O.italic]=f.iD.italic,B[O.bold]=f.iD.bold,B[O.position]={displayName:(0,l.V)("Visual_Position"),type:{enumeration:g.dt}},B[O.transparency]=f.iD.transparency,B[O.textWrap]=f.iD.textWrap,B[O.alignBaselines]={displayName:(0,l.V)("Visual_AlignBaselines"),type:{bool:!0}},B),Me=((C={})[O.verticalSpacing]={displayName:(0,l.V)("Visual_Spacing_Vertical"),type:{integer:!0}},C),pe=((d={})[L.fill]={displayName:(0,l.V)("Visual_Fill"),properties:H},d[L.fillCustom]={displayName:(0,l.V)("Visual_Fill"),properties:Q},d[L.outline]={displayName:(0,l.V)("Visual_Outline"),properties:X},d[L.shape]={displayName:(0,l.V)("Visual_Shape"),properties:W},d[L.shadow]={displayName:(0,l.V)("Visual_Shape_Shadow"),properties:ee},d[L.glow]={displayName:(0,l.V)("Visual_Shape_Glow"),properties:le},d[L.shapeCustomRectangle]={displayName:(0,l.V)("Visual_Shape"),properties:J},d[L.shadowCustom]={displayName:(0,l.V)("Visual_Shape_Shadow"),properties:Ne},d[L.glowCustom]={displayName:(0,l.V)("Visual_Shape_Glow"),properties:Ae},d[L.accentBar]={displayName:(0,l.V)("Visual_Outline_AccentBar"),properties:Se},d[L.padding]={displayName:(0,l.V)("Visual_Padding"),properties:Pe},d[L.value]={displayName:(0,l.V)("Role_DisplayName_Values"),properties:ze},d[L.label]={displayName:(0,l.V)("Label"),properties:Xe},d[L.layout]={displayName:(0,l.V)("Small_Multiples_LayoutGroup"),properties:we},d[L.spacing]={displayName:(0,l.V)("RibbonChart_SeriesGapWidth"),properties:Me},d)},3262:function(ie,ve,v){v.d(ve,{A4:function(){return V},_H:function(){return D},cB:function(){return P}});var b,c=v(255),l=v(1813),n=v(8459),g=v(4171),V={group:"Group",details:"Details",values:"Values",gradient:"Gradient"};function P(b){return{dataRoles:h(b&&b.cartesianConditionalFormatting,b&&b.useModernFormatPane),objects:{general:{displayName:(0,n.V)("Visual_General"),properties:{formatString:g.iD.formatString}},legend:g.TQ.legend,dataPoint:{displayName:(0,n.V)("Visual_DataPoint"),description:(0,n.V)("Visual_DataPointDescription"),properties:{fill:g.iD.defaultCategoryColor,fillRule:{displayName:(0,n.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Group"]}}}}},labels:{displayName:(0,n.V)("Visual_DataPointsLabels"),description:(0,n.V)("Visual_DataPointsLabelsDescription"),properties:{show:g.iD.show,color:g.iD.dataColor,labelDisplayUnits:g.iD.labelDisplayUnits,labelPrecision:g.iD.labelPrecision,fontSize:g.iD.fontSize,bold:g.iD.bold,italic:g.iD.italic,underline:g.iD.underline,fontFamily:g.iD.fontFamily}},categoryLabels:{displayName:(0,n.V)("Visual_CategoryLabels"),description:(0,n.V)("Visual_CategoryLabelsDescription"),properties:{show:g.iD.show,color:g.iD.categoryColor,fontSize:g.iD.fontSize,bold:g.iD.bold,italic:g.iD.italic,underline:g.iD.underline,fontFamily:g.iD.fontFamily}}},dataViewMappings:[{conditions:[{Group:{max:1},Details:{max:0},Gradient:{max:1}},{Group:{max:1},Details:{min:1,max:1},Values:{max:1},Gradient:{max:0}}],categorical:{categories:{for:{in:"Group"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Details",select:[{bind:{to:"Values"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}}}}],supportsHighlight:!0,sorting:{custom:{},implicit:{clauses:[{role:"Values",direction:2}]}},drilldown:{roles:["Group"]},grouping:{groupingRules:[{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",kind:1},{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",groupSourceTargetRole:"Details",kind:0},{condition:{Group:{min:1,max:1},Details:{min:0},Values:{min:1,max:1},Gradient:{min:1,max:1}},groupingTargetRole:"Group",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}function h(b,N){var f=[{name:"Group",kind:l.DW.Grouping,displayName:(0,n.V)(N?"Role_DisplayName_Category":"Group"),description:(0,n.V)("Role_DisplayName_GroupTreemapDescription")},{name:"Details",kind:l.DW.Grouping,displayName:(0,n.V)("Details")},{name:"Values",kind:l.DW.Measure,displayName:(0,n.V)("Role_DisplayName_Values"),description:(0,n.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];return b||f.push({name:"Gradient",kind:l.DW.Measure,displayName:(0,n.V)("Role_DisplayName_Gradient"),description:(0,n.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),f.push({name:"Tooltips",kind:l.DW.Measure,displayName:(0,n.V)("Role_DisplayName_Tooltips"),description:(0,n.V)("Role_Tooltips_Description"),joinPredicate:0}),f}(b=(0,c.Z7)()).getTreemapCapabilities||(b.getTreemapCapabilities=function(){return P()});var D={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"}}}},9552:function(ie,ve,v){v.d(ve,{GJ:function(){return b},IT:function(){return h},wW:function(){return D}});var c=v(3188),l=v(6274),n=v(1813),g=v(8459),V=v(7210),P=v(8932),S=v(4171),h={category:"Category",breakdown:"Breakdown",y:"Y",tooltips:"Tooltips"},D=(0,l.wZ)(b().objects);function b(N){return{dataRoles:[{name:h.category,kind:n.DW.Grouping,displayName:(0,g.V)("Role_DisplayName_Category"),description:(0,g.V)("Role_DisplayName_CategoryWaterfallDescription")},{name:h.breakdown,kind:n.DW.Grouping,displayName:(0,g.V)("Role_DisplayName_BreakdownWaterfall"),description:(0,g.V)("Role_DisplayName_BreakdownWaterfallDescription")},{name:h.y,kind:n.DW.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,g.V)(null!=N&&N.useModernFormatPane?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),description:(0,g.V)("Role_DisplayName_ValuesDescription")},{name:h.tooltips,kind:n.DW.Measure,displayName:(0,g.V)("Role_DisplayName_Tooltips"),description:(0,g.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:(0,g.V)("Visual_General"),properties:{formatString:S.iD.formatString,responsive:S.iD.responsive,responsiveLegacy:S.iD.responsiveLegacy}},legend:S.TQ.legend,categoryAxis:{displayName:(0,g.V)("Visual_XAxis"),properties:{show:S.iD.show,showAxisTitle:S.iD.showAxisTitle_X,axisStyle:S.iD.axisStyle,labelColor:S.iD.labelColor,fontFamily:S.iD.fontFamily,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,preferredCategoryWidth:S.iD.preferredCategoryWidth,maxMarginFactor:S.iD.maxMarginFactor,innerPadding:S.iD.innerPadding,titleColor:S.iD.titleColor,titleFontFamily:S.iD.fontFamily,titleFontSize:S.iD.titleFontSize,titleBold:S.iD.bold,titleItalic:S.iD.italic,titleUnderline:S.iD.underline,titleText:S.iD.titleText}},valueAxis:{displayName:(0,g.V)("Visual_YAxis"),properties:{show:S.iD.show,start:S.iD.axisStart,end:S.iD.axisEnd,invertAxis:S.iD.invertAxis,showAxisTitle:S.iD.showAxisTitle_Y,axisStyle:S.iD.axisStyle,labelColor:S.iD.labelColor,fontFamily:S.iD.fontFamily,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,labelDisplayUnits:S.iD.labelDisplayUnits,labelPrecision:S.iD.labelPrecision,totalsEnabled:S.iD.totalsEnabled,titleColor:S.iD.titleColor,titleFontFamily:S.iD.fontFamily,titleFontSize:S.iD.titleFontSize,titleBold:S.iD.bold,titleItalic:S.iD.italic,titleUnderline:S.iD.underline,titleText:S.iD.titleText,gridlineShow:(0,c.pi)((0,c.pi)({},S.iD.show),{displayName:(0,g.V)("Visual_Gridline_Show")}),gridlineColor:S.iD.lineColor,gridlineThickness:S.iD.strokeWidth,gridlineStyle:S.iD.lineStyle,switchAxisPosition:S.iD.switchAxisPosition}},labels:{displayName:(0,g.V)("Visual_DataPointsLabels"),description:(0,g.V)("Visual_DataPointsLabelsDescription"),properties:{show:S.iD.show,color:S.iD.dataColor,labelDisplayUnits:S.iD.dataLabelDisplayUnits,labelPrecision:(0,c.pi)((0,c.pi)({},S.iD.labelPrecision),{suppressFormatPainterCopy:!0}),fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,fontFamily:S.iD.fontFamily,labelOrientation:{displayName:(0,g.V)("Visual_LabelOrientation"),type:{enumeration:V.d}},labelPosition:{displayName:(0,g.V)("Visual_Position"),type:{enumeration:P.dt}},enableBackground:S.iD.labelEnableBackground,backgroundColor:S.iD.labelBackgroundColor,backgroundTransparency:S.iD.labelBackgroundTransparency}},plotArea:{displayName:(0,g.V)("Visual_Plot"),properties:{transparency:S.iD.transparency,image:S.iD.image}},sentimentColors:{displayName:(0,g.V)("Waterfall_SentimentColors"),properties:{increaseFill:{displayName:(0,g.V)("Increase"),type:{fill:{solid:{color:!0}}}},decreaseFill:{displayName:(0,g.V)("Decrease"),type:{fill:{solid:{color:!0}}}},totalFill:{displayName:(0,g.V)("Waterfall_TotalLabel"),type:{fill:{solid:{color:!0}}}},otherFill:{displayName:(0,g.V)("Waterfall_OtherLabel"),type:{fill:{solid:{color:!0}}}}}},y1AxisReferenceLine:{displayName:(0,g.V)("Visual_Reference_Line"),description:(0,g.V)("Visual_Reference_Line_Description"),objectCategory:2,properties:{show:S.iD.show,displayName:S.iD.referenceLineDisplayName,value:S.iD.referenceLineValue,lineColor:S.iD.referenceLineColor,transparency:S.iD.referenceLineTransparency,style:S.iD.lineStyle,position:S.iD.referenceLinePosition,dataLabelShow:S.iD.dataLabelShow,dataLabelColor:S.iD.dataLabelColor,dataLabelText:S.iD.dataLabelText,dataLabelDecimalPoints:S.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:S.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:S.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:S.iD.dataLabelDisplayUnits}},breakdown:{displayName:(0,g.V)("Visual_Waterfall_Breakdown"),properties:{maxBreakdowns:{displayName:(0,g.V)("Visual_Waterfall_MaxBreakdown"),description:(0,g.V)("Visual_Waterfall_MaxBreakdown_Description"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{min:1,max:1}}],matrix:{rows:{select:[{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{window:{count:30}}},columns:{for:{in:"Breakdown"},dataReductionAlgorithm:{top:{count:200}}},values:{select:[{bind:{to:"Y"}},{bind:{to:"Tooltips"}}]}}}],sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1}},groupingTargetRole:"Category",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}},593:function(ie,ve,v){v.d(ve,{$9:function(){return f},A8:function(){return k},Hx:function(){return F},PX:function(){return b},_K:function(){return N},iQ:function(){return Y}});var c=v(8955),l=v(1006),n=v(2348),g=v(5662),V=v(8926),P=v(7706),S=v(7977),h=v(180),D=v(5122);function b(j,G,I,E,T){return!(T&&!E)&&(!!function(j){return j&&!_.isEmpty(j.values)}(E)||N(j,G,I))}function N(j,G,I){return!(!F(I)||!f(j,G))}function f(j,G){if(!j)return!0;var I=(0,n.NA)(j,G);return null==I||I===h.iD}function F(j){return!(0,S.c$)(j)}function k(j){return(0,g.A8)(j,V.p.scalarKey.scalarKeyMin)}function Y(j,G){if(!j||!j.metadata)return!1;var I;if(j.categorical&&j.categorical.categories&&(0,l.mn)(j.categorical.categories)?I=j.categorical.categories.for.in:G&&(0,D.qO)(j)&&(I=(0,D.b8)(j).for.in),null==I)return!1;var m=I.items;if(_.isEmpty(m))return!1;var z=I.activeItems,R=m[0];if(!_.isEmpty(z)){if(z.length>1)return!1;var w=_.find(m,function(d){return d.queryName===z[0]});c.fF.assertValue(w,"active projection must be part of category items"),R=w}return!!N(j.metadata.objects,P.mi.categoryAxis.axisType,R.type)}},5122:function(ie,ve,v){v.d(ve,{KD:function(){return Y},OX:function(){return k},QS:function(){return I},UE:function(){return D},XG:function(){return S},XM:function(){return N},Xi:function(){return P},Ye:function(){return G},ZO:function(){return b},ZU:function(){return f},b8:function(){return w},i_:function(){return j},qF:function(){return F},qO:function(){return E},r8:function(){return h},s5:function(){return C},x_:function(){return A}});var c=v(6976),l=v(6980),n=v(1006),g=v(2447),V=v(7243),P="smallMultiplesLayout",S="subheader";function h(u,y){return(u+1)*y}var D=2,b=2,N=null,f=0,F=g.YP,A=V.SQ,k=c.md,Y=1,j=12,G=!1,I=h(D,b);function E(u){return l.ZA.check(function(y){return{matrix:y.check(u&&u.matrix,l.Gg,function(M){return{rows:y.check(M.rows,n.G8,function(L){return{select:y.check(L.select,(0,l.dp)(2),function(O){return[y.check(O[0],n.oJ,function(H){return{composite:y.check(H.composite,(0,l.dp)(1),function(Q){return[y.check(Q[0],n.mn,l.yR)]}),dataReductionAlgorithm:H.dataReductionAlgorithm}}),y.check(O[1],n.oJ,function(H){return{composite:y.check(H.composite,(0,l.dp)(1),function(Q){return[y.check(Q[0],n.mn,l.yR)]}),dataReductionAlgorithm:H.dataReductionAlgorithm}})]})}}),columns:y.check(M.columns,n.mn,l.yR),values:y.check(M.values,n.G8,l.yR)}}),metadata:u.metadata}})}function w(u){return u.matrix.rows.select[1].composite[0]}function C(u,y){u.matrix.rows.select[1].dataReductionAlgorithm=y}},6986:function(ie,ve,v){v.d(ve,{Bx:function(){return R},HL:function(){return Se},Ik:function(){return rt},It:function(){return T},K1:function(){return G},LO:function(){return Ne},LS:function(){return ae},MA:function(){return W},NG:function(){return lt},Ne:function(){return Q},el:function(){return ze},rH:function(){return E},rj:function(){return u},xn:function(){return I}});var c=v(8955),l=v(6980),n=v(6348),g=v(3599),V=v(1006),P=v(2348),S=v(4994),h=v(1589),D=v(8104),b=v(1431),N=v(593),f=v(4933),F=v(2323),A=v(7977),k=v(8871),Y=v(8945),j=v(356),G={CategoryValue:"CategoryValue",Value:"Value",ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd",FormattedCategoryValue:"FormattedCategoryValue",ValueFormatString:"ValueFormatString"},I="anomalyDetection",E="anomaly",T="isAnomalyHighlighted",R="explainBy",w="referenceLine",u=_.mapValues(G,function(oe){return"".concat(I,".").concat(oe)}),Q={objectName:I,propertyName:"show"},W={show:"show",displayName:"displayName",markerShape:"markerShape",markerShapeSize:"markerShapeSize",markerColor:"markerColor",confidenceBandStyle:"confidenceBandStyle",transparency:"transparency",confidenceBandColor:"confidenceBandColor",transform:"transform"},J={displayName:"",markerShape:f.LS,markerShapeSize:5,confidenceBandStyle:F.hl,transparency:80},ee="foregroundSelected",le="foregroundSelected",Ne=function(){function oe(Ce,he,Le,Je){this.host=Ce,this.anomalyDetection=he,this.valuesMetadata=Le,this.formatStringProp=Je,c.fF.assertValue(Ce,"host"),this.anomalies=this.anomalyDetection.anomalies,this.expectedValueName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedValue"),this.expectedHighName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedHighValue"),this.expectedLowName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedLowValue")}return oe.prototype.getTooltipItems=function(Ce,he){var Le=this.anomalies[Ce];if(Le)return[{displayName:this.expectedValueName,value:(0,Y.xq)(Le.expectedValue,this.valuesMetadata,this.formatStringProp,!1,he)},{displayName:this.expectedLowName,value:(0,Y.xq)(Le.lowerBound,this.valuesMetadata,this.formatStringProp,!1,he)},{displayName:this.expectedHighName,value:(0,Y.xq)(Le.upperBound,this.valuesMetadata,this.formatStringProp,!1,he)}]},oe}();function Se(oe,Ce,he,Le,Je,ot,bt,Ft){var vt;if(_.isEmpty(Ce.forecastLines))if(Ce.hasDynamicSeries){var Mt=oe.getLocalizedString("Role_DisplayName_Legend");vt=oe.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",Mt)}else if((0,g.aJ)(Ce.valuesMetadata,b.R.Y2))Mt=oe.getLocalizedString("Role_DisplayName_Y2"),vt=oe.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",Mt);else if(1!==Ce.series.length)Mt=oe.getLocalizedString("Role_DisplayName_Values"),vt=oe.getLocalizedString("Visual_AnomalyDetection_WarningMessage_WrongDataSeries",Mt);else if(function(oe){var Ce,he,Le;c.fF.assertValue(oe,"anomalyDetectionVisualPlugin hasDatetime dataView");var Je=null===(Ce=oe.categorical)||void 0===Ce?void 0:Ce.categories;if(c.fF.assert(function(){return _.size(Je)>0},"should exist at least one category"),!Je||0===_.size(Je))return!1;var ot=null===(he=_.first(Je).source)||void 0===he?void 0:he.type;return!!ot&&(!!ot.dateTime||!(null===(Le=ot.temporal)||void 0===Le||!Le.year)||!!ot.temporal&&_.some(oe.metadata.columns,function(bt){var Ft;return null===(Ft=bt.type.temporal)||void 0===Ft?void 0:Ft.year}))}(he))if(bt){if(function(oe){var Ce;c.fF.assertValue(oe,"anomalyDetectionVisualPlugin hasReferenceLine dataView");var he=null===(Ce=oe.categorical)||void 0===Ce?void 0:Ce.values;return c.fF.assert(function(){return _.size(he)>0},"should exist at least one categorical value"),!(!he||0===_.size(he))&&_.some(he,function(Le){return!!Le.source.objects&&!!Le.source.objects[w]})}(he)){var be=oe.getLocalizedString("Visual_Trend_Line"),Ve=oe.getLocalizedString("Visual_Reference_Line");vt=oe.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithReferenceLine",be,Ve)}}else{var xe=oe.getLocalizedString("Type"),Ee=oe.getLocalizedString("Visual_XAxis"),Ze=oe.getLocalizedString("Visual_Axis_Scalar");vt=oe.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoContinousCategory",xe,Ee,Ze)}else Mt=oe.getLocalizedString("Role_DisplayName_Axis"),vt=oe.getLocalizedString("Visual_AnomalyDetection_WarningMessage_CategoryNotDateTime",Mt);else vt=oe.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithForecast");!function(oe,Ce,he,Le,Je){var ot,bt;c.fF.assertValue(oe,"enumeration"),c.fF.assertValue(he,"visualStyle"),c.fF.assertAnyValue(Le,"disabledReason"),c.fF.assertAnyValue(Je,"selectors");var Ft=_.first(Ce);if(Ft){var Mt=((ot={})[W.show]=Ft.show,ot[W.displayName]=Ft.displayName,ot[W.markerShape]=Ft.markerShape,ot[W.markerShapeSize]=Ft.markerShapeSize,ot[W.markerColor]=Ft.markerColor,ot[W.confidenceBandStyle]=Ft.confidenceBandStyle,ot[W.transparency]=Ft.transparency,ot[W.confidenceBandColor]=Ft.confidenceBandColor,ot);if(oe.pushInstance({selector:Ft.selector,properties:Mt,objectName:I}),Je)for(var xe=(0,n.GT)((0,n.tV)(Je)),Ee=0,Ze=Ft.anomalies;Ee<Ze.length;Ee++){var be=Ze[Ee];be.isAnomaly&&(xe||(0,n.Ic)(be.identity.getSelectorsByColumn(),Je))&&oe.pushInstance({objectName:E,selector:(0,n.tV)(be.identity.getSelectorsByColumn()),properties:(bt={},bt[G.CategoryValue]=be.categoryValue,bt[G.Value]=be.value,bt[G.ExpectedValue]=be.expectedValue,bt[G.ExpectedLow]=be.lowerBound,bt[G.ExpectedHigh]=be.upperBound,bt[G.BatchStart]=be.batchStart,bt[G.BatchEnd]=be.batchEnd,bt[G.FormattedCategoryValue]=be.formattedCategoryValue,bt[G.ValueFormatString]=be.valueFormatString,bt)})}}else{var vt=function(oe,Ce){var he;return{selector:{id:"0"},properties:(he={},he[W.show]=!1,he[W.displayName]=J.displayName,he[W.markerShape]=J.markerShape,he[W.markerShapeSize]=J.markerShapeSize,he[W.markerColor]={solid:{color:k.v.getThemeColor(oe,ee)}},he[W.confidenceBandStyle]=J.confidenceBandStyle,he[W.transparency]=J.transparency,he[W.confidenceBandColor]={solid:{color:k.v.getThemeColor(oe,le)}},he),objectName:I,disabledReason:Ce}}(he,Le);oe.pushInstance(vt)}}(Le,Je,ot,vt,Ft)}function ze(oe){return l.ZA.check(function(Ce){return{metadata:Ce.check(oe&&oe.metadata,l.Gg,function(he){return{columns:Ce.check(he.columns,Xe,l.yR),objects:Ce.check(he.objects,Me,l.yR)}}),categorical:Ce.check(oe.categorical,l.Gg,function(he){return{categories:Ce.check(he.categories,V.mn,function(Le){return{for:Ce.check(Le.for,l.Gg,function(Je){return{in:Ce.check(Je.in,pe,l.yR)}})}}),values:Ce.check(he.values,V.wj,function(Le){return{group:Ce.check(Le.group,l.Gg,function(Je){return{by:Ce.check(Je.by,Fe,l.yR),select:Ce.check(Je.select,De,l.yR)}})}})}})}})}function Xe(oe){return _.some(oe,function(Ce){return!(!Ce.objects||!Ce.objects[I]||Ce.objects[w]||Ce.objects[j.Po])})}function Me(oe){if(!oe)return!0;var Ce=(0,P.NA)(oe,{objectName:"categoryAxis",propertyName:"axisType"});return!Ce||"Scalar"===Ce}function pe(oe){var Ce,he,Le,Je=oe.items,ot=oe.activeItems;if(_.size(Je)<1)return!1;if(1===_.size(Je)){if(!(bt=_.first(Je).type)||!bt.dateTime&&(null===(Ce=bt.temporal)||void 0===Ce||!Ce.year))return!1}else{var Ft=_.size(ot);if(Ft<1)return!1;var vt=_.last(ot),Mt=_.find(Je,function(Ee){return Ee.queryName===vt});if(c.fF.assertValue(Mt,"invalidAnomalyDataViewMapping. Active projection must be part of category items"),!Mt)return!1;var bt=Mt.type;if(1===Ft&&(null===(he=null==bt?void 0:bt.temporal)||void 0===he||!he.year))return!1;if(Ft>1&&(null==bt||!bt.temporal)||null===(Le=Mt.scalarKeyInfo)||void 0===Le||!Le.hasScalarKey)return!1}return!0}function Fe(oe){return!(oe.role===b.R.Series&&!_.isEmpty(oe.items))}function De(oe){var Ce=oe;if(!Ce)return!1;var he=_.find(Ce,function(Je){return Je.for.in.role===b.R.Y});if(!he||1!==_.size(he.for.in.items))return!1;var Le=_.find(Ce,function(Je){return Je.for.in.role===b.R.Y2});return!(Le&&!_.isEmpty(Le.for.in.items))}function rt(oe){var Ce;if(null===(Ce=null==oe?void 0:oe.categorical)||void 0===Ce||!Ce.values)return!1;var he=oe.categorical.values.grouped();return _.some(he,function(Le){return _.some(Le.values,function(Je){return(0,g.R)(Je,u.Anomaly)})})}function lt(oe,Ce,he,Le){var Je;if(c.fF.assertValue(oe,"anomalyDetectionDataView"),c.fF.assertValue(Ce,"sourceDataView"),c.fF.assertValue(he,"visualStyle"),c.fF.assertValue(Le,"formatStringProp"),!oe.categorical||!Ce.categorical)return[];var ot=oe.categorical;if(_.isEmpty(ot.categories)||_.isEmpty(ot.values))return[];var vt,Mt,bt=_.first(ot.categories),Ft=(0,N.A8)(bt);Ft?(vt=_.map(Ft.values,function(Wi){return Wi.min}),Mt=_.last(ot.categories).values):vt=bt.values;var xe=ot.values.grouped();if(_.isEmpty(vt)||_.isEmpty(xe))return[];var Ee=Ce.categorical.values;if(_.isEmpty(Ee))return[];var Ze=_.first(Ee),be=null!==(Je=Ze.objects)&&void 0!==Je?Je:[],Ve=Ze.values,We=(0,g.a2)(xe,u.Anomaly),qe=(0,g.a2)(xe,u.ExpectedValue),mt=(0,g.a2)(xe,u.ExpectedHigh),et=(0,g.a2)(xe,u.ExpectedLow),ut=(0,g.a2)(xe,u.BatchStart),ct=(0,g.a2)(xe,u.BatchEnd),Vt=k.v.create(he),Tt=[],zt=0,Kt=function(oe){c.fF.assertValue(oe.categorical.values,"sourceDataView.categorical.values");var Ce=[],he=_.first(oe.categorical.values.grouped());if(he)for(var Le=0,Je=he.values;Le<Je.length;Le++){var ot=Je[Le],bt=ot.source.queryName;if(bt){var Ft=(0,P.AO)(ot.source.objects,I);Ce[bt]=Ft}}return Ce}(Ce),Xt=_.first(Ce.categorical.categories).source.queryName,re=Ze.source,ge=re.queryName,Be=Ze.objects;for(var Ke in Kt){var Ye=Kt[Ke];for(var it in Ye){var He=Ye[it],nt=(0,S.N)(He,W.show,!1);if(nt){for(var pt=(0,S.N)(He,W.displayName),Bt=(0,S.N)(He,W.markerShape,J.markerShape),xt=(0,S.N)(He,W.markerShapeSize,J.markerShapeSize),yt={solid:{color:Vt.getColorForPropertyName(He,W.markerColor,ee)}},Pt=(0,S.N)(He,W.transparency,J.transparency),Wt=(0,S.N)(He,W.confidenceBandStyle,J.confidenceBandStyle),ur={solid:{color:Vt.getColorForPropertyName(He,W.confidenceBandColor,le)}},nr=xe[zt],Qt=[],hr=[],Zt=nr.values[We].values,Dt=nr.values[qe].values,rr=nr.values[mt].values,lr=nr.values[et].values,yr=nr.values[ut].values,de=nr.values[ct].values,ne={index:-1,value:Number.MIN_VALUE},Ue={index:-1,value:Number.MAX_VALUE},tt=0;tt<vt.length;tt++){var Ot=be[tt],$t=(new D.dw).withCategory([bt],tt,Xt,!0).withMeasure(ge).createSelectionId(),Dr=(0,P.NA)(Ot,{objectName:I,propertyName:T},!1),Br=(0,A.eT)(Ve[tt]),Ca=(0,A.eT)(Dt[tt]),yi=!!Zt[tt],gi=void 0,bi=void 0;yi&&(Br>Ca&&ne.value<Br&&(ne={index:tt,value:Br}),Br<Ca&&Ue.value>Br&&(Ue={index:tt,value:Br}),gi=ce(bt,Le,_.get(Mt,tt,void 0),tt,vt[tt]),bi=fe(re,Be?Be[tt]:void 0,Le)),Qt.push({isAnomaly:yi,categoryValue:(0,A.eT)(vt[tt]),value:Br,upperBound:(0,A.eT)(rr[tt]),lowerBound:(0,A.eT)(lr[tt]),expectedValue:Ca,identity:$t,batchStart:yr[tt],batchEnd:de[tt],categoryIndex:tt,isHighlighted:Dr,formattedCategoryValue:gi,valueFormatString:bi,seriesIndex:0,selected:!1}),yi&&hr.push(tt)}Tt.push({selector:{id:it,metadata:Ke},anomalies:Qt,anomaliesCategoryIndex:hr,show:nt,displayName:pt,markerShape:Bt,markerShapeSize:xt,markerColor:yt,confidenceBandStyle:Wt,transparency:Pt,confidenceBandColor:ur,highestAnomalyPointIndex:ne.index,lowestAnomalyPointIndex:Ue.index}),zt++}}}return Tt}function ce(oe,Ce,he,Le,Je){if(c.fF.assertValue(oe,"categoryColumn"),c.fF.assertValue(Ce,"formatStringProp"),he)return he;var ot=oe.objects,bt=(0,P.NA)(ot?ot[Le]:void 0,Ce);return(0,Y.xq)(Je,oe.source,Ce,!1,bt)}function fe(oe,Ce,he){c.fF.assertValue(oe,"valueColumn"),c.fF.assertAnyValue(Ce,"objects"),c.fF.assertValue(he,"formatStringProp");var Le=(0,P.NA)(Ce,he);return Le||(Le=(0,h.EO)(oe,he,!!oe.format)),!Le&&oe&&(Le=oe.format),Le}function ae(oe,Ce,he){if(c.fF.assert(function(){return oe&&2===_.size(oe)&&_.isNumber(oe[0])&&_.isNumber(oe[1])},"adjustDomainForAnomalyMarkers: Domain values should not be null in practice"),c.fF.assertValue(Ce,"adjustDomainForAnomalyMarkers scale"),_.isEmpty(he)||_.every(he,function(qe){return-1===qe.highestAnomalyPointIndex&&-1===qe.lowestAnomalyPointIndex}))return oe;for(var Le=Ce,Je=Le(oe[0]),ot=Le(oe[1]),Ft=0,vt=he;Ft<vt.length;Ft++){var Mt=vt[Ft],xe=5*Mt.markerShapeSize;if(-1!==Mt.highestAnomalyPointIndex){var Ee=Mt.anomalies[Mt.highestAnomalyPointIndex].value;if(xe>Le(Ee)-Le(oe[1])){var be=Le(Ee)-xe;ot=Math.min(ot,be)}}if(-1!==Mt.lowestAnomalyPointIndex){var Ve=Mt.anomalies[Mt.lowestAnomalyPointIndex].value;if(xe>Le(oe[0])-Le(Ve)){var We=Le(Ve)+xe;Je=Math.max(Je,We)}}}return[Le.invert(Je),Le.invert(ot)]}},7977:function(ie,ve,v){v.d(ve,{Gv:function(){return N},Or:function(){return V},_9:function(){return h},c$:function(){return S},eT:function(){return P},oq:function(){return A},sc:function(){return b},v9:function(){return D}});var c=v(8955),l=v(1589),n=v(390),g=v(8078),V=function(k){return k[k.top=0]="top",k[k.bottom=1]="bottom",k[k.left=2]="left",k[k.right=3]="right",k}({});function P(k){return isNaN(k)?null:k===Number.POSITIVE_INFINITY?Number.MAX_VALUE:k===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:k}function S(k){var Y,j;return!(!k||!(k.text||k.bool||null!==(Y=k.misc)&&void 0!==Y&&Y.barcode||null!==(j=k.geography)&&void 0!==j&&j.postalCode))}function h(k){return!k.invert}function D(k){return!(!k||!k.dateTime)}function b(k,Y,j){c.fF.assertValue(k,"scale");var G=k(Y)-k(j);return 0===G?0:G<0?Math.min(G,-1):Math.max(G,1)}function N(k,Y,j,G){if(!j){var I=(0,l.Ym)();I.update(Y-k),j=I.displayUnit&&I.displayUnit.value||1}var E=(k||0)/j,T=(Y||0)/j;if(G){var m=(0,n.rH)(G,!1,!1,!0).partsPerScale;E*=m,T*=m}return Math.max(f(E),f(T))}function f(k){if(0===k)return 0;k<0&&(k=-k);var Y=Math.floor((0,g.mv)(k));if(Y>=0){var I=5-(Y+1);return I<=0?0:F(k,I)}return Y<-5?5:-Y-1+F(k/(0,g.wA)(Y+1),5)}function F(k,Y){var j=k.toFixed(Y),G=j.indexOf(".");if(-1!==G)for(var I=j.length;I-- >G;)if("0"!==j[I])return I-G;return 0}function A(k,Y,j){0!==k.size()&&k.each(function(){var G=d3.select(this);j(G.node(),Y)})}},8871:function(ie,ve,v){v.d(ve,{v:function(){return S}});var c=v(6096),l=v(6976),n=v(8955),g=v(2348),V=v(4994),P=v(8580),S=function(){function h(D,b,N,f,F){this.style=F,this.colors=D,this.fillProp=b,this.defaultDataPointColor=N,this.defaultCategoryColor=f,this.defaultColorScale=this.colors.getNewColorScale()}return h.create=function(D,b,N,f){return new h(D.colorPalette.dataColors,b,N,f,D)},h.prototype.getColorForSeriesValue=function(D,b,N,f,F){return this.style&&this.style.isHighContrast?h.getHighContrastDataColor(this.style,f):this.getFillWithOptionalValidation(D,F)||this.getColorWithOptionalValidation(this.defaultDataPointColor,F)||this.getColorScaleForSeries(b).getColor(N).value},h.prototype.getColorScaleForSeries=function(D){return this.colors.getColorScaleByKey((0,P.Gg)(D||[]))},h.prototype.getColorForStaticSeries=function(D,b,N,f){if(this.style&&this.style.isHighContrast)return h.getHighContrastDataColor(this.style,N);var F=this.defaultColorScale.getColor(b).value;return this.getFillWithOptionalValidation(D,f)||this.getColorWithOptionalValidation(this.defaultDataPointColor,f)||F},h.prototype.getColorForMeasure=function(D,b,N,f){if(this.style&&this.style.isHighContrast)return h.getHighContrastDataColor(this.style,N);var F=this.defaultColorScale.getColor(b).value;return this.getFillWithOptionalValidation(D,f)||this.getColorWithOptionalValidation(this.defaultCategoryColor,f)||this.getColorWithOptionalValidation(this.defaultDataPointColor,f)||F},h.prototype.getColorForProperty=function(D,b,N,f){var F=this.style&&N&&h.getThemeColor(this.style,N);return this.getColorForPropertyWithDefaultColor(D,b,F,f)},h.prototype.hasColorForProperty=function(D,b,N){return(0,g.bC)(D,b,N)},h.prototype.getColorForPropertyWithDefaultColor=function(D,b,N,f){return this.style&&this.style.isHighContrast?N:(0,g.W7)(D,b,N,f)},h.prototype.getColorForPropertyName=function(D,b,N){var f=this.style&&N&&h.getThemeColor(this.style,N);return this.getColorForPropertyNameWithDefaultColor(D,b,f)},h.prototype.getColorForPropertyNameWithDefaultColor=function(D,b,N,f){var F=this.style&&this.style.isHighContrast,A=(0,V.y)(D,b,N,void 0,f);return f&&null===A?null:F?N:A},h.getSentimentColor=function(D,b,N){return D.isHighContrast?h.getHighContrastDataColor(D,N):D.colorPalette.dataColors.getSentimentColors()[b].value},h.getGradientColor=function(D,b,N){return D.isHighContrast?h.getHighContrastDataColor(D,N):D.colorPalette.dataColors.getGradientColors()[b].value},h.getDataColorByIndex=function(D,b,N){return D.isHighContrast?h.getHighContrastDataColor(D,N):D.colorPalette.dataColors.getColorByIndex(b).value},h.getThemeColor=function(D,b){return D.colorPalette[b].value},h.getFillColor=function(D,b,N){return D.isHighContrast?h.getHighContrastDataColor(D,N):b&&b.solid&&b.solid.color},h.normalizeSelector=function(D,b){return n.fF.assertAnyValue(D,"selector"),D&&(b||D.data)?{data:D.data}:D},h.getHighContrastDataColor=function(D,b){return void 0===b&&(b=l.U),D.colorPalette[b].value},h.prototype.getFillWithOptionalValidation=function(D,b){var N=this.fillProp&&(0,g.W7)(D,this.fillProp);return b&&N&&!(0,c.WV)(N)&&(N=void 0),N},h.prototype.getColorWithOptionalValidation=function(D,b){var N=D;return b&&D&&!(0,c.WV)(D)&&(N=void 0),N},h}()},2328:function(ie,ve,v){v.d(ve,{R:function(){return n}});var c=v(1589),l=v(9806),n=function(){function g(){this.cache={}}return g.prototype.getOrCreate=function(V,P,S,h,D){null==h&&(h=P.precision);var b={formatString:V,displayUnits:P.displayUnits,precision:V?(0,l.h)(h,V):h,value2:S,appendedKey:D},N=JSON.stringify(b);return this.cache[N]||(this.cache[N]=(0,c.Ue)((0,l.Y)(P,V,S,b.precision))),this.cache[N]},g}()},6909:function(ie,ve,v){v.d(ve,{AD:function(){return A},ML:function(){return f},Zy:function(){return D},bR:function(){return F}});var c=v(8955),l=v(3775),n=v(272),g=v(2605),V=v(1589),P=v(9291),S=v(3813),h=v(8945);function D(k,Y,j){if(!k||!k.categorical||_.isEmpty(k.categorical.categories))return k;var G=k.categorical.categories,I=function(k,Y){for(var j=[],G=0,I=k;G<I.length;G++)for(var E=I[G],T=E.values,m=(0,V.EO)(E.source,Y),z=(0,V.Ue)({format:m,value:T[0],value2:T[T.length-1],displayUnitSystemType:n.V.Verbose,columnType:E.source.type}),R=0,w=E.values.length;R<w;R++){var C=z.format(E.values[R]),d=j[R];d||j.splice(R,0,d=[]),d.push(C)}return _.map(j,function(u){return u.join(" ")})}(G,Y),E=function(k,Y){var G=F(A(k)),I={};I[Y]=!0;var E={displayName:G.displayName,roles:I,type:S.Ge.fromPrimitiveTypeAndCategory(1)},T=_.last(k).source;return void 0!==T.isMeasure&&(E.isMeasure=T.isMeasure),E.queryName=T.queryName,E}(G,j),T=(0,l.qO)(k),m=(0,l.qO)(T.metadata.columns);m.push(E);var z=(0,l.qO)(T.metadata);z.columns=m,T.metadata=z;var R=k.categorical,w=(0,g.OC)(R.categories),B={source:E,values:I},C=k.categorical.categories[0];C.identity&&(B.identity=C.identity),C.identityFields&&(B.identityFields=C.identityFields),w&&(B.objects=w);var d=[B],u=(0,l.qO)(R);return u.categories=d,u.originalCategories=G,T.categorical=u,T}function f(k){return k.join(" ")}function F(k){return{displayName:_.map(k,function(Y){return Y.displayName}).join(" "),value:_.map(k,function(Y){return Y.value}).join(" ")}}function A(k,Y,j){var G=null!=Y;c.fF.assert(function(){return!G||!!j},"formatStringProp");for(var I=null,E=null,T=null,m=[],z=0,R=k;z<R.length;z++){var w=R[z],B=w.source;if(B){var C=B.expr?P.X1.getProperty(B.expr):null;null!=C?(C===I?E=B.displayName:(null!==I&&(c.fF.assertValue(T,"currentValueParts is undefined on changing hierarchies..."),m.push({displayName:"".concat(I," ").concat(E),value:T?T.join(" "):null})),I=C,E=B.displayName,T=null,G&&(T=[])),G&&T.push((0,h.xq)(w.values[Y],B,j,!1))):null!=I?(m.push({displayName:"".concat(I," ").concat(E),value:T?T.join(" "):null}),I=null,E=null,T=null,m.push({displayName:B.displayName,value:G?(0,h.xq)(w.values[Y],B,j,!1):null})):m.push({displayName:B.displayName,value:G?(0,h.xq)(w.values[Y],B,j,!1):null})}}return null!=I&&(c.fF.assertValue(G&&!T,"currentValueParts is undefined with defined includeValue..."),m.push({displayName:"".concat(I," ").concat(E),value:G&&T?T.join(" "):null})),m}},460:function(ie,ve,v){v.d(ve,{BS:function(){return B},Bo:function(){return C},FJ:function(){return P},In:function(){return Xe},L0:function(){return k},LK:function(){return O},M3:function(){return ee},N0:function(){return H},NL:function(){return ze},NZ:function(){return J},OW:function(){return j},Pq:function(){return G},Qc:function(){return le},TS:function(){return N},UU:function(){return g},Uy:function(){return Y},Vr:function(){return A},WP:function(){return M},WV:function(){return Ae},XJ:function(){return L},_i:function(){return Pe},bL:function(){return pe},bN:function(){return Me},d1:function(){return y},go:function(){return S},i1:function(){return d},iX:function(){return Ne},ki:function(){return f},lp:function(){return w},pl:function(){return R},qy:function(){return V},r_:function(){return D},uM:function(){return u},uQ:function(){return z},vo:function(){return Se},wh:function(){return F},xy:function(){return we}});var c=v(6023),l=v(9249),n=v(1345),g=9,V=8,P=8,S=50,D=.3,N=6,f=8,F=8,A=50,k="0.00 %;-0.00 %;0.00 %",Y=9,j=l.Wn.regularSecondary.css,G=l.Wn.regular.css,m="normal",z="foregroundNeutralSecondaryAlt",R="foregroundLight",w="backgroundDark",B=.9,C=4,d=4,u=4,y=2,M=10,L=12,O=7,H=40,J=void 0,ee=void 0,le=void 0,Ne=void 0,Ae=void 0,Se=15,we=0,Pe=1,ze=50,Xe=-1,Me={fontFamily:l.Wn.regularSecondary.css,fontSize:c.FP.fromPoint(Y),fontWeight:m},pe={family:j,size:n.B.createFromPt(Y),weight:m,style:null,textDecoration:null}},8945:function(ie,ve,v){v.d(ve,{Gr:function(){return A},O1:function(){return D},Pl:function(){return P},TO:function(){return S},cR:function(){return f},pt:function(){return N},xh:function(){return V},xq:function(){return k}});var c=v(8955),l=v(272),n=v(1589);function V(Y,j,G){if(void 0===G&&(G=function(m){return _.last(m.categories).values}),Y.categories&&Y.categories.length>0){var I=_.last(Y.categories),E=G(Y);return I.values.length>0?{categories:E,categoryFormatter:(0,n.Ue)({format:(0,n.EO)(I.source,j),value:E[0],value2:E[E.length-1],displayUnitSystemType:l.V.Verbose,columnType:I.source.type}),categoryIdentities:I.identity,categoryObjects:I.objects}:{categories:[],categoryFormatter:{format:n.WU}}}return{categories:[null],categoryFormatter:{format:n.WU}}}function P(Y){return c.fF.assertValue(Y,"source"),void 0!==Y.groupName?Y.groupName:Y.queryName}function S(Y,j,G){c.fF.assertValue(Y,"source"),c.fF.assertValue(j,"values");var I=Y,E=Y.displayName;return void 0!==Y.groupName&&(I=j.source,E=Y.groupName),(0,n.WU)(E,(0,n.EO)(I,G))}function D(Y){var j,G;Y instanceof Array?(G=Y.map(function(I){return I?I.displayName:""}).filter(function(I,E,T){return""!==I&&T.indexOf(I)===E}),j=(0,n.aY)(G)):Y&&(j=Y.displayName);return j}function N(Y){var j=F(Y);return null!=j&&!0===j.imageUrl}function f(Y){var j=F(Y);return null!=j&&!0===j.webUrl}function F(Y){return Y&&Y.type&&Y.type.misc}function A(Y){return!(!Y||!Y.metadata||_.isEmpty(Y.metadata.columns))&&_.some(Y.metadata.columns,function(j){return!0===N(j)})}function k(Y,j,G,I,E){return void 0===I&&(I=!0),c.fF.assertValue(j,"column should exist"),E||(!I&&j&&j.format&&(I=!0),E=(0,n.EO)(j,G,I)),!E&&j&&(E=j.format),(0,n.WU)(Y,E)}},6992:function(ie,ve,v){function c(n){return n.some(function(g){return l(g)})}function l(n){return n&&void 0!==n.labelDataPointContents}v.d(ve,{r:function(){return l},t:function(){return c}})},7935:function(ie,ve,v){v.d(ve,{Bf:function(){return Ft},Bo:function(){return L},JP:function(){return y},Pd:function(){return z},R1:function(){return Ze},SS:function(){return mt},Sw:function(){return bt},W1:function(){return ae},Xc:function(){return oe},bN:function(){return M},d6:function(){return Mt},fI:function(){return xe},gm:function(){return ot},ki:function(){return R},n8:function(){return be},ng:function(){return Ce},wh:function(){return w},x5:function(){return Oe},y3:function(){return We},z8:function(){return Je}});var k,j,G,c=v(7777),l=v(8955),n=v(9249),g=v(5654),V=v(6471),P=v(563),S=v(6023),h=v(9172),D=v(7977),b=v(5210),N=v(2328),f=v(4540),F=v(1971),A=v(1345),z=1,R=8,w=8,y={family:n.Wn.regularSecondary.css,size:A.B.createFromPt(9),weight:"normal"},M={fontFamily:n.Wn.regularSecondary.css,fontSize:S.FP.fromPoint(9),fontWeight:"normal"},L=4,Q="-0.25em",ee=((0,c.CH)("labelGraphicsContext"),(0,c.CH)("labelBackgroundGraphicsContext"),(k=(0,c.CH)("label")).class),le=k.selector,Ne=(0,c.CH)("label-background").class,Se=(j=(0,c.CH)("seriesLabel")).class,we=j.selector,Pe=(G=(0,c.CH)("label-second-line")).class,ze=G.selector,Xe=(0,c.CH)("leader-lines"),Me=(0,c.CH)("line-label");function pe(et){var ut=0===et.labelOrientation;return et.boundingBox.left+(ut?et.boundingBox.width:et.boundingBox.width/2)-(et.hasBackground&&ut?L:0)}function Qe(et){var ut=0===et.labelOrientation,ct=ut?et.boundingBox.height/2:et.boundingBox.height,Vt=et.hasBackground&&!ut?2:0;return et.wordBreak&&(ct=et.boundingBox.height/2,Vt=-2),et.boundingBox.top+ct-Vt}function Oe(et){var ut=et.dataLabels,ct=et.formatMode,Vt=et.hasTooltip,Tt=et.labelContext,zt=et.numeric,Kt=et.onObject,Ht=et.twoRows,Xt={transform:function(nt){var pt="translate(".concat(pe(nt),",").concat(Qe(nt),")");return 0===nt.labelOrientation?"".concat(pt,"rotate(-90)"):pt},dy:Q};zt&&(Xt.dy=void 0);var re=Tt.selectAll(le).data(ut,qe),ge=re.enter().append("text").classed(ee,!0).merge(re);Kt&&he(ge,function(He){return!He.hasBackground}),ge.interrupt().text(function(He){return He.text}).attrs(Xt).style("text-anchor",function(He){return He.textAnchor}).styles(function(He){return(0,f.E_)(He.fontProperties)}),re.exit().remove(),Xt={transform:function(nt){return"translate(".concat(function(et){return et.boundingBox.left+et.boundingBox.width/2}(nt),",").concat(function(et){return et.boundingBox.top+(void 0!==et.text?et.boundingBox.height/2:et.boundingBox.height)}(nt),")")},dy:Q},zt&&(Xt.dy=void 0);var Be=_.filter(Ht?ut:[],function(He){return!_.isEmpty(He.secondRowText)}),Ke=Tt.selectAll(ze).data(Be,function(He,nt){return He.identity?He.identity.getKeyWithoutHighlight():nt.toString()}),Ye=Ke.enter().append("text").classed(Pe,!0).merge(Ke);Kt&&he(Ye,function(He){return!He.hasBackground}),Ye.interrupt().text(function(He){return He.secondRowText}).attrs(Xt).style("text-anchor",function(He){return He.textAnchor}).styles(function(He){return(0,f.E_)(He.fontProperties)}),Vt&&(ge.append("title").text(function(He){return He.tooltip}),Ye.append("title").text(function(He){return He.tooltip}));var it=function(nt){return Kt?ct&&nt.hasBackground||!ct&&(!Vt||null==nt.tooltip)?"none":"all":Vt&&null!=nt.tooltip?"all":"none"};return ge.style("pointer-events",function(He){return it(He)}),Ye.style("pointer-events",function(He){return it(He)}),Ke.exit().remove(),ge}function fe(et,ut,ct,Vt){for(var Tt=d3.select(et),zt=P.b.estimateSvgTextHeight(ct),Kt=Math.min(ut.length,2),Ht=0,Xt=0;Xt<Kt;Xt++){ct.text=ut[Xt],ut.length>2&&Xt&&(ct.text=ut[Xt].concat("..."));var re=P.b.getTailoredTextOrDefault(ct,Vt);Tt.append("tspan").attr("id","wordWrap".concat(ut[Xt])).attrs({x:0,dy:Xt?zt:Q}).text(re);var ge=P.b.measureSvgTextWidth(ct,re);Ht=ge>Ht?ge:Ht}return Ht}function ae(et,ut,ct,Vt,Tt,zt,Kt){void 0===Tt&&(Tt=0),void 0===zt&&(zt=!1),void 0===Kt&&(Kt=!1);var Ht=P.b.estimateSvgTextHeight(ut)+Tt,Xt=Math.max(1,Math.floor(Vt/Ht));return(0,h.ql)(et,ut,P.b.measureSvgTextWidth,ct,Xt,null,!1,zt,Kt)}function te(et){l.fF.assertValue(et,"textElement");var ut=P.b.getSvgMeasurementProperties(et);return P.b.measureSvgTextWidth(ut,et.textContent)}function oe(et,ut,ct,Vt,Tt,zt){void 0===Vt&&(Vt=!1),void 0===Tt&&(Tt=d3.easeCubicInOut);var Kt={transform:function(ge){var Be="translate(".concat(pe(ge),",").concat(Qe(ge),")");return 0===ge.labelOrientation?"".concat(Be,"rotate(-90)"):Be},dy:Q};Vt&&(Kt.dy=void 0);var Ht=et.selectAll(le).data(ut,qe),Xt=Ht.enter().append("text").classed(ee,!0).style("opacity",0).attrs(Kt).merge(Ht);return zt&&Xt.classed(F.cy,!0).attr(F.Ez,function(re){return re.isCategory?"category-labels":"data-labels"}).attr(F.CK,"Visual_DataPointsLabels").attr(F.QZ,1),Xt.text(function(re){return re.text}).style("text-anchor",function(re){return re.textAnchor}).styles(function(re){return(0,f.E_)(re.fontProperties)}).transition().ease(Tt).duration(ct).attrs(Kt).style("opacity",1),Ht.exit().transition().duration(ct).style("opacity",0).remove(),Xt}function Ce(et){var ut=et.context,Vt=et.onObject,Tt=_.filter(et.dataLabels,function(Ht){return Ht.hasBackground}),zt=ut.selectAll("rect"),Kt=(zt=zt.data(Tt,qe)).enter().append("rect").merge(zt);return Kt.classed(Ne,!0).attr("x",function(Ht){return Ht.boundingBox.left-L}).attr("y",function(Ht){return Ht.boundingBox.top-2}).attr("rx",4).attr("ry",4).attr("width",function(Ht){return Ht.boundingBox.width+2*L}).attr("height",function(Ht){return void 0===Ht.text&&void 0===Ht.secondRowText?0:Ht.boundingBox.height+4}).style("fill",function(Ht){return Ht.backgroundColor}).style("fill-opacity",function(Ht){return 1-Ht.backgroundTransparency}),Vt&&he(Kt,function(Ht){return Ht.hasBackground}),zt.exit().remove(),Kt}function he(et,ut){et.classed(F.cy,function(ct){return ut(ct)}).attr(F.Ez,function(ct){return ut(ct)?ct.isCategory?"category-labels":ct.isTotal?"total-labels":"data-labels":null}).attr(F.CK,function(ct){return ut(ct)?ct.isTotal?"Visual_DataTotalLabels":"Visual_DataPointsLabels":null}).attr(F.QZ,function(ct){return ut(ct)?1:null})}function Je(et,ut,ct,Vt){et.select(Xe.selector).empty()&&et.append("g").classed(Xe.class,!0);var Tt=et.select(Xe.selector).selectAll("polyline").data(ut,ct);Tt.enter().append("polyline").classed(Me.class,!0).merge(Tt).attr("points",function(Kt){return Kt.leaderLinePoints}).style("stroke",function(Kt){return Vt||(Kt.fontProperties?Kt.fontProperties.color:void 0)}).style("stroke-width",z),Tt.exit().remove()}function ot(et){var ut=Oe(et);return Ce({context:et.backgroundContext,dataLabels:et.dataLabels,onObject:et.onObject}),ut}function bt(et){return function(et,ut,ct,Vt,Tt,zt,Kt,Ht,Xt){var re={transform:function(yr){var de=Tt?5:-5,ne=function(et){return et.boundingBox.left+(et.hasBackground?L:0)}(yr)+de,Ue="translate(".concat(ne,",").concat(Qe(yr),")");return 0===yr.labelOrientation?"".concat(Ue,"rotate(-90)"):Ue},dy:Q},ge=et.selectAll(we).data(ct,qe),Be=ge.enter().append("text").classed(Se,!0).merge(ge);Xt&&Be.classed(F.cy,!0).attr(F.Ez,"series-labels").attr(F.CK,"Visual_SeriesLabels").attr(F.QZ,1);var Ke=[],Ye=0;Be.interrupt().text(function(lr){return zt?lr.text:function(et,ut,ct,Vt){var Tt=M,zt={text:et,fontFamily:ct||Tt.fontFamily,fontSize:S.FP.fromPoint(ut),fontWeight:Tt.fontWeight};return P.b.getTailoredTextOrDefault(zt,Vt)}(lr.text,lr.fontProperties&&lr.fontProperties.size?lr.fontProperties.size.pt:void 0,lr.fontProperties?lr.fontProperties.family:void 0,Vt)}).attrs(re).styles(function(lr){return(0,f.E_)(lr.fontProperties)}).styles({"text-anchor":Tt?"start":"end","white-space":"pre"});var it=Be.nodes();if(zt)for(var He=P.b.estimateSvgTextHeight(M),pt=Ht+He+(Kt.height-He-Ht)/2,Bt=0,xt=it;Bt<xt.length;Bt++){l.fF.assertValue(yt=xt[Bt],"textElement");var Pt=yt.textContent,Wt=P.b.getSvgMeasurementProperties(yt);yt.textContent=null;var nr=fe(yt,ae(Pt,Wt,Vt,Kt.height-pt,void 0,!0,!0),Wt,Vt);ct[Ye].hasBackground&&Ke.push(nr),Ye++}else for(var Qt=0,hr=it;Qt<hr.length;Qt++){var yt=hr[Qt];ct[Ye].hasBackground&&Ke.push(te(yt)),Ye++}ge.exit().remove();var Zt=_.filter(ct,function(lr){return lr.hasBackground}),Dt=ut.selectAll("rect");return(Dt=Dt.data(Zt,qe)).enter().append("rect").merge(Dt).attr("transform",function(lr,yr){var de=lr.boundingBox.left;return Tt||(de-=Ke[yr]),"translate(".concat(de+=Tt?5:-5,",").concat(function(et){var ut=0;return et.wordBreak||(ut=(et.boundingBox.height+4)/4),et.boundingBox.top-ut}(lr),")")}).attr("rx",4).attr("ry",4).attr("width",function(lr,yr){return Ke[yr]+2*L}).attr("height",function(lr){return void 0===lr.text&&void 0===lr.secondRowText?0:lr.boundingBox.height+4}).style("fill",function(lr){return lr.backgroundColor}).style("fill-opacity",function(lr){return 1-lr.backgroundTransparency}),Dt.exit().remove(),Be}(et.labelContext,et.backgroundContext,et.dataLabels,et.availableWidth,et.position,et.seriesWordWrap,et.plotArea,et.seriesFontSize,et.onObject)}function Ft(et){var ut=oe(et.labelContext,et.dataLabels,et.duration,et.numeric,et.easeType,et.onObject);return function(et,ut,ct,Vt,Tt){void 0===Vt&&(Vt=!1),void 0===Tt&&(Tt=d3.easeCubicInOut);var zt=_.filter(ut,function(Xt){return Xt.hasBackground}),Kt=et.selectAll("rect").data(zt,qe);Kt.enter().append("rect").style("fill-opacity",0).merge(Kt).transition().ease(Tt).duration(ct).attrs({x:function(re){return re.boundingBox.left-L},y:function(re){return re.boundingBox.top-2},rx:4,ry:4,width:function(re){return re.boundingBox.width+2*L},height:function(re){return void 0===re.text&&void 0===re.secondRowText?0:re.boundingBox.height+4}}).style("fill",function(Xt){return Xt.backgroundColor}).style("fill-opacity",function(Xt){return 1-Xt.backgroundTransparency}),Kt.exit().transition().duration(ct).style("fill-opacity",0).remove()}(et.backgroundContext,et.dataLabels,et.duration,et.numeric,et.easeType),ut}var vt=function(){function et(ut,ct){if(this.noPrecision=!0,0===ct.displayUnits){var Vt=ut.formatter;if(this.units=Vt&&Vt.displayUnit&&Vt.displayUnit.value,null==ct.precision){this.noPrecision=!1;var Tt=Vt&&Vt.options;if(Tt&&Tt.precision)this.precisionForAxis=ut.formatter.options.precision+1;else{var zt=ut.axis.tickValues();zt&&zt.length&&(this.precisionForAxis=(0,D.Gv)(zt[0],zt.length>1?zt[1]:void 0,10*(this.units||1),Tt&&Tt.format))}}}}return et.prototype.getPrecision=function(ut,ct){if(!this.noPrecision){if(this.units)return this.precisionForAxis;if(!ut)return ct&&ct.integer?0:this.precisionForAxis}},et}();function Mt(et,ut){return new vt(et,ut)}function xe(){return new N.R}function Ze(et){for(var ut=[],ct={},Vt=function(ge,Be,Ke){return Be.some(function(Ye){return Ke?(0,V.fS)(ge.parentShape.rect,Ye.rect):(0,g.fS)(ge.parentShape.point,Ye.point)})},Tt=0,zt=et;Tt<zt.length;Tt++){var Kt=zt[Tt];if(l.fF.assertValue(Kt,"dataPoint"),null!=Kt){var Xt=ct[Kt.text];Xt?Vt(Kt,Xt,1===Kt.parentType)||(ut.push(Kt),Xt.push(Kt.parentShape)):(ut.push(Kt),ct[Kt.text]=[Kt.parentShape])}}return ut}function be(et){return 10===et?{maximumOffset:b.rA,startingOffset:b.vD,offsetIterationDelta:b.YD,allowLeaderLines:!0,attemptToMoveLabelsIntoViewport:!0}:{maximumOffset:w,startingOffset:R,attemptToMoveLabelsIntoViewport:!0}}function We(et,ut,ct){var Vt=M,Tt={text:et,fontFamily:ct||Vt.fontFamily,fontSize:S.FP.fromPoint(ut),fontWeight:Vt.fontWeight};return{width:P.b.measureSvgTextWidth(Tt),height:P.b.estimateSvgTextHeight(Tt)}}function qe(et,ut){return et.key?et.key:et.identity?et.identity.getKeyWithoutHighlight():ut}function mt(et,ut,ct,Vt){if(null==ut||0===ut)return ct;var Tt=ut/100,zt=Math.ceil(et/Vt);return 1===Tt?zt:ct+Math.floor(Tt*(zt-ct))}},2180:function(ie,ve,v){v.d(ve,{U2:function(){return ze},S1:function(){return Pe}});var j,G,I,T,m,z,Ne,Ae,c=v(8955),l=v(7935),n=v(7777),g=v(5654),V=v(6471),P=v(563),S=v(6023),h=v(9172),D=v(390),b=v(7977),N=v(5210),f=v(2328),F=v(4540),A=v(1971),k=v(460),Y=v(6992),R=(j=(0,n.CH)("label")).class,w=j.selector,B=(G=(0,n.CH)("label-container")).class,C=G.selector,d=(I=(0,n.CH)("label-tspan")).class,u=I.selector,y=(0,n.CH)("label-background").class,L=(T=(0,n.CH)("seriesLabel")).class,O=T.selector,H=(m=(0,n.CH)("label-second-line")).class,Q=m.selector,X=(z=(0,n.CH)("label-container-background")).class,W=z.selector,J=function(){function Me(){this.nonNumericVerticalOffset="-0.25em",this.horizontalLabelBackgroundPadding=4,this.horizontalSeriesLabelPadding=5,this.linesGraphicsContextClass=(0,n.CH)("leader-lines"),this.lineClass=(0,n.CH)("line-label"),this.labelBackgroundRounding=4,this.LineStrokeWidth=1,this.sameParentIsInArray=function(pe,Fe,De){return Fe.some(function(Qe){return De?(0,V.fS)(pe.parentShape.rect,Qe.rect):(0,g.fS)(pe.parentShape.point,Qe.point)})},this.roleSortOrder={Title:1,Value:2,Detail:3}}return Me.prototype.createColumnFormatterCacheManager=function(){return new f.R},Me.prototype.drawLabelContainer=function(pe){var fe,Fe=this,Qe=pe.labelContainers,rt={transform:function(oe){var Ce="translate(".concat(Fe.getLabelContainerX(oe),",").concat(Fe.getLabelContainerY(oe),")");return 0===oe.labelOrientation?"".concat(Ce,"rotate(-90)"):Ce},dy:this.nonNumericVerticalOffset},lt=pe.labelGroupContext.selectAll(C).data(Qe,this.labelKeyFunction),Oe=Qe.some(function(te){return!_.isEmpty(te.labelContents)}),ce=Qe.some(function(te){return te.hasBackground});return Oe&&(fe=lt.enter().append("g").merge(lt).classed(B,!0).attrs(rt),ce&&this.drawLabelContainerBackground(fe,pe.onObject),this.drawLabelContainerContent(fe),fe.style("pointer-events",function(te){return oe=te,pe.onObject?pe.formatMode&&oe.hasBackground||!pe.formatMode&&(!pe.hasTooltip||null==oe.tooltip)?"none":"all":pe.hasTooltip&&null!=oe.tooltip?"all":"none";var oe})),fe&&(!ce||!Oe)&&fe.selectAll(W).remove(),lt.exit().remove(),fe},Me.prototype.removeContainerContent=function(pe){var Fe,De;null===(Fe=pe.selectAll(w))||void 0===Fe||Fe.remove(),null===(De=pe.selectAll(C))||void 0===De||De.remove()},Me.prototype.removeContainerBackground=function(pe){var Fe;null===(Fe=pe.selectAll(W))||void 0===Fe||Fe.remove()},Me.prototype.drawLabelsAndBackgrounds=function(pe){var Fe=this.drawDefaultLabels(pe);return this.drawLabelBackground({context:pe.backgroundContext,dataLabels:pe.dataLabels,onObject:pe.onObject}),Fe},Me.prototype.animateDefaultLabels=function(pe,Fe,De,Qe,rt,lt){var Oe=this,ce={transform:function(oe){var Ce="translate(".concat(Oe.getLabelX(oe),",").concat(Oe.getLabelY(oe),")");return 0===oe.labelOrientation?"".concat(Ce,"rotate(-90)"):Ce},dy:this.nonNumericVerticalOffset};Qe&&(ce.dy=void 0);var fe=pe.selectAll(w).data(Fe,this.labelKeyFunction),ae=fe.enter().append("text").classed(R,!0).style("opacity",0).attrs(ce).merge(fe);return lt&&ae.classed(A.cy,!0).attr(A.Ez,function(te){return te.isCategory?"category-labels":"data-labels"}).attr(A.CK,"Visual_DataPointsLabels").attr(A.QZ,1),ae.text(function(te){return te.text}).style("text-anchor",function(te){return te.textAnchor}).styles(function(te){return(0,F.E_)(te.fontProperties)}).transition().ease(rt).duration(De).attrs(ce).style("opacity",1),fe.exit().transition().duration(De).style("opacity",0).remove(),ae},Me.prototype.animateLabelsAndBackgrounds=function(pe){var Fe=this.animateDefaultLabels(pe.labelContext,pe.dataLabels,pe.duration,pe.numeric,pe.easeType,pe.onObject);return this.animateLabelBackground(pe.backgroundContext,pe.dataLabels,pe.duration,pe.numeric,pe.easeType),Fe},Me.prototype.getDataLabelLayoutOptions=function(pe){return 10===pe?{maximumOffset:N.rA,startingOffset:N.vD,offsetIterationDelta:N.YD,allowLeaderLines:!0,attemptToMoveLabelsIntoViewport:!0}:{maximumOffset:k.wh,startingOffset:k.ki,attemptToMoveLabelsIntoViewport:!0}},Me.prototype.drawLabelLeaderLines=function(pe,Fe,De,Qe){var rt=this;pe.select(this.linesGraphicsContextClass.selector).empty()&&pe.append("g").classed(this.linesGraphicsContextClass.class,!0),Fe.some(function(ae){return rt.isLabelContainer(ae)});var Oe=this.getLeaderLines(pe,Fe,De);Oe.enter().append("polyline").classed(this.lineClass.class,!0).merge(Oe).attr("points",function(ae){return ae.leaderLinePoints}).style("stroke",function(ae){return Qe||function(te){if(rt.isLabelContainer(te)){var oe=te.labelContents.find(function(Ce){return Ce.fontProperties});return oe.fontProperties?oe.fontProperties.color:void 0}return te.fontProperties?te.fontProperties.color:void 0}(ae)}).style("stroke-width",this.LineStrokeWidth),Oe.exit().remove()},Me.prototype.getLabelUnitAndPrecisionForAxis=function(pe,Fe){return new ee(pe,Fe)},Me.prototype.drawSeriesLabelsAndBackgrounds=function(pe){return this.drawDefaultSeriesLabels(pe.labelContext,pe.backgroundContext,pe.dataLabels,pe.availableWidth,pe.position,pe.seriesWordWrap,pe.plotArea,pe.seriesFontSize,pe.onObject)},Me.prototype.getLabelFormattedText=function(pe,Fe,De){return De?De.format(pe):D.dx.formatValue(pe,Fe)},Me.prototype.drawDefaultLabels=function(pe){var Fe=this,De=pe.dataLabels,Qe=pe.formatMode,rt=pe.hasTooltip,lt=pe.labelContext,Oe=pe.numeric,ce=pe.onObject,fe=pe.twoRows,ae={transform:function(bt){var Ft="translate(".concat(Fe.getLabelX(bt),",").concat(Fe.getLabelY(bt),")");return 0===bt.labelOrientation?"".concat(Ft,"rotate(-90)"):Ft},dy:this.nonNumericVerticalOffset};Oe&&(ae.dy=void 0);var te=lt.selectAll(w).data(De,this.labelKeyFunction),oe=te.enter().append("text").classed(R,!0).merge(te);ce&&this.updateDataLabelSubSelectionAttributes(oe,function(ot){return!ot.hasBackground}),oe.interrupt().text(function(ot){return ot.text}).attrs(ae).style("text-anchor",function(ot){return ot.textAnchor}).styles(function(ot){return(0,F.E_)(ot.fontProperties)}),te.exit().remove(),ae={transform:function(bt){return"translate(".concat(Fe.getLabelX2ndLine(bt),",").concat(Fe.getLabelY2ndLine(bt),")")},dy:this.nonNumericVerticalOffset},Oe&&(ae.dy=void 0);var Ce=_.filter(fe?De:[],function(ot){return!_.isEmpty(ot.secondRowText)}),he=lt.selectAll(Q).data(Ce,function(ot,bt){return ot.identity?ot.identity.getKeyWithoutHighlight():bt.toString()}),Le=he.enter().append("text").classed(H,!0).merge(he);ce&&this.updateDataLabelSubSelectionAttributes(Le,function(ot){return!ot.hasBackground}),Le.interrupt().text(function(ot){return ot.secondRowText}).attrs(ae).style("text-anchor",function(ot){return ot.textAnchor}).styles(function(ot){return(0,F.E_)(ot.fontProperties)}),rt&&(oe.append("title").text(function(ot){return ot.tooltip}),Le.append("title").text(function(ot){return ot.tooltip}));var Je=function(bt){return ce?Qe&&bt.hasBackground||!Qe&&(!rt||null==bt.tooltip)?"none":"all":rt&&null!=bt.tooltip?"all":"none"};return oe.style("pointer-events",function(ot){return Je(ot)}),Le.style("pointer-events",function(ot){return Je(ot)}),he.exit().remove(),oe},Me.prototype.drawLabelBackground=function(pe){var Fe=this,De=pe.context,rt=pe.onObject,lt=_.filter(pe.dataLabels,function(fe){return fe.hasBackground}),Oe=De.selectAll("rect"),ce=(Oe=Oe.data(lt,this.labelKeyFunction)).enter().append("rect").merge(Oe);return ce.classed(y,!0).attr("x",function(fe){return fe.boundingBox.left-Fe.horizontalLabelBackgroundPadding}).attr("y",function(fe){return fe.boundingBox.top-k.d1}).attr("rx",this.labelBackgroundRounding).attr("ry",this.labelBackgroundRounding).attr("width",function(fe){return fe.boundingBox.width+2*Fe.horizontalLabelBackgroundPadding}).attr("height",function(fe){return void 0===fe.text&&void 0===fe.secondRowText?0:fe.boundingBox.height+2*k.d1}).style("fill",function(fe){return fe.backgroundColor}).style("fill-opacity",function(fe){return 1-fe.backgroundTransparency}),rt&&this.updateDataLabelSubSelectionAttributes(ce,function(fe){return fe.hasBackground}),Oe.exit().remove(),ce},Me.prototype.getNumberOfLabelsToRender=function(pe,Fe,De,Qe){if(null==Fe||0===Fe)return De;var rt=Fe/100,lt=Math.ceil(pe/Qe);return 1===rt?lt:De+Math.floor(rt*(lt-De))},Me.prototype.removeDuplicates=function(pe){return(0,Y.t)(pe)?this.removeDuplicateContainers(pe):this.removeDuplicateLabels(pe)},Me.prototype.getTextSize=function(pe,Fe,De){var Qe=k.bN,rt={text:pe,fontFamily:De||Qe.fontFamily,fontSize:S.FP.fromPoint(Fe),fontWeight:Qe.fontWeight};return{width:P.b.measureSvgTextWidth(rt),height:P.b.estimateSvgTextHeight(rt)}},Me.prototype.checkWordBreak=function(pe,Fe,De,Qe,rt,lt,Oe){void 0===rt&&(rt=0),void 0===lt&&(lt=!1),void 0===Oe&&(Oe=!1);var ce=P.b.estimateSvgTextHeight(Fe)+rt,fe=Math.max(1,Math.floor(Qe/ce));return(0,h.ql)(pe,Fe,P.b.measureSvgTextWidth,De,fe,null,!1,lt,Oe)},Me.prototype.isLabelContainer=function(pe){return pe&&void 0!==pe.labelContents},Me.prototype.getLeaderLines=function(pe,Fe,De){return pe.select(this.linesGraphicsContextClass.selector).selectAll("polyline").data(Fe,De)},Me.prototype.drawLabelContainerContent=function(pe){var Fe=this,De=pe.selectAll(w).data(function(ce){return[ce]}),rt=De.enter().append("text").merge(De).attr("x",function(ce){return function(fe){if(0===fe.labelOrientation)return Fe.horizontalLabelBackgroundPadding/2;var oe=fe.boundingBox.width/-2+k.uM/2;return fe.hasBackground?oe+k.d1/2:oe}(ce)}).style("text-anchor",function(ce){return ce.textAnchor}).classed(R,!0);rt.selectAll("tspan").remove();var lt=rt.interrupt().selectAll(u).data(function(ce){return Fe.computeTspanData(ce)},function(ce){return ce.label.role}),Oe=lt.enter().append("tspan").merge(lt);Oe.interrupt().attr("x",function(ce){return ce.x}).attr("y",function(ce){return ce.y}).attr("dx",function(ce){return ce.dx}).attr("dy",function(ce){return ce.dy}).text(function(ce){return ce.label.text}).styles(function(ce){return(0,F.E_)(ce.label.fontProperties)}).style("fill-opacity",function(ce){var fe;return null!==(fe=1-ce.label.transparency)&&void 0!==fe?fe:0}).classed(d,!0),De.exit().remove(),lt.exit().remove(),Oe.exit().remove()},Me.prototype.removeDuplicateLabels=function(pe){for(var Fe=[],De={},Qe=0,rt=pe;Qe<rt.length;Qe++){var lt=rt[Qe];if(c.fF.assertValue(lt,"dataPoint"),null!=lt){var Oe=lt,fe=De[Oe.text];fe?this.sameParentIsInArray(Oe,fe,1===Oe.parentType)||(Fe.push(Oe),fe.push(Oe.parentShape)):(Fe.push(Oe),De[Oe.text]=[Oe.parentShape])}}return Fe},Me.prototype.removeDuplicateContainers=function(pe){var Fe=this,De=new Set,Qe=new Set;return pe.filter(function(rt){var lt=rt.labelDataPointContents.map(function(ce){return ce.text}).join("|"),Oe=1===rt.parentType;return!(De.has(lt)&&Fe.sameParentIsInArray(rt,Array.from(Qe),Oe)||(De.add(lt),Qe.add(rt.parentShape),0))})},Me.prototype.computeTspanData=function(pe){var Fe=this,De=pe.labelContents.sort(function(oe,Ce){return Fe.roleSortOrder[oe.role]-Fe.roleSortOrder[Ce.role]}),rt=pe.hasBackground?0===pe.labelOrientation?k.d1:this.horizontalLabelBackgroundPadding:0,lt=1===De.length,Oe="MultiLine"===pe.contentLayout,fe=Oe?-1*(rt+(De.length>2?0===pe.labelOrientation?(De.length-1)*k.i1:k.i1:0)):0,ae=function(Ce){var he=fe+Ce.textSize.height+k.i1;return fe=he,he},te=function(Ce){return 0===pe.labelOrientation?rt:Ce.textSize.width/-2};return De.map(function(oe,Ce){return Oe&&!lt?{x:te(oe),y:Ce>0?ae(De[Ce-1]):fe,label:oe,dx:null,dy:null,id:Ce}:{x:null,y:0,label:oe,dx:Ce>0?k.uM:rt,dy:".35em",id:Ce}})},Me.prototype.drawLabelContainerBackground=function(pe,Fe){var De=pe.selectAll(W).data(function(ce){return[ce]}),Qe=De.enter().insert("rect","text").classed(X,!0).merge(De),rt=2*k.d1,lt=2*this.horizontalLabelBackgroundPadding,Oe=new Map;Qe.interrupt().filter(function(ce){return ce.hasBackground}).each(function(ce){var fe=0,ae=0;"MultiLine"===ce.contentLayout?(fe=0===ce.labelOrientation?ce.boundingBox.width+rt:ce.boundingBox.width+lt,ae=0===ce.labelOrientation?ce.boundingBox.height+lt:ce.boundingBox.height+rt):(fe=0===ce.labelOrientation?ce.boundingBox.height+lt:ce.boundingBox.width+lt,ae=0===ce.labelOrientation?ce.boundingBox.width+rt:ce.boundingBox.height+rt),Oe.set(ce.identity.getKey(),{calculatedWidth:fe,calculatedHeight:ae})}).attr("rx",this.labelBackgroundRounding).attr("ry",this.labelBackgroundRounding).attr("width",function(ce){return Oe.get(ce.identity.getKey()).calculatedWidth}).attr("height",function(ce){return Oe.get(ce.identity.getKey()).calculatedHeight}).attr("x",function(ce){return 0===ce.labelOrientation?0:Oe.get(ce.identity.getKey()).calculatedWidth/-2}).attr("y",function(ce){return Oe.get(ce.identity.getKey()).calculatedHeight/-2}).style("fill",function(ce){return ce.backgroundColor}).style("fill-opacity",function(ce){return 1-ce.backgroundTransparency}),Fe&&this.updateDataLabelSubSelectionAttributes(Qe,function(ce){return ce.hasBackground}),De.exit().remove(),Qe.exit().remove()},Me.prototype.getLabelY2ndLine=function(pe){return pe.boundingBox.top+(void 0!==pe.text?pe.boundingBox.height/2:pe.boundingBox.height)},Me.prototype.getSeriesLabelX=function(pe){return pe.boundingBox.left+(pe.hasBackground?this.horizontalLabelBackgroundPadding:0)},Me.prototype.getSeriesLabelY=function(pe){var Fe=0;return pe.wordBreak||(Fe=(pe.boundingBox.height+2*k.d1)/4),pe.boundingBox.top-Fe},Me.prototype.getSeriesLabelFormattedText=function(pe,Fe,De,Qe){var rt=k.bN,lt={text:pe,fontFamily:De||rt.fontFamily,fontSize:S.FP.fromPoint(Fe),fontWeight:rt.fontWeight};return P.b.getTailoredTextOrDefault(lt,Qe)},Me.prototype.getSeriesLabelWidth=function(pe){c.fF.assertValue(pe,"textElement");var Fe=P.b.getSvgMeasurementProperties(pe);return P.b.measureSvgTextWidth(Fe,pe.textContent)},Me.prototype.seriesWordBreak=function(pe,Fe,De,Qe){for(var rt=d3.select(pe),lt=P.b.estimateSvgTextHeight(De),Oe=Math.min(Fe.length,2),ce=0,fe=0;fe<Oe;fe++){De.text=Fe[fe],Fe.length>2&&fe&&(De.text=Fe[fe].concat("..."));var ae=P.b.getTailoredTextOrDefault(De,Qe);rt.append("tspan").attr("id","wordWrap".concat(Fe[fe])).attrs({x:0,dy:fe?lt:this.nonNumericVerticalOffset}).text(ae);var te=P.b.measureSvgTextWidth(De,ae);ce=te>ce?te:ce}return ce},Me.prototype.animateLabelBackground=function(pe,Fe,De,Qe,rt){var lt=this,Oe=_.filter(Fe,function(ae){return ae.hasBackground}),ce=pe.selectAll("rect").data(Oe,this.labelKeyFunction),fe=ce.enter().append("rect").style("fill-opacity",0).merge(ce);return fe.transition().ease(rt).duration(De).attrs({x:function(te){return te.boundingBox.left-lt.horizontalLabelBackgroundPadding},y:function(te){return te.boundingBox.top-k.d1},rx:this.labelBackgroundRounding,ry:this.labelBackgroundRounding,width:function(te){return te.boundingBox.width+2*lt.horizontalLabelBackgroundPadding},height:function(te){return void 0===te.text&&void 0===te.secondRowText?0:te.boundingBox.height+2*k.d1}}).style("fill",function(ae){return ae.backgroundColor}).style("fill-opacity",function(ae){return 1-ae.backgroundTransparency}),ce.exit().transition().duration(De).style("fill-opacity",0).remove(),fe},Me.prototype.drawDefaultSeriesLabels=function(pe,Fe,De,Qe,rt,lt,Oe,ce,fe){var ae=this,te={transform:function(Vt){var Tt=rt?ae.horizontalSeriesLabelPadding:-ae.horizontalSeriesLabelPadding,zt=ae.getSeriesLabelX(Vt)+Tt,Kt="translate(".concat(zt,",").concat(ae.getLabelY(Vt),")");return 0===Vt.labelOrientation?"".concat(Kt,"rotate(-90)"):Kt},dy:this.nonNumericVerticalOffset},oe=pe.selectAll(O).data(De,this.labelKeyFunction),Ce=oe.enter().append("text").classed(L,!0).merge(oe);fe&&Ce.classed(A.cy,!0).attr(A.Ez,"series-labels").attr(A.CK,"Visual_SeriesLabels").attr(A.QZ,1);var he=[],Le=0;Ce.interrupt().text(function(ct){return lt?ct.text:ae.getSeriesLabelFormattedText(ct.text,ct.fontProperties&&ct.fontProperties.size?ct.fontProperties.size.pt:void 0,ct.fontProperties?ct.fontProperties.family:void 0,Qe)}).attrs(te).styles(function(ct){return(0,F.E_)(ct.fontProperties)}).styles({"text-anchor":rt?"start":"end","white-space":"pre"});var Je=Ce.nodes();if(lt)for(var ot=P.b.estimateSvgTextHeight(k.bN),Ft=ce+ot+(Oe.height-ot-ce)/2,vt=0,Mt=Je;vt<Mt.length;vt++){c.fF.assertValue(xe=Mt[vt],"textElement");var Ee=xe.textContent,Ze=P.b.getSvgMeasurementProperties(xe);xe.textContent=null;var be=this.checkWordBreak(Ee,Ze,Qe,Oe.height-Ft,void 0,!0,!0),Ve=this.seriesWordBreak(xe,be,Ze,Qe);De[Le].hasBackground&&he.push(Ve),Le++}else for(var We=0,qe=Je;We<qe.length;We++){var xe=qe[We];De[Le].hasBackground&&he.push(this.getSeriesLabelWidth(xe)),Le++}oe.exit().remove();var mt=_.filter(De,function(ct){return ct.hasBackground}),et=Fe.selectAll("rect");return(et=et.data(mt,this.labelKeyFunction)).enter().append("rect").merge(et).attr("transform",function(ct,Vt){var Tt=ct.boundingBox.left;return rt||(Tt-=he[Vt]),"translate(".concat(Tt+=rt?ae.horizontalSeriesLabelPadding:-ae.horizontalSeriesLabelPadding,",").concat(ae.getSeriesLabelY(ct),")")}).attr("rx",this.labelBackgroundRounding).attr("ry",this.labelBackgroundRounding).attr("width",function(ct,Vt){return he[Vt]+2*ae.horizontalLabelBackgroundPadding}).attr("height",function(ct){return void 0===ct.text&&void 0===ct.secondRowText?0:ct.boundingBox.height+2*k.d1}).style("fill",function(ct){return ct.backgroundColor}).style("fill-opacity",function(ct){return 1-ct.backgroundTransparency}),et.exit().remove(),Ce},Me.prototype.getLabelContainerX=function(pe){return pe.boundingBox.left+pe.boundingBox.width/2},Me.prototype.getLabelContainerY=function(pe){var De=0===pe.labelOrientation?pe.boundingBox.height:pe.boundingBox.height/2;return pe.wordBreak&&(De=pe.boundingBox.height/2),pe.boundingBox.top+De},Me.prototype.getLabelX=function(pe){var Fe=0===pe.labelOrientation;return pe.boundingBox.left+(Fe?pe.boundingBox.width:pe.boundingBox.width/2)-(pe.hasBackground&&Fe?this.horizontalLabelBackgroundPadding:0)},Me.prototype.getLabelY=function(pe){var Fe=0===pe.labelOrientation,De=Fe?pe.boundingBox.height/2:pe.boundingBox.height,Qe=pe.hasBackground&&!Fe?k.d1:0;return pe.wordBreak&&(De=pe.boundingBox.height/2,Qe=-k.d1),pe.boundingBox.top+De-Qe},Me.prototype.labelKeyFunction=function(pe,Fe){return pe.key?pe.key:pe.identity?pe.identity.getKeyWithoutHighlight():Fe},Me.prototype.getLabelX2ndLine=function(pe){return pe.boundingBox.left+pe.boundingBox.width/2},Me.prototype.updateDataLabelSubSelectionAttributes=function(pe,Fe){pe.classed(A.cy,function(De){return Fe(De)}).attr(A.Ez,function(De){return Fe(De)?De.isCategory?"category-labels":De.isTotal?"total-labels":"data-labels":null}).attr(A.CK,function(De){return Fe(De)?De.isTotal?"Visual_DataTotalLabels":"Visual_DataPointsLabels":null}).attr(A.QZ,function(De){return Fe(De)?1:null})},Me}(),ee=function(){function Me(pe,Fe){if(this.noPrecision=!0,0===Fe.displayUnits){var De=pe.formatter;if(this.units=De&&De.displayUnit&&De.displayUnit.value,null==Fe.precision){this.noPrecision=!1;var Qe=De&&De.options;if(Qe&&Qe.precision)this.precisionForAxis=pe.formatter.options.precision+1;else{var rt=pe.axis.tickValues();rt&&rt.length&&(this.precisionForAxis=(0,b.Gv)(rt[0],rt.length>1?rt[1]:void 0,10*(this.units||1),Qe&&Qe.format))}}}}return Me.prototype.getPrecision=function(pe,Fe){if(!this.noPrecision){if(this.units)return this.precisionForAxis;if(!pe)return Fe&&Fe.integer?0:this.precisionForAxis}},Me}(),le=v(8239),Se=null,we=!1;function Pe(Me){Se=null==Me?void 0:Me.labelEnhancementsM0,we=!0}function ze(Me){var pe;return!we&&null==Me&&c.fF.assertFail("DataLabelRendererResolver must be initialized before use."),(null!==(pe=null==Me?void 0:Me.labelEnhancementsM0)&&void 0!==pe?pe:Se)?(Ne||(Ne=new J),Ne):(Ae||(Ae=new Xe),Ae)}var Xe=function(){function Me(){}return Me.prototype.animateDefaultLabels=function(pe,Fe,De,Qe,rt,lt){return(0,l.Xc)(pe,Fe,De,Qe,rt,lt)},Me.prototype.animateLabelsAndBackgrounds=function(pe){return(0,l.Bf)(pe)},Me.prototype.checkWordBreak=function(pe,Fe,De,Qe,rt,lt,Oe){return(0,l.W1)(pe,Fe,De,Qe,rt,lt,Oe)},Me.prototype.createColumnFormatterCacheManager=function(){return(0,l.fI)()},Me.prototype.drawDefaultLabels=function(pe){return(0,l.x5)(pe)},Me.prototype.drawLabelBackground=function(pe){return(0,l.ng)(pe)},Me.prototype.drawLabelsAndBackgrounds=function(pe){return(0,l.gm)(pe)},Me.prototype.drawSeriesLabelsAndBackgrounds=function(pe){return(0,l.Sw)(pe)},Me.prototype.getDataLabelLayoutOptions=function(pe){return(0,l.n8)(pe)},Me.prototype.getLabelFormattedText=function(pe,Fe,De){return(0,le.Bw)(pe,Fe,De)},Me.prototype.getLabelUnitAndPrecisionForAxis=function(pe,Fe){return(0,l.d6)(pe,Fe)},Me.prototype.getNumberOfLabelsToRender=function(pe,Fe,De,Qe){return(0,l.SS)(pe,Fe,De,Qe)},Me.prototype.getTextSize=function(pe,Fe,De){return(0,l.y3)(pe,Fe,De)},Me.prototype.removeDuplicates=function(pe){return(0,l.R1)(pe)},Me.prototype.drawLabelLeaderLines=function(pe,Fe,De,Qe){return(0,l.z8)(pe,Fe,De,Qe)},Me.prototype.removeContainerContent=function(){throw new Error("Method not implemented.")},Me.prototype.removeContainerBackground=function(){throw new Error("Method not implemented.")},Me.prototype.drawLabelContainer=function(pe){throw new Error("Method not implemented.")},Me}()},8239:function(ie,ve,v){v.d(ve,{AO:function(){return F},B8:function(){return k},Bw:function(){return d},Cn:function(){return z},DU:function(){return u},Jk:function(){return R},ML:function(){return G},Sm:function(){return f},U$:function(){return w},UA:function(){return b},Vv:function(){return T},h5:function(){return N},hY:function(){return Y},hm:function(){return m},nU:function(){return j},t$:function(){return D},wT:function(){return E}});var c=v(3188),l=v(8955),n=v(563),g=v(910),V=v(390),P=v(7935),S=v(4540),h=v(5051);function D(y){return l.fF.assertValue(y.categoricalDataReader,"DataLabelUtil - determineDataLabelFillColor - categoricalDataReader"),y.categoricalDataReader.labels.labelFillColorReader.getDataLabelFillColor(y)}function b(y){return l.fF.assertValue(y.categoricalDataReader,"DataLabelUtil - determineDataLabelTitleFillColor - categoricalDataReader"),y.categoricalDataReader.labels.labelFillColorReader.getDataLabelTitleFillColor(y)}function N(y){return l.fF.assertValue(y.categoricalDataReader,"DataLabelUtil - determineDataLabelDetailFillColor - categoricalDataReader"),y.categoricalDataReader.labels.labelFillColorReader.getDataLabelDetailFillColor(y)}function f(y){return l.fF.assertValue(y.categoricalDataReader,"DataLabelUtil - determineCategoryLabelFillColor - categoricalDataReader"),y.categoricalDataReader.labels.labelFillColorReader.getCategoryLabelFillColor(y)}function F(y){return l.fF.assertValue(y.categoricalDataReader,"DataLabelUtil - determineTotalLabelFillColor - categoricalDataReader"),y.categoricalDataReader.labels.labelFillColorReader.getTotalLabelFillColor(y)}function k(y){return"Default"!==y.colorSource}function Y(y,M,L,O,H,Q){void 0===Q&&(Q=!1),(M&&(O&&H.enableDetailDataLabel||!H.enableDetailDataLabel&&(H.enableTitleDataLabel||H.enableValueDataLabel))||L&&H.enableValueDataLabel||!H.enableValueDataLabel&&(H.enableTitleDataLabel||H.enableDetailDataLabel))&&y.setWarnings([new h.x7])}function j(y,M,L,O,H,Q){var X=null==y?void 0:y.value,W=null==y?void 0:y.formatString;if("number"==typeof X){var J=O.getPrecision(!!W,H.type);X=d(M.getOrCreate(W,L,O.units,J,Q).format(X))}return X instanceof Date&&(L.displayUnits=void 0,X=W?d(M.getOrCreate(W,L,void 0,void 0,Q).format(X)):V.dx.formatValue(X,"d")),X}function G(y){return y.some(function(M){return function(y){return y&&void 0!==y.labelContents}(M)})}function E(y,M){var L;if(M)for(var H=d3.select(y).datum().identity,Q=0,X=M;Q<X.length;Q++){var W=X[Q];if(null!==(L=null==W?void 0:W.identity)&&void 0!==L&&L.includes(H))return W.identity.getSelectorsByColumn()}}function T(y,M){return M.color!==y&&(M=(0,S.ED)(M,{color:y})),M}function m(y,M,L){var O=(0,c.pi)((0,c.pi)((0,c.pi)({},M),L),{data:[(0,g.Ue)(1)]});return y?O:M}function z(y,M,L){var O;return L?O=null:y&&(O=M),O}function R(y){return l.fF.assertValue(y.categoricalDataReader,"DataLabelUtil - extractDynamicLabel - categoricalDataReader"),y.categoricalDataReader.labels.dynamicLabelReader.getDynamicLabel(y)}function w(y){var M,L,O,H=y.cartesianDataPoint,Q=y.labelDataPoint,X=y.enableValueDataLabel,W=y.seriesName,J=y.hostServices,ee=y.isStacked100,le=y.percentOfTotal,Ne=y.formattersCache,Ae=y.currentSeries,Se=y.currentAxisProperties,we=y.valueShowBlankAs,Pe=y.wrapLabelContent,ze=[];if(!_.isEmpty(H.appendedLabelContents))for(var Xe=0,Me=H.appendedLabelContents;Xe<Me.length;Xe++){var pe=Me[Xe],Fe=pe.labelSettings,De=void 0,Qe=null==Fe?void 0:Fe.fontProperties,rt=0;if("Detail"===pe.role){var lt=void 0;if(ee&&"Percent of total"===Fe.detailContentType){var Oe=J.getLocalizedString("Percentage");lt=V.dx.formatValue(le,Oe)}else{var ce=(0,c.pi)((0,c.pi)({},Fe),{precision:Fe.detailLabelPrecision,displayUnits:Fe.detailLabelDisplayUnits}),fe=(0,P.d6)(Se,ce);lt=j(pe.dynamicLabel,Ne,ce,fe,Ae,pe.role)}De=null!=lt?lt:null!==(M=null==Fe?void 0:Fe.detailShowBlankAs)&&void 0!==M?M:"",Qe=null==pe?void 0:pe.labelSettings.detailFontProperties,rt=null==Fe?void 0:Fe.detailTransparency}if("Title"===pe.role){if("Custom"===Fe.titleContentType){var ae=(0,c.pi)((0,c.pi)({},Fe),{precision:Fe.titleLabelPrecision,displayUnits:Fe.titleLabelDisplayUnits}),te=(fe=(0,P.d6)(Se,ae),j(pe.dynamicLabel,Ne,ae,fe,Ae,pe.role));De=null!=te?te:null!==(L=null==Fe?void 0:Fe.titleShowBlankAs)&&void 0!==L?L:""}else De=W;rt=null==Fe?void 0:Fe.titleTransparency,Qe=pe.labelSettings.titleFontProperties}var oe=B(Qe,De),Ce={text:De,outsideFill:y.getOutsideLabelFill(pe),insideFill:y.getInsideLabelFill(pe),fontProperties:Qe,transparency:rt,textSize:oe,role:pe.role};ze.push(Ce)}X&&ze.push({text:null!==(O=Q.text)&&void 0!==O?O:we,outsideFill:Q.outsideFill,insideFill:Q.insideFill,fontProperties:Q.fontProperties,textSize:Q.textSize,transparency:Q.transparency,role:"Value"});var he=(0,c.pi)((0,c.pi)({},Q),{labelDataPointContents:ze,contentLayout:"SingleLine"});return Pe&&ze.forEach(function(Le){var Je=Le.text;Le.text=function(y,M,L){var O=y.text,H=L.some(function(X){return"Value"===X.role&&null!=X.text}),Q=L.length>1;switch(y.role){case"Title":O="SingleLine"===M&&O&&(H||Q)?"".concat(O,":"):O;break;case"Detail":O=O&&Q&&H?"(".concat(O,")"):O;break;case"Value":break;default:l.fF.assertFail("Unexpected label role")}return O}(Le,he.contentLayout,ze),Je!==Le.text&&(Le.textSize=B(Le.fontProperties,Le.text))}),he}function B(y,M){var L=(0,S.qk)(y,M);return{width:n.b.measureSvgTextWidth(L),height:n.b.estimateSvgTextHeight(L,!0)}}function d(y,M,L){return L?L.format(y):V.dx.formatValue(y,M)}function u(y,M,L,O,H){return y.labelEnhancementsM0||y.measureDrivenDataLabels?H?M:M?!L:1!==O:M&&!H}},4407:function(ie,ve,v){v.d(ve,{$_:function(){return Oe},AR:function(){return Ne},Ej:function(){return Se},FJ:function(){return le},Gv:function(){return X},JA:function(){return ut},RC:function(){return Xe},S9:function(){return R},WD:function(){return ae},WW:function(){return be},XQ:function(){return Ze},ZL:function(){return y},Zu:function(){return Tt},bT:function(){return we},dH:function(){return Vt},eR:function(){return et},fI:function(){return W},kL:function(){return rt},lJ:function(){return ce},lw:function(){return Qe},oA:function(){return L},pJ:function(){return O},td:function(){return Je},u9:function(){return M},vc:function(){return Pe},ww:function(){return ee},y3:function(){return J}});var c=v(3188),l=v(7777),n=v(8955),g=v(563),V=v(4996),P=v(6274),S=v(6023),h=v(1598),D=v(910),b=v(390),N=v(7094),f=v(5834),F=v(931),A=v(8970),k=v(8871),Y=v(2328),j=v(460),G=v(2180),I=v(8239),E=v(4540),T=v(5210),m=v(6602),z=v(1345),R=function(re){return re[re.variant=0]="variant",re[re.text=1]="text",re[re.number=2]="number",re[re.DateTime=3]="DateTime",re}({}),y=((0,l.CH)("labels"),(0,l.CH)("lines"),(0,l.CH)("data-labels"),(0,l.CH)("line-label"),(0,l.CH)("labelGroupGraphicsContext"),(0,l.CH)("labelGraphicsContext")),M=(0,l.CH)("labelBackgroundGraphicsContext"),L=(0,l.CH)("labelSeriesGraphicsContext"),O=(0,l.CH)("labelSeriesBackgroundGraphicsContext"),H="\u0591-\u07ff\u200f\u202b\u202e\ufb1d-\ufdfd\ufe70-\ufefc",Q=new RegExp("^[^".concat(H,"]*?[").concat(H,"]"));function X(re){return function(re){var ge={text:re.formatter?re.formatter.format(re.label):b.dx.formatValue(re.label,re.format),fontFamily:re.fontProperties.family?re.fontProperties.family:j.bN.fontFamily,fontSize:S.FP.fromPoint(re.fontProperties.size.pt),fontWeight:j.bN.fontWeight};return g.b.getTailoredTextOrDefault(ge,re.maxWidth?re.maxWidth:j.Vr)}({label:re.label,maxWidth:re.maxWidth,format:re.format,formatter:re.formatter,fontProperties:re.fontProperties?re.fontProperties:void 0})}function W(){return new Y.R}function J(re,ge){return(0,G.U2)().getTextSize(re,ge&&ge.size?ge.size.pt:void 0,ge?ge.family:void 0)}function ee(re,ge,Be,Ke,Ye){var it,He,nt,pt,Bt,xt;if(void 0===Ke&&(Ke=(0,V.Ue)()),void 0===Ye&&(Ye=!1),re){var yt=k.v.create(Ke);void 0!==re.showByDefault&&(ge.showByDefault=re.showByDefault),void 0!==re.show&&(ge.show=re.show),void 0!==re.showSeries&&(ge.show=re.showSeries),void 0!==re.valueCustomFormatString&&(ge.valueCustomFormatString=re.valueCustomFormatString),void 0!==re.labelPrecision&&(ge.precision=re.labelPrecision>=0?re.labelPrecision:j.NZ),void 0!==re.percentageLabelPrecision&&(ge.percentagePrecision=re.percentageLabelPrecision>=0?re.percentageLabelPrecision:j.Qc);var Pt=void 0!==re.bold?re.bold:ge.bold,Wt=void 0!==re.italic?re.italic:ge.italic,ur=void 0!==re.underline?re.underline:ge.underline;ge.fontProperties={color:yt.getColorForPropertyNameWithDefaultColor(re,"color",ge.fontProperties.color),size:void 0!==re.fontSize?z.B.createFromPt(+re.fontSize):ge.fontProperties.size,family:void 0!==re.fontFamily?re.fontFamily:ge.fontProperties.family,weight:Pt?l.en:l.AI,style:Wt?l.BF:l.AI,textDecoration:ur?l.f0:l.zu},ge.bold=Pt,ge.italic=Wt,ge.underline=ur,void 0!==re.showAll&&(ge.showLabelPerSeries=re.showAll),void 0!==re.labelStyle?ge.labelStyle=re.labelStyle:void 0!==re.funnelLabelStyle&&(ge.labelStyle=re.funnelLabelStyle),void 0!==re.labelOrientation&&(ge.labelOrientation=Be?re.labelOrientation:ge.labelOrientation),re.labelPosition&&(ge.position=re.labelPosition),void 0!==re.labelOverflow&&(ge.labelOverflow=re.labelOverflow);var nr=!1;void 0!==re.enableBackground&&(ge.enableBackground=re.enableBackground,nr=re.enableBackground),(re.backgroundColor||nr)&&(ge.backgroundColor=yt.getColorForPropertyName(re,"backgroundColor",j.lp)),null!=re.backgroundTransparency?ge.backgroundTransparency=re.backgroundTransparency/100:nr&&(ge.backgroundTransparency=Ye?j.r_:j.BS),void 0!==re.preserveWhitespace&&(ge.preserveWhitespace=re.preserveWhitespace),void 0!==re.showPositiveAndNegative&&(ge.showPositiveAndNegative=re.showPositiveAndNegative),void 0!==re.showDynamicLabels&&(ge.showDynamicLabels=re.showDynamicLabels),void 0!==re.dynamicLabelValue&&(ge.dynamicLabelValue=re.dynamicLabelValue),void 0!==re.leaderLines&&(ge.leaderLines=re.leaderLines),void 0!==re.minimumOffset&&(ge.minimumOffset=re.minimumOffset),void 0!==re.maximumOffset&&(ge.maximumOffset=re.maximumOffset),void 0!==re.enableTitleDataLabel&&(ge.enableTitleDataLabel=re.enableTitleDataLabel),void 0!==re.enableValueDataLabel&&(ge.enableValueDataLabel=re.enableValueDataLabel),void 0!==re.enableDetailDataLabel&&(ge.enableDetailDataLabel=re.enableDetailDataLabel);var Qt=void 0!==re.titleBold?re.titleBold:ge.titleBold,hr=void 0!==re.titleItalic?re.titleItalic:ge.titleItalic,Zt=void 0!==re.titleUnderline?re.titleUnderline:ge.titleUnderline;ge.titleFontProperties={color:yt.getColorForPropertyNameWithDefaultColor(re,"titleColor",null===(it=ge.titleFontProperties)||void 0===it?void 0:it.color),size:void 0!==re.titleFontSize?z.B.createFromPt(+re.titleFontSize):null===(He=ge.titleFontProperties)||void 0===He?void 0:He.size,family:void 0!==re.titleFontFamily?re.titleFontFamily:null===(nt=ge.titleFontProperties)||void 0===nt?void 0:nt.family,weight:Qt?l.en:l.AI,style:hr?l.BF:l.AI,textDecoration:Zt?l.f0:l.zu},ge.titleBold=Qt,ge.titleItalic=hr,ge.titleUnderline=Zt,void 0!==re.showBlankAs&&(ge.showBlankAs=re.showBlankAs),void 0!==re.transparency&&(ge.transparency=re.transparency/100),void 0!==re.wordWrap&&(ge.wordWrap=re.wordWrap),void 0!==re.titleContentType&&(ge.titleContentType=re.titleContentType),void 0!==re.titleTransparency&&(ge.titleTransparency=re.titleTransparency/100),void 0!==re.titleLabelDisplayUnits&&(ge.titleLabelDisplayUnits=re.titleLabelDisplayUnits),void 0!==re.titleCustomFormatString&&(ge.titleCustomFormatString=re.titleCustomFormatString),void 0!==re.titleLabelPrecision&&(ge.titleLabelPrecision=re.titleLabelPrecision),void 0!==re.titleShowBlankAs&&(ge.titleShowBlankAs=re.titleShowBlankAs),void 0!==re.titleFontFamily&&(ge.titleFontFamily=re.titleFontFamily),void 0!==re.titleFontSize&&(ge.titleFontSize=re.titleFontSize),void 0!==re.titleColor&&(ge.titleColor=re.titleColor);var Dt=void 0!==re.detailBold?re.detailBold:ge.detailBold,rr=void 0!==re.detailItalic?re.detailItalic:ge.detailItalic,lr=void 0!==re.detailUnderline?re.detailUnderline:ge.detailUnderline;ge.detailFontProperties={color:yt.getColorForPropertyNameWithDefaultColor(re,"detailColor",null===(pt=ge.detailFontProperties)||void 0===pt?void 0:pt.color),size:void 0!==re.detailFontSize?z.B.createFromPt(+re.detailFontSize):null===(Bt=ge.detailFontProperties)||void 0===Bt?void 0:Bt.size,family:void 0!==re.detailFontFamily?re.detailFontFamily:null===(xt=ge.detailFontProperties)||void 0===xt?void 0:xt.family,weight:Dt?l.en:l.AI,style:rr?l.BF:l.AI,textDecoration:lr?l.f0:l.zu},ge.detailBold=Dt,ge.detailItalic=rr,ge.detailUnderline=lr,void 0!==re.detailColor&&(ge.detailColor=re.detailColor),void 0!==re.detailFontSize&&(ge.detailFontSize=re.detailFontSize),void 0!==re.detailFontFamily&&(ge.detailFontFamily=re.detailFontFamily),void 0!==re.detailTransparency&&(ge.detailTransparency=re.detailTransparency/100),void 0!==re.detailShowBlankAs&&(ge.detailShowBlankAs=re.detailShowBlankAs),void 0!==re.dynamicLabelDetail&&(ge.dynamicLabelDetail=re.dynamicLabelDetail),void 0!==re.detailLabelDisplayUnits&&(ge.detailLabelDisplayUnits=re.detailLabelDisplayUnits),void 0!==re.detailCustomFormatString&&(ge.detailCustomFormatString=re.detailCustomFormatString),void 0!==re.detailLabelPrecision&&(ge.detailLabelPrecision=re.detailLabelPrecision),void 0!==re.detailContentType&&(ge.detailContentType=re.detailContentType),void 0!==re.labelDisplayUnits&&(ge.displayUnits=re.labelDisplayUnits)}}function le(re,ge,Be,Ke){if(void 0===Ke&&(Ke=!1),re){var Ye=k.v.create(Be);void 0!==re.showByDefault&&(ge.showByDefault=re.showByDefault),void 0!==re.show&&(ge.show=re.show),void 0!==re.seriesColor&&(ge.seriesColor=Ye.getColorForPropertyNameWithDefaultColor(re,"seriesColor",re.seriesColor));var it=void 0!==re.bold?re.bold:ge.bold,He=void 0!==re.italic?re.italic:ge.italic,nt=void 0!==re.underline?re.underline:ge.underline;ge.fontProperties={size:void 0!==re.textSize?z.B.createFromPt(+re.textSize):ge.fontProperties.size,family:void 0!==re.seriesFontFamily?re.seriesFontFamily:ge.fontProperties.family,weight:it?l.en:l.AI,style:He?l.BF:l.AI,textDecoration:nt?l.f0:l.zu},void 0!==re.showAll&&(ge.showLabelPerSeries=re.showAll),re.seriesPosition&&(ge.seriesPosition=re.seriesPosition),re.seriesWordWrap&&(ge.seriesWordWrap=re.seriesWordWrap),re.seriesMaximumWidth&&(ge.seriesMaximumWidth=re.seriesMaximumWidth,ge.defaultSeriesWidth=null);var pt=!1;void 0!==re.enableBackground&&(ge.enableBackground=re.enableBackground,pt=re.enableBackground),(re.backgroundColor||pt)&&(ge.backgroundColor=Ye.getColorForPropertyName(re,"backgroundColor",j.lp)),null!=re.backgroundTransparency?ge.backgroundTransparency=re.backgroundTransparency/100:pt&&(ge.backgroundTransparency=Ke?j.r_:j.BS),void 0!==re.bold&&(ge.bold=re.bold),void 0!==re.italic&&(ge.italic=re.italic),void 0!==re.underline&&(ge.underline=re.underline)}}function Ne(re,ge,Be,Ke,Ye){void 0===Ke&&(Ke=(0,V.Ue)()),void 0===Ye&&(Ye=!1),ee(re,ge,Be,Ke,Ye),re&&void 0!==re.labelDensity&&(ge.labelDensity=re.labelDensity)}function Ae(re){return Q.test(re)}function Se(re,ge){re=re?re.filter(function(Ye){return null!=Ye&&Ye.length>0}):[],ge=ge||"";for(var Be=[];re.length>0;){var Ke=re.shift();Be.length>0&&Ae(Be[Be.length-1])&&!Ae(Ke)&&(Be[Be.length-1]="".concat(Be[Be.length-1],"\u200e")),Be.push(Ke)}return Be.join(ge)}function we(re){var ge=re.labelColor,Be=re.fontSize,Ke=re.fontFamily,Ye=re.textClassName,it=re.style||(0,V.Ue)(),He=!!re.show,nt=!!re.preserveWhitespace,pt=!!re.noColor,Bt=it&&!pt&&k.v.getThemeColor(it,j.uQ),xt=(0,E.ED)(j.bL,{size:Be?z.B.createFromPt(Be):void 0,family:Ke,color:!pt&&(ge||Bt)}),yt=(0,m.m)(it,Ye,pt),Pt=(0,E.ED)(xt,yt),Wt={show:He,showByDefault:!0,position:0,displayUnits:0,valueCustomFormatString:j.M3,precision:j.NZ,fontProperties:Pt,titleFontProperties:Pt,detailFontProperties:Pt,bold:!1,italic:!1,underline:!1,transparency:0,wordWrap:!1,titleBold:!1,titleItalic:!1,titleUnderline:!1,titleTransparency:0,titleLabelDisplayUnits:0,titleCustomFormatString:j.M3,titleLabelPrecision:j.NZ,detailBold:!1,detailItalic:!1,detailUnderline:!1,detailTransparency:0,detailLabelDisplayUnits:0,detailCustomFormatString:j.M3,detailLabelPrecision:j.NZ};return Object.defineProperties(Wt,{preserveWhitespace:{value:nt,writable:!0}}),Wt}function Pe(re,ge){void 0===re&&(re=(0,V.Ue)());var Be=k.v.getThemeColor(re,j.uQ),Ke=(0,E.ED)(j.bL,{color:Be}),Ye=(0,m.m)(re,ge);return{show:!1,position:0,displayUnits:0,precision:j.NZ,fontProperties:(0,E.ED)(Ke,Ye),bold:!1,italic:!1,underline:!1}}function ze(re){switch(re){case F.aT:return F.YK.data;case F.oN:return F.YK.percentOfFirst;case F.r2:return F.YK.percentOfPrevious;case F.MS:return F.YK.dataAndPercentOfFirst;case F.mN:return F.YK.dataAndPercentOfPrevious;default:return n.fF.assertFail("Unexpected labelStyle: ".concat(re)),F.YK.data}}function Xe(re){switch(re){case A.aT:return A.YK.data;case A.aQ:return A.YK.percent;case A.f3:return A.YK.categoryAndData;case A.ev:return A.YK.categoryAndPercent;case A.qv:return A.YK.dataAndPercent;case A._q:return A.YK.categoryAndDataAndPercent;case A.W3:return A.YK.category;default:return n.fF.assertFail("Unexpected labelStyle: ".concat(re)),A.YK.category}}function Qe(re,ge,Be,Ke){n.fF.assertValue(re,"options"),n.fF.assertValue(re.enumeration,"enumeration");var Ye=re.style?re.style:(0,V.Ue)();if(re.dataLabelsSettings){var He,nt,it={objectName:Ke&&Ke.objectName||"labels",selector:re.selector,properties:{},propertyInstanceKind:{color:re.selector?1:3}};if(re.show&&re.selector?it.properties.showSeries=re.dataLabelsSettings.show:re.show&&(it.properties.show=re.dataLabelsSettings.show),re.labelStyle&&(it.properties.labelStyle=re.dataLabelsSettings.labelStyle,He=Xe(re.dataLabelsSettings.labelStyle)),re.funnelLabelStyle&&(it.properties.funnelLabelStyle=re.dataLabelsSettings.labelStyle,nt=ze(re.dataLabelsSettings.labelStyle)),it.properties.color=re.dataLabelsSettings.fontProperties.color||k.v.getThemeColor(Ye,j.uQ),re.displayUnits&&(it.properties.labelDisplayUnits=re.dataLabelsSettings.displayUnits),re.precision&&He&&(0,h.yE)(He,A.nO)||re.precision&&nt&&(0,h.yE)(nt,F.nO)||re.precision&&!He){var pt=re.dataLabelsSettings.precision;it.properties.labelPrecision=pt===j.NZ?null:pt,ct(it,"labelPrecision",{numberRange:{min:0,max:j.vo}})}if(re.percentagePrecision&&He&&(0,h.yE)(He,A.tG)||re.percentagePrecision&&nt&&(0,h.yE)(nt,F.r0)||(0,h.yE)(nt,F.CR)||re.percentagePrecision&&!He){var xt=re.dataLabelsSettings.percentagePrecision;it.properties.percentageLabelPrecision=xt===j.Qc?null:xt,ct(it,"percentageLabelPrecision",{numberRange:{min:0,max:j.vo}})}if(re.labelOrientation&&(it.properties.labelOrientation=re.dataLabelsSettings.labelOrientation),re.position&&(it.properties.labelPosition=re.dataLabelsSettings.position,re.positionObject&&ct(it,"labelPosition",re.positionObject)),re.labelOverflow&&(it.properties.labelOverflow=re.dataLabelsSettings.labelOverflow),re.fontSize&&(it.properties.fontSize=re.dataLabelsSettings.fontProperties.size.pt,re.fontSizeRange)&&ct(it,"fontSize",{numberRange:{min:re.dataLabelsSettings.minFontSize,max:re.dataLabelsSettings.maxFontSize}}),re.fontFamily&&(it.properties.fontFamily=re.dataLabelsSettings.fontProperties.family||T.rk),re.bold&&(it.properties.bold=re.dataLabelsSettings.bold||!1),re.italic&&(it.properties.italic=re.dataLabelsSettings.italic||!1),re.underline&&(it.properties.underline=re.dataLabelsSettings.underline||!1),re.labelDensity){var Pt=re.dataLabelsSettings;Pt&&(it.properties.labelDensity=Pt.labelDensity)}if(null!=re.enableBackground&&(it.properties.enableBackground=re.enableBackground),re.enableBackground&&(it.properties.backgroundColor=re.backgroundColor,it.properties.backgroundTransparency=Math.round(100*re.backgroundTransparency)),re.preserveWhitespace&&(it.properties.preserveWhitespace=re.dataLabelsSettings.preserveWhitespace),re.showPositiveAndNegative&&(it.properties.showPositiveAndNegative=re.dataLabelsSettings.showPositiveAndNegative),ge&&ge.measureDrivenDataLabels&&(it.properties.showDynamicLabels=re.dataLabelsSettings.showDynamicLabels,re.dynamicLabelValue&&(it.properties.dynamicLabelValue=re.dataLabelsSettings.dynamicLabelValue)),re.leaderLines&&(it.properties.leaderLines=re.dataLabelsSettings.leaderLines,it.properties.minimumOffset=re.dataLabelsSettings.minimumOffset,it.properties.maximumOffset=re.dataLabelsSettings.maximumOffset),re.showAll&&(it.properties.showAll=!!re.dataLabelsSettings.showLabelPerSeries),Be)for(var Wt in Be)it.properties[Wt]=Be[Wt];return Ke&&Ke.propertyInstanceKind&&(it.propertyInstanceKind=Ke.propertyInstanceKind),re.enumeration.pushInstance(it)}}function rt(re){return{color:{objectName:re,propertyName:"color"},displayUnits:{objectName:re,propertyName:"labelDisplayUnits"},fontFamily:{objectName:re,propertyName:"fontFamily"},fontSize:{objectName:re,propertyName:"fontSize"},position:{objectName:re,propertyName:"labelPosition"},percentagePrecision:{objectName:re,propertyName:"percentageLabelPrecision"},precision:{objectName:re,propertyName:"labelPrecision"},show:{objectName:re,propertyName:"show"},labelStyle:{objectName:re,propertyName:"labelStyle"},bold:{objectName:re,propertyName:"bold"},italic:{objectName:re,propertyName:"italic"},underline:{objectName:re,propertyName:"underline"}}}function lt(re,ge,Be){void 0===Be&&(Be="Desktop_FileMenu_Options");var Ke=re.options,Ye=re.dataLabelsProps,it=re.omitGroupDisplayNames,nt=re.selector,pt=re.hostServices,Bt=re.featureSwitches,xt=Ke.dataLabelsSettings,yt=ge||re.cardBuilder;ge&&ge.addSimpleSlice("showSeries",new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.showSeries),{selector:nt}),value:xt.show}).build(),function(Pt){return Pt.withDisabled(!nt).withCustomDisplayName("Visual_Show_Data_Labels")}),yt.addGroup("options",function(Pt){var Wt;it||Pt.withDisplayName(Be),!ge&&nt&&Ke.show&&Pt.addSimpleSlice("showSeries",new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.showSeries),{selector:nt}),value:xt.show}).build(),function(Zt){return Zt.withDisabled(!nt).withCustomDisplayName("Visual_Show_Data_Labels")}),Ye.labelOrientation&&Pt.addSimpleSlice("labelOrientation",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},Ye.labelOrientation),{selector:nt}),value:xt.labelOrientation}).build(),function(Zt){return Zt.withCustomDisplayName("Visual_LabelOrientation").withDisabled(!!nt)});var ur=Ye.labelPosition||Ye.position;if(ur){var nr=Ke.positionObject?Ke.positionObject:void 0;Pt.addSimpleSlice("position",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},ur),{selector:nt}),value:null!==(Wt=xt.position)&&void 0!==Wt?Wt:nr.length>0?nr[0]:"Auto",filterValues:nr}).build(),function(Zt){return Zt.withCustomDisplayName("Visual_Position")})}if(Ye.overflow&&Pt.addSimpleSlice("overflow",new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.overflow),{selector:nt}),value:xt.overflow}).build(),function(Zt){return Zt.withDisabled(xt&&xt.position===f.SX)}),Ye.labelStyle&&Pt.addSimpleSlice("labelContents",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},Ye.labelStyle),{selector:nt}),value:xt.labelStyle}).build(),function(Zt){return Zt.withCustomDisplayName("Visual_LabelContents")}),Ye.labelDensity&&Ke.labelDensity){var Qt=Ke.dataLabelsSettings;Qt&&Pt.addSimpleSlice("labelDensity",P.JN.getTransparencySliderBuilder({descriptor:(0,c.pi)((0,c.pi)({},Ye.labelDensity),{selector:nt}),value:Qt.labelDensity,localize:function(Dt){return pt.getLocalizedString(Dt)}}).build(),function(Zt){return Zt.withCustomDescription("Visual_LabelDensity_Description")})}if(Bt.leaderLinesAndOffset&&Ye.leaderLines&&Ke.leaderLines&&Pt.addSimpleSlice("leaderLines",new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.leaderLines),{selector:nt}),value:xt.leaderLines}).build()),Bt.leaderLinesAndOffset&&Ye.minimumOffset&&Ke.leaderLines&&Pt.addSimpleSlice("minimumOffset",new P.JN({descriptor:(0,c.pi)((0,c.pi)({},Ye.minimumOffset),{selector:nt}),value:xt.minimumOffset,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100}},localize:function(Dt){return pt.getLocalizedString(Dt)}}).build()),Bt.leaderLinesAndOffset&&Ye.maximumOffset&&Ke.leaderLines){var hr=xt.minimumOffset;xt.maximumOffset=hr>=xt.maximumOffset?hr:xt.maximumOffset,Pt.addSimpleSlice("maximumOffset",new P.JN({descriptor:(0,c.pi)((0,c.pi)({},Ye.maximumOffset),{selector:nt}),value:xt.maximumOffset,options:{minValue:{type:0,value:hr},maxValue:{type:1,value:200}},localize:function(Dt){return pt.getLocalizedString(Dt)}}).build())}})}function Oe(re,ge,Be,Ke){void 0===Be&&(Be="Role_DisplayName_Values"),void 0===Ke&&(Ke=!1);var it=re.cardBuilder;ge&&(it=ge),it.addGroup("values",function(He){return ce(He,re,Be,Ke),He.build()})}function ce(re,ge,Be,Ke){void 0===Be&&(Be="Role_DisplayName_Values"),void 0===Ke&&(Ke=!1);var Pt,Wt,Ye=ge.options,it=ge.featureSwitches,He=ge.dataLabelsProps,nt=ge.omitGroupDisplayNames,pt=ge.selector,Bt=ge.repetitionSelector,xt=ge.displayDisabledSlices,yt=Ye.dataLabelsSettings;Ye.labelStyle&&(Pt=Xe(yt.labelStyle)),Ye.funnelLabelStyle&&(Wt=ze(yt.labelStyle));var ur=Ye.style?Ye.style:(0,V.Ue)();if(nt||re.withDisplayName(Be),Ke)re.withDisabled(!0,void 0);else{(He.fontFamily||He.fontSize)&&re.addCompositeSlice("font","Font",function(){var de=new P.UN;if(Ye.fontFamily&&He.fontFamily&&de.withFontFamily({descriptor:(0,c.pi)((0,c.pi)({},He.fontFamily),{selector:pt}),value:yt.fontProperties.family||T.rk}),Ye.fontSize&&He.fontSize){var ne={descriptor:(0,c.pi)((0,c.pi)({},He.fontSize),{selector:pt}),value:yt.fontProperties.size.pt};Ye.fontSizeRange&&(ne.options={minValue:{type:0,value:yt.minFontSize},maxValue:{type:1,value:yt.maxFontSize}}),de.withFontSizeProperties(ne)}return Ye.bold&&He.bold&&de.withBold({descriptor:(0,c.pi)((0,c.pi)({},He.bold),{selector:pt}),value:yt.bold}),Ye.italic&&He.italic&&de.withItalic({descriptor:(0,c.pi)((0,c.pi)({},He.italic),{selector:pt}),value:yt.italic}),Ye.underline&&He.underline&&de.withUnderline({descriptor:(0,c.pi)((0,c.pi)({},He.underline),{selector:pt}),value:yt.underline}),de.build()}),He.matchSeriesColor&&re.addSimpleSlice("matchSeriesColor",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},He.matchSeriesColor),{selector:pt}),value:Ye.matchSeriesColor}).build()}),He.color&&re.addSimpleSlice("color",function(){var de={value:yt.fontProperties.color||k.v.getThemeColor(ur,j.uQ)},ne=fe(ge);return new P.BT({descriptor:(0,c.pi)((0,c.pi)({},He.color),{selector:(0,I.hm)(ge.individualSelector,pt,Bt),instanceKind:ne,altConstantValueSelector:(0,I.Cn)(ge.individualSelector,pt,ge.includeAltConstantValueSelector)}),value:de}).build()},function(de){return de.withDisabled(Ye.matchSeriesColor)}),He.background&&re.addSimpleSlice("background",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},He.background),{selector:pt}),value:yt.enableBackgroundWithAuto}).build(),function(de){return de.withDisabled(yt&&yt.position===f.SX)});var nr=He.labelDisplayUnits||He.displayUnits;Ye.displayUnits&&void 0!==Ye.dataLabelsSettings.displayUnits&&nr&&re.addSimpleSlice("displayUnits",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},nr),{selector:pt}),value:yt.displayUnits}).build(),function(de){return de.withAliasName("Decimal")});var Qt=He.labelPrecision||He.precision;if(Ye.precision&&Pt&&(0,h.yE)(Pt,A.nO)||Ye.precision&&Wt&&(0,h.yE)(Wt,F.nO)||Ye.precision&&!Pt&&Qt){var hr=yt.precision;re.addSimpleSlice("precision",function(){return new P.mu({descriptor:(0,c.pi)((0,c.pi)({},Qt),{selector:pt}),value:hr===j.NZ?null:hr,options:{minValue:{type:0,value:0},maxValue:{type:1,value:j.vo}}}).build()})}if(Ye.percentagePrecision&&Pt&&(0,h.yE)(Pt,A.tG)||Ye.percentagePrecision&&Wt&&(0,h.yE)(Wt,F.r0)||(0,h.yE)(Wt,F.CR)||Ye.percentagePrecision&&!Pt&&He.percentagePrecision){var Zt=yt.percentagePrecision;re.addSimpleSlice("percentagePrecision",function(){return new P.mu({descriptor:(0,c.pi)((0,c.pi)({},He.percentagePrecision),{selector:pt}),value:Zt===j.Qc?null:Zt,options:{minValue:{type:0,value:0},maxValue:{type:1,value:j.vo}}}).build()},function(de){return de.withCustomDisplayName("Visual_PercentagePrecision")})}Ye.wordWrap&&He.wordWrap&&re.addSimpleSlice("wordWrap",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},He.wordWrap),{selector:pt}),value:yt.wordWrap}).build()},function(de){return de.withCustomDisplayName("TextWrap")}),Ye.preserveWhitespace&&He.preserveWhitespace&&re.addSimpleSlice("preserveWhitespace",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},He.preserveWhitespace),{selector:pt}),value:yt.preserveWhitespace}).build()});var Dt=xt&&!!xt.labelOverflow;if((Ye.labelOverflow&&He.labelOverflow||Dt)&&re.addSimpleSlice("labelOverflow",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},He.labelOverflow),{selector:pt}),value:Dt?void 0:yt.labelOverflow}).build()},function(de){return de.withDisabled(Ke||Dt).withCustomDescription("Visual_DataLabel_OverflowDescription")}),Ye.showPositiveAndNegative&&He.showPositiveAndNegative&&re.addSimpleSlice("showPositiveAndNegative",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},He.showPositiveAndNegative),{selector:pt}),value:yt.showPositiveAndNegative}).build()}),!it.labelEnhancementsM0&&it.measureDrivenDataLabels&&He.showDynamicLabels){var rr=yt.showDynamicLabels&&Ye.enableDynamicLabelPickers||!1;He.showDynamicLabels&&re.addSimpleSlice("showDynamicLabels",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},He.showDynamicLabels),{selector:pt}),value:yt.showDynamicLabels}).build()},function(de){return de.withCustomDescription("Visual_ShowCustomLabel")});var lr=ge.omitDynamicLabelSelector?void 0:(0,c.pi)((0,c.pi)({},pt),{data:[(0,D.Ue)(1)],highlightMatching:1}),yr={propertyName:He.dynamicLabelValue.propertyName,objectName:He.dynamicLabelValue.objectName,selector:lr,instanceKind:2,propertyTypes:{text:!0}};re.addSimpleSlice("dynamicLabelValue",function(){return new P.k0({descriptor:yr,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,validators:{field:{kind:1}}}).build()},function(de){return de.withDisabled(!rr)})}}}function fe(re){return null!=re.instanceKind?re.instanceKind:re.individualSelector?3:1}function ae(re){var ge,Be;return!(!re.hasCategories||re.hasSeriesSelector&&re.hasDynamicSeries||null===(ge=re.featureSwitches)||void 0===ge||!ge.conditionalFormattingDataLabels||(null===(Be=re.featureSwitches)||void 0===Be||!Be.categoricalSecondaryCF)&&re.hasDynamicSeries)}function oe(re){return function(re,ge){for(var Be=0,Ke=ge;Be<Ke.length;Be++)if(Ke[Be]===re)return!0;return!1}(re,[R.number,R.variant])}function Le(re,ge){var Ye=re.cardBuilder;ge&&(Ye=ge),null!=re.options.enableBackground&&Ye.addGroup("background",function(it){Je(it,re)})}function Je(re,ge,Be){var Ke=ge.options,Ye=ge.hostServices,it=ge.dataLabelsProps,He=ge.selector;Be?re.addSimpleSlice("enableBackground",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},it.enableBackground),{selector:He}),value:Ke.enableBackground}).build()}):re.withDisplayName("Visual_Background").addTopLevelToggle("enableBackground",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},it.enableBackground),{selector:He}),value:Ke.enableBackground}).build()}),re.addSimpleSlice("backgroundColor",new P.BT({descriptor:(0,c.pi)((0,c.pi)({},it.backgroundColor),{selector:He}),value:{value:Ke.backgroundColor}}).build(),function(pt){Be?pt.withDisabled(!Ke.enableBackground):pt.withCustomDisplayName("Generic_Color")}).addSimpleSlice("backgroundTransparency",P.JN.getTransparencySliderBuilder({descriptor:(0,c.pi)((0,c.pi)({},it.backgroundTransparency),{selector:He}),value:Math.round(100*Ke.backgroundTransparency),localize:function(Bt){return Ye.getLocalizedString(Bt)}}).build(),function(pt){return pt.withDisabled(Be&&!Ke.enableBackground)})}function ot(re,ge,Be,Ke){void 0===Be&&(Be="Title"),void 0===Ke&&(Ke=!1);var it=re.cardBuilder;ge&&(it=ge),it.addGroup("title",function(He){return function(re,ge,Be,Ke){var Ye;void 0===Be&&(Be="Title"),void 0===Ke&&(Ke=!1);var it=ge.options,He=ge.dataLabelsProps,nt=ge.omitGroupDisplayNames,pt=ge.selector,Bt=ge.repetitionSelector,xt=ge.hostServices,yt=it.dataLabelsSettings,Pt=it.style?it.style:(0,V.Ue)();if(nt||re.withDisplayName(Be).addTopLevelToggle("enableTitleDataLabel",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},He.enableTitleDataLabel),{selector:pt}),value:yt.enableTitleDataLabel}).build()}),Ke)re.withDisabled(!0,void 0);else{if(He.titleContentType&&re.addSimpleSlice("titleContentType",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},He.titleContentType),{selector:pt}),value:yt.titleContentType||"Series name"}).build()),He.dynamicLabelTitle&&"Custom"===yt.titleContentType){var ur=ge.omitDynamicLabelSelector?void 0:(0,c.pi)((0,c.pi)({},pt),{data:[(0,D.Ue)(1)],highlightMatching:1});re.addSimpleSlice("dynamicLabelTitle",new P.k0({descriptor:{propertyName:He.dynamicLabelTitle.propertyName,objectName:He.dynamicLabelTitle.objectName,selector:ur,instanceKind:2,propertyTypes:{text:!0}},value:void 0,unwrapExprOnGet:!0,validators:{field:{kind:1}}}).build(),function(rr){return rr.withCustomDisplayName("Data").withDisabled(!it.enableDynamicLabelPickers)})}if((He.titleFontFamily||He.titleFontSize)&&re.addCompositeSlice("titleFont","Font",function(){var rr=new P.UN;if(it.fontFamily&&He.titleFontFamily&&rr.withFontFamily({descriptor:(0,c.pi)((0,c.pi)({},He.titleFontFamily),{selector:pt}),value:yt.titleFontProperties.family||T.rk}),it.fontSize&&He.titleFontSize){var lr={descriptor:(0,c.pi)((0,c.pi)({},He.titleFontSize),{selector:pt}),value:yt.titleFontProperties.size.pt};it.fontSizeRange&&(lr.options={minValue:{type:0,value:yt.minFontSize},maxValue:{type:1,value:yt.maxFontSize}}),rr.withFontSizeProperties(lr)}return it.bold&&He.titleBold&&rr.withBold({descriptor:(0,c.pi)((0,c.pi)({},He.titleBold),{selector:pt}),value:yt.titleBold}),it.italic&&He.titleItalic&&rr.withItalic({descriptor:(0,c.pi)((0,c.pi)({},He.titleItalic),{selector:pt}),value:yt.titleItalic}),it.underline&&He.titleUnderline&&rr.withUnderline({descriptor:(0,c.pi)((0,c.pi)({},He.titleUnderline),{selector:pt}),value:yt.titleUnderline}),rr.build()}),He.titleColor&&re.addSimpleSlice("titleColor",function(){var rr={value:yt.titleFontProperties.color||k.v.getThemeColor(Pt,j.uQ)},lr=fe(ge);return new P.BT({descriptor:(0,c.pi)((0,c.pi)({},He.titleColor),{selector:(0,I.hm)(ge.individualSelector,pt,Bt),instanceKind:lr,altConstantValueSelector:(0,I.Cn)(ge.individualSelector,pt,ge.includeAltConstantValueSelector)}),value:rr}).build()},function(rr){return rr.withDisabled(it.matchSeriesColor)}),He.titleTransparency&&re.addSimpleSlice("titleTransparency",P.JN.getTransparencySliderBuilder({descriptor:(0,c.pi)((0,c.pi)({},He.titleTransparency),{selector:pt}),value:Math.round(100*(null!==(Ye=yt.titleTransparency)&&void 0!==Ye?Ye:0)),localize:function(lr){return xt.getLocalizedString(lr)}}).build()),oe(ge.titleFieldSourceType)&&"Custom"===yt.titleContentType){var Qt=He.titleLabelDisplayUnits,hr=(null==yt?void 0:yt.titleLabelDisplayUnits)===j.In;it.displayUnits&&void 0!==it.dataLabelsSettings.titleLabelDisplayUnits&&Qt&&re.addSimpleSlice("titleLabelDisplayUnits",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},Qt),{selector:pt}),value:yt.titleLabelDisplayUnits}).build(),function(rr){return rr.withAliasName("Decimal").withDisabled(!it.enableDynamicLabelPickers)});var Zt=He.titleLabelPrecision;if(hr)re.addSimpleSlice("titleCustomFormatString",new P.fq({descriptor:(0,c.pi)((0,c.pi)({},He.titleCustomFormatString),{selector:pt,instanceKind:3}),value:yt.titleCustomFormatString,placeholder:"Auto"}).build(),function(rr){return rr.withDisabled(!it.enableDynamicLabelPickers)});else if(it.precision&&Zt){var Dt=yt.titleLabelPrecision;re.addSimpleSlice("titleLabelPrecision",function(){return new P.mu({descriptor:(0,c.pi)((0,c.pi)({},Zt),{selector:pt}),value:Dt===j.NZ?null:Dt,options:{minValue:{type:0,value:0},maxValue:{type:1,value:j.vo}}}).build()},function(rr){return rr.withDisabled(!it.enableDynamicLabelPickers)})}}He.titleShowBlankAs&&re.addSimpleSlice("titleShowBlankAs",new P.fq({descriptor:(0,c.pi)((0,c.pi)({},He.titleShowBlankAs),{selector:pt,instanceKind:1}),value:yt.titleShowBlankAs||"",placeholder:"0"}).build(),function(rr){return rr.withDisabled(!it.enableDynamicLabelPickers)})}}(He,re,Be,Ke),He.build()})}function Ft(re,ge,Be,Ke){void 0===Be&&(Be="Value"),void 0===Ke&&(Ke=!1);var it=re.cardBuilder;ge&&(it=ge),it.addGroup("values",function(He){return function(re,ge,Be,Ke,Ye){var it;void 0===Be&&(Be="Value"),void 0===Ke&&(Ke=!1);var He=ge.options,nt=ge.dataLabelsProps,pt=ge.omitGroupDisplayNames,Bt=ge.selector,xt=ge.repetitionSelector,yt=ge.hostServices,Pt=He.dataLabelsSettings,Wt=He.style?He.style:(0,V.Ue)();if(pt||re.withDisplayName(Be).addTopLevelToggle("enableValueDataLabel",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},nt.enableValueDataLabel),{selector:Bt}),value:Pt.enableValueDataLabel}).build()}),Ke)re.withDisabled(!0,void 0);else{var nr=He.enableDynamicLabelPickers||!1,Qt=ge.omitDynamicLabelSelector?void 0:(0,c.pi)((0,c.pi)({},Bt),{data:[(0,D.Ue)(1)],highlightMatching:1}),hr={propertyName:nt.dynamicLabelValue.propertyName,objectName:nt.dynamicLabelValue.objectName,selector:Qt,instanceKind:2,propertyTypes:{text:!0,variantDeleteEmpty:!0}};re.addSimpleSlice("dynamicLabelValue",function(){return new P.k0({descriptor:hr,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,fallbackExpr:ge.valueLabelPickerFallbackExpr,validators:{field:{kind:1}}}).build()},function(de){return de.withDisabled(!nr)}),(nt.fontFamily||nt.fontSize)&&re.addCompositeSlice("font","Font",function(){var de=new P.UN;if(He.fontFamily&&nt.fontFamily&&de.withFontFamily({descriptor:(0,c.pi)((0,c.pi)({},nt.fontFamily),{selector:Bt}),value:Pt.fontProperties.family||T.rk}),He.fontSize&&nt.fontSize){var ne={descriptor:(0,c.pi)((0,c.pi)({},nt.fontSize),{selector:Bt}),value:Pt.fontProperties.size.pt};He.fontSizeRange&&(ne.options={minValue:{type:0,value:Pt.minFontSize},maxValue:{type:1,value:Pt.maxFontSize}}),de.withFontSizeProperties(ne)}return He.bold&&nt.bold&&de.withBold({descriptor:(0,c.pi)((0,c.pi)({},nt.bold),{selector:Bt}),value:Pt.bold}),He.italic&&nt.italic&&de.withItalic({descriptor:(0,c.pi)((0,c.pi)({},nt.italic),{selector:Bt}),value:Pt.italic}),He.underline&&nt.underline&&de.withUnderline({descriptor:(0,c.pi)((0,c.pi)({},nt.underline),{selector:Bt}),value:Pt.underline}),de.build()}),nt.color&&re.addSimpleSlice("color",function(){var de={value:Pt.fontProperties.color||k.v.getThemeColor(Wt,j.uQ)},ne=fe(ge);return new P.BT({descriptor:(0,c.pi)((0,c.pi)({},nt.color),{selector:(0,I.hm)(ge.individualSelector,Bt,xt),instanceKind:ne,altConstantValueSelector:(0,I.Cn)(ge.individualSelector,Bt,ge.includeAltConstantValueSelector)}),value:de}).build()},function(de){return de.withDisabled(He.matchSeriesColor)}),nt.transparency&&re.addSimpleSlice("transparency",P.JN.getTransparencySliderBuilder({descriptor:(0,c.pi)((0,c.pi)({},nt.transparency),{selector:Bt}),value:Math.round(100*(null!==(it=Pt.transparency)&&void 0!==it?it:0)),localize:function(ne){return yt.getLocalizedString(ne)}}).build(),function(de){return de.withDisabled(undefined)});var Zt=nt.displayUnits;if(oe(ge.valueFieldSourceType)){var Dt=Pt.displayUnits,rr=Dt===j.In;He.displayUnits&&void 0!==He.dataLabelsSettings.displayUnits&&Zt&&re.addSimpleSlice("displayUnits",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},Zt),{selector:Bt}),value:Dt}).build(),function(de){return de.withAliasName("Decimal")});var lr=nt.labelPrecision;if(rr)re.addSimpleSlice("valueCustomFormatString",new P.fq({descriptor:(0,c.pi)((0,c.pi)({},nt.valueCustomFormatString),{selector:Bt,instanceKind:3}),value:Pt.valueCustomFormatString,placeholder:"Auto"}).build(),function(de){return de.withDisabled(!He.enableDynamicLabelPickers)});else if(He.precision&&lr){var yr=Pt.precision;re.addSimpleSlice("precision",function(){return new P.mu({descriptor:(0,c.pi)((0,c.pi)({},lr),{selector:Bt}),value:yr===j.NZ?null:yr,options:{minValue:{type:0,value:0},maxValue:{type:1,value:j.vo}}}).build()})}}nt.showBlankAs&&re.addSimpleSlice("showBlankAs",new P.fq({descriptor:(0,c.pi)((0,c.pi)({},nt.showBlankAs),{selector:Bt,instanceKind:1}),value:Pt.showBlankAs?Pt.showBlankAs:"",placeholder:"0"}).build())}}(He,re,Be,Ke),He.build()})}function Mt(re,ge,Be,Ke){void 0===Be&&(Be="Visual_Label_DetailLabelName"),void 0===Ke&&(Ke=!1);var it=re.cardBuilder;ge&&(it=ge),it.addGroup("detail",function(He){return function(re,ge,Be,Ke,Ye){var it;void 0===Be&&(Be="Visual_Label_DetailLabelName"),void 0===Ke&&(Ke=!1);var He=ge.options,nt=ge.dataLabelsProps,pt=ge.omitGroupDisplayNames,Bt=ge.selector,xt=ge.repetitionSelector,yt=ge.hostServices,Pt=He.dataLabelsSettings,Wt=He.isStacked100,ur=He.style?He.style:(0,V.Ue)();if(pt||re.withDisplayName(Be).addTopLevelToggle("enableDetailDataLabel",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},nt.enableDetailDataLabel),{selector:Bt}),value:Pt.enableDetailDataLabel}).build()}),Ke)re.withDisabled(!0,void 0);else{if(nt.dynamicLabelDetail){var Qt=ge.omitDynamicLabelSelector?void 0:(0,c.pi)((0,c.pi)({},Bt),{data:[(0,D.Ue)(1)],highlightMatching:1}),hr={propertyName:nt.dynamicLabelDetail.propertyName,objectName:nt.dynamicLabelDetail.objectName,selector:Qt,instanceKind:2,propertyTypes:{text:!0,variantDeleteEmpty:!0}};Wt&&re.addSimpleSlice("detailContentType",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},nt.detailContentType),{selector:Bt}),value:Pt.detailContentType||"Custom"}).build(),function(yr){return yr.withCustomDisplayName("Content")}),(!Wt||"Custom"===Pt.detailContentType||null==Pt.detailContentType)&&re.addSimpleSlice("dynamicLabelDetail",function(){return new P.k0({descriptor:hr,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,validators:{field:{kind:1}}}).build()},function(yr){return yr.withCustomDisplayName("Data").withDisabled(!He.enableDynamicLabelPickers)})}if((nt.detailFontFamily||nt.detailFontSize)&&re.addCompositeSlice("detailFont","Font",function(){var yr=new P.UN;if(He.fontFamily&&nt.detailFontFamily&&yr.withFontFamily({descriptor:(0,c.pi)((0,c.pi)({},nt.detailFontFamily),{selector:Bt}),value:Pt.detailFontProperties.family||T.rk}),He.fontSize&&nt.detailFontSize){var de={descriptor:(0,c.pi)((0,c.pi)({},nt.detailFontSize),{selector:Bt}),value:Pt.detailFontProperties.size.pt};He.fontSizeRange&&(de.options={minValue:{type:0,value:Pt.minFontSize},maxValue:{type:1,value:Pt.maxFontSize}}),yr.withFontSizeProperties(de)}return He.bold&&nt.detailBold&&yr.withBold({descriptor:(0,c.pi)((0,c.pi)({},nt.detailBold),{selector:Bt}),value:Pt.detailBold}),He.italic&&nt.detailItalic&&yr.withItalic({descriptor:(0,c.pi)((0,c.pi)({},nt.detailItalic),{selector:Bt}),value:Pt.detailItalic}),He.underline&&nt.detailUnderline&&yr.withUnderline({descriptor:(0,c.pi)((0,c.pi)({},nt.detailUnderline),{selector:Bt}),value:Pt.detailUnderline}),yr.build()}),nt.detailColor&&re.addSimpleSlice("detailColor",function(){var yr={value:Pt.detailFontProperties.color||k.v.getThemeColor(ur,j.uQ)},de=fe(ge);return new P.BT({descriptor:(0,c.pi)((0,c.pi)({},nt.detailColor),{selector:(0,I.hm)(ge.individualSelector,Bt,xt),instanceKind:de,altConstantValueSelector:(0,I.Cn)(ge.individualSelector,Bt,ge.includeAltConstantValueSelector)}),value:yr}).build()},function(yr){return yr.withDisabled(He.matchSeriesColor)}),nt.detailTransparency&&re.addSimpleSlice("detailTransparency",P.JN.getTransparencySliderBuilder({descriptor:(0,c.pi)((0,c.pi)({},nt.detailTransparency),{selector:Bt}),value:Math.round(100*(null!==(it=Pt.detailTransparency)&&void 0!==it?it:0)),localize:function(de){return yt.getLocalizedString(de)}}).build(),function(yr){return yr.withDisabled(undefined)}),oe(ge.detailFieldSourceType)&&"Percent of total"!==Pt.detailContentType){var Zt=nt.detailLabelDisplayUnits,Dt=(null==Pt?void 0:Pt.detailLabelDisplayUnits)===j.In;void 0!==He.dataLabelsSettings.detailLabelDisplayUnits&&Zt&&re.addSimpleSlice("detailDisplayUnits",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},Zt),{selector:Bt}),value:Pt.detailLabelDisplayUnits}).build(),function(yr){return yr.withAliasName("Decimal")});var rr=nt.detailLabelPrecision;if(Dt)re.addSimpleSlice("detailCustomFormatString",new P.fq({descriptor:(0,c.pi)((0,c.pi)({},nt.detailCustomFormatString),{selector:Bt,instanceKind:3}),value:Pt.detailCustomFormatString,placeholder:"Auto"}).build(),function(yr){return yr.withDisabled(!He.enableDynamicLabelPickers)});else if(He.precision&&rr){var lr=Pt.detailLabelPrecision;re.addSimpleSlice("detailLabelPrecision",function(){return new P.mu({descriptor:(0,c.pi)((0,c.pi)({},rr),{selector:Bt}),value:lr===j.NZ?null:lr,options:{minValue:{type:0,value:0},maxValue:{type:1,value:j.vo}}}).build()})}}nt.detailShowBlankAs&&re.addSimpleSlice("detailShowBlankAs",new P.fq({descriptor:(0,c.pi)((0,c.pi)({},nt.detailShowBlankAs),{selector:Bt,instanceKind:1}),value:Pt.detailShowBlankAs||"",placeholder:"0"}).build())}}(He,re,Be,Ke),He.build()})}function Ee(re,ge,Be){void 0===Be&&(Be="Desktop_FileMenu_Options");var Ke=re.options,Ye=re.dataLabelsProps,it=re.omitGroupDisplayNames,nt=re.selector,pt=re.hostServices,Bt=re.featureSwitches,xt=Ke.dataLabelsSettings,yt=ge||re.cardBuilder;ge&&ge.addSimpleSlice("showSeries",new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.showSeries),{selector:nt}),value:xt.show}).build(),function(Pt){return Pt.withDisabled(!nt).withCustomDisplayName("Visual_Show_Data_Labels_PerSeries")}),yt.addGroup("options",function(Pt){var Wt;it||Pt.withDisplayName(Be),!ge&&nt&&Ke.show&&Pt.addSimpleSlice("showSeries",new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.showSeries),{selector:nt}),value:xt.show}).build(),function(Zt){return Zt.withDisabled(!nt).withCustomDisplayName("Visual_Show_Data_Labels_PerSeries")}),Ye.labelOrientation&&Pt.addSimpleSlice("labelOrientation",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},Ye.labelOrientation),{selector:nt}),value:xt.labelOrientation}).build(),function(Zt){return Zt.withCustomDisplayName("Visual_LabelOrientation").withDisabled(!!nt)});var ur=Ye.labelPosition||Ye.position;if(ur){var nr=Ke.positionObject?Ke.positionObject:void 0;Pt.addSimpleSlice("position",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},ur),{selector:nt}),value:null!==(Wt=xt.position)&&void 0!==Wt?Wt:nr.length>0?nr[0]:"Auto",filterValues:nr}).build(),function(Zt){return Zt.withCustomDisplayName("Visual_Position")})}if(Ye.overflow&&Pt.addSimpleSlice("overflow",new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.overflow),{selector:nt}),value:xt.overflow}).build(),function(Zt){return Zt.withDisabled(xt&&xt.position===f.SX)}),Ye.labelStyle&&Pt.addSimpleSlice("labelContents",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},Ye.labelStyle),{selector:nt}),value:xt.labelStyle}).build(),function(Zt){return Zt.withCustomDisplayName("Visual_LabelContents")}),Ye.labelDensity&&Ke.labelDensity){var Qt=Ke.dataLabelsSettings;Qt&&Pt.addSimpleSlice("labelDensity",P.JN.getTransparencySliderBuilder({descriptor:(0,c.pi)((0,c.pi)({},Ye.labelDensity),{selector:nt}),value:Qt.labelDensity,localize:function(Dt){return pt.getLocalizedString(Dt)}}).build(),function(Zt){return Zt.withCustomDescription("Visual_LabelDensity_Description")})}if(Bt.leaderLinesAndOffset&&Ye.leaderLines&&Ke.leaderLines&&Pt.addSimpleSlice("leaderLines",new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.leaderLines),{selector:nt}),value:xt.leaderLines}).build()),Bt.leaderLinesAndOffset&&Ye.minimumOffset&&Ke.leaderLines&&Pt.addSimpleSlice("minimumOffset",new P.mu({descriptor:(0,c.pi)((0,c.pi)({},Ye.minimumOffset),{selector:nt}),value:xt.minimumOffset===j.iX?null:xt.minimumOffset,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100}}}).build()),Bt.leaderLinesAndOffset&&Ye.maximumOffset&&Ke.leaderLines){var hr=xt.minimumOffset;xt.maximumOffset=hr>=xt.maximumOffset?hr:xt.maximumOffset,Pt.addSimpleSlice("maximumOffset",new P.mu({descriptor:(0,c.pi)((0,c.pi)({},Ye.maximumOffset),{selector:nt}),value:xt.maximumOffset===j.WV?null:xt.maximumOffset,placeholderText:"auto",options:{minValue:{type:0,value:hr},maxValue:{type:1,value:200}}}).build())}Ye.labelOverflow&&Pt.addSimpleSlice("labelOverflow",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.labelOverflow),{selector:nt}),value:xt.labelOverflow}).build()},function(Zt){return Zt.withCustomDescription("Visual_DataLabel_OverflowDescription")}),Ye.wordWrap&&Pt.addSimpleSlice("wordWrap",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.wordWrap),{selector:nt}),value:xt.wordWrap}).build()},function(Zt){return Zt.withCustomDisplayName("TextWrap")})})}function Ze(re){var ge=re.options,Be=re.dataLabelsProps,Ke=re.cardBuilder,Ye=re.customDescription,it=re.omitDescription,He=re.featureSwitches;n.fF.assertValue(ge,"options");var nt=ge.dataLabelsSettings;if(nt)return it||Ke.withDescription(Ye||"Visual_DataPointsLabelsDescription"),Be.show&&Ke.addTopLevelToggle("show",function(){return new P.bd({descriptor:Be.show,value:nt.show}).build()}),(Be.position||Be.labelStyle||Be.labelOrientation)&&(He.labelEnhancementsM0&&re.showEnhancedLabelsFormattingOptions?Ee(re):lt(re)),He.labelEnhancementsM0&&re.showEnhancedLabelsFormattingOptions?(Be.enableTitleDataLabel&&ot(re),Be.enableValueDataLabel&&Ft(re),Be.enableDetailDataLabel&&Mt(re)):Oe(re),null!=ge.enableBackground&&Be.enableBackground&&Le(re),Ke.build()}function be(re,ge){var Be=re.options,Ke=re.dataLabelsProps,Ye=re.featureSwitches;n.fF.assertValue(Be,"options"),Be.dataLabelsSettings&&((Ke.position||Ke.labelStyle||Ke.labelOrientation)&&(Ye.labelEnhancementsM0&&re.showEnhancedLabelsFormattingOptions?Ee(re,ge):lt(re,ge)),Ye.labelEnhancementsM0&&re.showEnhancedLabelsFormattingOptions?(Ke.enableTitleDataLabel&&ot(re,ge),Ke.enableValueDataLabel&&Ft(re,ge),Ke.enableDetailDataLabel&&Mt(re,ge)):Oe(re,ge),null!=Be.enableBackground&&Ke.enableBackground&&Le(re,ge))}function et(re,ge){var Be=re.seriesOptions,Ke=re.seriesLabelsProps;n.fF.assertValue(Be,"seriesOptions"),Be.seriesLabelsSettings&&(Ke.seriesPosition&&function(re,ge,Be){void 0===Be&&(Be="Desktop_FileMenu_Options");var Ke=re.seriesOptions,Ye=re.seriesLabelsProps,it=re.omitGroupDisplayNames,nt=re.selector,pt=Ke.seriesLabelsSettings,Bt=re.cardBuilder;ge&&(Bt=ge,ge.addSimpleSlice("showSeries",new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.show),{selector:nt}),value:pt.show}).build(),function(xt){return xt.withDisabled(ge&&!nt)})),Bt.addGroup("options",function(xt){it||xt.withDisplayName(Be),ge||xt.addSimpleSlice("showSeries",new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.show),{selector:nt}),value:pt.show}).build(),function(yt){return yt.withDisabled(ge&&!nt)}),void 0!==Ke.seriesMaximumWidth&&xt.addSimpleSlice("seriesMaximumWidth",new P.mu({descriptor:(0,c.pi)((0,c.pi)({},Ye.seriesMaximumWidth),{selector:nt}),value:Ke.defaultSeriesWidth?null:Ke.seriesMaximumWidth,options:{minValue:{type:0,value:j._i},maxValue:{type:1,value:j.NL}}}).build(),function(yt){return yt.withDisabled(!!nt)}),Ye.seriesPosition&&null!=Ke.seriesPosition&&xt.addSimpleSlice("position",new P.uY({descriptor:(0,c.pi)((0,c.pi)({},Ye.seriesPosition),{selector:nt}),value:Ke.seriesPosition}).build(),function(yt){return yt.withDisabled(!!nt)})})}(re,ge),function(re,ge,Be){void 0===Be&&(Be="Role_DisplayName_Values");var Ke=re.seriesOptions,Ye=re.seriesLabelsProps,it=re.cardBuilder,He=re.omitGroupDisplayNames,nt=re.selector,pt=Ke.seriesLabelsSettings,Bt=Ke.style?Ke.style:(0,V.Ue)(),xt=it;ge&&(xt=ge),xt.addGroup("values",function(yt){He||yt.withDisplayName(Be),(Ye.seriesFontFamily||Ye.seriesFontSize)&&yt.addCompositeSlice("font","Font",function(){var Pt=new P.UN;if(Ke.fontFamily&&Ye.seriesFontFamily&&Pt.withFontFamily({descriptor:(0,c.pi)((0,c.pi)({},Ye.seriesFontFamily),{selector:nt}),value:pt.fontProperties.family||T.rk}),Ke.fontSize&&Ye.textSize){var Wt={descriptor:(0,c.pi)((0,c.pi)({},Ye.textSize),{selector:nt}),value:pt.fontProperties.size.pt};Ke.fontSizeRange&&(Wt.options={minValue:{type:0,value:pt.minFontSize},maxValue:{type:1,value:pt.maxFontSize}}),Pt.withFontSizeProperties(Wt).withBold({descriptor:(0,c.pi)((0,c.pi)({},Ye.bold),{selector:nt}),value:pt.bold}).withItalic({descriptor:(0,c.pi)((0,c.pi)({},Ye.italic),{selector:nt}),value:pt.italic}).withUnderline({descriptor:(0,c.pi)((0,c.pi)({},Ye.underline),{selector:nt}),value:pt.underline})}return Pt.build()}),Ye.seriesColor&&yt.addSimpleSlice("seriesColor",function(){var Pt={value:pt.seriesColor||k.v.getThemeColor(Bt,j.uQ)};return new P.BT({descriptor:(0,c.pi)((0,c.pi)({},Ye.seriesColor),{selector:nt}),value:Pt}).build()}),Ye.seriesWordWrap&&null!=Ke.seriesWordWrap&&!Ke.selector&&yt.addSimpleSlice("seriesWordWrap",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.seriesWordWrap),{selector:nt}),value:Ke.seriesWordWrap}).build()})})}(re,ge),null!=Be.enableBackground&&Ke.enableBackground&&function(re,ge){var Be=re.seriesOptions,Ke=re.hostServices,Ye=re.seriesLabelsProps,He=re.selector,nt=function(xt){return Ke.getLocalizedString(xt)},pt=re.cardBuilder;ge&&(pt=ge),null!=Be.enableBackground&&pt.addGroup("background",function(Bt){Bt.withDisplayName("Visual_Background").addTopLevelToggle("enableBackground",function(){return new P.bd({descriptor:(0,c.pi)((0,c.pi)({},Ye.enableBackground),{selector:He}),value:Be.enableBackground}).build()}).addSimpleSlice("backgroundColor",new P.BT({descriptor:(0,c.pi)((0,c.pi)({},Ye.backgroundColor),{selector:He}),value:{value:Be.backgroundColor}}).build()).addSimpleSlice("backgroundTransparency",P.JN.getTransparencySliderBuilder({descriptor:(0,c.pi)((0,c.pi)({},Ye.backgroundTransparency),{selector:He}),value:Math.round(100*Be.backgroundTransparency),localize:nt}).build())})}(re,ge))}function ut(re,ge,Be,Ke){n.fF.assertValue(re,"options"),n.fF.assertValue(re.enumeration,"enumeration");var Ye=re.style?re.style:(0,V.Ue)();if(re.seriesLabelsSettings){var it={objectName:Ke&&Ke.objectName||"seriesLabels",selector:re.selector,properties:{},propertyInstanceKind:{color:re.selector?1:3}};if(re.show&&(it.properties.show=re.seriesLabelsSettings.show),it.properties.seriesColor=re.seriesLabelsSettings.seriesColor||k.v.getThemeColor(Ye,j.uQ),null!=re.seriesPosition&&!re.selector&&(it.properties[N.zK.seriesLabels.seriesPosition.propertyName]=re.seriesPosition),re.fontSize&&(it.properties[N.zK.seriesLabels.textSize.propertyName]=re.seriesLabelsSettings.fontProperties.size.pt,re.fontSizeRange)&&ct(it,N.zK.seriesLabels.textSize.propertyName,{numberRange:{min:re.seriesLabelsSettings.minFontSize,max:re.seriesLabelsSettings.maxFontSize}}),re.fontFamily&&(it.properties[N.zK.seriesLabels.seriesFontFamily.propertyName]=re.seriesLabelsSettings.fontProperties.family||T.rk),re.bold&&(it.properties.bold=re.seriesLabelsSettings.bold||!1),re.italic&&(it.properties.italic=re.seriesLabelsSettings.italic||!1),re.underline&&(it.properties.underline=re.seriesLabelsSettings.underline||!1),null!=re.enableBackground&&(it.properties.enableBackground=re.enableBackground),re.enableBackground&&(it.properties.backgroundColor=re.backgroundColor,it.properties.backgroundTransparency=Math.round(100*re.backgroundTransparency)),null!=re.seriesWordWrap&&!re.selector&&(it.properties[N.zK.seriesLabels.seriesWordWrap.propertyName]=re.seriesWordWrap),null==re.seriesMaximumWidth||re.selector||(it.properties[N.zK.seriesLabels.seriesMaximumWidth.propertyName]=re.defaultSeriesWidth?null:re.seriesMaximumWidth,ct(it,N.zK.seriesLabels.seriesMaximumWidth.propertyName,{numberRange:{min:j._i,max:j.NL}})),re.showAll&&(it.properties.showAll=!!re.seriesLabelsSettings.showLabelPerSeries),Be)for(var pt in Be)it.properties[pt]=Be[pt];return Ke&&Ke.propertyInstanceKind&&(it.propertyInstanceKind=Ke.propertyInstanceKind),re.enumeration.pushInstance(it)}}function ct(re,ge,Be){re.validValues||(re.validValues={}),re.validValues[ge]=Be}function Vt(re,ge,Be,Ke,Ye,it,He,nt){void 0===Ye&&(Ye=!1),void 0===He&&(He=(0,V.Ue)());var pt=ge||Pe(He),xt={objectName:nt&&nt.objectName?nt.objectName:"categoryLabels",selector:null,properties:{}};Be&&(xt.properties.color=pt.categoryLabelColor?pt.categoryLabelColor:pt.fontProperties.color),xt.properties.show=Ye?pt.showCategory:pt.show,xt.properties.fontSize=ge?ge.fontProperties.size.pt:j.Uy,xt.properties.fontFamily=ge?ge.fontProperties.family:j.OW,xt.properties.bold=!!ge&&ge.bold,xt.properties.italic=!!ge&&ge.italic,xt.properties.underline=!!ge&&ge.underline,xt.properties.enableBackground=!!ge&&!!ge.enableBackground,ge&&ge.enableBackground&&(xt.properties.enableBackground=!0,xt.properties.backgroundColor=ge.backgroundColor||k.v.getThemeColor(He,j.lp),xt.properties.backgroundTransparency=null!=ge.backgroundTransparency?Math.round(100*ge.backgroundTransparency):Math.round(100*j.BS)),it&&(xt.properties.fontSize=it),nt&&nt.propertyInstanceKind&&(xt.propertyInstanceKind=nt.propertyInstanceKind),re.pushInstance(xt)}function Tt(re){var ge,Be,Ke,Ye=re.cardName,it=re.isShowCategory,He=re.props,nt=re.revertToDefaultProps,pt=re.showBackground,Bt=re.showValueColor,xt=re.style,yt=re.disabled,Pt=re.disabledReason,Wt=null!==(ge=re.dataLabelSettings)&&void 0!==ge?ge:Pe(xt),ur=new P.CQ(new P.lg("categoryLabels"),Ye,nt,re.localize),Qt=(new P.UN).withFontFamily({descriptor:He.fontFamily,value:null!==(Be=Wt.fontProperties.family)&&void 0!==Be?Be:j.OW}).withFontSizeProperties({descriptor:He.fontSize,value:null!==(Ke=Wt.fontProperties.size.pt)&&void 0!==Ke?Ke:j.Uy}).withBold({descriptor:He.bold,value:Wt.bold}).withItalic({descriptor:He.italic,value:Wt.italic}).withUnderline({descriptor:He.underline,value:Wt.underline}).build();return ur.withDescription("Visual_CategoryLabelOptionsDescription").addTopLevelToggle("show",function(){return new P.bd({descriptor:He.show,value:it?Wt.showCategory:Wt.show}).build()}).addGroup("values",function(hr){var Zt;pt&&hr.withDisplayName("Role_DisplayName_Values"),hr.addCompositeSlice("font","Font",Qt),Bt&&hr.addSimpleSlice("color",new P.BT({descriptor:He.color,value:{value:null!==(Zt=Wt.categoryLabelColor)&&void 0!==Zt?Zt:Wt.fontProperties.color}}).build())}),pt&&ur.addGroup("background",function(hr){var Zt,Dt;hr.withDisplayName("Visual_Background").addTopLevelToggle("show",function(){return new P.bd({descriptor:He.enableBackground,value:Wt.enableBackground}).build()}).addSimpleSlice("color",new P.BT({descriptor:He.backgroundColor,value:{value:null!==(Zt=Wt.backgroundColor)&&void 0!==Zt?Zt:k.v.getThemeColor(xt,j.lp)}}).build()).addSimpleSlice("transparency",P.JN.getTransparencySliderBuilder({descriptor:He.backgroundTransparency,value:Math.round(100*(null!==(Dt=Wt.backgroundTransparency)&&void 0!==Dt?Dt:j.BS)),localize:re.localize}).build())}),yt&&ur.withDisabled(!0,Pt),ur.build()}},9806:function(ie,ve,v){v.d(ve,{Y:function(){return P},h:function(){return V}});var c=v(8955),l=v(272),n=v(390),g=v(460);function V(S,h){if(c.fF.assertAnyValue(h,"format"),S!==g.NZ)return S;if("g"!==h&&"G"!==h){if(h){var D=(0,n.OQ)(h).positive,b=(0,n.rH)(D,!0);if(b.hasDots)return b.optionalPrecision?void 0:b.precision}return g.xy}}function P(S,h,D,b){return{displayUnitSystemType:l.V.DataLabels,format:h,precision:b,value:S.displayUnits,value2:D,allowFormatBeautification:!0}}},3374:function(ie,ve,v){v.d(ve,{K0:function(){return S},XS:function(){return V},kV:function(){return h},n$:function(){return g}});var c=v(8955),l=v(8926),n=v(646);function g(D){return D&&D.categorical&&D.categorical.categories&&D.categorical.categories.length>1}function V(D){if(function(D){if(_.isEmpty(D))return!1;var b=_.some(D,function(N){var f=N.categorical;if(!f)return!1;if(!f.categories)return!1;var A=f.values;return!(!(A&&A.group&&A.group.by)||_.isEmpty(A.group.by.items))});return!b}(D))for(var N=0,f=D;N<f.length;N++){var F=f[N];if(!F.categorical)return;var A=F.categorical.categories;if(!A||!A.dataReductionAlgorithm||!A.dataReductionAlgorithm.window)return;A.dataReductionAlgorithm={window:{count:1e3}}}}function S(D){c.fF.assertNonEmpty(D,"mappings");for(var b=0,N=D;b<N.length;b++)(0,n.Sr)(N[b].categorical.categories,{visitRole:function(k){var Y=k.items;if(!_.isEmpty(Y)&&!_.isEmpty(k.activeItems))for(var G=0,I=_.filter(Y,function(T){return _.includes(k.activeItems,T.queryName)});G<I.length;G++)I[G].filteredToUniqueValueProperty=l.p.filters.filteredToUniqueValue}})}function h(D,b,N){void 0===N&&(N=1);for(var f=function(j){if(!(j&&j.categorical&&j.categorical.categories&&j.metadata))return"continue";var G=j.metadata.columns,I=j.categorical.categories;if(_.some(G,function(E){return void 0!==E.sort}))return"continue";(0,n.Sr)(I,{visitRole:function(T,m){if(_.includes(b,T.role)){var z=T.activeItems;if(!_.isEmpty(z))for(var R=0,w=function(y){var M=_.find(G,function(L){return L.queryName===y});M&&(M.sort=N,M.sortOrder=R++)},B=0,C=z;B<C.length;B++)w(C[B])}}})},F=0,A=D;F<A.length;F++)f(A[F])}},4618:function(ie,ve,v){function c(n){if(n)return!!n.handled}function l(n){n&&(n.handled=!0)}v.d(ve,{n:function(){return l},q:function(){return c}})},4540:function(ie,ve,v){v.d(ve,{ED:function(){return N},E_:function(){return j},JZ:function(){return k},XH:function(){return h},Zi:function(){return D},qk:function(){return F},rL:function(){return f},wB:function(){return A},xH:function(){return I},yx:function(){return G}});var c=v(7777),l=v(8955),n=v(3775),g=v(6023),V=v(4994),P=v(6602),S=v(1345);function h(m,z,R,w,B){var C=b(m,z,R,w,B);return B?N(B,C):C}function D(m,z,R,w,B,C,d,u){var y=b(m,z,R,void 0),M=(0,P.m)(w,C),L=M;if(z.color){var O=R.getColorForPropertyName(m,z.color,B);L=u?N(M,{color:O}):N({color:O},M)}return d&&(L=N(d,L)),L?N(L,y):y}function b(m,z,R,w,B){l.fF.assertValue(z,"propertyNames");var C,d=z.weight&&(0,V.N)(m,z.weight),u=z.style&&(0,V.N)(m,z.style),y=z.underline&&(0,V.N)(m,z.underline);if(z.size){var M=(0,V.N)(m,z.size);null!=M&&(C=z.sizeInPixels?S.B.createFromPx(+M):S.B.createFromPt(+M))}return z.bold&&(d=(0,V.N)(m,z.bold)||(null==B?void 0:B.weight)===c.en?c.en:d),z.italic&&(u=(0,V.N)(m,z.italic)||(null==B?void 0:B.style)===c.BF?c.BF:u),z.underline&&(y=(0,V.N)(m,z.underline)||(null==B?void 0:B.textDecoration)===c.f0?c.f0:y),{color:z.color&&R.getColorForPropertyName(m,z.color,w),family:z.family&&(0,V.N)(m,z.family),lineHeight:z.lineHeight&&(0,V.N)(m,z.lineHeight),size:C,style:u,variant:z.variant&&(0,V.N)(m,z.variant),weight:d,whiteSpace:z.whiteSpace&&(0,V.N)(m,z.whiteSpace),textDecoration:y}}function N(m,z){l.fF.assertValue(m,"fontProperties");var R=(0,n.ED)(m);return z&&((z.color||null===z.color)&&(R.color=z.color),z.family&&(R.family=z.family),z.lineHeight&&(R.lineHeight=z.lineHeight),z.size&&(R.size=z.size),z.style&&(R.style=z.style),z.variant&&(R.variant=z.variant),z.weight&&(R.weight=z.weight),z.whiteSpace&&(R.whiteSpace=z.whiteSpace),z.textDecoration&&(R.textDecoration=z.textDecoration)),R}function f(m,z){return l.fF.assertValue(m,"fontProperties"),j(N(m,z))}function F(m,z,R){return l.fF.assertValue(m,"fontProperties"),R&&(m=G(m)),{text:z,fontFamily:m.family,fontSize:m.size?g.FP.toString(m.size.px):void 0,fontWeight:m.weight,fontStyle:m.style,fontVariant:m.variant,whiteSpace:m.whiteSpace}}function A(m){l.fF.assertValue(m,"fontProperties");var z={};return m.color&&(z.color=m.color),m.family&&(z["font-family"]=m.family),m.lineHeight&&(z["line-height"]=m.lineHeight),m.size&&(z["font-size"]=m.size?g.FP.toString(m.size.px):void 0),m.variant&&(z["font-variant"]=m.variant),m.whiteSpace&&(z["white-space"]=m.whiteSpace),z["font-weight"]=m.weight?m.weight:null,z["font-style"]=m.style?m.style:null,z["text-decoration"]=m.textDecoration?m.textDecoration:null,z}function k(m,z){return l.fF.assertValue(m,"fontProperties"),l.fF.assertValue(z,"element"),function(m,z){l.fF.assertValue(m,"fontProperties"),l.fF.assertValue(z,"style"),m.color&&(z.fill=m.color),m.family&&(z.fontFamily=m.family),m.lineHeight&&(z.lineHeight=m.lineHeight),m.size&&(z.fontSize=m.size?g.FP.toString(m.size.px):void 0),m.style&&(z.fontStyle=m.style),m.variant&&(z.fontVariant=m.variant),m.weight&&(z.fontWeight=m.weight),m.whiteSpace&&(z.whiteSpace=m.whiteSpace)}(m,z.style),z}function j(m){l.fF.assertValue(m,"fontProperties");var z={};return m.color&&(z.fill=m.color),m.family&&(z["font-family"]=m.family),m.lineHeight&&(z["line-height"]=m.lineHeight),m.size&&(z["font-size"]=m.size?g.FP.toString(m.size.px):void 0),m.variant&&(z["font-variant"]=m.variant),m.whiteSpace&&(z["white-space"]=m.whiteSpace),z["font-weight"]=m.weight?m.weight:null,z["font-style"]=m.style?m.style:null,z["text-decoration"]=m.textDecoration?m.textDecoration:null,z}function G(m,z){void 0===z&&(z=0);for(var R={},w=Object.getPrototypeOf({}),B=0;B<=z&&null!=m&&m!==w;B++)_.forOwn(m,function(C,d){void 0===R[d]&&(R[d]=C)}),m=Object.getPrototypeOf(m);return R}function I(m){return G(m,Number.MAX_VALUE)}},356:function(ie,ve,v){v.d(ve,{qo:function(){return C},Po:function(){return j},Aq:function(){return u},NG:function(){return y},sY:function(){return L}});var c=v(7777),l=v(8955),n=v(3599),g=v(2348),V=v(4994),P=v(593),S=v(2323),h=v(7243),D=v(7977),b=v(8871),N="show",f="displayName",F="lineColor",A="confidenceBandStyle",k="transparency",Y="style",j="forecast",T="foregroundDark",m={displayName:"",confidenceBandStyle:S.hl,transparency:80,style:h.SQ},R=(0,c.CH)("forecast-line"),w=(0,c.CH)("forecast-error-range"),B=(0,c.CH)("forecast-line-layer");function C(O,H,Q,X){var W,J;if(l.fF.assertValue(O,"enumeration"),_.isEmpty(H)||(J=H[0]),J){var le=((W={})[N]=J.show,W[f]=J.displayName,W[F]=J.lineColor,W[Y]=J.style,W[A]=J.confidenceBandStyle,W[k]=J.transparency,W);O.pushInstance({selector:J.selector,properties:le,objectName:j})}else{var ee={selector:{id:"0"},properties:{show:!1,lineColor:d(Q),style:m.style,confidenceBandStyle:m.confidenceBandStyle,transparency:m.transparency},objectName:j,disabledReason:X};O.pushInstance(ee)}}function d(O){return{solid:{color:b.v.getThemeColor(O,T)}}}function u(O){if(!O||!O.categorical||!O.categorical.values)return!1;for(var Q=0,X=O.categorical.values.grouped();Q<X.length;Q++)if(_.some(X[Q].values,function(ee){return(0,n.R)(ee,"forecast.ForecastValue")}))return!0;return!1}function y(O,H,Q){if(!(O&&O.categorical&&H&&H.categorical))return[];var X=O.categorical;if(_.isEmpty(X.categories)||_.isEmpty(X.values))return[];var W=(0,P.A8)(X.categories[0]),J=W?_.map(W.values,function(Ze){return Ze.min}):X.categories[0].values,ee=X.values.grouped();if(_.isEmpty(J)||_.isEmpty(ee))return[];var le=(0,n.a2)(ee,"forecast.ForecastValue"),Ne=(0,n.a2)(ee,"forecast.ConfidenceHighBound"),Ae=(0,n.a2)(ee,"forecast.ConfidenceLowBound"),Se=[],we=function(O){var H=[];if(O&&O.categorical&&O.categorical.values){var Q=_.head(O.categorical.values.grouped());if(Q)for(var X=0,W=Q.values;X<W.length;X++){var J=W[X],ee=J.source.queryName,le=(0,g.AO)(J.source.objects,j);H[ee]=le}}return H}(H),Pe=0,ze=b.v.create(Q);for(var Xe in we){var Me=we[Xe];for(var pe in Me){for(var Fe=Me[pe],De=(0,V.N)(Fe,N,!1),Qe=(0,V.N)(Fe,f),rt={solid:{color:ze.getColorForPropertyName(Fe,F,T)}},lt=(0,V.N)(Fe,A,m.confidenceBandStyle),Oe=(0,V.N)(Fe,k,m.transparency),ce=(0,V.N)(Fe,Y,m.style),fe=b.v.create(Q,{objectName:"dataPoint",propertyName:"fill"},d(Q).solid.color),ae=ee[Pe],te=[],oe=ae.values[le].highlights?ae.values[le].highlights:ae.values[le].values,Ce=ae.values[Ne].highlights?ae.values[Ne].highlights:ae.values[Ne].values,he=ae.values[Ae].highlights?ae.values[Ae].highlights:ae.values[Ae].values,Le=0;Le<J.length;Le++){var Je=(0,D.eT)(J[Le]),ot=(0,D.eT)(oe[Le]);if(null!=Je&&null!=ot){var bt=(0,D.eT)(Ce[Le]),Ft=(0,D.eT)(he[Le]);te.push({point:{x:Je,y:ot},upperBound:{x:Je,y:bt},lowerBound:{x:Je,y:Ft}})}}var vt=void 0;if(rt)vt=rt;else if(H.categorical.values.source){var Mt=H.categorical.values.grouped();vt={solid:{color:fe.getColorForSeriesValue(Mt[Pe].objects,H.categorical.values.identityFields,ae.name,T)}}}else vt={solid:{color:fe.getColorForMeasure(H.categorical.values[Pe].source.objects,ae.name,T)}};Se.push({selector:{id:pe,metadata:Xe},points:te,show:De,displayName:Qe,lineColor:vt,confidenceBandStyle:lt,transparency:Oe,style:ce}),Pe++}}return Se}function L(O,H,Q,X,W,J){var ee=H.select(B.selector);ee.empty()&&(ee=H.insert("g",":first-child").classed(B.class,!0));var le=ee.selectAll(w.selector).data(O||[]),Ne=le.enter().insert("path",":first-child").classed(w.class,!0).merge(le);Ne.transition().ease(d3.easeLinear).duration(J).attr("d",function(we){for(var Pe=d3.line().x(function(Qe){return Q(Qe.x)}).y(function(Qe){return X(Qe.y)}),ze=[],Xe=0,Me=we.points.slice().reverse();Xe<Me.length;Xe++)ze.push({x:(pe=Me[Xe]).lowerBound.x,y:pe.lowerBound.y});for(var Fe=0,De=we.points;Fe<De.length;Fe++){var pe;ze.push({x:(pe=De[Fe]).upperBound.x,y:pe.upperBound.y})}return Pe(ze)}),Ne.each(function(we){var Pe=d3.select(this),ze={},Xe=(100-we.transparency)/100;ze["fill-opacity"]=Xe,ze["stroke-opacity"]=Xe,we.confidenceBandStyle===S.hl?(ze.stroke="transparent",ze.fill=we.lineColor.solid.color):we.confidenceBandStyle===S.jv?(ze.stroke=we.lineColor.solid.color,ze.fill="transparent"):we.confidenceBandStyle===S.YP&&(ze.stroke="transparent",ze.fill="transparent"),Pe.styles(ze)}),le.exit().remove();var Ae=ee.selectAll(R.selector).data(O||[]),Se=Ae.enter().append("path").classed(R.class,!0).merge(Ae);Se.transition().ease(d3.easeLinear).duration(J).attr("d",function(we){return d3.line().x(function(ze){return Q(ze.point.x)}).y(function(ze){return X(ze.point.y)})(we.points)}),Se.each(function(we){var Pe=d3.select(this),ze={};ze.stroke=we.lineColor.solid.color,ze.fill="transparent",we.style===h.HA?ze["stroke-dasharray"]="5, 5":we.style===h.ft?(ze["stroke-dasharray"]="1, 5",ze["stroke-linecap"]="round"):we.style===h.SQ&&(ze["stroke-dasharray"]=null,ze["stroke-linecap"]=null),Pe.styles(ze)}),Ae.exit().remove()}},1283:function(ie,ve,v){v.d(ve,{FO:function(){return k},I8:function(){return G},W3:function(){return m},XM:function(){return H},YG:function(){return f},a0:function(){return N},bt:function(){return S},c8:function(){return O},ct:function(){return Q},kW:function(){return u},lt:function(){return D},tn:function(){return X},zV:function(){return y}});var c=v(8836),l=v(5210),n=v(4618);function S(){var W=d3.event;return{x:W.clientX,y:W.clientY}}function D(W,J){W.on("keydown.clearCatcher",function(){var ee=d3.event;67===ee.keyCode&&ee.ctrlKey&&ee.shiftKey&&(J.handleClearSelection(),ee.preventDefault(),ee.stopPropagation())})}function N(W,J){f(W,J),function(W,J){W.on("contextmenu",function(ee){!function(W,J){var ee=d3.event;if(!c.M.isCtrlOrMeta(ee)){ee.preventDefault(),(0,n.n)(ee);var le=S();J.handleContextMenu(W,le)}}(Y(ee)?ee.data:ee,J)})}(W,J)}function f(W,J){W.on("click",function(ee){O(Y(ee)?ee.data:ee,J)}),W.on("keydown.select",function(ee){var le=d3.event,Ne=le.keyCode;32!==Ne&&13!==Ne||(O(Y(ee)?ee.data:ee,J),le.preventDefault(),le.stopPropagation())},!0)}function k(W){(function(W){W.on("click",null),W.on("keydown.select",null)})(W),function(W){W.on("contextmenu",null)}(W)}function Y(W){return!!W.data}function G(W,J,ee){W.on("keydown.dataPoint",function(){var le=d3.event,Ne=le.keyCode;(9===Ne||37===Ne||39===Ne||38===Ne||40===Ne)&&u(function(Ae){le.preventDefault(),le.stopPropagation();var Se=function(W){return!!W.data}(Ae)?Ae.data:Ae;J.handleKeyDownEvent(ee,Se.categoryIndex,Se.seriesIndex,Ne,le.shiftKey)},void 0)})}function m(W,J,ee){W.on("keydown.enterPlotArea",function(){var le=d3.event,Ne=le.keyCode;if(13===Ne)le.preventDefault(),le.stopPropagation(),J.goToFirstElement(ee);else if(27===Ne&&le.target!==W.node()){le.preventDefault(),le.stopPropagation();var Ae=W.node();c.M.focus(Ae)}})}function u(W,J){var ee=d3.event,Ne=d3.select(ee.target).datum();Ne&&(W(Ne),J&&(ee.preventDefault(),ee.stopPropagation()))}function y(W,J,ee,le){W.selectAll("use").remove(),W.append("use").attr("href","#".concat(l.aY,"-").concat(J,"-").concat(ee)).style("pointer-events","none").attr("role",null!=le?le:null).attr("aria-hidden",!0).style("fill","none")}function O(W,J){var ee=S(),le=d3.event;(function(W){W.selectionHandled=!0})(le),J.handleSelection(W,(0,c.D)(le),ee)}function H(W,J){var ee=d3.event;!c.M.isCtrlOrMeta(ee)&&!function(W){return!!W.selectionHandled}(ee)&&(!J||null!=J&&J(ee))&&W.handleClearSelection()}function Q(W,J,ee){var le=0;c.M.isCtrlOrMeta(W)?le=3:W.shiftKey&&(le=1),ee.handleMultipleSelection(J,le,!0)}function X(W,J,ee){ee.handleMultipleSelection(W,J,!0)}},5143:function(ie,ve,v){v.d(ve,{GH:function(){return C},MV:function(){return z},R_:function(){return d},Rh:function(){return w},_m:function(){return u},ph:function(){return T},xX:function(){return B},z9:function(){return m}});var c=v(3188),l=v(8955),n=v(3775),g=v(6274),V=v(6348),P=v(2348),S=v(7094),h=v(591),D=v(7243),b=v(9963),N=v(5210),f=v(7375),F=v(2723),A=V.fd,j=null;function T(y,M,L){return{shadeArea:(0,P.NA)(y,S.zK.lineStyles.shadeArea,!1),strokeWidth:(0,P.NA)(y,S.zK.lineStyles.strokeWidth,N.Bj),lineJoin:(0,P.NA)(y,S.zK.lineStyles.strokeLineJoin,b.LS),style:(0,P.NA)(y,S.zK.lineStyles.lineStyle,D.SQ),markerProperties:M?(0,f.gT)(y,L):(0,f.MV)(),stepped:(0,P.NA)(y,S.zK.lineStyles.stepped,!1),lineChartType:(0,P.NA)(y,S.zK.lineStyles.lineChartType,h.GE)}}function m(y,M,L,O,H){var Q=(0,n.ED)(M),X=(0,f.i)(y,M.markerProperties,L,H,!O);if(Q.markerProperties=X,!y.data.hasSeries()||!O)return Q;var W=y.objects.getSeriesDataObjects(L),J=(0,P.NA)(W,S.zK.lineStyles.strokeWidth);null!=J&&(Q.strokeWidth=J);var ee=(0,P.NA)(W,S.zK.lineStyles.strokeLineJoin);null!=ee&&(Q.lineJoin=ee);var le=(0,P.NA)(W,S.zK.lineStyles.lineStyle);null!=le&&(Q.style=le);var Ne=(0,P.NA)(W,S.zK.lineStyles.shadeArea);null!=Ne&&(Q.shadeArea=Ne);var Ae=(0,P.NA)(W,S.zK.lineStyles.stepped);null!=Ae&&(Q.stepped=Ae);var Se=(0,P.NA)(W,S.zK.lineStyles.lineChartType);return null!=Se&&(Q.lineChartType=Se),Q}function z(){return{strokeWidth:N.Bj,lineJoin:b.LS,style:D.SQ,markerProperties:(0,f.MV)(),shadeArea:!1,stepped:!1,lineChartType:h.GE}}function w(y){var M=y.style,L={selector:A(y.selector),properties:{shadeArea:M.shadeArea,strokeWidth:M.strokeWidth,strokeLineJoin:M.lineJoin},objectName:S.zK.lineStyles.lineStyle.objectName};L.properties[S.zK.lineStyles.lineStyle.propertyName]=M.style,function(y,M){y.properties[S.zK.lineStyles.showMarker.propertyName]=M.showMarker,M.showMarker&&(y.properties[S.zK.lineStyles.markerShape.propertyName]=M.shape,y.properties[S.zK.lineStyles.markerSize.propertyName]=M.size,y.properties[S.zK.lineStyles.markerColor.propertyName]=M.color)}(L,M.markerProperties),L.properties[S.zK.lineStyles.stepped.propertyName]=M.stepped;var O=y.showSeries;null!=O&&(L.properties.showSeries=O),y.enumeration.pushInstance(L)}function B(y,M,L,O){var H=y.styleProps,Q=y.style,X=y.selector;M.addGroup("shape",function(W){W.withDisplayName("Visual_Shape"),H.lineStyle&&W.addSimpleSlice("style",new g.uY({descriptor:(0,c.pi)((0,c.pi)({},S.qn.lineStyles.lineStyle),{selector:X}),value:Q.style}).build()),H.strokeLineJoin&&W.addSimpleSlice("strokeLineJoin",new g.uY({descriptor:(0,c.pi)((0,c.pi)({},S.qn.lineStyles.strokeLineJoin),{selector:X}),value:Q.lineJoin}).build()),H.strokeWidth&&W.addSimpleSlice("strokeWidth",new g.mu({descriptor:(0,c.pi)((0,c.pi)({},S.qn.lineStyles.strokeWidth),{selector:X}),value:Q.strokeWidth,options:{minValue:{type:0,value:0},maxValue:{type:1,value:12},unitSymbol:F.e_}}).build()),W.addSimpleSlice("lineChartType",new g.uY({descriptor:(0,c.pi)((0,c.pi)({},S.qn.lineStyles.lineChartType),{selector:X}),value:Q.lineChartType}).build(),function(J){return J.withDisabled(void 0!==X&&L&&O)})})}function C(y){switch(y){case D.HA:return"5, 5";case D.ft:return"1, 5";case D.SQ:return j;default:return l.fF.assertFail("getStrokeDashArrayFromLineStyle received an unrecognized line style"),j}}function d(y){switch(y){case D.HA:return"7,5";case D.ft:return"2.5,3.1";case D.SQ:return j;default:return l.fF.assertFail("getSrokeDashArrayForLegend received an unrecognized line style"),j}}function u(y){switch(y){case D.HA:case D.SQ:return null;case D.ft:return"round";default:return l.fF.assertFail("getStrokeDashArrayFromLineStyle received an unrecognized line style"),null}}},8364:function(ie,ve,v){v.d(ve,{R:function(){return c}});var c={BingKey:"AoW85FdF-eTJavFmWhZjaQ970kwG1FuainbyVSlP5HglkbhVVIFOyNwlaQxAIj-S",AzureKey:"xfefTl4ZST_fZb9l-IT5EpZqJGKpqQOsHTXeyoi3zeQ"}},628:function(ie,ve,v){v.d(ve,{yV:function(){return Pe},Bz:function(){return Se},jj:function(){return we},mS:function(){return ze},tE:function(){return Xe},eP:function(){return pe},Kq:function(){return Me},n9:function(){return Ht},w6:function(){return Q},Ch:function(){return ee},jv:function(){return H},z8:function(){return le},Gs:function(){return Qe},PN:function(){return De},RR:function(){return rt},nv:function(){return Oe},TM:function(){return lt},Zr:function(){return w},h$:function(){return B},Yb:function(){return Vt},$f:function(){return u},DT:function(){return Tt},wu:function(){return ct},oT:function(){return Le},IG:function(){return re},BP:function(){return Xt},o:function(){return Ft},x6:function(){return Je},IU:function(){return L},N2:function(){return M},Jy:function(){return Mt},Sc:function(){return vt},N0:function(){return R},M_:function(){return Kt},q1:function(){return O},Bo:function(){return ut},n8:function(){return be},ml:function(){return z}});var V,P,c=v(3188),l=v(8955),n=function(Be,Ke,Ye,it){this.left=Be||0,this.top=Ke||0,this.width=Ye||0,this.height=it||0},g=v(7262);window.globalMapControlLoaded=function(){l.fF.assertValue(V,"WaitForMSMapLoad"),V.resolve(void 0)};var f=v(8364),F=v(5958),A=v(8871),k=v(4407),Y=v(4540),j=v(9236),G=v(1207),I=v(2333),E=v(460);function z(ge){if(ge){var Be=ge._v8Map&&ge._v8Map._sizeHelper;Be&&_.isFunction(Be.pollSize)?Be.pollSize():l.fF.assertFail("Smooth resize animation hack not working because V8 map control pollSize function not found")}}function R(ge){var Be=Microsoft.Maps.MapTypeId[ge];return l.fF.assertValue(Be,"Map theme did not select a MapTypeId"),Be}var w={MaxBingRequest:6,MaxCacheSize:3e3,MaxCacheSizeOverflow:100,MaxPersistedSpace:24e5,MaxAge:43200,BingKey:f.R.BingKey},B=16,d=function(){function ge(Be,Ke,Ye){this.promiseFactory=Be,this.loader=Ke,this.mapControlUrl=Ye}return ge.prototype.ensureMap=function(Be){return function(ge,Be,Ke,Ye){if(V)return V.promise;var it=Ke=(0,g.fS)(Ke,{onscriptload:"globalMapControlLoaded",callback:"globalMapControlLoaded"},!0),He=(0,g.mA)(Ke),nt=He.c||He.culture,pt={};if(_.isEmpty(Ye)||(pt.setLang=Ye),!_.isEmpty(nt)){var Bt=nt.split("-",2);pt.setMkt=nt,pt.UR=Bt.length>1?Bt[1]:nt,pt.setLang=Bt[0]}return it=(0,g.fS)(Ke,pt,!0),V=ge.defer(),Be.require({javascript:it}),V.promise}(this.promiseFactory,this.loader,this.mapControlUrl,Be)},ge.prototype.createMapControl=function(Be,Ke){return new Microsoft.Maps.Map(Be,Ke)},ge.prototype.loadAzureMapScripts=function(Be){return function(ge,Be,Ke){if(P)return P.promise;var Ye="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js",it="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css";return Ke&&(Ye="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.js",it="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.css"),P=ge.defer(),Be.require({javascript:Ye,css:[it]}).then(function(Bt){var xt=window;xt.atlas=xt.atlas||Bt,xt.atlas||P.reject(),Be.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/atlas-spatial.min.js"}).then(function(yt){Be.require({javascript:"https://atlas.microsoft.com/sdk/javascript/drawing/0.1/atlas-drawing.min.js",css:["https://atlas.microsoft.com/sdk/javascript/drawing/0/atlas-drawing.min.css"]}).then(function(){return P.resolve(void 0)})})}),P.promise}(this.promiseFactory,this.loader,Be)},ge.prototype.createAzureMapControl=function(Be){var Ke=Be.element,Ye=Be.locale,it=Be.sasTokenCallback,pt=Be.isScreenshotWorkload,Bt=Be.progressiveLoading,xt=Be.defaultStyle,yt=Be.showLabels,Pt=Be.renderWorldCopies;Be.azureMapsDataResidency&&atlas.setDomain(Be.azureMapsEndpoint.getDomainUrl$().getValue());var Wt={language:Ye,style:xt,view:"Auto",disableTelemetry:!0,progressiveLoading:Bt,showLabels:yt,renderWorldCopies:Pt};return pt&&(Wt.preserveDrawingBuffer=!0),it?Wt.authOptions={authType:atlas.AuthenticationType.sas,getToken:it}:Wt.subscriptionKey=f.R.AzureKey,this.createAzureMapControlCore(Ke,Wt)},ge.prototype.createAzureMapControlCore=function(Be,Ke){return new atlas.Map(Be,Ke)},ge.prototype.isAzureMapSupported=function(){return atlas.isSupported(!1)},ge}(),u=function(Be,Ke){return new d(Be,Ke,"https://www.bing.com/api/maps/mapcontrol")};function M(ge,Be){return ge?L(ge.latitude,ge.longitude):Be}function L(ge,Be){return ge<-90||ge>90||Be<-180||Be>180}function O(ge){for(;ge<-180;)ge+=360;for(;ge>180;)ge-=360;return ge}var H=-85.05112878,Q=85.05112878,ee=23,le=1,Se=.5,we="foregroundDark",Pe={Address:"Address",City:"City",Continent:"Continent",CountryRegion:"Country",County:"County",Longitude:"Longitude",Latitude:"Latitude",Place:"Place",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince"},ze="mapLassoButton",Xe="mapLassoButtonHighContrast",Me=".".concat(ze),pe="MapLassoButton",De=".".concat("NavBar_Container"),Qe="NavBar_Button",rt="NavButton_Icon",lt="Rectangle_Select",Oe="plot-area",fe=(".".concat(Oe),"NavBar_zoomIn"),ae="NavBar_zoomOut";function he(ge,Be,Ke){return Math.min(Math.max(ge,Be),Ke)}function Le(){return Je(11)}function Je(ge){return 23===ge?2147483648:Math.floor(ge)===ge?256<<ge:256*Math.pow(2,ge)}function ot(ge,Be,Ke){var Ye=Be/360,it=Math.sin(ge*Math.PI/180),nt=-Math.log((1+it)/(1-it))/(4*Math.PI);if(!Ke)return{x:Ye,y:nt};Ke(Ye,nt)}function Ft(ge,Be){switch(ge){case Pe.Continent:case Pe.CountryRegion:return{level:0,maxPolygons:30,strokeWidth:0};case Pe.City:return{level:1,maxPolygons:5,strokeWidth:Be<200?6:0};default:return Be<100?{level:1,maxPolygons:5,strokeWidth:6}:Be<200?{level:0,maxPolygons:5,strokeWidth:6}:{level:0,maxPolygons:5,strokeWidth:0}}}function vt(ge,Be,Ke){var nt,Ye=Ke&&Ke.xAdjust,it=Ke&&Ke.unconstrained,He=new Float64Array(ge.length),pt=function(Pt,Wt){Pt+=.5,Wt+=.5,Pt*=Be,Wt*=Be,Pt+=.5,Wt+=.5,Ye&&(Pt+=Ye*Be),He[nt]=Pt,He[nt+1]=Wt};for(nt=0;nt<ge.length;nt+=2){var Bt=ge[nt],xt=ge[nt+1];it||(Bt=he(Bt,H,Q),xt=he(xt,-180,180)),ot(Bt,xt,pt)}return He}function Mt(ge,Be,Ke,Ye){var it=vt(new Float64Array([ge,Be]),Je(Ke),Ye);return{x:it[0],y:it[1]}}function be(ge,Be,Ke){var Ye=function(ge,Be,Ke){return function(ge,Be,Ke){var Ye=Math.exp(4*-Be*Math.PI);return{latitude:180*Math.asin((Ye-1)/(Ye+1))/Math.PI,longitude:360*ge}}((ge-.5)/Ke-.5,(Be-.5)/Ke-.5)}(ge,Be,Je(Ke));return new Microsoft.Maps.Location(Ye.latitude,Ye.longitude)}function Ve(ge,Be){return Mt(ge.latitude,ge.longitude,Be)}function We(ge,Be){var Ke=Ve(ge.getNorthwest(),Be),Ye=Ve(ge.getSoutheast(),Be);return new n(Ke.x,Ke.y,Ye.x-Ke.x,Ye.y-Ke.y)}function et(ge){var Be=function(ge){for(var Be={latitude:-90,longitude:180},Ke={latitude:90,longitude:-180},Ye=0;Ye<ge.length;Ye+=2)Be.latitude=Math.max(ge[Ye],Be.latitude),Be.longitude=Math.min(ge[Ye+1],Be.longitude),Ke.latitude=Math.min(ge[Ye],Ke.latitude),Ke.longitude=Math.max(ge[Ye+1],Ke.longitude);return Be.longitude=he(Be.longitude,-180,180),Ke.longitude=he(Ke.longitude,-180,180),{top:Be.latitude,bottom:Ke.latitude,left:Be.longitude,right:Ke.longitude}}(ge);return Microsoft.Maps.LocationRect.fromCorners(new Microsoft.Maps.Location(Be.top,Be.left),new Microsoft.Maps.Location(Be.bottom,Be.right))}function ut(ge){for(var Be=[],Ke=0,Ye=0,it=0,He=4294967296;Ke<ge.length;){for(var nt=0,pt=0;;){if(Ke>=ge.length)return null;var Bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".indexOf(ge.charAt(Ke++));if(-1===Bt)return null;var xt=(31&Bt)*Math.pow(2,pt);if(nt=(xt/He|nt/He)*He+((xt%He|nt%He)>>>0),pt+=5,Bt<32)break}var Qt=Math.floor((Math.sqrt(8*nt+5)-1)/2);nt-=Qt*(Qt+1)/2;var hr=Math.floor(nt),Zt=Qt-hr,rr=1e-5*(Ye+=Zt=Zt>>1^-(1&Zt));Be.push(he(1e-5*(it+=hr=hr>>1^-(1&hr)),-90,90)),Be.push(rr)}return new Float64Array(Be)}function ct(ge,Be){return Be&&(ge?(Be.west<ge.west&&(ge.west=Be.west),Be.east>ge.east&&(ge.east=Be.east),Be.south<ge.south&&(ge.south=Be.south),Be.north>ge.north&&(ge.north=Be.north)):ge=(0,c.pi)({},Be)),ge}function Vt(ge){if(!_.isEmpty(ge)){for(var Be=!1,Ke=0,Ye=ge;Ke<Ye.length;Ke++){var it=Ye[Ke];it.nativeBing&&!it.geographic&&(it.geographic=ut(it.nativeBing),it.geographic&&(Be=!0))}if(Be){for(var He=[],nt=0,pt=ge;nt<pt.length;nt++){var Bt=pt[nt];if(xt=Bt.geographic){var yt=et(xt);Bt.adjustedBounds={west:yt.getWest(),north:yt.getNorth(),east:yt.getEast(),south:yt.getSouth()},Bt.absoluteBounds=We(yt,11),He.push({location:Bt,bounds:yt,xAdjust:0})}}for(var Pt,Wt=-1,ur=0;ur<He.length;++ur){var Qt=(nr=He[ur]).bounds.width*nr.bounds.height;(-1===Wt||Qt>Pt)&&(Wt=ur,Pt=Qt)}for(var hr=Le(),Zt=He[Wt].bounds.getWest(),Dt=He[Wt].bounds.getEast(),rr=0,lr=He;rr<lr.length;rr++){var yr=(yt=(nr=lr[rr]).bounds).getWest(),de=yt.getEast();if(de<Zt&&yr+360-Dt<Zt-de&&(nr.xAdjust=1),yr>Dt&&Zt-(de-360)<yr-Dt&&(nr.xAdjust=-1),nr.xAdjust){var tt=360*nr.xAdjust,Ot=nr.location.adjustedBounds;Ot.west+=tt,Ot.east+=tt,nr.location.absoluteBounds.left+=nr.xAdjust*hr}}for(var $t=0,Dr=He;$t<Dr.length;$t++){var nr,xt,Br=(nr=Dr[$t]).location;(xt=Br.geographic)&&(Br.absolute||(Br.absolute=vt(xt,hr,{xAdjust:nr.xAdjust})))}}}}function Tt(ge){return function(ge,Be,Ke,Ye){var it={draggable:!1,icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle fill="#FF5F00" cx="12" cy="12" r="6"></circle><circle fill="none" stroke="#FF5F00" stroke-width="2" cx="12" cy="12" r="10"></circle></svg>'};return new Microsoft.Maps.Pushpin(ge,it)}(ge)}function Kt(ge,Be,Ke){var Ye=ge.tryLocationToPixel(ge.getCenter(),Microsoft.Maps.PixelReference.page);!function(ge,Be,Ke){var Ye=new Microsoft.Maps.Point(Be,Ke),it=ge.tryPixelToLocation(Ye,Microsoft.Maps.PixelReference.page);ge.setView({center:it})}(ge,Ye.x-Be,Ye.y-Ke)}".".concat(fe,", .").concat(ae),"".concat(Me,", .").concat(fe,", #").concat(ae);var Ht=function(){function ge(){this._locationRect=new Microsoft.Maps.LocationRect(new Microsoft.Maps.Location(30,-30),60,60)}return ge.prototype.reCalc=function(Be,Ke,Ye){var it=[this._locationRect.getNorthwest(),this._locationRect.getSoutheast()];if(!this._baseRect){var He=Ve(this._locationRect.getNorthwest(),11),nt=Ve(this._locationRect.getSoutheast(),11);this._baseRect=new n(He.x,He.y,nt.x-He.x,nt.y-He.y)}var pt=Be.tryLocationToPixel(it),Bt=pt[0].x+Ke/2,xt=pt[0].y+Ye/2,yt=Be.getZoom()-11,Pt=Math.pow(2,yt);this._currentRect=new n(Bt,xt,this._baseRect.width*Pt,pt[1].y-pt[0].y)},Object.defineProperty(ge.prototype,"scale",{get:function(){return this._baseRect?this._currentRect.width/this._baseRect.width:1},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"transform",{get:function(){var Ke=this._baseRect,Ye=this._currentRect,it=new F.wx;return it.translate(Ye.left,Ye.top),it.scale(Ye.width/Ke.width,Ye.height/Ke.height),it.translate(-Ke.left,-Ke.top),it},enumerable:!1,configurable:!0}),ge.prototype.transformToString=function(Be){var Ke=Be.matrix;return"matrix(".concat(Ke.m00," ").concat(Ke.m10," ").concat(Ke.m01," ").concat(Ke.m11," ").concat(Ke.m02," ").concat(Ke.m12,")")},ge}();function Xt(ge){var Be=A.v.getThemeColor(ge,E.pl),Ke=(0,k.bT)({style:ge,labelColor:Be,textClassName:"smallLightLabel"}).fontProperties;return Ke=(0,Y.ED)(Ke,{color:Be}),{show:!1,showCategory:!1,position:0,displayUnits:0,precision:E.NZ,fontProperties:Ke,enableBackground:!0,backgroundColor:A.v.getThemeColor(ge,E.lp),backgroundTransparency:Se,bold:!1,italic:!1,underline:!1}}function re(ge){return{dataPoints:[],hasSeries:!0,geocodingCategory:"",hasSize:!1,properties:{autoZoomEnabled:!0,showZoomButtons:!1,showLassoButton:!1,bubbleSizeMultiplier:1,markerRangeType:I.Ku,savedLatitude:void 0,savedLongitude:void 0,savedZoomLevel:void 0,defaultDataPointColor:void 0,fill:void 0,mapTheme:G.uH,showHeatMap:!1,minZoom:void 0,maxZoom:void 0,showLabels:!0},dataLabelSettings:Xt(ge),legendData:(0,j.Fe)(ge),invalidLatLongCoordinatesFound:!1}}},7375:function(ie,ve,v){v.d(ve,{DW:function(){return m},F:function(){return z},MV:function(){return Y},UI:function(){return G},Wo:function(){return j},XU:function(){return w},aW:function(){return B},gT:function(){return A},i:function(){return k},xf:function(){return R}});var c=v(3188),l=v(6096),n=v(6976),g=v(8955),V=v(3775),P=v(8836),S=v(2348),h=v(7094),D=v(5675),b=v(7243),N=v(6802),f=v(8871);function A(d,u){return _.isEmpty(d)?Y():{lineDashType:b.SQ,showMarkerByDefault:(0,S.NA)(d,h.zK.lineStyles.showMarkerByDefault,!0),showMarker:(0,S.NA)(d,h.zK.lineStyles.showMarker,!1),shape:(0,S.NA)(d,h.zK.lineStyles.markerShape,N.LS),size:(0,S.NA)(d,h.zK.lineStyles.markerSize,G),color:f.v.create(u).getColorForProperty(d,h.zK.lineStyles.markerColor,void 0)}}function k(d,u,y,M,L){var O=(0,V.ED)((0,c.pi)((0,c.pi)({},u),{showMarker:u.showMarker&&u.showMarkerByDefault}));if(O.key="seriesMarker"+y,!d.data.hasSeries()||L)return O.color=u.color?u.color:d.colors.createBySeries(y,void 0,n.fA),O;var H=d.objects.getSeriesDataObjects(y),Q=(0,S.NA)(H,h.zK.lineStyles.showMarker);null!=Q&&(O.showMarker=Q);var X=(0,S.NA)(H,h.zK.lineStyles.markerShape);null!=X&&(O.shape=X);var W=(0,S.NA)(H,h.zK.lineStyles.markerSize);null!=W&&(O.size=+W);var ee=f.v.create(M).getColorForProperty(H,h.zK.lineStyles.markerColor,void 0);return null!=ee?O.color=ee:u.color||(O.color=d.colors.createBySeries(y,void 0,n.fA)),O}function Y(){return{lineDashType:b.SQ,showMarker:!1,showMarkerByDefault:!0,shape:N.LS,size:G,color:void 0}}var j=function(){function d(){this.uniqueIdentifier=_.uniqueId(),this.markerKeyModifier=""}return d.prototype.ensureMarkers=function(u,y){var M=this,L=this.modifyMarkersIfNeeded(y),O=u.selectAll("marker").data(L.filter(function(X){return X.showMarker}),function(X){return M.getMarkerId(X)}),H=O.enter().append("marker").merge(O);H.append("path").classed("markerPaths",!0),H.attrs({id:function(W){return M.getMarkerId(W)},markerUnits:"strokeWidth",orient:function(W){var J;return null!==(J=W.orient)&&void 0!==J?J:0},refX:0,refY:0,viewBox:"-6 -6 12 12"}).transition().duration(1).attrs({markerHeight:function(W){return W.size},markerWidth:function(W){return W.size}}),O.exit().remove();var Q=u.selectAll(".markerPaths").data(L.filter(function(X){return X.showMarker}),function(X){return M.getMarkerId(X)});Q.attr("d",function(X){return X.lineRadius?function(d,u,y){var M=(y+1)/(u/5);switch(d){case N.YP:return null;case N.x:return"M ".concat(M,",1 L 4,5 L 5,4 L 1,0 L 5,-4 L 4,-5 L 0,-1 L -4,-5 L-5,-4 L -1,0 L -5,4 L -4,5 L-").concat(M,",1");case N.uh:return"M ".concat(M,",1 L 5,1 L 5,-1 L -").concat(M,",-1 L -").concat(M,",1");case N.kZ:return"M ".concat(M,",1 L 5,1 L 5,-1 L -5,-1 L -5,1 L -").concat(M,",1");case N.PD:return"M ".concat(M,",1 L 5,1 L 5,-1, L1,-1 L1,-5 L-1,-5 L-1,-1 L-5,-1 L-5,1 L-").concat(M,",1");default:return m(d)}}(X.shape,X.size,X.lineRadius):m(X.shape)}).style("stroke-width",function(X){return X.lineRadius?X.strokeSize/(X.size/5):z(X.shape)}).style("stroke-opacity",function(X){return null!=X.transparency?(0,l.TD)(X.transparency):1}).style("stroke",function(X){var W;return null!==(W=X.strokeColor)&&void 0!==W?W:X.color}).style("fill",function(X){return X.color}).style("opacity",function(X){return null!=X.transparency?(0,l.TD)(X.transparency):null}),Q.exit().remove()},d.prototype.renderUncertaintyMarkers=function(u){var y=this,M=function(O){var H=O.seriesData.uncertainty.markers;switch(O.type){case"upper":return y.getMarkerKey(H);case"lower":return y.getMarkerKey(O.seriesData.uncertainty.markersFlipped||H);default:g.fF.assertNever(O.type)}};u.attr("marker-start",M).attr("marker-mid",M).attr("marker-end",M)},d.prototype.getMarkerId=function(u){return"".concat(u.key,"-").concat(this.uniqueIdentifier).concat(u.modifier||"")},d.prototype.getMarkerKey=function(u){if(!u.showMarker)return null;var y=P.M.isSafari()||P.M.isIOSWebView()?window.location.href:"",M=u.key;return"url('".concat(y,"#").concat(M,"-").concat(this.uniqueIdentifier).concat(this.markerKeyModifier,"')")},d.prototype.modifyMarkersIfNeeded=function(u){if(P.M.isInternetExplorerOrEdge()){var y=[];return this.cycleMarkerKeyModifier(),(y=this.modifyMarkerProperties(u,"a")).push.apply(y,this.modifyMarkerProperties(u,"b")||[]),y}return u},d.prototype.cycleMarkerKeyModifier=function(){this.markerKeyModifier="a"===this.markerKeyModifier?"b":"a"},d.prototype.modifyMarkerProperties=function(u,y){return _.map(u,function(M){var L=(0,V.ED)(M);return L.modifier=y,L})},d.sizeRatio=10/12,d}(),G=5;function m(d){return B(d,G)}function z(d){switch(d){case N.Xw:case N.h6:case N.tf:case N.cP:case N.YP:return 0;case N.x:case N.PD:case N.m9:case N.yf:return 1;case N.uh:case N.kZ:return 2;default:g.fF.assertNever(d)}}function R(d,u,y){var M=null==d?void 0:d.showMarker;switch(u){case D.f2:return M?d.shape:y;case D.G_:return M?d.shape:N.Xw;case D.XD:return M?d.shape:N.YP;case D.tl:return N.YP;default:return N.Xw}}function w(d,u,y,M){return d&&(y!==D.f2&&y!==D.G_||!M&&d.showMarker)&&d.color||u}function B(d,u){switch(d){case N.Xw:return"M 0 0 m ".concat(-u," 0 a ").concat(u," ").concat(u," 0 1 0 ").concat(2*u," 0 a ").concat(u," ").concat(u," 0 1 0 ").concat(-2*u," 0");case N.h6:return"M 0 0 m ".concat(-u," ").concat(-u," l ").concat(2*u," 0 l 0 ").concat(2*u," l ").concat(-2*u," 0 z");case N.tf:return"M 0 0 m ".concat(-u," 0 l ").concat(u," ").concat(-u," l ").concat(u," ").concat(u," l ").concat(-u," ").concat(u," z");case N.cP:return"M 0 0 m ".concat(-u," ").concat(u," l ").concat(u," ").concat(-2*u," l ").concat(u," ").concat(2*u," z");case N.x:return"M 0 0 m ".concat(-u," ").concat(-u," l ").concat(2*u," ").concat(2*u," m ").concat(2*-u," 0 l ").concat(2*u," ").concat(2*-u);case N.uh:return"M 0 0 l ".concat(u," 0");case N.kZ:return"M 0 0 m ".concat(-u," 0 l ").concat(2*u," 0");case N.PD:return"M 0 0 m ".concat(-u," 0 l ").concat(2*u," 0 m ").concat(-u," ").concat(-u," l 0 ").concat(2*u);case N.m9:return"M 0 0 m 0 ".concat(-u," l 0 ").concat(2*u," m ").concat(-u," 0 l ").concat(2*u," 0");case N.yf:return"M 0 0 m 0 ".concat(u," l 0 ").concat(2*-u," m ").concat(-u," 0 l ").concat(2*u," 0");case N.YP:return null;default:g.fF.assertNever(d)}}},2033:function(ie,ve,v){v.d(ve,{Co:function(){return g},IH:function(){return V},Mw:function(){return F},ZV:function(){return h},cu:function(){return P},dF:function(){return N},nD:function(){return S},s4:function(){return f}});var c=v(3188),l=v(8955),n=v(8239),g=function(k,Y,j,G){return void 0===j&&(j=null),(0,c.pi)({type:1},D(k,Y,j,G))},V=function(k,Y,j,G){void 0===j&&(j=null);var I=Y.precisionReference,E=Y.displayUnitsReference,T=(0,c._T)(Y,["precisionReference","displayUnitsReference"]);return(0,c.pi)((0,c.pi)({type:2},D(k,T,j,G)),{precision:(0,c.pi)((0,c.pi)({},null==G?void 0:G.precision),{reference:b(I,j),label:k.getLocalizedString("Visual_Precision")}),displayUnits:{reference:b(E,j),label:k.getLocalizedString("Visual_DisplayUnits")}})},P=function(k,Y,j,G,I,E,T){void 0===I&&(I=!1),void 0===E&&(E=!1),void 0===T&&(T=null);var m={type:3};return I&&(m.stroke={reference:(0,c.pi)({cardUid:k,groupUid:Y,sliceUid:j},T?{selector:T}:{}),label:G.getLocalizedString("Visual_Shape_Line")}),E&&(m.fill={reference:(0,c.pi)({cardUid:k,groupUid:Y,sliceUid:j},T?{selector:T}:{}),label:G.getLocalizedString("Visual_Fill")}),m},S=function(k){var Y=k.hostServices,j=k.omitSelectorForSingleSeries,G=k.individualSelector,I=k.selector,E=k.repetitionSelector,T=k.inContainer,m=k.subSelecionStylesOptions,z="".concat("Visual","-").concat("labels"),R=T?"".concat("labels-applySettingsTo-series","-"):"labels",w="".concat(R,"-").concat("values"),B=j?void 0:w,C="".concat(R,"-").concat("background"),d=j?void 0:C,u={cardUid:z,groupUid:B,sliceUid:"".concat(w,"-font")},y={cardUid:z,groupUid:B,sliceUid:"".concat(w,"-color"),selector:(0,n.hm)(G,j?void 0:I,E)},M={cardUid:z,groupUid:B,sliceUid:"".concat(w,"-precision")},L={cardUid:z,groupUid:B,sliceUid:"".concat(w,"-displayUnits")},O={cardUid:z,groupUid:d,sliceUid:"".concat(C,"-backgroundColor")};return V(Y,{fontReference:u,fontColorReference:y,precisionReference:M,displayUnitsReference:L,backgroundReference:O},j?void 0:I,m)},h=function(k,Y,j,G){var I="".concat("Visual","-").concat("totals"),E="".concat("totals","-").concat("values"),T="".concat("totals","-").concat("background"),m={cardUid:I,groupUid:E,sliceUid:"".concat(E,"-font")},z={cardUid:I,groupUid:E,sliceUid:"".concat(E,"-color"),selector:(0,n.hm)(Y,void 0,j)},R={cardUid:I,groupUid:T,sliceUid:"".concat(T,"-backgroundColor")},w={cardUid:I,groupUid:E,sliceUid:"".concat(E,"-precision")},B={cardUid:I,groupUid:E,sliceUid:"".concat(E,"-displayUnits")};return V(k,{fontReference:m,fontColorReference:z,backgroundReference:R,precisionReference:w,displayUnitsReference:B},void 0,G)},D=function(k,Y,j,G){void 0===j&&(j=null);var E=Y.fontColorReference,T=Y.backgroundReference,m=Y.wordWrapReference,z=Y.horizontalAlignmentReference,R={font:{reference:b(Y.fontReference,j),label:k.getLocalizedString("Font")},fontColor:{reference:b(E,j),label:k.getLocalizedString("Visual_FontColor")}};return T&&(R.background={reference:b(T,j),label:k.getLocalizedString("Background_Color")}),m&&(R.wordWrap={reference:b(m,j),label:k.getLocalizedString("Visual_Word_Wrap")}),z&&(R.horizontalAlignment={reference:b(z,j),label:k.getLocalizedString("Visual_Alignment_Horizontal")}),G&&(G.grid&&(R.grid=G.grid),G.border&&(R.border=G.border)),R},b=function(k,Y){var j=(0,c.pi)({},k);return!j.selector&&Y&&(j.selector=Y),j},N=function(k){var j=_.first(k).visualObjects;l.fF.assert(function(){return 1===j.length},"Expected 1 visual");var G=j[0];return l.fF.assert(function(){return 1===k.length||k.every(function(I){return _.isEqual(I.visualObjects,[G])},"Expected 1 sub-selection or matching objects")}),G},f=function(k,Y){if(k)return{reference:{cardUid:void 0,sliceUid:k},style:2,displayValue:Y}},F=function(k,Y){if(k)return{reference:{cardUid:void 0,sliceUid:k},style:1,displayValue:Y||""}}},5210:function(ie,ve,v){v.d(ve,{Bj:function(){return P},Ko:function(){return V},Pg:function(){return l},YD:function(){return h},aY:function(){return n},eR:function(){return N},eU:function(){return g},rA:function(){return D},rk:function(){return b},vD:function(){return S}});var c=v(9249),l="setFocusRing",n="currentFocusDataPoint",g=.4,V=1,P=2,S=2,h=6,D=S+2*h,b=c.Wn.regular.css;function N(f,F,A,k,Y){return void 0===Y&&(Y=V),A&&k&&F?f?Y:0:k&&!F||A&&!f?g*Y:Y}},1971:function(ie,ve,v){v.d(ve,{Qh:function(){return F},y3:function(){return k},cy:function(){return Y},O5:function(){return M},Zx:function(){return T},kv:function(){return z},CK:function(){return G},Ez:function(){return E},oy:function(){return B},QZ:function(){return m}});var l,c=v(3188),n=Object.freeze(((l={}).background=10,l.title=20,l["legend-title"]=30,l["legend-items"]=40,l["y1-axis-title"]=50,l["y1-axis-values"]=60,l["y1-axis-zoom-slider"]=70,l["y2-axis-title"]=80,l["y2-axis-values"]=90,l["y2-axis-zoom-slider"]=100,l["x-axis-values"]=110,l["x-axis-title"]=120,l["x-axis-zoom-slider"]=130,l["horizontal-gridlines"]=140,l["vertical-gridlines"]=150,l.lines=1e3,l.markers=1010,l.columns=1020,l.bars=1030,l["data-labels"]=1040,l["total-labels"]=1050,l["series-labels"]=1060,l["category-labels"]=1070,l)),P=v(6348),S=v(4618),h=v(7777),D=v(8955),N=(0,h.CH)("sub-selectable"),f="sub-selection-data",F=(0,h.CH)("direct-edit-placeholder"),A=(0,h.CH)("direct-edit-placeholder-outline"),k="format-mode",Y=N.class,j=N.selector,G="data-sub-selection-display-name",I="data-sub-selection-hide-outline",E="data-sub-selection-object-name",T="data-sub-selection-alt-object-name",m="data-sub-selection-type",z="data-sub-selection-direct-edit",R="data-sub-selection-sub-selected",B="data-sub-selection-restricting-element",C="data-helper-host";function u(L){return"".concat(L,".").concat("htmlSubSelection")}function y(L,O){return O.closest("[".concat(C,"]"))===L}var M=function(){function L(O){this.hostElement=O.hostElement,this.host=d3.select(O.hostElement),this.hostServices=O.hostServices,this.subSelectionRegionOutlines={},this.renderer=O.renderer,this.scale=O.scale,this.selectorCallback=O.selectorCallback,this.customOutlineCallback=O.customOutlineCallback,this.customElementCallback=O.customElementCallback,this.subSelectionMetadataCallback=O.subSelectionMetadataCallback,this.host.attr(C,!0)}return L.createHtmlSubselectionHelper=function(O){return new L(O)},L.prototype.setCustomOutlineCallback=function(O){this.customOutlineCallback=O},L.prototype.destroy=function(){this.removeEventHandlers(),this.hideAllOutlines()},L.prototype.setFormatMode=function(O){this.formatMode!==O&&(this.formatMode=O,O?this.attachEventHandlers():(this.removeEventHandlers(),this.hideAllOutlines()))},L.prototype.attachEventHandlers=function(){var O=this;this.host.on(u("pointerover"),function(){O.onPointerOver(d3.event)}),this.host.on(u("click"),function(){O.onClick(d3.event)}),this.host.on(u("contextmenu"),function(){O.onContextMenu(d3.event)})},L.prototype.onVisualScroll=function(){var O=this;this.scrollDebounce||(this.onVisualScrollStart(),this.scrollDebounce=_.debounce(function(){return O.onVisualScrollEnd()},100)),this.scrollDebounce()},L.prototype.onVisualScrollStart=function(){this.scrollSubSelections||(this.subSelect(void 0),this.scrollSubSelections=this.subSelections)},L.prototype.onVisualScrollEnd=function(){this.scrollSubSelections&&this.scrollSubSelections.length>0&&this.subSelect(this.scrollSubSelections[0]),this.scrollSubSelections=void 0,this.scrollDebounce=void 0},L.prototype.onPointerOver=function(O){var H=this;if(!(0,S.q)(O)){this.clearHoveredOutline();var Q=this.getSubSelectionSourceFromEvent(O);if(Q&&Q.subSelectionElement){if(0===this.updateCustomOutlinesFromSubSelections([Q.visualSubSelection],1).length){var W=this.getSubSelectionElementsFromSubSelectionSource(Q);W=W.filter(function(le){var Ne=d3.select(le);return!Ne.attr(R)&&"true"!==Ne.attr(I)}),this.updateOutlinesFromSubSelectionElements(W,1)}this.renderOutlines();var J=u("pointerleave"),ee=d3.select(Q.subSelectionElement);ee.on(J,function(){ee.attr(R)||(H.clearHoveredOutline(),ee.on(J,null))}),(0,S.n)(O)}}},L.prototype.clearHoveredOutline=function(){var H=_.values(this.subSelectionRegionOutlines).find(function(Q){return 1===Q.visibility});H&&(this.subSelectionRegionOutlines[H.id]=(0,c.pi)((0,c.pi)({},this.subSelectionRegionOutlines[H.id]),{visibility:0}),this.renderOutlines())},L.prototype.onClick=function(O){this.subSelectFromEvent(O,!1)},L.prototype.onContextMenu=function(O){this.subSelectFromEvent(O,!0)},L.prototype.subSelectFromEvent=function(O,H){if(!(0,S.q)(O)){var Q=this.getSubSelectionElementsFromEvent(O);(0,S.n)(O);var X={x:O.clientX,y:O.clientY};if(_.isEmpty(Q))return void this.hostServices.onSelect({type:1,selectionMode:0,visualObjects:[],selectionOrigin:X});var W=Q[0],J=d3.select(W).attr(E),ee=this.getSubSelectionTypeFromElement(W),le=ee in[1,2]?O.target:null,Ne=this.getDisplayNameFromElement(W),Ae=this.selectorCallback?this.selectorCallback(W):{},Se=this.createVisualSubSelectionForSingleObject({objectName:J,subSelectionType:ee,displayName:Ne,showUI:H,selectorsByColumn:Ae,selectionOrigin:X,target:le});this.scrollSubSelections=void 0,this.subSelect(Se)}},L.prototype.getSubSelectionElementsFromEvent=function(O){var H=this.getSubSelectionSourceFromEvent(O);return this.getSubSelectionElementsFromSubSelectionSource(H)},L.prototype.getSubSelectionSourceFromEvent=function(O){var H=O.composedPath();if(H){for(var W,Q=H.indexOf(this.hostElement),J=0,ee=H.slice(0,Q+1);J<ee.length;J++){var le=ee[J];if(d3.select(le).classed(Y)){W=le;break}}if(W&&y(this.hostElement,W)){var Ae=this.selectorCallback?this.selectorCallback(W):{},Se=d3.select(W).attr(E),we=this.getDisplayNameFromElement(W),Pe=this.getSubSelectionTypeFromElement(W),ze={x:O.clientX,y:O.clientY},Xe=this.subSelectionMetadataCallback?this.subSelectionMetadataCallback(W):null;return{subSelectionElement:W,visualSubSelection:this.createVisualSubSelectionForSingleObject({objectName:Se,subSelectionType:Pe,displayName:we,showUI:!1,selectorsByColumn:Ae,selectionOrigin:ze,metadata:Xe})}}}},L.prototype.getSubSelectionElementsFromSubSelectionSource=function(O){var H=this;if(!O)return[];var Q=O.visualSubSelection;if(this.customElementCallback){var X=this.customElementCallback(Q);if(!_.isEmpty(X))return X}var W=this.getSubSelectableElements(),J=Q.visualObjects[0],ee=J.objectName,le=J.selectorsByColumn,Ne=W.filter(function(Se){return Se.getAttribute(E)===ee});return this.selectorCallback&&(Ne=Ne.filter(function(Se){return(0,P.Ic)(H.selectorCallback(Se),le)})),Ne},L.prototype.removeEventHandlers=function(){this.host.on(u("pointerover"),null),this.host.on(u("click"),null),this.host.on(u("contextmenu"),null)},L.prototype.subSelect=function(O){var H=(0,c.pi)({type:1},O);this.hostServices.onSelecting(H),1!==H.action&&this.hostServices.onSelect(H)},L.prototype.isVisualObjectSubSelected=function(O){return!!(this.subSelections&&this.subSelections.length>0)&&!!this.subSelections.find(function(H){return H.visualObjects.find(function(Q){return O.objectName===Q.objectName&&(0,P.Ic)(O.selectorsByColumn,Q.selectorsByColumn)})})},L.prototype.updateElementOutline=function(O,H,Q){return void 0===Q&&(Q=!1),this.updateElementOutlines([O],H,Q)[0]},L.prototype.updateElementOutlines=function(O,H,Q){var X=this;void 0===Q&&(Q=!1);for(var W=_.groupBy(O,function(Se){var we=d3.select(Se);return X.getElementRegionOutlineId(we)}),J=Object.keys(W),ee=0,le=J;ee<le.length;ee++){var Ne=le[ee],Ae=this.getSubSelectionRegionOutline(Ne,W[Ne],H);this.subSelectionRegionOutlines[Ne]=Ae}return Q||this.renderOutlines(),J},L.prototype.getSubSelectionRegionOutline=function(O,H,Q){for(var W,J,X=[],ee=function(ze){var Xe=le.getRectangleSubSelectionOutline(ze),Me=le.getRestrictionElement(ze,0);if(D.fF.assert(function(){return!J||Me&&Me===J},"All elements for an outline require the same clamp restriction element."),J=Me){var pe=le.applyElementRestriction(J,ze),Fe=Math.max(Xe.x,pe.left),De=Math.max(Xe.y,pe.top);Xe=(0,c.pi)((0,c.pi)({},Xe),{x:Fe,y:De,height:Math.min(pe.top+pe.height-De,Xe.height),width:Math.min(pe.left+pe.width-Fe,Xe.width)})}var Qe=le.getRestrictionElement(ze,1);if(D.fF.assert(function(){return!W||Qe&&Qe===W},"All elements for an outline require the same clip restriction element."),W=Qe){var rt=le.applyElementRestriction(W,ze);Xe=(0,c.pi)((0,c.pi)({},Xe),{clipPath:{type:1,x:rt.left,y:rt.top,height:rt.height,width:rt.width}})}Xe.height>0&&Xe.width>0&&X.push(Xe)},le=this,Ne=0,Ae=H;Ne<Ae.length;Ne++)ee(Ae[Ne]);return{id:O,visibility:Q,outline:{type:0,outlines:X}}},L.prototype.getRestrictionElement=function(O,H){var Q=O.closest("[".concat(B,'="').concat(H,'"]'));if(Q&&y(this.hostElement,Q))return Q},L.prototype.applyElementRestriction=function(O,H){var Q=O.getBoundingClientRect(),X={top:Q.top,left:Q.left,height:Q.height,width:Q.width},W=L.getDataForElement(H);if(W&&W.outlineRestrictionOptions){var J=W.outlineRestrictionOptions,ee=J.margin,le=J.padding,Ne=0,Ae=0,Se=0,we=0;if(ee){var Pe=ee.top;Ne+=ze=ee.left,Ae+=Pe,Se-=ee.bottom+Pe,we-=ze+ee.right}if(le){var ze,pe=le.top;Ne-=ze=le.left,Ae-=pe,Se+=le.bottom+pe,we+=ze+le.right}X.left+=Ne,X.top+=Ae,X.height+=Se,X.width+=we}return X},L.prototype.getRectangleSubSelectionOutline=function(O){var H=O.getBoundingClientRect(),ee={height:H.height,width:H.width,x:H.x,y:H.y,type:1};return O.hasAttribute(z)&&(ee.directEdit=function(){if(O.hasAttribute(z))return JSON.parse(O.getAttribute(z))}),ee},L.prototype.updateRegionOutline=function(O,H){void 0===H&&(H=!1),this.updateRegionOutlines([O],H)},L.prototype.updateRegionOutlines=function(O,H){void 0===H&&(H=!1);for(var Q=0,X=O;Q<X.length;Q++){var W=X[Q];this.subSelectionRegionOutlines[W.id]=W}H||this.renderOutlines()},L.prototype.getElementsFromSubSelections=function(O){if(!O)return[];var H=[],Q=this.getSubSelectableElements(),X=this.isElementSubSelected,W=this.selectorCallback;return d3.selectAll(Q).each(function(){X(this,O,W)&&H.push(this)}),H},L.prototype.setSubSelectedStateDOM=function(O){if(O){var H=this.getSubSelectableElements(),Q=this.isElementSubSelected,X=this.selectorCallback;d3.selectAll(H).attr(R,function(){return!!Q(this,O,X)||null})}},L.prototype.isElementSubSelected=function(O,H,Q){if(!H)return!1;var X=d3.select(O).attr(E),W=d3.select(O).attr(T);return H.some(function(ee){var le;return null===(le=ee.visualObjects)||void 0===le?void 0:le.some(function(Ne){var Ae=!0;return Q&&((0,P.Ic)(Ne.selectorsByColumn,Q(O))||(Ae=!1)),(Ne.objectName===X||Ne.objectName===W)&&Ae})})},L.prototype.updateCustomOutlinesFromSubSelections=function(O,H){var Q;void 0===H&&(H=2);var X=[];if(this.customOutlineCallback&&!_.isEmpty(O))for(var W=0,J=O;W<J.length;W++){var ee=J[W],le=this.customOutlineCallback(ee);if(le&&le.length>0){for(var Ne=0,Ae=le;Ne<Ae.length;Ne++){var Se=Ae[Ne],we=null===(Q=this.subSelectionRegionOutlines[Se.id])||void 0===Q?void 0:Q.visibility;(1!==H||2!==we)&&this.setOutline(Se,H)}X.push(ee)}}return X},L.prototype.updateOutlinesFromSubSelectionElements=function(O,H){void 0===H&&(H=2);var Q=[];if(!_.isEmpty(O)){for(var X=0,W=O;X<W.length;X++){var J=W[X],ee=L.getDataForElement(J);if(ee&&ee.getRegionOutlines)for(var Ne=0,Ae=ee.getRegionOutlines();Ne<Ae.length;Ne++)this.setOutline(Ae[Ne],H);else Q.push(J)}this.updateElementOutlines(Q,H,!0)}},L.prototype.updateOutlinesFromSubSelections=function(O,H,Q){H&&this.hideAllOutlines(!0),this.subSelections=O;var X=O?(0,c.ev)([],O,!0):[];this.setSubSelectedStateDOM(O);var W=this.updateCustomOutlinesFromSubSelections(O);(null==W?void 0:W.length)>0&&_.remove(X,function(le){return W.find(function(Ne){return _.isEqual(le,Ne)})});var ee=this.getElementsFromSubSelections(X).filter(function(le){return"true"!==d3.select(le).attr(I)});this.updateOutlinesFromSubSelectionElements(ee),Q||this.renderOutlines()},L.prototype.refreshOutlines=function(){this.updateOutlinesFromSubSelections(this.subSelections,!0,!1)},L.prototype.getLabelsFromSubSelections=function(O,H,Q){void 0===Q&&(Q=" ");for(var W=[],J=0,ee=this.getElementsFromSubSelections(O);J<ee.length;J++){for(var le=ee[J],Ne="",Ae=0,Se=H;Ae<Se.length;Ae++){var Pe=le.attributes.getNamedItem(Se[Ae]);Pe&&Pe.value&&(Ne+=Pe.value+Q)}_.isEmpty(Ne)||W.push(Ne.trim())}return W},L.prototype.setOutline=function(O,H){var Q=(0,c.pi)((0,c.pi)({},O),{visibility:H,id:O.id});this.subSelectionRegionOutlines[O.id]=Q},L.setDataForElement=function(O,H){$(O).data(f,H)},L.getDataForElement=function(O){return $(O).data(f)},L.prototype.hideAllOutlines=function(O){void 0===O&&(O=!1);var H=this.subSelectionRegionOutlines,Q=[];for(var X in H)Q.push((0,c.pi)((0,c.pi)({},H[X]),{visibility:0}));this.updateRegionOutlines(Q,O)},L.prototype.getRegionOutline=function(O){return this.getRegionOutlines([O])[0]},L.prototype.getRegionOutlines=function(O){var H=this;return O.map(function(Q){return H.subSelectionRegionOutlines[Q]})},L.prototype.getAllOutlines=function(){return(0,c.pi)({},this.subSelectionRegionOutlines)},L.prototype.renderOutlines=function(){var O=_.values(this.subSelectionRegionOutlines);this.renderer.updateRegionOutlines(O)},L.prototype.addDirectEditPlaceholderOutlines=function(){var O=this,H=this.scale(),Q=this.hostElement.getBoundingClientRect(),W=_.filter(_.map(this.hostElement.querySelectorAll(F.selector),function(ee){return{element:ee,bounds:(le=ee,Ne=le.getBoundingClientRect(),{left:(Ne.x-Q.x)/H-1,top:(Ne.y-Q.y)/H-1,width:Ne.width/H,height:Ne.height/H}),outlineId:O.getElementRegionOutlineId(d3.select(ee)),objectName:ee.getAttribute(E),displayNameKey:ee.getAttribute(G)};var le,Ne}),function(ee){return!!ee.outlineId&&!!ee.objectName}),J=d3.select(this.hostElement).selectAll("div.".concat(A.class)).data(W,function(ee){return ee.objectName});J.enter().append("div").classed(A.class,!0).attr("data-testid",function(ee){return"direct-edit-placeholder-outline-".concat(ee.objectName)}).style("position","absolute").style("border","1px black dashed").style("cursor","text").on("click",function(ee){d3.event.stopImmediatePropagation();var le={visualObjects:[{objectName:ee.objectName,selectorsByColumn:{}}],subSelectionType:1,selectionOrigin:{x:d3.event.x,y:d3.event.y},immediateDirectEdit:ee.outlineId,displayName:ee.displayNameKey&&O.hostServices.getLocalizedString(ee.displayNameKey)};O.subSelect(le)}).merge(J).style("width",function(ee){return"".concat(ee.bounds.width,"px")}).style("height",function(ee){return"".concat(ee.bounds.height,"px")}).style("left",function(ee){return"".concat(ee.bounds.left,"px")}).style("top",function(ee){return"".concat(ee.bounds.top,"px")}),J.exit().remove()},L.prototype.getElementRegionOutlineId=function(O){var H=O.attr(E),Q="";if(this.selectorCallback){var X=this.selectorCallback(O.node()),W=(0,P.tV)(X);W&&(Q=(0,P.km)(W))}return""!==Q?"".concat(H,"___").concat(Q):H},L.prototype.getAllSubSelectables=function(O){var H=this,Q=this.getSubSelectableElements(),W=_.uniqWith(Q,function(Pe,ze){return Pe.getAttribute(E)===ze.getAttribute(E)&&(!H.selectorCallback||(0,P.Ic)(H.selectorCallback(Pe),H.selectorCallback(ze)))}),J=W;O&&(J=W.filter(function(we){var Pe=H.getSubSelectionTypeFromElement(we);return Number(Pe)===O}));var ee=J.map(function(we){var Pe=we.getBoundingClientRect();return{x:Pe.x+Pe.width/2,y:Pe.y+Pe.height/2}}),Ne=_.orderBy(Array.from(Array(ee.length).keys()),function(Pe){return ee[Pe].y},["asc"]),Ae={currentSeriesMultiplier:0};return Ne.map(function(we){return H.createSubSelectionFromElement(J[we],!1,void 0,Ae,ee[we])})},L.prototype.getNextSubSelectable=function(O,H){var Q=this.getAllSubSelectables();if(Q.length){var W,X=_.orderBy(Q,["focusOrder"],["asc"]);if(!O)return H?_.last(X):_.first(X);var J=_.findIndex(X,function(le){return _.isEqual(O,le)});if(J>-1){var ee=H?J-1:J+1;ee>-1&&ee<X.length&&(W=X[ee])}return W}},L.prototype.createVisualSubSelectionForSingleObject=function(O){var H,Q=O.objectName,X=O.subSelectionType,W=O.displayName,J=O.showUI,ee=O.selectorsByColumn,le=O.selectionOrigin,Ne=O.focusOrder,Ae=O.metadata,Se=O.target,we=(null!==(H=null==Se?void 0:Se.getBoundingClientRect())&&void 0!==H?H:{top:0}).top,Pe=Se?(0,c.pi)((0,c.pi)({},le),{offset:{x:0,y:-1*(le.y-we)}}):le;return(0,c.pi)((0,c.pi)({visualObjects:[{objectName:Q,selectorsByColumn:null!=ee?ee:{}}],showUI:J,displayName:W,subSelectionType:X,selectionOrigin:Pe,target:Se},Ae?{metadata:Ae}:{}),Ne?{focusOrder:Ne}:{})},L.prototype.createSubSelectionFromElement=function(O,H,Q,X,W){var J=O.getAttribute(E);D.fF.assert(function(){return!!J},"createVisualSubSelectionFromElement should not be called on an element that is not subselectable");var ee={};this.selectorCallback&&(ee=this.selectorCallback(O));var le=this.getSelectorKey(ee);le&&void 0===X[le]&&(X[le]=X.currentSeriesMultiplier,X.currentSeriesMultiplier++);var Ne=this.getSubSelectionFocusOrder(J,X[le]),Ae=this.getSubSelectionTypeFromElement(O),Se=this.getDisplayNameFromElement(O),we=W;return Q&&(we={x:Q.clientX,y:Q.clientY}),this.createVisualSubSelectionForSingleObject({objectName:J,subSelectionType:Ae,displayName:Se,showUI:H,selectorsByColumn:ee,selectionOrigin:we,focusOrder:Ne})},L.prototype.getDisplayNameFromElement=function(O){var H=O.getAttribute(G);if(H)H=this.hostServices.getLocalizedString(H);else{var Q=L.getDataForElement(O);null!=Q&&Q.getDisplayName?H=Q.getDisplayName():D.fF.assertFail("getAllSubSelectables - custom jquery data getDisplayName should be defined if no attribute is added to DOMElement")}return H},L.prototype.getSubSelectionTypeFromElement=function(O){var H=O.getAttribute(m);if(H)return Number(H);D.fF.assertFail("getAllSubSelectables - DOMElement should have type")},L.prototype.getSelectorKey=function(O){var H=(0,P.fd)((0,P.tV)(O));return _.isEmpty(H)?"":JSON.stringify(H)},L.prototype.getSubSelectionFocusOrder=function(O,H){var Q=n[O];return Q?(void 0!==H&&(Q+=1e3*H),Q):999999},L.prototype.getSubSelectableElements=function(){var O=this.hostElement;return this.host.selectAll(j).filter(function(){return y(O,this)}).nodes()},L}()},6602:function(ie,ve,v){v.d(ve,{m:function(){return l}});var c=v(1345);function l(n,g,V){if(n&&n.textClasses){var P=n.textClasses[g];if(P){var S=P.fontSize&&c.B.createFromPt(+P.fontSize);return{color:V?void 0:P.color&&P.color.value,family:P.fontFace,size:S,weight:P.fontWeight}}}return{}}},7666:function(ie,ve,v){v.d(ve,{PC:function(){return P},lM:function(){return h},mC:function(){return V},nU:function(){return g},zI:function(){return S}});var c=v(8955),l=v(563),n=v(9172);function g(D){return D.toString().replace(new RegExp(" ","g"),"&nbsp")}function V(D){return D.replace(/\u2026/g,"")}function P(D){if(null!=D)return D.replace(/ /g,"\xa0")}function S(D){if(null!=D)return D.replace(/\n| /g,"\xa0")}function h(D,b,N,f,F,A){void 0===f&&(f=0),void 0===F&&(F=!1),void 0===A&&(A=!1),c.fF.assertValue(D,"textElement");var k=l.b.getSvgMeasurementProperties(D),Y=l.b.estimateSvgTextHeight(k)+f,j=Math.max(1,Math.floor(N/Y)),G=d3.select(D),I=D.textContent;D.textContent="";for(var E=(0,n.ql)(I,k,l.b.measureSvgTextWidth,b,j,null,!1,F,A),T=0,m=E.length;T<m;T++)k.text=E[T],G.append("tspan").attr("x",0).attr("dy",0===T?0:Y).text(l.b.getTailoredTextOrDefault(k,b))}},9066:function(ie,ve,v){v.d(ve,{Q:function(){return l},X:function(){return n}});var c=v(8955);function l(g,V){if(0!==V.length){c.fF.assert(function(){return g.nodes().length===V.length||g.size()===V.length},"data length should match dom element count");var S=g.selectAll("title").data(function(h,D){return[V[D]]});S.enter().append("title").merge(S).text(function(h){return h}),S.exit().remove()}}function n(g){return _.reduce(g,function(P,S,h){var D=S.value;return null==D&&(D=S.kpiValue&&S.kpiValue.value),h>0?"".concat(P," ").concat(S.displayName," ").concat(D,"."):"".concat(S.displayName," ").concat(D,".")},"")}},5958:function(ie,ve,v){v.d(ve,{wx:function(){return c}});var c=function(){function S(h){this.matrix=h||{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}return S.prototype.applyToPoint=function(h){if(!h)return h;var D=this.matrix;return{x:D.m00*h.x+D.m01*h.y+D.m02,y:D.m10*h.x+D.m11*h.y+D.m12}},S.prototype.applyToRect=function(h){if(!h)return h;var D=h.left,b=h.top,N=this.matrix,F=0!==N.m01||0!==N.m10;if(!F&&1===N.m00&&1===N.m11)return{left:D+N.m02,top:b+N.m12,width:h.width,height:h.height};var Y,j,G,I,A=h.left+h.width,k=h.top+h.height;if(F){var E=N.m00*D+N.m01*b+N.m02,T=N.m10*D+N.m11*b+N.m12,m=N.m00*D+N.m01*k+N.m02,z=N.m10*D+N.m11*k+N.m12,R=N.m00*A+N.m01*b+N.m02,w=N.m10*A+N.m11*b+N.m12,B=N.m00*A+N.m01*k+N.m02,C=N.m10*A+N.m11*k+N.m12;Y=Math.min(E,m,R,B),j=Math.max(E,m,R,B),G=Math.min(T,z,w,C),I=Math.max(T,z,w,C)}else E=N.m00*D+N.m02,T=N.m11*b+N.m12,B=N.m00*A+N.m02,C=N.m11*k+N.m12,Y=Math.min(E,B),j=Math.max(E,B),G=Math.min(T,C),I=Math.max(T,C);return{left:Y,top:G,width:j-Y,height:I-G}},S.prototype.translate=function(h,D){if(0!==h||0!==D){var b=function(S,h){return{m00:1,m01:0,m02:S,m10:0,m11:1,m12:h}}(h,D);this.matrix=P(this.matrix,b),this._inverse=null}},S.prototype.scale=function(h,D){if(1!==h||1!==D){var b=function(S,h){return{m00:S,m01:0,m02:0,m10:0,m11:h,m12:0}}(h,D);this.matrix=P(this.matrix,b),this._inverse=null}},S.prototype.rotate=function(h){if(0!==h){var D=function(S){var h=S,D=Math.sin(h),b=Math.cos(h);return{m00:b,m01:-D,m02:0,m10:D,m11:b,m12:0}}(h);this.matrix=P(this.matrix,D),this._inverse=null}},S.prototype.add=function(h){h&&(this.matrix=P(this.matrix,h.matrix),this._inverse=null)},S.prototype.getInverse=function(){return this._inverse||(this._inverse=new S(function(S){var D=1/(S.m00*S.m11-S.m01*S.m10);return{m00:S.m11*D,m01:-S.m01*D,m02:(S.m01*S.m12-S.m02*S.m11)*D,m10:-S.m10*D,m11:S.m00*D,m12:-(S.m00*S.m12-S.m10*S.m02)*D}}(this.matrix))),this._inverse},S}();function P(S,h){return{m00:S.m00*h.m00+S.m01*h.m10,m01:S.m00*h.m01+S.m01*h.m11,m02:S.m00*h.m02+S.m01*h.m12+S.m02,m10:S.m10*h.m00+S.m11*h.m10,m11:S.m10*h.m01+S.m11*h.m11,m12:S.m10*h.m02+S.m11*h.m12+S.m12}}},1345:function(ie,ve,v){v.d(ve,{B:function(){return n}});var c=v(8955),l=v(6023),n=function(){function g(V,P){this.pt=V,this.px=P}return g.createFromPt=function(V,P){return c.fF.assert(function(){return _.isFinite(V)},"pt is not a number"),P&&(V=_.round(V,P)),new g(V,l.FP.fromPointToPixel(V))},g.createFromPx=function(V,P){return c.fF.assert(function(){return _.isFinite(V)},"px is not a number"),P&&(V=_.round(V,P)),new g(l.FP.toPoint(V),V)},g.createFromElement=function(V){var P=V.css("font-size");return _.isEmpty(P)?void 0:g.createFromCSS(P)},g.createFromCSS=function(V,P){c.fF.assertValue(V,"fontSizeCSS");var S=V.slice(-2).toLowerCase();c.fF.assert(function(){return"pt"===S||"px"===S},"expected an absolute size");var h=parseFloat(V.slice(0,-2));switch(c.fF.assert(function(){return!isNaN(h)},"value is NaN"),S){case"px":return g.createFromPx(h,P);case"pt":return g.createFromPt(h,P);default:c.fF.assertFail("Can not convert unit '".concat(S,"' to a FontSize"))}},g.prototype.equals=function(V){return this.pt===V.pt&&this.px===V.px},g}()},2723:function(ie,ve,v){v.d(ve,{e_:function(){return l},g:function(){return c},t2:function(){return g},tQ:function(){return n}});var c="Slider_Degree",l="Numeric_Pixel",n="Slider_Weight",g="Slider_Percent"},3395:function(ie,ve,v){v.d(ve,{A1:function(){return B},FX:function(){return d},IC:function(){return C},Pi:function(){return z},Sc:function(){return w},UR:function(){return I},e9:function(){return T},mO:function(){return R},nv:function(){return m},tJ:function(){return E},u3:function(){return F},vW:function(){return G}});var c=v(6976),l=v(8955),n=v(9249),g=v(8974),V=v(2348),P=v(8871),S=v(6802),h=v(8540),D=v(8416),b=v(8120),N=v(9791),f=v(3440),F='"',A=function(){function u(y,M,L,O,H,Q){this.objectName=y,this.propertyName=M,this.defaultValue=L,this.usage=O,this.fallbackProperties=Q,this.getterFunction=H||V.NA}return u.prototype.getValue=function(y,M,L,O,H,Q){void 0===M&&(M=!1);var X=this.getterFunction(y,this,this.defaultValue,H);if(H&&void 0===X&&(X=this.getValue(y,M)),L&&!L(y,this,H)&&!_.isNil(O)&&(X=O),void 0===X&&(_.isEmpty(this.fallbackProperties)||this.fallbackProperties.forEach(function(W,J){X=W.getValue(y,M,void 0,void 0,Q&&Q[J])})),!M&&"string"==typeof X)switch(this.usage){case"attribute":X=X.replace(u.AttributeDelimiter,F+F);break;case"unsafeTextContent":X=(0,g.HZ)(X);break;case"codeOnly":case"safeTextContent":break;default:l.fF.assertNever(this.usage)}return X},u.prototype.setInstanceProperty=function(y,M,L,O,H){var Q=this.getValue(M,!0,L,O,H);return y&&y.properties&&(y.properties[this.propertyName]=Q),Q},u.prototype.setInstanceValidValues=function(y,M){y.validValues||(y.validValues={}),y.validValues[this.propertyName]=M},u.AttributeDelimiter=new RegExp(F,"g"),u}(),k="foregroundNeutralLight",j="foregroundNeutralSecondary",G=h.wI,I=4,E=h.YP,T=0,m=h.RH,z=2,R=h.j0,w=1,B=h.YP,C=0,d=function(){function u(y){var M=this;this.colorHelper=P.v.create(y);var L=function(H,Q,X,W){return M.colorHelper.getColorForProperty(H,Q,X,W)};this.PropGridVerticalColor=new A(u.ObjectGrid,"gridVerticalColor",k,"attribute",L),this.PropGridHorizontalColor=new A(u.ObjectGrid,"gridHorizontalColor",k,"attribute",L),this.PropGridOutlineColor=new A(u.ObjectGrid,"outlineColor","foregroundNeutralTertiaryAlt","attribute",L),this.PropRowsOutlineColor=new A(u.ObjectRowHeaders,"outlineColor",void 0,"attribute",L),this.PropColumnsOutlineColor=new A(u.ObjectColumnHeaders,"outlineColor",void 0,"attribute",L),this.PropValuesOutlineColor=new A(u.ObjectValues,"outlineColor",void 0,"attribute",L),this.PropTotalOutlineColor=new A(u.ObjectTotal,"outlineColor",void 0,"attribute",L),this.PropColumnsFontColor=new A(u.ObjectColumnHeaders,"fontColor",j,"attribute",L),this.PropColumnsBackColor=new A(u.ObjectColumnHeaders,"backColor",void 0,"attribute",L),this.PropRowsFontColor=new A(u.ObjectRowHeaders,"fontColor",j,"attribute",L),this.PropRowsBackColor=new A(u.ObjectRowHeaders,"backColor",void 0,"attribute",L),this.PropRowsExpandCollapseButtonsColor=new A(u.ObjectRowHeaders,"expandCollapseButtonsColor",void 0,"attribute",L),this.PropValuesFontColor=new A(u.ObjectValues,"fontColor",void 0,"attribute",L),this.PropValuesFontColorPrimary=new A(u.ObjectValues,"fontColorPrimary",c.fA,"attribute",L),this.PropValuesFontColorSecondary=new A(u.ObjectValues,"fontColorSecondary",c.fA,"attribute",L),this.PropValuesBackColor=new A(u.ObjectValues,"backColor",void 0,"attribute",L),this.PropValuesBackColorPrimary=new A(u.ObjectValues,"backColorPrimary",void 0,"attribute",L),this.PropValuesBackColorSecondary=new A(u.ObjectValues,"backColorSecondary",void 0,"attribute",L),this.PropTotalFontColor=new A(u.ObjectTotal,"fontColor",c.fA,"attribute",L),this.PropTotalBackColor=new A(u.ObjectTotal,"backColor",void 0,"attribute",L),this.PropSubTotalsFontColor=new A(u.ObjectSubTotals,"fontColor",void 0,"attribute",L),this.PropSubTotalsBackColor=new A(u.ObjectSubTotals,"backColor",void 0,"attribute",L),this.PropGrandTotalFontColor=new A(u.ObjectTotal,"fontColor",void 0,"attribute",L),this.PropGrandTotalBackColor=new A(u.ObjectTotal,"backColor",void 0,"attribute",L),this.PropColumnGrandTotalFontColor=new A(u.ObjectColumnTotal,"fontColor",void 0,"attribute",L),this.PropColumnGrandTotalBackColor=new A(u.ObjectColumnTotal,"backColor",void 0,"attribute",L),this.PropRowGrandTotalFontColor=new A(u.ObjectRowTotal,"fontColor",void 0,"attribute",L),this.PropRowGrandTotalBackColor=new A(u.ObjectRowTotal,"backColor",void 0,"attribute",L),this.PropColumnFormattingFontColor=new A(u.ObjectColumnFormatting,"fontColor",void 0,"attribute",L),this.PropColumnFormattingBackColor=new A(u.ObjectColumnFormatting,"backColor",void 0,"attribute",L),this.PropSparklinesDataColor=new A(u.ObjectSparklines,"dataColor",{solid:{color:P.v.getDataColorByIndex(y,0)}},"attribute"),this.PropSparklinesMarkerColor=new A(u.ObjectSparklines,"markerColor",{solid:{color:P.v.getDataColorByIndex(y,0)}},"attribute")}return u.ObjectGeneral="general",u.ObjectGrid="grid",u.ObjectColumnHeaders="columnHeaders",u.ObjectRowHeaders="rowHeaders",u.ObjectValues="values",u.ObjectTotal="total",u.ObjectColumnTotal="columnTotal",u.ObjectRowTotal="rowTotal",u.ObjectSubTotals="subTotals",u.ObjectColumnFormatting="columnFormatting",u.ObjectColumnWidth="columnWidth",u.ObjectSparklines="sparklines",u.ObjectAccessibility="accessibility",u.PropColumnFormatString=new A(u.ObjectGeneral,"formatString",void 0,"codeOnly"),u.PropGeneralTableTotals=new A(u.ObjectGeneral,"totals",!0,"codeOnly"),u.PropGeneralMatrixRowSubtotals=new A(u.ObjectGeneral,"rowSubtotals",!0,"codeOnly"),u.PropGeneralMatrixColumnSubtotals=new A(u.ObjectGeneral,"columnSubtotals",!0,"codeOnly"),u.PropGeneralAutoSizeColumns=new A(u.ObjectGeneral,"autoSizeColumnWidth",!0,"attribute"),u.PropGeneralTextSize=new A(u.ObjectGeneral,"textSize",8,"attribute"),u.PropGridPivotTableTextSize=new A(u.ObjectGrid,"textSize",8,"attribute"),u.PropGridVertical=new A(u.ObjectGrid,"gridVertical",!1,"codeOnly"),u.PropGridVerticalWeight=new A(u.ObjectGrid,"gridVerticalWeight",1,"attribute"),u.PropGridHorizontalTable=new A(u.ObjectGrid,"gridHorizontal",!0,"codeOnly"),u.PropGridHorizontalMatrix=new A(u.ObjectGrid,"gridHorizontal",!1,"codeOnly"),u.PropGridHorizontalWeight=new A(u.ObjectGrid,"gridHorizontalWeight",1,"attribute"),u.PropGridRowPadding=new A(u.ObjectGrid,"rowPadding",0,"attribute"),u.PropGridOutlineStyle=new A(u.ObjectGrid,"outlineStyle",void 0,"codeOnly"),u.PropGridOutline=new A(u.ObjectGrid,"outline",void 0,"codeOnly"),u.PropGridOutlineWeight=new A(u.ObjectGrid,"outlineWeight",1,"attribute"),u.PropGridImageHeight=new A(u.ObjectGrid,"imageHeight",75,"attribute"),u.PropGridImageWidth=new A(u.ObjectGrid,"imageWidth",void 0,"attribute",void 0,[u.PropGridImageHeight]),u.PropColumnsFontFamily=new A(u.ObjectColumnHeaders,"fontFamily",n.Wn.regular.css,"attribute"),u.PropColumnsOutline=new A(u.ObjectColumnHeaders,"outline",h.wI,"codeOnly"),u.PropColumnsOutlineStyle=new A(u.ObjectColumnHeaders,"outlineStyle",void 0,"codeOnly"),u.PropColumnsNewVisualOutline=new A(u.ObjectColumnHeaders,"outline",void 0,"codeOnly"),u.PropColumnsAlignment=new A(u.ObjectColumnHeaders,"alignment",f.d7,"codeOnly"),u.PropColumnsAlignmentTitle=new A(u.ObjectColumnHeaders,"titleAlignment",f.d7,"codeOnly",null,[u.PropColumnsAlignment]),u.PropColumnPivotTableAutoSizeColumns=new A(u.ObjectColumnHeaders,"autoSizeColumnWidth",!0,"codeOnly"),u.PropColumnsWordWrap=new A(u.ObjectColumnHeaders,"wordWrap",!1,"codeOnly"),u.PropColumnsOutlineWeight=new A(u.ObjectColumnHeaders,"outlineWeight",void 0,"attribute"),u.PropColumnsUrlIcon=new A(u.ObjectColumnHeaders,"urlIcon",!1,"codeOnly"),u.PropColumnsFontSize=new A(u.ObjectColumnHeaders,"fontSize",void 0,"attribute",void 0,[u.PropGridPivotTableTextSize]),u.PropColumnsBold=new A(u.ObjectColumnHeaders,"bold",!1,"codeOnly"),u.PropColumnsItalic=new A(u.ObjectColumnHeaders,"italic",!1,"codeOnly"),u.PropColumnsUnderline=new A(u.ObjectColumnHeaders,"underline",!1,"codeOnly"),u.PropRowsSteppedLayout=new A(u.ObjectRowHeaders,"stepped",!0,"codeOnly"),u.PropRowsSteppedLayoutIndentation=new A(u.ObjectRowHeaders,"steppedLayoutIndentation",10,"attribute"),u.PropRowsFontFamily=new A(u.ObjectRowHeaders,"fontFamily",n.Wn.regular.css,"attribute"),u.PropRowsOutline=new A(u.ObjectRowHeaders,"outline",h.RH,"codeOnly"),u.PropRowsPivotTableOutline=new A(u.ObjectRowHeaders,"outline",void 0,"codeOnly"),u.PropRowsOutlineStyle=new A(u.ObjectRowHeaders,"outlineStyle",void 0,"codeOnly"),u.PropRowsAlignment=new A(u.ObjectRowHeaders,"alignment",f.d7,"codeOnly"),u.PropRowsWordWrap=new A(u.ObjectRowHeaders,"wordWrap",!1,"codeOnly"),u.PropRowsOutlineWeight=new A(u.ObjectRowHeaders,"outlineWeight",void 0,"attribute"),u.PropRowsUrlIcon=new A(u.ObjectRowHeaders,"urlIcon",!1,"codeOnly"),u.PropRowsFontSize=new A(u.ObjectRowHeaders,"fontSize",void 0,"attribute",void 0,[u.PropGridPivotTableTextSize]),u.PropRowsShowExpandCollapseButtons=new A(u.ObjectRowHeaders,"showExpandCollapseButtons",!1,"codeOnly"),u.PropRowsExpandCollapseButtonsSize=new A(u.ObjectRowHeaders,"expandCollapseButtonsSize",void 0,"attribute",void 0,[u.PropRowsFontSize]),u.PropRowsBold=new A(u.ObjectRowHeaders,"bold",!1,"codeOnly"),u.PropRowsItalic=new A(u.ObjectRowHeaders,"italic",!1,"codeOnly"),u.PropRowsUnderline=new A(u.ObjectRowHeaders,"underline",!1,"codeOnly"),u.PropRowsExpandCompositeHierarchy=new A(u.ObjectRowHeaders,"expandCompositeHierarchy",!1,"codeOnly"),u.PropValuesFontFamily=new A(u.ObjectValues,"fontFamily",n.Wn.regular.css,"attribute"),u.PropValuesBandedRowHeaders=new A(u.ObjectValues,"bandedRowHeaders",!0,"codeOnly"),u.PropValuesOutline=new A(u.ObjectValues,"outline",h.YP,"codeOnly"),u.PropValuesOutlineStyle=new A(u.ObjectValues,"outlineStyle",void 0,"codeOnly"),u.PropValuesNewVisualOutline=new A(u.ObjectValues,"outline",void 0,"codeOnly"),u.PropValuesUrlIcon=new A(u.ObjectValues,"urlIcon",!1,"codeOnly"),u.PropValuesWordWrap=new A(u.ObjectValues,"wordWrap",!1,"codeOnly"),u.PropValuesOutlineWeight=new A(u.ObjectValues,"outlineWeight",void 0,"attribute"),u.PropValuesOnRow=new A(u.ObjectValues,"valuesOnRow",!1,"attribute"),u.PropValuesFontSize=new A(u.ObjectValues,"fontSize",void 0,"attribute",void 0,[u.PropGridPivotTableTextSize]),u.PropValuesIcon=new A(u.ObjectValues,"icon",void 0,"attribute"),u.PropValuesWebURL=new A(u.ObjectValues,"webURL",void 0,"attribute"),u.PropValuesBold=new A(u.ObjectValues,"bold",!1,"codeOnly"),u.PropValuesItalic=new A(u.ObjectValues,"italic",!1,"codeOnly"),u.PropValuesUnderline=new A(u.ObjectValues,"underline",!1,"codeOnly"),u.PropTotalTableExTotals=new A(u.ObjectTotal,"totals",!0,"codeOnly"),u.PropTotalTableExTotalLabel=new A(u.ObjectTotal,"label",null,"safeTextContent"),u.PropTotalOutline=new A(u.ObjectTotal,"outline",h.j0,"codeOnly"),u.PropTotalTableExOutline=new A(u.ObjectTotal,"outline",void 0,"codeOnly"),u.PropTotalOutlineStyle=new A(u.ObjectTotal,"outlineStyle",void 0,"codeOnly"),u.PropTotalOutlineWeight=new A(u.ObjectTotal,"outlineWeight",void 0,"attribute"),u.PropTotalFontFamily=new A(u.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[u.PropValuesFontFamily]),u.PropTotalFontSize=new A(u.ObjectTotal,"fontSize",void 0,"attribute",void 0,[u.PropValuesFontSize]),u.PropTotalBold=new A(u.ObjectTotal,"bold",!0,"codeOnly"),u.PropTotalItalic=new A(u.ObjectTotal,"italic",!1,"codeOnly"),u.PropTotalUnderline=new A(u.ObjectTotal,"underline",!1,"codeOnly"),u.PropSubTotalsPivotTableRowSubtotals=new A(u.ObjectSubTotals,"rowSubtotals",!0,"codeOnly"),u.PropSubTotalsPivotTableRowSubtotalsLabel=new A(u.ObjectSubTotals,"rowSubtotalsLabel",null,"safeTextContent"),u.PropSubTotalsPivotTableRowSubtotalsPerLevel=new A(u.ObjectSubTotals,"perRowLevel",!1,"codeOnly"),u.PropSubTotalsPivotTableColumnSubtotals=new A(u.ObjectSubTotals,"columnSubtotals",!0,"codeOnly"),u.PropSubTotalsPivotTableColumnSubtotalsLabel=new A(u.ObjectSubTotals,"columnSubtotalsLabel",null,"safeTextContent"),u.PropSubTotalsPivotTableColumnSubtotalsPerLevel=new A(u.ObjectSubTotals,"perColumnLevel",!1,"codeOnly"),u.PropSubTotalsPivotTableLevelSubtotalEnabled=new A(u.ObjectSubTotals,"levelSubtotalEnabled",!0,"codeOnly"),u.PropSubTotalsPivotTableLevelSubtotalLabel=new A(u.ObjectSubTotals,"levelSubtotalLabel",null,"safeTextContent"),u.PropSubTotalsPivotTableRowSubtotalsPosition=new A(u.ObjectSubTotals,"rowSubtotalsPosition",void 0,"codeOnly",function(y,M,L){var O=(0,V.NA)(y,M,L);return null!=O?O:u.PropRowsSteppedLayout.getValue(y)?D.we:D.I}),u.PropSubTotalsApplyToHeaders=new A(u.ObjectSubTotals,"applyToHeaders",!1,"codeOnly"),u.PropSubTotalsFontFamily=new A(u.ObjectSubTotals,"fontFamily",void 0,"attribute",void 0,[u.PropValuesFontFamily]),u.PropSubTotalsFontSize=new A(u.ObjectSubTotals,"fontSize",void 0,"attribute",void 0,[u.PropValuesFontSize]),u.PropSubTotalsBold=new A(u.ObjectSubTotals,"bold",!0,"codeOnly"),u.PropSubTotalsItalic=new A(u.ObjectSubTotals,"italic",!1,"codeOnly"),u.PropSubTotalsUnderline=new A(u.ObjectSubTotals,"underline",!1,"codeOnly"),u.PropGrandTotalApplyToHeaders=new A(u.ObjectTotal,"applyToHeaders",!1,"codeOnly"),u.PropGrandTotalFontFamily=new A(u.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[u.PropSubTotalsFontFamily]),u.PropGrandTotalFontSize=new A(u.ObjectTotal,"fontSize",void 0,"attribute",void 0,[u.PropSubTotalsFontSize]),u.PropGrandTotalBold=new A(u.ObjectTotal,"bold",!0,"codeOnly"),u.PropGrandTotalItalic=new A(u.ObjectTotal,"italic",!1,"codeOnly"),u.PropGrandTotalUnderline=new A(u.ObjectTotal,"underline",!1,"codeOnly"),u.PropColumnGrandTotalApplyToHeaders=new A(u.ObjectColumnTotal,"applyToHeaders",!1,"codeOnly"),u.PropColumnGrandTotalFontFamily=new A(u.ObjectColumnTotal,"fontFamily",void 0,"attribute",void 0,[u.PropSubTotalsFontFamily]),u.PropColumnGrandTotalFontSize=new A(u.ObjectColumnTotal,"fontSize",void 0,"attribute",void 0,[u.PropSubTotalsFontSize]),u.PropColumnGrandTotalBold=new A(u.ObjectColumnTotal,"bold",!0,"codeOnly"),u.PropColumnGrandTotalItalic=new A(u.ObjectColumnTotal,"italic",!1,"codeOnly"),u.PropColumnGrandTotalUnderline=new A(u.ObjectColumnTotal,"underline",!1,"codeOnly"),u.PropRowGrandTotalApplyToHeaders=new A(u.ObjectRowTotal,"applyToHeaders",!1,"codeOnly"),u.PropRowGrandTotalFontFamily=new A(u.ObjectRowTotal,"fontFamily",void 0,"attribute",void 0,[u.PropSubTotalsFontFamily]),u.PropRowGrandTotalFontSize=new A(u.ObjectRowTotal,"fontSize",void 0,"attribute",void 0,[u.PropSubTotalsFontSize]),u.PropRowGrandTotalBold=new A(u.ObjectRowTotal,"bold",!0,"codeOnly"),u.PropRowGrandTotalItalic=new A(u.ObjectRowTotal,"italic",!1,"codeOnly"),u.PropRowGrandTotalUnderline=new A(u.ObjectRowTotal,"underline",!1,"codeOnly"),u.PropColumnFormattingDisplayUnits=new A(u.ObjectColumnFormatting,"labelDisplayUnits",1,"codeOnly",V.NA),u.PropColumnFormattingPrecision=new A(u.ObjectColumnFormatting,"labelPrecision",void 0,"codeOnly",V.NA),u.PropColumnFormattingAlignment=new A(u.ObjectColumnFormatting,"alignment",f.d7,"codeOnly"),u.PropColumnFormattingStyleHeader=new A(u.ObjectColumnFormatting,"styleHeader",!1,"codeOnly"),u.PropColumnFormattingStyleValues=new A(u.ObjectColumnFormatting,"styleValues",!0,"codeOnly"),u.PropColumnFormattingStyleSubtotals=new A(u.ObjectColumnFormatting,"styleSubtotals",!0,"codeOnly"),u.PropColumnFormattingDataBars=new A(u.ObjectColumnFormatting,"dataBars",void 0,"codeOnly"),u.PropSparklinesChartType=new A(u.ObjectSparklines,"chartType",b.jv,"codeOnly"),u.PropSparklinesStrokeWidth=new A(u.ObjectSparklines,"strokeWidth",1,"attribute"),u.PropSparklinesMarkerType=new A(u.ObjectSparklines,"markers",N.qC,"codeOnly"),u.PropSparklinesMarkerSize=new A(u.ObjectSparklines,"markerSize",3,"attribute"),u.PropSparklinesMarkerShape=new A(u.ObjectSparklines,"markerShape",S.Xw,"codeOnly"),u.PropColumnFormattingStyleTotal=new A(u.ObjectColumnFormatting,"styleTotal",!1,"codeOnly"),u.PropColumnWidthValue=new A(u.ObjectColumnWidth,"value",void 0,"attribute"),u.PropAltTextValue=new A(u.ObjectAccessibility,"altTextColumns",void 0,"attribute"),u.ProprowWithReferenceText=new A(u.ObjectAccessibility,"rowWithReferenceText",void 0,"attribute"),u.PropUnfrozenRowHeaders=new A(u.ObjectRowHeaders,"unfrozen",!1,"codeOnly"),u}()},1290:function(ie,ve,v){v.d(ve,{y:function(){return B},G:function(){return C}});var c=v(8955),l=v(2348),n=v(8871);function g(d,u,y,M){return new V(d,u,y,M)}var V=function(){function d(u,y,M,L){if(this.columnReader=u,this.objectReader=y,this.dataReader=M,L&&L.colorOptions){this.style=L.colorOptions.visualStyle,this.valueRole=L.colorOptions.valueRole;var O=(0,l.W7)(this.objectReader.getStaticObjects(),d.defaultColorProp),H=(0,l.W7)(this.objectReader.getStaticObjects(),d.fillProp);this.colorHelper=n.v.create(this.style,d.fillProp,L.colorOptions.ignoreDefaultColor?void 0:O,L.colorOptions.ignoreDefaultCategoryColor?void 0:H),this.colorReaderIsValid=!0}else this.colorReaderIsValid=!1}return d.prototype.createByCategory=function(u,y){if(this.colorReaderIsValid)return this.colorHelper.getColorForSeriesValue(this.objectReader.getCategoryDataObjects(u),this.columnReader.getCategoryColumnIdentityFields(),this.getCategoryValueForColor(u),y);c.fF.assertFail("You must create the DataViewCategoricalReader with color options to use color functions.")},d.prototype.createBySeries=function(u,y,M,L){if(this.colorReaderIsValid){var O="",H=this.columnReader.getStaticRoleInfo(u);return H&&H.roleToUse&&(O=this.columnReader.getValueQueryName(H.roleToUse,H.seriesIndexToUse)||""),this.columnReader.hasDynamicSeries()?this.colorHelper.getColorForSeriesValue(this.objectReader.getSeriesDataObjects(u),this.columnReader.getDynamicSeriesColumnIdentityFields(),this.dataReader.getSeriesName(u),M,L):this.columnReader.hasStaticSeries()?this.colorHelper.getColorForStaticSeries(this.objectReader.getSeriesDataObjects(u),O,M,L):this.columnReader.hasCategories()&&null!=y?this.colorHelper.getColorForMeasure(this.objectReader.getCategoryDataObjects(y),O,M,L):this.colorHelper.getColorForMeasure(this.objectReader.getValueMetadataObjects(this.valueRole,u),O,M,L)}c.fF.assertFail("You must create the DataViewCategoricalReader with color options to use color functions.")},d.prototype.createByValue=function(u,y){if(this.colorReaderIsValid){var M=this.columnReader.getStaticRoleInfo(u);if(M&&null!=M.roleToUse){var L=this.columnReader.getValueQueryName(M.roleToUse,0)||"";return this.colorHelper.getColorForMeasure(this.objectReader.getValueMetadataObjects(M.roleToUse,M.seriesIndexToUse),L,y)}c.fF.assertFail("You cannot use colors.createByValue if you do not initialize the reader with a valueRole in colorOptions.")}else c.fF.assertFail("You must create the DataViewCategoricalReader with color options to use color functions.")},d.prototype.getCategoryValueForColor=function(u){var y=this.columnReader.getAllCategoryColumns();if(y)return _.head(y).values[u]},d.defaultColorProp={objectName:"dataPoint",propertyName:"defaultColor"},d.fillProp={objectName:"dataPoint",propertyName:"fill"},d}(),P=v(3599);function S(d,u){return new h(d,u)}var h=function(){function d(u,y){var M,L,O;if(c.fF.assertValue(u,"dataView"),this.dataView=u,u&&(M=u.categorical),M&&(L=this.categories=M.categories),this.hasValidCategories=!_.isEmpty(L),y&&(this.staticSeriesRoleNames=y.staticSeriesRoleNames),M&&(O=M.values),this.dataHasAnyValidValues=!1,null!=O){var H=u.categorical.values.grouped(),Q={};if(H.length>0){this.grouped=H;var X=H[0].values;this.dataHasAnyValidValues=!!H[0].identity||!_.isEmpty(X)&&!_.isEmpty(X[0].values);for(var W=0,J=X.length;W<J;W++){var ee=X[W].source.roles;for(var le in ee)ee[le]&&(Q[le]||(Q[le]=[]),Q[le].push(W))}}this.valueRoleIndexMapping=Q,this.dataHasDynamicSeries=!!this.dataView.categorical.values.source}var Ne=this.totalStaticSeriesCount=this.getValueColumnCount(this.staticSeriesRoleNames);this.dataHasStaticSeries=!this.dataHasDynamicSeries&&Ne>1}return d.prototype.hasCategories=function(){return this.hasValidCategories},d.prototype.hasCategoryWithRole=function(u){return-1!==(0,P.pc)(this.categories,u)},d.prototype.getCategoryCount=function(){return this.hasValidCategories?_.last(this.categories).values.length:0},d.prototype.hasCompositeCategories=function(){return!!this.hasValidCategories&&this.categories.length>1},d.prototype.getCategoryColumn=function(u){if(this.hasValidCategories){var y=this.categories;return y[u?(0,P.pc)(y,u):0]}},d.prototype.getCategoryMetadataColumn=function(u){var y=this.getCategoryColumn(u);if(y)return y.source},d.prototype.getCategoryColumnIdentityFields=function(u){var y=this.getCategoryColumn(u);return y?y.identityFields:void 0},d.prototype.getAllCategoryColumns=function(u){if(null==u)return this.categories;if(this.hasValidCategories){var y=this.categories,M=u?(0,P.zT)(y,u):[0];return _.map(M,function(L){return y[L]})}return[]},d.prototype.hasValues=function(u){return!!this.valueRoleIndexMapping&&!_.isEmpty(this.valueRoleIndexMapping[u])},d.prototype.hasAnyValidValues=function(){return this.dataHasAnyValidValues},d.prototype.getValueColumnCount=function(u){var M,y=this,L=0;return"string"==typeof u?this.valueRoleIndexMapping&&this.hasValues(u)&&(L=null===(M=this.valueRoleIndexMapping[u])||void 0===M?void 0:M.length):this.valueRoleIndexMapping&&Array.isArray(u)&&(L=_.sum(_.map(u,function(O){var H;return null===(H=y.valueRoleIndexMapping[O])||void 0===H?void 0:H.length}))),L},d.prototype.hasHighlights=function(){return!!(this.grouped&&this.grouped[0]&&this.grouped[0].values[0])&&!_.isEmpty(this.grouped[0].values[0].highlights)},d.prototype.getValueColumn=function(u,y){if(void 0===y&&(y=0),this.hasValues(u))return this.dataHasDynamicSeries?this.getValueColumnInternal(u,y,0):this.getValueColumnInternal(u,0,y)},d.prototype.getValueColumnBySeries=function(u){var y=this.getStaticRoleInfo(u);if(y)return this.getValueColumn(y.roleToUse,y.seriesIndexToUse)},d.prototype.getAllValueColumnsForRole=function(u,y){if(void 0===y&&(y=0),this.hasValues(u)){for(var L=this.valueRoleIndexMapping[u].length,O=[],H=0;H<L;H++)O.push(this.getValueColumnInternal(u,y,H));return O}},d.prototype.getValueColumnInternal=function(u,y,M){if(this.hasValues(u))return this.grouped[y].values[this.valueRoleIndexMapping[u][M]]},d.prototype.getValueMetadataColumn=function(u,y){void 0===y&&(y=0);var M=this.getValueColumn(u,y);if(M)return M.source},d.prototype.getValueMetadataColumnBySeries=function(u){var y=this.getValueColumnBySeries(u);if(y)return y.source},d.prototype.getAllValueMetadataColumnsForRole=function(u,y){if(void 0===y&&(y=0),this.hasValues(u))return _.map(this.getAllValueColumnsForRole(u,y),function(M){return M.source})},d.prototype.getAllMetadataRelatedObjects=function(){var u=[];return this.dataView&&this.dataView.metadata&&this.dataView.metadata.columns&&(u=_.filter(this.dataView.metadata.columns,function(y){return null!=y.relatedObjects})),_.isEmpty(u)?void 0:u},d.prototype.getValueQueryName=function(u,y){var M=this.getValueMetadataColumn(u,y);if(M)return M.queryName},d.prototype.getAllValueQueryNames=function(u,y){var M=this.getAllValueMetadataColumnsForRole(u,y);if(!_.isEmpty(M))return _.map(M,function(L){return L.queryName})},d.prototype.getAllValueRoles=function(){var u=_.keys(this.valueRoleIndexMapping);if(!_.isEmpty(u))return u},d.prototype.hasDynamicSeries=function(){return this.dataHasDynamicSeries},d.prototype.hasStaticSeries=function(){return this.dataHasStaticSeries},d.prototype.getSeriesCount=function(u){return this.dataHasAnyValidValues?this.dataHasDynamicSeries?u&&!this.hasValues(u)?0:this.grouped.length:_.isEmpty(this.staticSeriesRoleNames)?this.grouped?this.grouped.length:0:u?this.getValueColumnCount(u):this.totalStaticSeriesCount:0},d.prototype.getSeriesValueColumns=function(){var u=this.dataHasDynamicSeries;if(c.fF.assert(function(){return u},"getSeriesValueColumns should not be called when there is no dynamic series"),u)return this.dataView.categorical.values},d.prototype.getSeriesMetadataColumn=function(){var u=this.getSeriesValueColumns();if(u)return u.source},d.prototype.getSeriesValueColumnGroup=function(u){var y=this.dataHasDynamicSeries;if(c.fF.assert(function(){return y},"getSeriesValueColumnGroup should not be called when there is no dynamic series"),this.dataHasAnyValidValues&&y)return this.grouped[u]},d.prototype.getDynamicSeriesColumnIdentityFields=function(){var u=this.getSeriesValueColumns();return u?u.identityFields:void 0},d.prototype.getStaticObjects=function(){if(this.dataView&&this.dataView.metadata&&this.dataView.metadata.objects)return this.dataView.metadata.objects},d.prototype.getMetadataColumns=function(u){var y=[];return this.dataView&&this.dataView.metadata&&this.dataView.metadata.columns&&(y=_.filter(this.dataView.metadata.columns,function(M){return null!=M.roles&&!0===M.roles[u]})),_.isEmpty(y)?void 0:y},d.prototype.getStaticRoleInfo=function(u){if(!this.seriesIndexToRoleInfoMap&&(this.seriesIndexToRoleInfoMap={},this.staticSeriesRoleNames))for(var y=0,M=0,L=this.staticSeriesRoleNames;M<L.length;M++)for(var O=L[M],H=this.getSeriesCount(O),Q=0;Q<H;Q++)this.seriesIndexToRoleInfoMap[y]={roleToUse:O,seriesIndexToUse:Q},y++;return this.seriesIndexToRoleInfoMap[u]},d}(),D=v(3188),b=v(6348),N=v(910);function f(d,u){return new F(d,u)}var F=function(){function d(u,y){this.columnReader=u,this.dataHasDynamicSeries=u.hasDynamicSeries(),this.dataHasStaticSeries=u.hasStaticSeries(),y&&(this.staticSeriesRoleNames=y.staticSeriesRoleNames,this.formatStringProp=y.formatStringProp,this.errorRangeProp=y.errorRangeProp)}return d.prototype.hasCategories=function(){return this.columnReader.hasCategories()},d.prototype.hasCategoryWithRole=function(u){return this.columnReader.hasCategoryWithRole(u)},d.prototype.hasCompositeCategories=function(){return this.columnReader.hasCompositeCategories()},d.prototype.getCategoryCount=function(){return this.columnReader.getCategoryCount()},d.prototype.getCategoryValue=function(u,y){var M=this.columnReader.getCategoryColumn(u);return M?M.values[y]:void 0},d.prototype.getAllCategoryValuesForRole=function(u,y){var M=this.columnReader.getAllCategoryColumns(u);return M?_.map(M,function(L){return L.values[y]}):void 0},d.prototype.getCategoryMetadataColumn=function(u){var y=this.columnReader.getCategoryColumn(u);return y?y.source:void 0},d.prototype.getCategoryDisplayName=function(u){var y=this.columnReader.getCategoryColumn(u);if(y&&y.source)return y.source.displayName},d.prototype.getAllCategoryDisplayNamesForRole=function(u){var y=this.columnReader.getAllCategoryColumns(u);if(y)return _.map(y,function(M){return M.source&&M.source.displayName})},d.prototype.getCategoryType=function(u){var y=this.columnReader.getCategoryMetadataColumn(u);if(y)return y.type},d.prototype.hasValues=function(u){return this.columnReader.hasValues(u)},d.prototype.hasHighlights=function(){return this.columnReader.hasHighlights()},d.prototype.getValue=function(u,y,M){if(void 0===M&&(M=0),this.hasValues(u)){var L=this.columnReader.getValueColumn(u,M);if(L)return L.values[y]}},d.prototype.getFormatString=function(u,y,M){if(void 0===M&&(M=0),c.fF.assertValue(this.formatStringProp,"formatStringProp"),this.hasValues(u)){var L=this.columnReader.getValueColumn(u,M);if(L)return(0,l.NA)(L.objects&&L.objects[y],this.formatStringProp)}},d.prototype.hasProperty=function(u,y,M,L){var O,H;void 0===y&&(y=0),c.fF.assertValue(M,"propertyIdentifier");var Q=this.columnReader.getStaticRoleInfo(y).roleToUse;if(!this.hasValues(Q))return!1;var X=this.columnReader.getValueColumn(Q,y);return!!X&&(L?X.highlightObjects&&X.highlightObjects[u]&&(null===(O=X.highlightObjects[u][M.objectName])||void 0===O?void 0:O.hasOwnProperty(M.propertyName)):X.objects&&X.objects[u]&&(null===(H=X.objects[u][M.objectName])||void 0===H?void 0:H.hasOwnProperty(M.propertyName)))},d.prototype.getObject=function(u,y,M,L,O){if(void 0===M&&(M=0),c.fF.assertValue(L,"propertyIdentifier"),this.hasValues(u)){var H=this.columnReader.getValueColumn(u,M);if(H)return(0,l.NA)(O?H.highlightObjects&&H.highlightObjects[y]:H.objects&&H.objects[y],L)}},d.prototype.getValueBySeries=function(u,y){var M=this.columnReader.getStaticRoleInfo(y);return this.getValue(M.roleToUse,u,M.seriesIndexToUse)},d.prototype.getObjectsBySeries=function(u,y,M,L){var O=this.columnReader.getStaticRoleInfo(y);return this.getObject(O.roleToUse,u,O.seriesIndexToUse,M,L)},d.prototype.getFormatStringBySeries=function(u,y){var M=this.columnReader.getStaticRoleInfo(y);return this.getFormatString(M.roleToUse,u,M.seriesIndexToUse)},d.prototype.getHighlight=function(u,y,M){var L=this;if(void 0===M&&(M=0),c.fF.assert(function(){return L.hasHighlights()},"getHighlight should not be called when there are no highlight values."),this.hasValues(u)&&this.hasHighlights()){var O=this.columnReader.getValueColumn(u,M);if(O)return O.highlights[y]}},d.prototype.getHighlightFormatString=function(u,y,M){var L=this;if(void 0===M&&(M=0),c.fF.assert(function(){return L.hasHighlights()},"getHighlightFormatString should not be called when there are no highlight values."),c.fF.assertValue(this.formatStringProp,"formatStringProp"),this.hasValues(u)&&this.hasHighlights()){var O=this.columnReader.getValueColumn(u,M);if(O&&O.highlightObjects)return(0,l.NA)(O.highlightObjects[y],this.formatStringProp)}},d.prototype.getErrorValues=function(u,y,M){void 0===y&&(y=0),c.fF.assertValue(this.errorRangeProp,"formatStringProp");var L=this.columnReader.getStaticRoleInfo(y);if(L&&this.hasValues(L.roleToUse)){var O=this.columnReader.getValueColumn(L.roleToUse,L.seriesIndexToUse);if(O)return(0,l.NA)(M?O.highlightObjects&&O.highlightObjects[u]:O.objects&&O.objects[u],this.errorRangeProp)}},d.prototype.getHighlightBySeries=function(u,y){var M=this.columnReader.getStaticRoleInfo(y);return this.getHighlight(M.roleToUse,u,M.seriesIndexToUse)},d.prototype.getHighlightFormatStringBySeries=function(u,y){var M=this.columnReader.getStaticRoleInfo(y);return this.getHighlightFormatString(M.roleToUse,u,M.seriesIndexToUse)},d.prototype.getFormatStringForRelatedObject=function(u,y,M){var L,O,H=this.getMetadataColumnMatchingRelatedObject(u,y,M);return(null==H?void 0:H.format)||(null===(O=null===(L=null==H?void 0:H.objects)||void 0===L?void 0:L.general)||void 0===O?void 0:O.formatString.valueOf())},d.prototype.getMetadataColumnMatchingRelatedObject=function(u,y,M){var L=[],O=this.columnReader.getAllMetadataRelatedObjects();if(O){var H={data:[(0,N.Ue)(null!=M?M:1)]};y&&(L.push((0,D.pi)((0,D.pi)({},H),{highlightMatching:1,metadata:y})),L.push((0,D.pi)((0,D.pi)({},H),{metadata:y}))),L.push((0,D.pi)((0,D.pi)({},H),{highlightMatching:1})),L.push(H),L.push(void 0);for(var Q=function(Ne){return O.find(function(Ae){var Se,we,Pe=null===(we=null===(Se=Ae.relatedObjects)||void 0===Se?void 0:Se[u.objectName])||void 0===we?void 0:we[u.propertyName];return Pe&&_.some(Pe,function(ze){return(0,b.fS)(ze,Ne)})})},X=0,W=L;X<W.length;X++){var ee=Q(W[X]);if(ee)return ee}}},d.prototype.getValueType=function(u,y){var M=this.columnReader.getValueMetadataColumn(u,y);if(M)return M.type},d.prototype.getAllValuesForRole=function(u,y,M){var L=this;if(void 0===M&&(M=0),c.fF.assert(function(){return!_.some(L.staticSeriesRoleNames,function(H){return H===u})},"getAllValuesForRole should not be called with a static series role.  Use getValue and a seriesIndex."),this.hasValues(u)){this.dataHasDynamicSeries||(M=0);var O=this.columnReader.getAllValueColumnsForRole(u,M);return _.map(O,function(H){return H.values[y]})}},d.prototype.getAllFormatStringsForRole=function(u,y,M){var L=this;if(void 0===M&&(M=0),c.fF.assert(function(){return!_.some(L.staticSeriesRoleNames,function(H){return H===u})},"getAllFormatStringsForRole should not be called with a static series role.  Use getValue and a seriesIndex."),c.fF.assertValue(this.formatStringProp,"formatStringProp"),this.hasValues(u)){this.dataHasDynamicSeries||(M=0);var O=this.columnReader.getAllValueColumnsForRole(u,M);return _.map(O,function(H){return(0,l.NA)(H.objects&&H.objects[y],L.formatStringProp)})}},d.prototype.getAllHighlightsForRole=function(u,y,M){var L=this;if(void 0===M&&(M=0),c.fF.assert(function(){return L.hasHighlights()},"getAllHighlightsForRole should not be called when there are no highlight values."),c.fF.assert(function(){return!_.some(L.staticSeriesRoleNames,function(H){return H===u})},"getAllHighlightsForRole should not be called with a static series role.  Use getHighlight and a seriesIndex."),this.hasValues(u)&&this.hasHighlights()){this.dataHasDynamicSeries||(M=0);var O=this.columnReader.getAllValueColumnsForRole(u,M);return _.map(O,function(H){return H.highlights[y]})}},d.prototype.getAllValueTypesForRole=function(u,y){var M=this.columnReader.getAllValueMetadataColumnsForRole(u,y);if(M)return _.map(M,function(L){return L.type})},d.prototype.getFirstNonNullValueForCategory=function(u,y){var M=this;if(this.hasValues(u)){var L=this.getSeriesCount();if(!this.dataHasDynamicSeries)return c.fF.assert(function(){return!M.dataHasStaticSeries},"getFirstNonNullValueForCategory shouldn't be called if you have a static series"),this.getValue(u,y);for(var O=0;O<L;O++){var H=this.getValue(u,y,O);if(null!=H)return H}}},d.prototype.getValueDisplayName=function(u){var y=this;if(c.fF.assert(function(){return!_.some(y.staticSeriesRoleNames,function(L){return L===u})||!y.columnReader.hasStaticSeries()},"getValueDisplayName shouldn't be called on the static series role if there is a static series.  Use getSeriesName."),this.hasValues(u)){var M=this.columnReader.getValueMetadataColumn(u);if(M)return M.displayName}},d.prototype.getAllValueDisplayNamesForRole=function(u){var y=this;if(c.fF.assert(function(){return!_.some(y.staticSeriesRoleNames,function(L){return L===u})},"getAllValueDisplayNamesForRole shouldn't be called on the static series role if you have a static series. Use getSeriesName."),this.hasValues(u)){var M=this.columnReader.getAllValueMetadataColumnsForRole(u);if(!_.isEmpty(M))return _.map(M,function(L){return L.displayName})}},d.prototype.getValueQueryName=function(u,y){return this.columnReader.getValueQueryName(u,y)},d.prototype.hasSeries=function(){return this.dataHasDynamicSeries||this.dataHasStaticSeries},d.prototype.getSeriesCount=function(){return this.columnReader.getSeriesCount()},d.prototype.getSeriesName=function(u){var y=this;if(c.fF.assert(function(){return y.hasSeries()},"getSeriesName should not be called when there is no series"),this.hasSeries())if(this.dataHasDynamicSeries){var M=this.columnReader.getSeriesValueColumnGroup(u);if(M)return M.name}else if(this.dataHasStaticSeries){var L=this.columnReader.getStaticRoleInfo(u);if(this.hasValues(L.roleToUse)){var O=this.columnReader.getValueMetadataColumnBySeries(u);if(O)return O.displayName}}},d.prototype.getSeriesDisplayName=function(){var u=this;if(c.fF.assert(function(){return u.hasSeries()},"getSeriesDisplayName should not be called when there is no series"),this.dataHasDynamicSeries)return this.columnReader.getSeriesValueColumns().source.displayName},d.prototype.getSeriesType=function(){var u=this.columnReader.getSeriesMetadataColumn();if(u)return u.type},d}(),A=v(8104);function k(d){return new Y(d)}var Y=function(){function d(u){this.columnReader=u,this.dataHasDynamicSeries=u.hasDynamicSeries(),this.dataHasStaticSeries=u.hasStaticSeries()}return d.prototype.createForCategory=function(u,y){var M,L=this.columnReader.getCategoryColumn();return(new A.dw).withCategory([L],u,null===(M=null==L?void 0:L.source)||void 0===M?void 0:M.queryName,!0).withMeasures(this.mapRolesToValueMetadata(y)).createSelectionId()},d.prototype.createForDataPoint=function(u,y,M){var L;(this.dataHasDynamicSeries||this.dataHasStaticSeries)&&c.fF.assert(function(){return null!=y},"A seriesIndex is required if you have a series");var O=this.columnReader.getCategoryColumn(),H=(new A.dw).withCategory([O],u,null===(L=null==O?void 0:O.source)||void 0===L?void 0:L.queryName,!0);return null!=y&&this.dataHasDynamicSeries&&H.withSeries(this.columnReader.getSeriesValueColumns(),this.columnReader.getSeriesValueColumnGroup(y),!0),H.withMeasures(this.mapRolesToValueMetadata(M,y)),H.createSelectionId()},d.prototype.createForSeries=function(u,y){var M=new A.dw;return this.dataHasDynamicSeries&&M.withSeries(this.columnReader.getSeriesValueColumns(),this.columnReader.getSeriesValueColumnGroup(u),!0),M.withMeasures(this.mapRolesToValueMetadata(y,u)),M.createSelectionId()},d.prototype.createForValue=function(u,y){return(new A.dw).withMeasures(this.mapRolesToValueMetadata(y,u)).createSelectionId()},d.prototype.mapRolesToValueMetadata=function(u,y){var M=[],L=0,O=this.columnReader.hasStaticSeries(),H=this.columnReader.getStaticRoleInfo(y);null==u&&(u=this.columnReader.getAllValueRoles()||[]),O&&H&&M.push(this.columnReader.getValueQueryName(H.roleToUse,H.seriesIndexToUse));for(var Q=u.length;L<Q;L++){var X=u[L];(!H||X!==H.roleToUse||!O)&&M.push.apply(M,this.columnReader.getAllValueQueryNames(X)||[])}return M},d}(),j=v(4994),G=v(4407),I_dynamicLabelValue={objectName:"labels",propertyName:"dynamicLabelValue"},I_dynamicLabelEnabled={objectName:"labels",propertyName:"showDynamicLabels"},I_labelColor={objectName:"labels",propertyName:"color"},I_totalsColor={objectName:"totals",propertyName:"color"},I_categoryLabelsColor={objectName:"categoryLabels",propertyName:"color"},I_labelTitleColor={objectName:"labels",propertyName:"titleColor"},I_labelDetailColor={objectName:"labels",propertyName:"detailColor"},I_dynamicLabelDetail={objectName:"labels",propertyName:"dynamicLabelDetail"},I_dynamicLabelTitle={objectName:"labels",propertyName:"dynamicLabelTitle"};function E(d,u,y){return new T(d,u,y)}var T=function(){return function(u,y,M){this.columnReader=u,this.objectReader=y,this.dataReader=M,this.dynamicLabelReader=new m(u,y,M),this.labelFillColorReader=new z(y,M)}}(),m=function(){function d(u,y,M){var L=this;this.columnReader=u,this.objectReader=y,this.dataReader=M,this.enabledPropertyId=I_dynamicLabelEnabled,this.memoizedDynamicLabelFormatString=_.memoize(function(O,H){return L.dataReader.getFormatStringForRelatedObject(O,H)},function(O,H){return"".concat(H).concat(O.objectName).concat(O.propertyName)})}return d.prototype.isDynamicLabelEnabled=function(u){var y=this.objectReader.getValueMetadataObjectsBySeries(u);return(0,l.NA)(y,this.enabledPropertyId,!1)},d.prototype.isDynamicLabelValueEnabled=function(u,y){return void 0===y&&(y=!1),this.isDynamicLabelEnabledForPropertyId(I_dynamicLabelValue,u,y)},d.prototype.isDynamicLabelDetailEnabled=function(u,y){return this.isDynamicLabelEnabledForPropertyId(I_dynamicLabelDetail,u,y)},d.prototype.isDynamicLabelTitleEnabled=function(u,y){return this.isDynamicLabelEnabledForPropertyId(I_dynamicLabelTitle,u,y)},d.prototype.getDynamicLabelValueType=function(u){return void 0===u&&(u=0),this.getDynamicLabelType(I_dynamicLabelValue,u)},d.prototype.getDynamicLabelDetailType=function(u){return void 0===u&&(u=0),this.getDynamicLabelType(I_dynamicLabelDetail,u)},d.prototype.getDynamicLabelTitleType=function(u){return void 0===u&&(u=0),this.getDynamicLabelType(I_dynamicLabelTitle,u)},d.prototype.getLabelFieldSourceTypes=function(u){var y=this.getDynamicLabelDetailType(u),M=this.getDynamicLabelValueType(u),L=this.getDynamicLabelTitleType(u),O=function(Q){return Q?Q.bool||Q.numeric?G.S9.number:Q.text?G.S9.text:Q.dateTime?G.S9.DateTime:G.S9.variant:G.S9.variant};return{detailFieldSourceType:O(y),valueFieldSourceType:O(M),titleFieldSourceType:O(L)}},d.prototype.areDynamicValueLabelsEnabled=function(u,y,M){return u?{titleEnabled:this.isDynamicLabelTitleEnabled(y,M),valueEnabled:this.isDynamicLabelValueEnabled(y,M),detailEnabled:this.isDynamicLabelDetailEnabled(y,M)}:{titleEnabled:!1,valueEnabled:!1,detailEnabled:!1}},d.prototype.getDynamicLabel=function(u){var y=u.valuePropertyId,M=u.hasHighlights,L=u.categoryIndex,O=u.seriesIndex,H=u.enabled,Q=u.dynamicLabelFormatString,X=null!=H?H:this.isDynamicLabelEnabled(O);if(X){var W=this.getDynamicLabelValue(M,y,L,O);if(W){var J=Q||this.getDynamicLabelFormatString(y,O);return(0,D.pi)((0,D.pi)({},W),{formatString:J,enabled:!0})}}return{value:void 0,enabled:X,source:"Default"}},d.prototype.getDynamicLabelFormatString=function(u,y){void 0===y&&(y=0);var M=this.columnReader.getValueMetadataColumnBySeries(y).queryName;return this.memoizedDynamicLabelFormatString(u,M)},d.prototype.getDynamicLabelType=function(u,y){var M,L;void 0===y&&(y=0);var O=null===(M=this.columnReader.getValueMetadataColumnBySeries(y))||void 0===M?void 0:M.queryName;return null===(L=this.dataReader.getMetadataColumnMatchingRelatedObject(u,O))||void 0===L?void 0:L.type},d.prototype.getDynamicLabelValue=function(u,y,M,L){return void 0===u&&(u=!1),void 0===M&&(M=0),void 0===L&&(L=0),this.getDynamicLabelBySeries(u,y,M,L)||this.getDynamicLabelByCategory(u,y,M)},d.prototype.getDynamicLabelBySeries=function(u,y,M,L){if(void 0===M&&(M=0),null!=L){var O=this.dataReader.getObjectsBySeries(M,L,y,u);if(null!=O)return{value:O,source:"Intersection"}}},d.prototype.isDynamicLabelEnabledForPropertyId=function(u,y,M){var L;void 0===M&&(M=!1);for(var O=this.dataReader.getCategoryCount(),H=0;H<O;H++)if(this.columnReader.hasDynamicSeries()||this.columnReader.hasStaticSeries()){if(this.dataReader.hasProperty(H,y,u,M))return!0}else{var X=M?this.objectReader.getCategoryHighlightObjects(H):this.objectReader.getCategoryDataObjects(H);if(null!==(L=null==X?void 0:X.labels)&&void 0!==L&&L.hasOwnProperty(u.propertyName))return!0}return!1},d.prototype.getDynamicLabelByCategory=function(u,y,M){void 0===M&&(M=0);var L=u?this.objectReader.getCategoryHighlightObjects(M):this.objectReader.getCategoryDataObjects(M),O=(0,j.N)(null==L?void 0:L.labels,y.propertyName);if(null!=O)return{value:O,source:"Category"}},d}(),z=function(){function d(u,y){this.objectReader=u,this.dataReader=y}return d.prototype.getDataLabelFillColor=function(u){return this.getLabelFill(I_labelColor,u)},d.prototype.getCategoryLabelFillColor=function(u){return this.getLabelFill(I_categoryLabelsColor,u)},d.prototype.getTotalLabelFillColor=function(u){return this.getLabelFill(I_totalsColor,u)},d.prototype.getDataLabelTitleFillColor=function(u){return this.getLabelFill(I_labelTitleColor,u)},d.prototype.getDataLabelDetailFillColor=function(u){return this.getLabelFill(I_labelDetailColor,u)},d.prototype.getLabelFill=function(u,y){var M=y.defaultColor,L=y.categoryIndex,O=y.seriesIndex,H=y.seriesColor;return this.hasSeriesColor(y)?{color:H,colorSource:"Series"}:this.getLabelFillBySeries(u,L,O)||this.getLabelFillByCategory(u,L)||{color:M,colorSource:"Default"}},d.prototype.hasSeriesColor=function(u){var y=u.seriesColor;return null!=y&&y!==u.defaultColor},d.prototype.getLabelFillByCategory=function(u,y){void 0===y&&(y=0);var M=this.objectReader.getCategoryDataObjects(y);if(null!=(null==M?void 0:M[u.objectName])&&null!=u){var L=(0,j.y)(null==M?void 0:M[u.objectName],u.propertyName);if(L)return{color:L,colorSource:"Category"}}},d.prototype.getLabelFillBySeries=function(u,y,M){var L;if(void 0===y&&(y=0),null!=M){var O=this.dataReader.getObjectsBySeries(y,M,u),H=null===(L=null==O?void 0:O.solid)||void 0===L?void 0:L.color;if(H)return{color:H,colorSource:"Intersection"}}},d}();function R(d,u){return new w(d,u)}var w=function(){function d(u,y){this.columnReader=u,this.staticObjects=u.getStaticObjects(),y&&(this.staticSeriesRoleNames=y.staticSeriesRoleNames)}return d.prototype.getStaticObjects=function(){return this.staticObjects},d.prototype.getCategoryMetadataObjects=function(u){var y=this.columnReader.getCategoryColumn(u);if(y)return y.source.objects},d.prototype.getAllCategoryMetadataObjectsForRole=function(u){var y=this.columnReader.getAllCategoryColumns(u);if(y)return _.map(y,function(M){return M.source.objects})},d.prototype.getCategoryDataObjects=function(u){var y=this.columnReader.getCategoryColumn();if(y&&y.objects)return y.objects[u]},d.prototype.getCategoryHighlightObjects=function(u){var y=this.columnReader.getCategoryColumn();if(y&&y.highlightObjects)return y.highlightObjects[u]},d.prototype.getValueMetadataObjects=function(u,y){var M=this;c.fF.assert(function(){return!(_.some(M.staticSeriesRoleNames,function(O){return O===u})&&null==y)},"getValueMetadataObjects requires a seriesIndex when called on a static series role");var L=this.columnReader.getValueMetadataColumn(u,y);if(L)return L.objects},d.prototype.getValueMetadataObjectsBySeries=function(u){var y=this.columnReader.getStaticRoleInfo(u);return this.getValueMetadataObjects(y.roleToUse,y.seriesIndexToUse)},d.prototype.getAllValueMetadataObjectsForRole=function(u){var y=this;c.fF.assert(function(){return!_.some(y.staticSeriesRoleNames,function(L){return L===u})},"getAllValueMetadataObjectsForRole should not be called a the static series role.  Use getValueMetadataObjects with a seriesIndex.");var M=this.columnReader.getAllValueMetadataColumnsForRole(u);return _.map(M,function(L){return L.objects})},d.prototype.getSeriesMetadataObjects=function(){var u=this;if(c.fF.assert(function(){return u.columnReader.hasDynamicSeries()||u.columnReader.hasStaticSeries()},"getSeriesDataObjects should not be called if there is no series."),this.columnReader.hasDynamicSeries()){var y=this.columnReader.getSeriesMetadataColumn();if(y)return y.objects}},d.prototype.getSeriesDataObjects=function(u){var y;if(this.columnReader.hasDynamicSeries())y=this.columnReader.getSeriesValueColumnGroup(u);else{var M=this.columnReader.getStaticRoleInfo(u);M&&(y=this.columnReader.getValueMetadataColumn(M.roleToUse,M.seriesIndexToUse))}if(y)return y.objects},d.prototype.getCategoryFormatString=function(u){return(0,l.NA)(this.getCategoryMetadataObjects(u),d.StandardFormatStringProp)},d.prototype.getAllCategoryFormatStringsForRole=function(u){return _.map(this.getAllCategoryMetadataObjectsForRole(u),function(y){return(0,l.NA)(y,d.StandardFormatStringProp)})},d.prototype.getValueFormatString=function(u,y){if(!this.columnReader.hasStaticSeries||!_.some(this.staticSeriesRoleNames,function(M){return M===u})||null!=y)return(0,l.NA)(this.getValueMetadataObjects(u,y),d.StandardFormatStringProp);c.fF.assertFail("getValueFormatString requires a seriesIndex when called on a static series role")},d.prototype.getValueFormatStringBySeries=function(u){var y=this.columnReader.getStaticRoleInfo(u);return this.getValueFormatString(y.roleToUse,y.seriesIndexToUse)},d.prototype.getAllValueFormatStringsForRole=function(u){var y=this;c.fF.assert(function(){return!_.some(y.staticSeriesRoleNames,function(L){return L===u})},"getAllValueFormatStringsForRole should not be called with a static series role.  Use getValueFormatString and a seriesIndex.");var M=this.getAllValueMetadataObjectsForRole(u);return _.map(M,function(L){return(0,l.NA)(L,d.StandardFormatStringProp)})},d.prototype.getSeriesFormatString=function(u){if(!this.columnReader.hasStaticSeries()){if(this.columnReader.hasDynamicSeries())return(0,l.NA)(this.getSeriesMetadataObjects(),d.StandardFormatStringProp);c.fF.assertFail("getSeriesFormatString should not be called if you have no series.")}},d.StandardFormatStringProp={objectName:"general",propertyName:"formatString"},d}();function B(d,u){var y=S(d,u),M=f(y,u),L=R(y,u);return{data:M,identities:k(y),objects:L,colors:g(y,L,M,u),labels:E(y,L,M)}}function C(d,u){var y=S(d,u),M=f(y,u),L=R(y,u);return{data:M,identities:k(y),objects:L,colors:g(y,L,M,u),columns:y,labels:E(y,L,M)}}},9236:function(ie,ve,v){v.d(ve,{ll:function(){return xt},vs:function(){return nr},hD:function(){return ur},xw:function(){return Ue},Lk:function(){return tt},PP:function(){return Ot},pq:function(){return de},Ue:function(){return Za},OG:function(){return Pt},Rh:function(){return Br},Fe:function(){return rr},ZF:function(){return Ca},tY:function(){return Wi},Gh:function(){return gi},tV:function(){return bi},aJ:function(){return yi},nh:function(){return Dr},xz:function(){return hr},l3:function(){return Vn}});var c=v(3188),l=v(6976),n=v(8955),g=v(3775),V=v(4996),P=v(6274),S=v(517),h=v(8974),D=v(2348),b=v(1589),N=v(8104),f=v(7094),F=v(8871),A=v(8945),k=v(4540),Y=v(7375),j=v(2033),G=v(6602),I=v(7666),E=v(1345),T=v(1290),C=E.B.createFromPt(8),u=v(7777),y=(0,u.CH)("previousNavArrow"),M=(0,u.CH)("nextNavArrow"),L=(0,u.CH)("legend"),O=(0,u.CH)("legend-title"),H=(0,u.CH)("legend-item-container"),Q=(0,u.CH)("gradient-legend"),X=(0,u.CH)("legend-item"),W=(0,u.CH)("legend-item-svg"),J=(0,u.CH)("legend-icon"),ee=(0,u.CH)("legend-icon-line"),le=(0,u.CH)("legend-item-text"),Ne={objectName:"general",propertyName:"formatString"},Ae=v(563),Se=v(8836),we=v(6023),Pe=v(9172),ze=v(5210),Xe=v(1283),Me=function(){function Te(){}return Te.prototype.bindEvents=function(at,dt,At,St){var Ct=this;this.legendIcons=at.legendIcons,this.legendLines=at.legendLines,this.visualStyle=at.visualStyle;var It=at.legendRoot;this.legendItems=at.legendItems;var Rt=at.clearCatcher;St?this.unbindEventsFormatMode():((0,Xe.lt)(It,dt),It.on("keydown",function(){var kt=d3.event;if(Se.M.noModifierPressed(kt)&&27===kt.keyCode&&kt.target.classList.contains(X.class)){var wt=It.node();Se.M.focus(wt),kt.preventDefault(),kt.stopPropagation()}return!1}),this.legendItems.on("click",function(kt){return Ct.handleSelection(dt,kt)}).on("keydown",function(kt){var wt=d3.event.keyCode;(32===wt||13===wt)&&Ct.handleSelection(dt,kt)}),Rt&&Rt.on("click",function(){Se.M.isCtrlOrMeta(d3.event)||dt.handleClearSelection()}))},Te.prototype.unbindEventsFormatMode=function(){this.legendItems.on("click",null).on("keydown",null)},Te.prototype.renderSelection=function(at){var dt=this,At=F.v.getThemeColor(this.visualStyle,Te.dimmedLegendColorName);this.legendIcons.styles({fill:function(Ct){return Ct.dataPoint&&(Ct=Ct.dataPoint),at&&!Ct.selected?At:Ct.color},stroke:function(Ct){return Ct.dataPoint&&(Ct=Ct.dataPoint),at&&!Ct.selected?At:Ct.color}}),this.legendLines.styles({stroke:function(Ct){return Ct.dataPoint&&(Ct=Ct.dataPoint),at&&!Ct.selected?At:Ct.lineColor}}),this.legendItems.attr("aria-selected",function(St){return!(!at||!St.dataPoint.selected)}),this.visualStyle.isHighContrast&&(this.legendIcons.styles({"fill-opacity":function(Ct){return dt.getOpacity(at,Ct)},"stroke-opacity":function(Ct){return dt.getOpacity(at,Ct)}}),this.legendLines.styles({"stroke-opacity":function(Ct){return dt.getOpacity(at,Ct)}}))},Te.prototype.getOpacity=function(at,dt){return dt.dataPoint&&(dt=dt.dataPoint),at&&!dt.selected?ze.eU:ze.Ko},Te.prototype.handleSelection=function(at,dt){(0,Xe.c8)(dt.dataPoint,at)},Te.dimmedLegendColorName="foregroundNeutralTertiary",Te}(),pe=v(5143),Fe=v(1971),De=v(8678),Qe=v(5358),rt=v(6802);function lt(Te){var at=Te.data,dt=Te.parentViewport,At=Te.interactivityService,St=Te.orientation,Ct=Te.legendDataStartIndex,It=Te.hostService,Rt=Te.showTitlePlaceholder,kt=Te.element,wt=at.fontProperties,Yt=(0,De.XZ)(wt),Gt=(0,De.dx)(at),Jt=function(Te){var at=Te.data;if(!(0,De.dx)(at))return{height:0,width:0};switch(Te.orientation){case De.tV.Top:case De.tV.Bottom:case De.tV.TopCenter:case De.tV.BottomCenter:case De.tV.TopRight:case De.tV.BottomRight:return{height:(at&&at.fontProperties?at.fontProperties.size.px:we.FP.fromPointToPixel(C.pt))-C.pt+24,width:0};case De.tV.Right:case De.tV.Left:case De.tV.RightCenter:case De.tV.LeftCenter:return{height:0,width:Te.lastCalculatedWidth?Te.lastCalculatedWidth:Te.parentViewport.width*mt};default:n.fF.assertFail("Unexpected legend position - calculateViewport")}}({data:at,lastCalculatedWidth:Te.lastCalculatedWidth,orientation:St,parentViewport:dt}),er=at&&void 0!==at.fontProperties?at.fontProperties.size.px:we.FP.fromPointToPixel(C.pt),Sr=er-ut,tr=at.showTitle&&!at.isGradientLegend?ge({hostServices:Te.hostService,fontProperties:wt,legendFontSizeMarginDifference:Sr,legendFontSizeMarginValue:er,parentViewport:dt,orientation:St,viewport:Jt,title:at.title,showTitlePlaceholder:Rt}):null,dr=Ae.b.estimateSvgTextHeight((0,k.qk)(wt))/Ee;(er<=ut||dr<xe)&&(dr=xe);var kr=Sr/Ee,Ur=2*(dr+kr),_r=Ze+2*kr,qr=Vt+kr,ia=At&&(0,Qe.G6)(at.dataPoints),sa=(0,De.s0)(St)?Jt.height:20+Sr,Jr=Je({fontProperties:wt,drawOptions:Te,navigationArrows:{previous:null,next:null},titleLayout:tr,iconWidth:Ur,iconAndLineWidth:_r,svgHeight:sa,totalTextPadding:qr}),la=Jr.legendItems,Ja=Jr.verticalLegendWidth,Si=Jr.horizontalLegendWidth,Wa=function(Te){var at=Te.drawOptions,dt=Te.titleLayout,At=Te.legendViewport,St=Te.legendItems,Ct=Te.drawOptions,Rt=Ct.parentViewport,kt=Ct.data,wt=Ct.legendDataStartIndex,Yt={next:void 0,previous:void 0};at.isScrollable&&(Yt=(0,De.s0)(Ct.orientation)?function(Te,at,dt,At){var Jt,St=Xt,Ct=re,It=dt.height/2-St/2,Rt={previous:void 0,next:void 0},kt=Te?Te.x+Te.width:0,wt=(0,S.AD)(Ct,St,180),Yt=(0,S.AD)(Ct,St,0),Gt=0;return At.useLargeArrowHitArea&&(Gt=Kt_Horizontal.arrowsOffset,Jt=Kt_Horizontal.hitAreaWidthPx),Rt.previous={x:kt,y:It,path:wt.path,rotateTransform:wt.transform,type:1,arrowOffset:Gt||0,hitAreaWidth:Jt||10},Rt.next={x:at.width-Ct,y:It,path:Yt.path,rotateTransform:Yt.transform,type:0,arrowOffset:Gt||0,hitAreaWidth:Jt||10},Rt}(dt,Rt,At,kt):function(Te,at,dt,At){var er,St=Xt,Ct=re,Rt={previous:void 0,next:void 0},kt=dt.height/2+St/2,wt=(0,S.AD)(Ct,St,270),Yt=(0,S.AD)(Ct,St,90),Jt=0;return At.useLargeArrowHitArea&&(Jt=Kt_Vertical.arrowsOffset,er=Kt_Vertical.hitAreaWidthPx),Rt.previous={x:kt,y:Ct+(Te?Te.height:0),path:wt.path,rotateTransform:wt.transform,type:1,arrowOffset:Jt,hitAreaWidth:er},Rt.next={x:kt,y:at.height-St,path:Yt.path,rotateTransform:Yt.transform,type:0,arrowOffset:Jt,hitAreaWidth:er},Rt}(dt,Rt,At,kt));var Jt,er,Gt=Be(Yt,kt.dataPoints.length-wt,St.length,wt,at.arrowPosWindow);if(Yt.previous||Yt.next){var Sr=Je({fontProperties:kt.fontProperties,drawOptions:at,navigationArrows:Yt,titleLayout:dt,iconWidth:Te.iconWidth,iconAndLineWidth:Te.iconAndLineWidth,svgHeight:Te.svgHeight,totalTextPadding:Te.totalTextPadding});Gt=Be(Yt,kt.dataPoints.length-wt,(er=Sr.legendItems).length,wt,at.arrowPosWindow),Jt=Sr.horizontalLegendWidth}return{navigationArrows:Yt,arrowPosWindow:Gt,newLegendItems:er,horizontalLegendWidth:Jt}}({drawOptions:Te,legendViewport:Jt,legendItems:la,titleLayout:tr,iconWidth:Ur,iconAndLineWidth:_r,svgHeight:sa,totalTextPadding:qr}),jr=Wa.navigationArrows,pa=Wa.arrowPosWindow;Wa.newLegendItems&&(la=Wa.newLegendItems),null!=Ja&&(Jt.width=Ja),tr&&Ja&&Ja>tr.width&&(tr=at.showTitle?ge({hostServices:Te.hostService,fontProperties:wt,legendFontSizeMarginDifference:Sr,legendFontSizeMarginValue:er,parentViewport:dt,orientation:St,viewport:Jt,title:at.title,showTitlePlaceholder:Rt}):null);var Hr=(0,De.s0)(St),ma=!Hr,Da=(0,De.EH)(St),Pa=(0,De.Ok)(St),Xa=(0,De.F3)(St),Mr=kt.select(L.selector),_a=It?It.getLocalizedString("Visual_Legend"):null;Gt?(Mr.empty()&&(Mr=kt.append("div").classed(L.class,!0).styles({position:"absolute"}),At&&Mr.attrs({tabindex:0,"focus-nav-mode":"HierarchicalTabOrder","aria-label":null==_a?void 0:_a.concat(at.showTitle&&at.title?" ".concat(at.title):"")}).attr("data-testid","legend")),Mr.classed("flex-row",Hr).classed("flex-column",ma).classed("flex-justify-content-center",Da).classed("flex-justify-content-start",Xa).classed("flex-justify-content-end",Pa).classed("flex-align-items-center",Hr&&!at.isGradientLegend).classed("flex-align-items-start",ma||at.isGradientLegend).styles({"padding-top":at.isGradientLegend?"3px":"null"}),At&&Mr.attrs({"aria-label":null==_a?void 0:_a.concat(at.showTitle&&at.title?" ".concat(at.title):"")})):Mr.remove();var Ci=Mr.select(Q.selector).empty();(at.isGradientLegend?Ci:!Ci)&&Mr.selectAll("*").remove();var ha=Mr.select(".clearCatcher");if(ha.empty()&&(ha=(0,Qe.EX)(Mr,"div")),ha.style("position","absolute").style("width","100%").style("height","100%"),Te.formatMode?(0,Qe.kA)(Mr,"div"):(0,Qe.ku)(Mr,"div"),nt(Jt,Te.orientation,Mr,Gt,dt),!Gt)return{width:0,height:0};var ya=Mr.select(H.selector);if(ya.empty()&&(ya=Mr.append("div").classed(H.class,!0).classed("flex-align-items-center",!0).classed("flex-order-third",!0).classed("flex-justify-context-start",!0).style("position","relative")),ya.classed("flex-grow",!(!jr.next&&!jr.previous)).classed("flex-row",Hr).classed("flex-column",ma).classed("flex-align-items-center",Hr).classed("flex-align-items-start",ma).classed(Q.class,at.isGradientLegend).attr("width",Si).attr("role","listbox").attr("aria-label",function(){return Te.hostService&&tr&&tr.text?tr.text:Te.hostService?_a:null}),Te.onObject&&ya.classed(Fe.cy,!0).attr(Fe.Ez,"legend-items").attr(Fe.CK,"Visual_Legend").attr(Fe.QZ,1),Te.data.isGradientLegend)!function(Te,at,dt,At,St,Ct){var er,dr,kr,It=Te.data.gradientRule.options.linearGradient2?Te.data.gradientRule.options.linearGradient2:Te.data.gradientRule.options.linearGradient3,Rt=Te.data.fontProperties,kt=Rt.size.px,Yt=0,Gt=(0,b.Ue)({value:It.min.value,value2:It.max.value,format:(0,b.EO)(Te.data.gradientRule.source,Ne)}),Jt=(0,k.qk)(Rt),Sr=Gt.format(It.min.value),tr={width:Ae.b.measureSvgTextWidth(Jt,Sr),height:Ae.b.measureSvgTextHeight(Jt,Sr)};er=Te.hostService.getLocalizedString("ConditionalFormattingDialog_LowestValue")+" "+Sr+", ",he(It)&&(dr=Gt.format(It.mid.value),kr={width:Ae.b.measureSvgTextWidth(Jt,dr),height:Ae.b.measureSvgTextHeight(Jt,dr)},er+=Te.hostService.getLocalizedString("ConditionalFormattingDialog_MiddleValue")+" "+dr+", ");var Ur=Gt.format(It.max.value),_r={width:Ae.b.measureSvgTextWidth(Jt,Ur),height:Ae.b.measureSvgTextHeight(Jt,Ur)};er+=Te.hostService.getLocalizedString("ConditionalFormattingDialog_HighestValue")+" "+Ur;var Hr,Da,Pa,Xa,Mr,Wa=.5*Te.parentViewport.width,jr=.25*kt,pa=1.5*kt,ma=pa,_a=[];if(at){Da=tr.width+jr+(Hr=6*kt)+jr+_r.width,Pa=pa+jr,Yt=va=pa/2,Mr=[{text:Sr,text_anchor:"start",x:0,y:va,width:tr.width,height:ma},{text:Ur,text_anchor:"start",x:Ci=tr.width+jr+Hr+jr,y:va,width:_r.width,height:ma}];var ha=tr.width+jr;if(Xa=[{fill:"url(#legendGradient-".concat(Te.hostService.instanceId,")"),fill_opacity:"1",x:ha,y:0,width:Hr,height:pa}],he(It)){Pa+=1.25*kt;var ya=Le(It);Mr.splice(1,0,{text:dr,text_anchor:"middle",x:ha+ya*Hr,y:pa+jr+kt/2,width:kr.width,height:ma}),_a=[{x1:ha+ya*Hr,x2:ha+ya*Hr,y1:0,y2:pa+jr,stroke:Rt.color?Rt.color:Te.visualStyle.colorPalette.foregroundNeutralDark.value,stroke_width:"1"}]}}else{if(Hr=he(It)?6*kt:10*kt,(Da=he(It)?tr.width+jr+Hr+jr+_r.width:Hr+jr)>Wa){Pa=Wa;var ui=function(Te,at,dt,At,St,Ct,It,Rt){var kt,wt;return It?(kt=.6*(wt=Te-2*Rt),Ct.text=dt,dt=Ae.b.getTailoredTextOrDefault(Ct,.2*wt),at.width=Ae.b.measureSvgTextWidth(Ct,dt),Ct.text=St,St=Ae.b.getTailoredTextOrDefault(Ct,.2*wt),At.width=Ae.b.measureSvgTextWidth(Ct,St)):(kt=wt=Te-Rt,Ct.text=dt,dt=Ae.b.getTailoredTextOrDefault(Ct,kt/2),at.width=Ae.b.measureSvgTextWidth(Ct,dt),Ct.text=St,St=Ae.b.getTailoredTextOrDefault(Ct,kt/2),At.width=Ae.b.measureSvgTextWidth(Ct,St)),{gradientWidth:kt,minValueString:dt,minValueWidth:at.width,maxValueString:St,maxValueWidth:At.width}}(Wa,tr,Sr,_r,Ur,Jt,he(It),jr);Hr=ui.gradientWidth,Sr=ui.minValueString,tr.width=ui.minValueWidth,Ur=ui.maxValueString,_r.width=ui.maxValueWidth}if(he(It)){Da=tr.width+jr+Hr+jr+_r.width,Pa=8+3*kt;var va=8+pa/2,Ci=tr.width+jr+Hr+jr;ya=Le(It),Mr=[{text:Sr,text_anchor:"start",x:0,y:va,width:tr.width,height:ma},{text:dr,text_anchor:"middle",x:(ha=tr.width+jr)+ya*Hr,y:8+pa+jr+kt/2,width:kr.width,height:ma},{text:Ur,text_anchor:"start",x:Ci,y:va,width:_r.width,height:ma}],_a=[{x1:ha+ya*Hr,x2:ha+ya*Hr,y1:8,y2:8+pa+jr,stroke:Rt.color?Rt.color:Te.visualStyle.colorPalette.foregroundNeutralDark.value,stroke_width:"1"}],Xa=[{fill:"url(#legendGradient-".concat(Te.hostService.instanceId,")"),fill_opacity:"1",x:ha,y:8,width:Hr,height:pa}]}else Pa=16+3*kt,Mr=[{text:Sr,text_anchor:"start",x:0,y:va=16+2*kt,width:(Da=Hr+jr)/2,height:ma},{text:Ur,text_anchor:"start",x:Da-jr-_r.width,y:va,width:Da/2,height:ma}],Xa=[{fill:"url(#legendGradient-".concat(Te.hostService.instanceId,")"),fill_opacity:"1",x:0,y:8,width:Hr,height:pa}]}dt.height=at?Math.max(dt.height,Pa):dt.height,dt.width=at?dt.width:Math.max(dt.width,Da)+qe,nt(dt,Te.orientation,St,Ct,Te.parentViewport,!0),function(Te,at,dt,At,St,Ct,It){var wt,Yt,Rt=(0,k.qk)((0,De.XZ)(Te.data.fontProperties),Te.data.title),kt=[];if(at)kt=[{dy:"0.35em",word:(wt=[Ae.b.getTailoredTextOrDefault(Rt,Te.parentViewport.width-dt.width-We/2-2*qe)])[0]}],Yt={height:dt.height,width:Ae.b.measureSvgTextWidth(Rt,wt[0])};else{var Jt=Ae.b.measureSvgTextHeight(Rt,Te.data.title),Sr=Math.min(3,Math.floor((Te.parentViewport.height-dt.height-8-2*qe)/Jt));wt=(0,Pe.ql)(Te.data.title,Rt,Ae.b.measureSvgTextWidth,dt.width,Sr,Ae.b.getTailoredTextOrDefault,!0);for(var tr=0;tr<wt.length;tr++)kt.push({dy:String(Jt),word:wt[tr]});Yt={height:(wt.length+.5)*Jt,width:dt.width}}var dr=Te.data.showTitle&&!_.isEmpty(Te.data.title)?[0]:[],kr=At.selectAll(O.selector).data(dr),Ur=kr.enter().append("svg").classed(O.class,!0).merge(kr);Ur.attr("height",Yt.height).attr("width",Yt.width).styles({"padding-right":We/2+"px"});var _r=Ur.selectAll("text").data([0]),qr=_r.enter().append("text").merge(_r);qr.classed("flex-order-first",!0).styles((0,k.wB)((0,De.XZ)(Te.data.fontProperties))).styles({"text-overflow":"ellipsis","white-space":"pre"}).attr("fill",Te.data.fontProperties.color).attr("title",function(Jr){return Te.data.title}).attr("x",0).attr("y",Ct).text(null);var ia=qr.selectAll("tspan").data(kt);ia.enter().append("tspan").merge(ia).attr("dy",function(Jr){return Jr.dy}).attr("x",function(Jr){return 0}).text(function(Jr){return Jr.word}),ia.exit().remove(),_r.exit().remove(),kr.exit().remove()}(Te,at,{height:Pa,width:Da},St,0,Yt);var Hi=function(Te,at,dt,At,St){var Ct=at.selectAll("svg").data(Te),It=Ct.enter().append("svg").merge(Ct);It.attr("width",function(er){return er.width}).attr("height",function(er){return er.height}).attrs({tabindex:0,"aria-label":St});var Rt=It.selectAll("defs").data([0]),kt=Rt.enter().append("defs").merge(Rt);kt.append("linearGradient").attr("id",At);var wt=[{stop:0,color:dt.min.color},{stop:1,color:dt.max.color}];if(he(dt)){var Yt=Le(dt);wt.splice(1,0,{stop:Yt,color:dt.mid.color})}var Gt=kt.select("linearGradient").selectAll("stop").data(wt,function(er){return er.stop.toString()}),Jt=Gt.enter().append("stop").merge(Gt);return Jt.attr("stop-color",function(er){return er.color}).attr("offset",function(er){return er.stop}),Jt.order(),Gt.exit().remove(),It}([{width:Da,height:Pa}],At,It,"legendGradient-".concat(Te.hostService.instanceId),er);(function(Te,at,dt){var At=at.selectAll("g.rect").data([0]),St=At.enter().append("g").classed("rect",!0).merge(At),Ct=St.selectAll("rect").data(Te);Ct.enter().append("rect").merge(Ct).attr("fill",function(Rt){return Rt.fill}).attr("fill-opacity",function(Rt){return Rt.fill_opacity}).attr("x",function(Rt){return Rt.x}).attr("y",function(Rt){return Rt.y}).attr("width",function(Rt){return Rt.width}).attr("height",function(Rt){return Rt.height}),function(Te,at){var dt=Te.selectAll("line").data(at);dt.enter().append("line").merge(dt).attr("x1",function(St){return St.x1}).attr("x2",function(St){return St.x2}).attr("y1",function(St){return St.y1}).attr("y2",function(St){return St.y2}).styles({stroke:function(Ct){return Ct.stroke}}).styles({"stroke-width":function(Ct){return Ct.stroke_width}}),dt.exit().remove()}(St,dt)})(Xa,Hi,_a),function(Te,at,dt){var At=at.selectAll("g.text").data([0]),Ct=At.enter().append("g").classed("text",!0).merge(At).selectAll("text").data(Te),It=Ct.enter().append("text").merge(Ct);It.text(function(wt){return wt.text}).attr("text-anchor",function(wt){return wt.text_anchor}).attr("x",function(wt){return wt.x}).attr("y",function(wt){return wt.y}).attr("width",function(wt){return wt.width}).attr("dy","0.35em").attr("height",function(wt){return wt.height}).styles((0,k.E_)(dt));var Rt=It.selectAll("title").data(function(wt){return[wt.text]});Rt.enter().append("title").merge(Rt).text(function(wt){return wt}),Rt.exit().remove(),Ct.exit().remove()}(Mr,Hi,Rt)}(Te,Hr,Jt,ya,Mr,Gt);else{var $a=Mr.selectAll(O.selector).data(tr?[tr]:[]),li=$a.enter().insert("text",".clearCatcher").classed(O.class,!0).merge($a);li.text(function(Ge){return Ge.text}).classed("flex-order-first",!0).styles((0,k.wB)(Yt)).styles({"text-overflow":"ellipsis","white-space":"pre","padding-right":We/2+"px",position:"relative"}).attr("title",function(Ge){return at.title}),Te.onObject&&(li.classed(Fe.cy,!0).classed(Fe.Qh.class,null==tr?void 0:tr.isPlaceholder).attr(Fe.Ez,"legend-title").attr(Fe.CK,"MiniToolbar_LegendTitle").attr(Fe.QZ,0),Te.formatMode&&Te.titleSliceUid)&&li.attr(Fe.kv,JSON.stringify({reference:{cardUid:void 0,sliceUid:Te.titleSliceUid},style:3})),$a.exit().remove();var ji=function(ft){return ft.dataPoint.identity.getKey()+(null!=ft.dataPoint.layerNumber?ft.dataPoint.layerNumber:"")},Hi=_.uniqBy(la,ji),Xr=ya.selectAll(X.selector).data(Hi,ji),Aa=Xr.enter().append("div").classed(X.class,!0).classed("flex-justify-content-center",!0).classed("flex-align-items-center",!0).attr("role","option");At&&Aa.attr("tabindex",0).attr("data-testid","legend-item");var Qn=It?It.getLocalizedString("NullValue"):null,ci=Aa.merge(Xr);ci.attr("aria-label",function(Ge){return Te.hostService?Ge.dataPoint.label?Ge.dataPoint.label:Qn:null}).attr("aria-selected",function(Ge){return ia&&Ge.dataPoint.selected}).attr("aria-posinset",function(Ge){return Ge.dataPoint.index+1}).attr("aria-setsize",at.dataPoints.length),ci.sort(function(Ge,ft){var ir=Ge.dataPoint,br=ft.dataPoint;if(null!=ir.layerNumber){n.fF.assertValue(br.layerNumber,"Both datapoints should have a layerNumber");var Tr=ir.layerNumber-br.layerNumber;if(0!==Tr)return Tr}return ir.index-br.index}),Xr.exit().remove();var Dn=Aa.append("svg").classed(W.class,!0);Dn.append("path").classed(ee.class,!0),Dn.append("path").classed(J.class,!0),Aa.append("text").classed(le.class,!0).styles({"text-overflow":"ellipsis","white-space":"pre"});var an=F.v.getThemeColor(Te.visualStyle,Me.dimmedLegendColorName);ci.select(W.selector).attrs({height:sa,width:function(ft){return ft.dataPoint.lineStyle?_r:Ur}});var Z=ci.select(ee.selector);Z.attrs({transform:function(ft){return(0,S.Iu)(Ze/2,sa*ct)},d:function(ft){return ft.dataPoint.lineStyle?"M -"+Ze/2+" 0 L "+Ze/2+" 0":null},"stroke-width":2,fill:"none","stroke-dasharray":function(ft){return ft.dataPoint.lineStyle?(0,pe.R_)(ft.dataPoint.lineStyle):null}}).styles({stroke:function(ft){return ia&&!ft.dataPoint.selected?an:ft.dataPoint.lineColor}});var q=ci.select(J.selector);if(q.attrs({transform:function(ft){return(0,S.aI)((ft.dataPoint.lineStyle?_r:Ur)/2,sa*ct,dr/Y.UI)},d:function(ft){return(0,Y.DW)(ft.dataPoint.markerShape||rt.Xw)},"stroke-width":function(ft){return(0,Y.F)(ft.dataPoint.markerShape||rt.Xw)}}).styles({fill:function(ft){return ia&&!ft.dataPoint.selected?an:ft.dataPoint.color},stroke:function(ft){return ia&&!ft.dataPoint.selected?an:ft.dataPoint.color},"stroke-linejoin":"round"}).append("title").text(function(Ge){return Ge.dataPoint.label}),ci.select(le.selector).text(function(Ge){return Ge.textProperties.text}).styles(wt&&(0,k.wB)(wt)).styles({"padding-left":Tt+"px","padding-right":qr-Tt+"px"}).attr("title",function(Ge){return Ge.dataPoint.label}),Mt({navigationArrow:jr.previous,arrowPosWindow:pa,arrowClassAndSelector:y,legend:Mr,legendDataStartIndex:Ct,rerenderCallback:Te.rerenderCallback,useLargeArrowHitArea:at.useLargeArrowHitArea,verticalLegendWidth:(0,De.s0)(St)?void 0:Jt.width,isTabbable:!!At,hostService:Te.hostService}),Mt({navigationArrow:jr.next,arrowPosWindow:pa,arrowClassAndSelector:M,legend:Mr,legendDataStartIndex:Ct,rerenderCallback:Te.rerenderCallback,useLargeArrowHitArea:at.useLargeArrowHitArea,verticalLegendWidth:(0,De.s0)(St)?void 0:Jt.width,isTabbable:!!At,hostService:Te.hostService}),At){var je={legendRoot:Mr,legendItems:ci,legendIcons:q,legendLines:Z,clearCatcher:ha,visualStyle:Te.visualStyle};At.bind(at.dataPoints,new Me,je,{isLegend:!0,pointSourceKey:"legend",isHierarchicalAxis:Te.isHierarchicalAxis,formatMode:Te.formatMode})}}return Jt}function he(Te){return void 0!==Te.mid}function Le(Te){return Te.min.value===Te.max.value?.5:(Te.mid.value-Te.min.value)/(Te.max.value-Te.min.value)}function Je(Te){var at,dt=Te.drawOptions.parentViewport,At=Te.drawOptions.data,St=Te.drawOptions.legendDataStartIndex,Ct=Te.titleLayout,It=Te.navigationArrows,Rt=Te.iconWidth,kt=Te.iconAndLineWidth,wt=_.some(At.dataPoints,function(kr){return kr.lineStyle}),Yt=Te.drawOptions.autoWidth?Te.drawOptions.parentViewport.width*mt:Te.drawOptions.lastCalculatedWidth,Gt=At.dataPoints;if((0,De.s0)(Te.drawOptions.orientation)){var Jt=dt.width-(Ct?Ct.width:0)-(It.previous&&It.previous.hitAreaWidth||0)-(It.next&&It.next.hitAreaWidth||0);return at=function(Te,at,dt,At,St,Ct,It){for(var Rt=at,kt=[],wt=dt,Yt=Te.length;wt<Yt;wt++){var Gt=Te[wt],Jt=bt(kt,Gt,At,Gt.lineStyle?Ct:St,Rt,It);if(Rt=Jt.newRemainingWidth,!Jt.fit)break}for(var er=_.filter(kt,function(Jr){return Jr.desiredOverMaxWidth}),Sr=Rt;Rt>0&&er.length>0;){for(wt=0;wt<er.length;){var dr=er[wt],kr=dr.width,Ur=kr+Rt/er.length;if(Ur>dr.desiredWidth)dr.textProperties.text=dr.dataPoint.label,dr.width=dr.desiredWidth,dr.desiredOverMaxWidth=!1,er.splice(wt,1),Rt-=dr.width-kr;else{var _r=er[wt].textProperties,qr=_r.text;_r.text=dr.dataPoint.label;var ia=Ae.b.getTailoredTextOrDefault(_r,Ur);if(qr===ia)_r.text=qr;else{_r.text=ia;var sa=Ae.b.measureSvgTextWidth(_r,ia);dr.width=sa,Rt-=dr.width-kr}wt++}}if(Sr===Rt)break;Sr=Rt}return kt}(Gt,Jt,St,Te.fontProperties,Rt,kt,Te.totalTextPadding),{legendItems:at,horizontalLegendWidth:Jt}}var tr=function(Te){for(var at=Te.dataPoints,dt=Te.maxHorizontalSpaceAvaliable,At=Te.fontProperties,St=Te.legendDataStartIndex,Ct=[],It=Math.min(Math.floor(Te.legendItemContainerHeight/Te.legendItemHeight),at.length),Rt=Te.titleWidth||0,kt=0,wt=at.length;kt<wt;kt++){var Yt=at[kt],Gt=(0,k.qk)(At,Yt.label),Jt=Ae.b.measureSvgTextWidth(Gt);if(Jt>Rt&&(Rt=Math.min(Jt,dt)),kt>=St&&kt<St+It){var er=Jt;if(er>dt){var Sr=Ae.b.getTailoredTextOrDefault(Gt,dt);Gt.text=Sr,Jt=Ae.b.measureSvgTextWidth(Gt)}Ct.push({dataPoint:Yt,desiredOverMaxWidth:Jt>dt,textProperties:Gt,desiredWidth:er,width:Jt})}}return{legendItems:Ct,horizontalWidthUsed:Rt}}({dataPoints:Gt,legendItemContainerHeight:dt.height-(Ct?Ct.height:0)-(It.previous?Xt:0)-(It.next?Xt:0),maxHorizontalSpaceAvaliable:Yt-(wt?kt:Rt)-qe,legendDataStartIndex:St,fontProperties:Te.fontProperties,titleWidth:Ct?Ct.width:void 0,legendItemHeight:Te.svgHeight});at=tr.legendItems;var dr=Te.drawOptions.lastCalculatedWidth;return Te.drawOptions.autoWidth&&(dr=Math.ceil(tr.horizontalWidthUsed+(wt?kt:Rt)+qe)),{legendItems:at,verticalLegendWidth:dr}}function bt(Te,at,dt,At,St,Ct){var It=(0,k.qk)(dt,at.label),Rt=Ae.b.measureSvgTextWidth(It),kt=Rt,wt=!1;if(kt>be){wt=!0;var Yt=Ae.b.getTailoredTextOrDefault(It,be);It=(0,k.qk)(dt,Yt),kt=Ae.b.measureSvgTextWidth(It)}var Gt=St-(kt+At+Ct);return Gt<0?{newRemainingWidth:St,fit:!1}:(Te.push({dataPoint:at,textProperties:It,width:kt,desiredWidth:Rt,desiredOverMaxWidth:wt}),{newRemainingWidth:Gt,fit:!0})}function Mt(Te){var at=Te.legendDataStartIndex,dt=Te.arrowPosWindow,At=Te.useLargeArrowHitArea,St=Te.verticalLegendWidth,Ct=Te.isTabbable,It=Te.navigationArrow,kt=Te.arrowClassAndSelector,Yt=St?St+zt:At?It?It.hitAreaWidth:re:re+zt,Gt=Te.legend.selectAll(kt.selector).data(It?[It]:[]),Jt=Gt.enter().append("svg").classed(kt.class,!0).style("position","relative").merge(Gt);Ct&&Jt.attrs({tabindex:0,focusable:!0}).on("keydown",function(tr){var dr=d3.event,kr=dr.keyCode;if(32===kr||13===kr){dr.stopPropagation(),Te.rerenderCallback(It.type,at,dt);var _r=Te.legend.selectAll(X.selector+(1===It.type?":last-child":":first-child")).node();_r&&Se.M.focus(_r)}}),Jt.classed("flex-order-second",It&&1===It.type).classed("flex-order-fourth",It&&0===It.type).attrs({width:Yt,height:Xt,role:"button","aria-label":function(dr){return Te.hostService?Te.arrowClassAndSelector.class===M.class?Te.hostService.getLocalizedString("Next_ButtonText"):Te.arrowClassAndSelector.class===y.class?Te.hostService.getLocalizedString("Previous_ButtonText"):"":null}}).on("click",function(tr){Te.rerenderCallback(It.type,at,dt)}),Gt.exit().remove();var er=Jt.selectAll(".navArrow").data(function(tr){return function(Te,at){var dt=Te;if(dt.isHitArea=!1,dt.index=Math.abs(dt.arrowOffset),!at)return[dt];var At=Object.create(dt);return At.isHitArea=!0,At.index++,[At,dt]}(tr,At)},function(tr){return tr.index.toString()});er.enter().append("path").classed("navArrow",!0).merge(er).attrs({d:function(dr){return dr.path},transform:function(dr){return"".concat((0,S.Iu)(Yt/2-re/2,0)," ").concat(dr.rotateTransform)},"stroke-width":function(dr){return dr.isHitArea?"".concat(dr.hitAreaWidth,"px"):void 0},"fill-opacity":function(dr){return dr.isHitArea?"0":void 0},"stroke-opacity":function(dr){return dr.isHitArea?"0":void 0}}),er.exit().remove()}var xe=5,Ee=5,Ze=31,be=60,We=15,qe=10,mt=.3,ut=C.pt,ct=.52,Vt=5,Tt=1,zt=2,Kt_Horizontal={arrowSize:30,hitAreaWidthPx:28,arrowsOffset:-10},Kt_Vertical={arrowSize:12,hitAreaWidthPx:18,arrowsOffset:-3},Xt=15,re=7.5;function ge(Te){var at=Te.title,dt=0,At=!_.isEmpty(at),St=!At&&Te.showTitlePlaceholder;if(St&&(at=Te.hostServices.getLocalizedString("Format_AddLegendTitle")),At||St){var Ct=(0,De.s0)(Te.orientation),It=void 0;It=Ct?Te.parentViewport.width*mt-(xe+(Te.legendFontSizeMarginValue>ut?5+Te.legendFontSizeMarginDifference:5)+(5+xe))-qe+We/2:Te.viewport.width-qe;var Yt=(0,k.qk)(Te.fontProperties,at),Gt=at;return(dt=Ae.b.measureSvgTextWidth(Yt))>It&&(Gt=Ae.b.getTailoredTextOrDefault(Yt,It),Yt.text=Gt,dt=Ae.b.measureSvgTextWidth(Yt)),Ct?dt+=We/2:Gt=Ae.b.getTailoredTextOrDefault(Yt,Te.viewport.width),{x:0,y:0,text:Gt,width:dt,height:Ae.b.estimateSvgTextHeight(Yt),isPlaceholder:St}}return null}function Be(Te,at,dt,At,St){0===At&&(Te.previous=void 0);var Ct=St;return St=dt,(Te.next||Te.previous)&&St===at&&(St=Ct,Te.next=void 0),St}function nt(Te,at,dt,At,St,Ct){var It=Te;dt.styles({height:(It.height||(At?St.height:0))+"px",width:(It.width||(At?St.width:0))+"px"});var Rt=Ct?qe:0;dt.styles({"margin-left":(0,De.tO)(at)?St.width-It.width+Rt+"px":null,"margin-top":(0,De.Kx)(at)?St.height-It.height+"px":null,"margin-right":(0,De.nM)(at)&&Ct?Rt+"px":null})}var pt=v(5675),Bt=v(7243),xt=function(Te){return Te[Te.Box=0]="Box",Te[Te.Circle=1]="Circle",Te[Te.Line=2]="Line",Te}({}),yt={show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"},fontSize:{objectName:"legend",propertyName:"fontSize"},fontFamily:{objectName:"legend",propertyName:"fontFamily"},showGradientLegend:{objectName:"legend",propertyName:"showGradientLegend"},bold:{objectName:"legend",propertyName:"bold"},italic:{objectName:"legend",propertyName:"italic"},underline:{objectName:"legend",propertyName:"underline"}};function Pt(Te,at,dt,At,St,Ct,It){return void 0===At&&(At=!1),void 0===St&&(St=De.tV.Top),void 0===Ct&&(Ct=(0,V.Ue)()),at?new Cn(Te):new Sn(Te,St,Ct,dt,It,At)}var ur=7,nr=8,Qt={objectName:"dataPoint",propertyName:"fill"};function hr(Te,at){var dt=at.getMargins(),At=at.getPosition();Te.styles({"margin-left":(0,De.nM)(At)?dt.width+"px":null,"margin-top":(0,De.RB)(At)?dt.height+"px":null})}function Dt(Te){void 0===Te&&(Te=(0,V.Ue)());var at=(0,G.m)(Te,"lightLabel"),dt={family:De.cp,size:C,color:F.v.getThemeColor(Te,Ua)};return(0,k.ED)(dt,at)}function rr(Te){return{show:!0,title:"",dataPoints:[],fontProperties:Dt(Te),grouped:!1,showTitle:!0,position:De.tV.Top,isGradientLegend:!1,fromDefault:!0}}function de(Te,at){var dt=(0,T.G)(Te.dataView,{staticSeriesRoleNames:Te.staticSeriesRoleNames,colorOptions:{valueRole:Te.staticSeriesRoleNames&&Te.staticSeriesRoleNames[0],visualStyle:Te.style,ignoreDefaultColor:Te.ignoreDefaultColor,ignoreDefaultCategoryColor:Te.ignoreDefaultCategoryColor}});if(!dt.data.hasSeries()){var At=function(Te,at){if(at)return(0,D.t6)(Te,Qt)}(Te.dataView,at);return At?function(Te,at,dt){return Za(Te.metadata.objects,[],!1,at.source.displayName,!1,dt,at)}(Te.dataView,At,Te.style):Te.allowLegendWithNoSeries?function(Te,at){if(Te.data.getSeriesCount()){var Sr,dt=at.lineAndMarkerOptions,At=Te.data.getValueDisplayName(_.last(at.staticSeriesRoleNames)),St=(0,b.WU)(At,Te.objects.getValueFormatString(_.last(at.staticSeriesRoleNames),0)),Ct=Te.colors.createByValue(0,l.fA),It=Te.identities.createForValue(0),Rt=Te.objects.getStaticObjects(),kt=dt?dt.defaultMarkerShape:void 0,wt=dt?(0,Y.gT)(Rt,at.style):void 0,Yt=dt&&dt.legendMarkerRendering,Gt=(0,D.NA)(Rt,f.zK.lineStyles.lineStyle,Bt.SQ),Jt=dt?(0,Y.i)(Te,wt,0,at.style):void 0,er=at.simpleMarkerProp;Sr=er?er?(0,D.NA)(Rt,er,rt.Xw):rt.Xw:(0,Y.xf)(Jt,Yt,kt);var tr=dt&&dt.renderLineStyle&&Yt!==pt.f2&&Yt!==pt.G_;return Za(Rt,[{color:(0,Y.XU)(Jt,Ct,Yt,dt&&dt.matchSeriesColor),label:St,icon:xt.Circle,identity:It,selected:!1,markerShape:Sr,lineStyle:tr?Gt:void 0,lineColor:Ct,index:0}],at.showByDefault,"",void 0,at.style)}}(dt,Te):rr(Te.style)}for(var St=dt.objects.getStaticObjects(),Ct=[],It=dt.columns.hasDynamicSeries(),Rt=Te.simpleMarkerProp,kt=Rt?(0,D.NA)(St,Rt,rt.Xw):rt.Xw,wt=Te.lineAndMarkerOptions,Yt=wt?wt.defaultMarkerShape:void 0,Gt=wt&&wt.legendMarkerRendering,Jt=wt?(0,Y.gT)(St,Te.style):void 0,er=wt&&(0,D.NA)(St,f.zK.lineStyles.showSeries,!0),Sr=(0,D.NA)(St,f.zK.lineStyles.lineStyle,Bt.SQ),tr=0,dr=dt.data.getSeriesCount();tr<dr;tr++){var sa,kr=dt.data.getSeriesName(tr),Ur=(0,b.WU)(kr,dt.objects.getSeriesFormatString(tr)),_r=er?(0,Y.i)(dt,Jt,tr,Te.style):Jt,qr=dt.colors.createBySeries(tr,void 0,l.fA),ia=dt.identities.createForSeries(tr);sa=Rt?(0,D.NA)(dt.objects.getSeriesDataObjects(tr),Rt,kt):(0,Y.xf)(_r,Gt,Yt);var Jr=wt&&wt.renderLineStyle&&Gt!==pt.f2&&Gt!==pt.G_;Ct.push({color:(0,Y.XU)(_r,qr,Gt,wt&&wt.matchSeriesColor),label:Ur,icon:xt.Circle,identity:ia,selected:!1,markerShape:sa,lineStyle:Jr?(0,D.NA)(dt.objects.getSeriesDataObjects(tr),f.zK.lineStyles.lineStyle,Sr):void 0,lineColor:qr,index:tr})}return Za(dt.objects.getStaticObjects(),Ct,Te.showByDefault,dt.data.getSeriesDisplayName()||"",It,Te.style)}function Ue(Te){var At,at=(0,T.y)(Te.dataView,{colorOptions:{valueRole:Te.valueRole,visualStyle:Te.style}}),dt=[],St=Te.categoryRole,Ct=at.objects.getStaticObjects();if(at.data.hasCategories()){At=at.data.getCategoryDisplayName(St);for(var It=0,Rt=at.data.getCategoryCount();It<Rt;It++){var kt=at.data.getCategoryValue(St,It),wt=(0,b.WU)(kt,at.objects.getCategoryFormatString(St)),Yt=at.colors.createByCategory(It,l.fA),Gt=at.identities.createForCategory(It);dt.push({color:Yt,label:wt,icon:xt.Circle,identity:Gt,selected:!1,index:It})}}return Za(Ct,dt,Te.showByDefault,At,void 0,Te.style)}function tt(Te){var at=Te.dataView.matrix;return n.fF.assertValue(at,"there must be a valid matrix DataView"),$t(Te,at.columns)}function Ot(Te){var at=Te.dataView.matrix;return n.fF.assertValue(at,"there must be a valid matrix DataView"),$t(Te,at.rows)}function $t(Te,at){var dt=Te.dataView.metadata.objects;n.fF.assert(function(){return!_.isEmpty(at.levels)},"the matrix should have at least one level");var At=[];if(_.isEmpty(at.levels))return rr(Te.style);var St=at.levels[0].sources[0],Ct=at.root.childIdentityFields,It=at.root.children;if(!It)return rr(Te.style);var Yt,Rt=Te.markerShowSeriesPropIdentifier,kt=!1,wt=Te.markerShapePropIdentifier;wt?(Rt&&(kt=(0,D.NA)(dt,Rt,!0)),Yt=(0,D.NA)(dt,Te.markerShapePropIdentifier,rt.Xw)):Yt=rt.Xw;for(var Gt=0,Jt=It.length;Gt<Jt;Gt++){var er=It[Gt];if(!er.isSubtotal){var Sr=er.value,tr=(0,A.xq)(Sr,St,Te.formatStringProp),dr=Te.colorHelper.getColorForSeriesValue(er.objects,Ct,Sr,l.fA),Ur=(new N.dw).withColumnIdentity(er.identity,St.queryName).createSelectionId(),_r=Yt;kt&&(_r=wt?(0,D.NA)(er.objects,wt,_r):rt.Xw),At.push({color:dr,label:tr,icon:xt.Circle,identity:Ur,selected:!1,markerShape:_r,index:Gt})}}return Za(dt,At,Te.showByDefault,St.displayName,!!It,Te.style)}function Dr(Te){var at=[],dt=!1,At=Te[0];if(At.isGradientLegend){for(var St=function(er,Sr){n.fF.assert(function(){return At===Te[er]})},Ct=0,It=Te.length;Ct<It;Ct++)St(Ct);return At}for(Ct=0,It=Te.length;Ct<It;Ct++){var Rt=Te[Ct];if(!_.isEmpty(Rt.dataPoints))for(var kt=0,wt=Rt.dataPoints;kt<wt.length;kt++){var Yt=wt[kt];Yt.layerNumber=Ct,at.push(Yt)}Rt.grouped&&(dt=!0)}var Gt=_.find(Te,function(Jt){return!Jt.fromDefault})||At;return{dataPoints:at,show:Gt.show,position:Gt.position,showTitle:Gt.showTitle,title:Gt.title,grouped:dt,fontProperties:Gt.fontProperties,bold:Gt.bold,italic:Gt.italic,underline:Gt.underline}}function Br(Te,at){var dt=Te.legendData,At={selector:null,properties:{show:dt.show,position:De.tV[dt.position],showTitle:dt.showTitle,titleText:dt.title,labelColor:dt.fontProperties.color,fontFamily:dt.fontProperties.family,fontSize:dt.fontProperties.size.pt,bold:dt.bold,italic:dt.italic,underline:dt.underline},propertyInstanceKind:{labelColor:3},objectName:Te.objectName||"legend"};null!=Te.legendMarkerRendering&&(At.properties[f.zK.legend.legendMarkerRendering.propertyName]=Te.legendMarkerRendering),null!=Te.matchLineColor&&(At.properties[f.zK.legend.matchLineColor.propertyName]=Te.matchLineColor),null!=Te.defaultToCircle&&(At.properties[f.zK.legend.defaultToCircle.propertyName]=Te.defaultToCircle),Te.enumeration.pushInstance(At)}function Ca(Te,at,dt,At,St){void 0===At&&(At=!1),null==St&&(St=dt.onObject?"Visual_LegendCard_DisabledReasonNew":"Visual_LegendCard_DisabledReason");var Ct=Te.legendData,It=[yt.show,yt.showGradientLegend,yt.position,yt.showTitle,yt.titleText,yt.labelColor,yt.fontFamily,yt.fontSize,f.zK.legend.legendMarkerRendering,f.zK.legend.matchLineColor,yt.bold,yt.italic,yt.underline];dt.removeDefaultToCircleToggle||It.push(f.zK.legend.defaultToCircle);var Rt=new P.CQ(new P.lg("legend"),"Role_DisplayName_Legend",It,function(Yt){return at.getLocalizedString(Yt)});if(Rt.addTopLevelToggle("show",function(){return new P.bd({descriptor:yt.show,value:!At&&Ct.show}).build()}),At)return Rt.withDisabled(!0,St),Rt.build();var wt=(new P.UN).withFontFamily({descriptor:yt.fontFamily,value:Ct.fontProperties.family}).withFontSizeProperties({descriptor:yt.fontSize,value:Ct.fontProperties.size.pt}).withBold({descriptor:yt.bold,value:Ct.bold}).withItalic({descriptor:yt.italic,value:Ct.italic}).withUnderline({descriptor:yt.underline,value:Ct.underline}).build();return Rt.withDescription("Visual_LegendDescription").addGroup("options",function(Yt){Yt.withDisplayName("Desktop_FileMenu_Options"),Yt.addSimpleSlice("position",new P.uY({descriptor:yt.position,value:De.tV[Ct.position]}).build()),dt.removeDefaultToCircleToggle&&null!=Te.legendMarkerRendering?Yt.addSimpleSlice("markerRendering",new P.uY({descriptor:f.qn.legend.legendMarkerRendering,value:Te.legendMarkerRendering}).build()):null!=Te.legendMarkerRendering&&Yt.addSimpleSlice("markerRendering",new P.uY({descriptor:f.qn.legend.legendMarkerRendering,value:Te.legendMarkerRendering,filterValues:[pt.f2,pt.tl,pt.XD]}).build()),null!=Te.matchLineColor&&Yt.addSimpleSlice("matchLineColor",new P.bd({descriptor:f.qn.legend.matchLineColor,value:Te.matchLineColor}).build()),!dt.removeDefaultToCircleToggle&&null!=Te.defaultToCircle&&Yt.addSimpleSlice("defaultToCircle",new P.bd({descriptor:f.qn.legend.defaultToCircle,value:Te.defaultToCircle}).build())}),Rt.addGroup("text",function(Yt){Yt.withDisplayName("Text").addCompositeSlice("fontselector","Font",wt).addSimpleSlice("color",function(){var Gt={value:Ct.fontProperties.color};return new P.BT({descriptor:(0,c.pi)((0,c.pi)({},yt.labelColor),{instanceKind:3}),value:Gt}).build()})}).addGroup("title",function(Yt){Yt.withDisplayName("Title").addTopLevelToggle("showTitle",function(){return new P.bd({descriptor:yt.showTitle,value:Ct.showTitle}).build()}).addSimpleSlice("titleText",new P.fq({descriptor:yt.titleText,value:Ct.title,placeholder:""}).build(),function(Gt){return Gt.withCustomDisplayName("Visual_Title_Text")})}),Rt.build()}function yi(){}function gi(Te){var at="".concat("Visual","-").concat("legend"),dt="".concat("legend","-").concat("text"),At={cardUid:at,groupUid:dt,sliceUid:"".concat(dt,"-fontselector")},St={cardUid:at,groupUid:dt,sliceUid:"".concat(dt,"-color")};return(0,j.Co)(Te,{fontReference:At,fontColorReference:St})}function bi(Te){var at="".concat("legend","-").concat("title");return[{type:2,sourceUid:at,disabledLabel:Te.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]},{type:0,excludedResetSourceUids:[{sourceUid:"".concat(at,"-showTitle")}]},{type:1,destinationUids:[{cardUid:"".concat("Visual","-").concat("legend"),groupUid:at}],label:Te.getLocalizedString("Format_Legend_Title")}]}function Wi(Te){var at=Te.hostServices,dt=Te.showSort,At="".concat("Visual","-").concat("legend"),St="".concat("legend","-").concat("title"),Ct=[{type:2,sourceUid:At,disabledLabel:at.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]},{type:0,excludedResetSourceUids:[{sourceUid:St},{sourceUid:At}]},{type:2,sourceUid:St,enabledLabel:at.getLocalizedString("Format_AddLegendTitle")}];return dt&&Ct.push({type:4,sortableField:{queryName:"",sortDirection:1},label:at.getLocalizedString("Format_SortLegend"),key:"Legend"}),(0,c.ev)((0,c.ev)([],Ct,!0),[{type:1,destinationUids:[{cardUid:"".concat("Visual","-").concat("legend"),groupUid:"".concat("legend","-").concat("options")}],label:at.getLocalizedString("Format_Legend")}],!1)}var Sn=function(){function Te(at,dt,At,St,Ct,It){this.style=At,this.interactivityService=St,this.hostService=Ct,this.isScrollable=It,this.legendDataStartIndex=0,this.arrowPosWindow=1,this.lastCalculatedWidth=0,this.element=d3.select(at.get(0)),this.setPosition(dt),this.viewport={height:0,width:0}}return Te.prototype.getMargins=function(){return this.viewport},Te.prototype.isVisible=function(){return(0,De.dx)(this.data)},Te.prototype.setPosition=function(at){this.orientation=at||De.tV.Top},Te.prototype.getPosition=function(){return this.orientation},Te.prototype.drawLegend=function(at,dt,At){var St=At&&At.isHierarchicalAxis||!1,Ct=At&&At.formatMode||void 0,It=At&&At.onObject,Rt=(0,g.ED)(at);_.defaults(Rt,{fontProperties:Dt(this.style)});for(var kt=[],wt=0,Yt=at.dataPoints;wt<Yt.length;wt++)kt.push((0,g.ED)(Yt[wt]));Rt.dataPoints=kt,Te.setTooltipToLegendItems(Rt),(Rt.fontSize||Rt.labelColor)&&(Rt.fontProperties={color:Rt.labelColor||"#666666",size:Rt.fontSize?E.B.createFromPt(Rt.fontSize):C,family:De.cp}),Rt.fontProperties||(Rt.fontProperties=Dt(this.style)),Rt.isGradientLegend||((0===Rt.dataPoints.length||Rt.position===De.tV.None)&&(Rt.show=!1),Rt.show||(Rt.dataPoints=[])),this.interactivityService&&(this.interactivityService.applySelectionStateToData(at.dataPoints),this.interactivityService.applySelectionStateToData(Rt.dataPoints)),this.legendDataStartIndex=h.b$.clampValue(this.legendDataStartIndex,0,Math.max(Rt.dataPoints.length-1,0)),this.render(Rt,dt,lt,St,Ct,It,At&&At.titleSliceUid,At&&At.showTitlePlaceholder)},Te.prototype.render=function(at,dt,At,St,Ct,It,Rt,kt){var wt=this;this.viewport=At({data:at,parentViewport:dt,autoWidth:!0,element:this.element,lastCalculatedWidth:this.lastCalculatedWidth,orientation:this.orientation,isScrollable:this.isScrollable,arrowPosWindow:this.arrowPosWindow,legendDataStartIndex:this.legendDataStartIndex,interactivityService:this.interactivityService,rerenderCallback:function Gt(Jt,er,Sr){var tr=0===Jt?er+Sr:er-Sr;tr=wt.legendDataStartIndex=h.b$.clampValue(tr,0,at.dataPoints.length-1),wt.viewport=At({data:at,parentViewport:dt,autoWidth:!0,element:wt.element,lastCalculatedWidth:wt.lastCalculatedWidth,orientation:wt.orientation,isScrollable:wt.isScrollable,arrowPosWindow:Sr,legendDataStartIndex:tr,interactivityService:wt.interactivityService,rerenderCallback:Gt,visualStyle:wt.style,hostService:wt.hostService,isHierarchicalAxis:St,formatMode:Ct,onObject:It,titleSliceUid:Rt,showTitlePlaceholder:kt})},visualStyle:this.style,hostService:this.hostService,isHierarchicalAxis:St,formatMode:Ct,onObject:It,titleSliceUid:Rt,showTitlePlaceholder:kt})},Te.prototype.reset=function(){},Te.setTooltipToLegendItems=function(at){for(var dt=0,At=at.dataPoints;dt<At.length;dt++){var St=At[dt];St.tooltip=St.label}},Te}(),Cn=function(){function Te(at){this.legendContainerParent=d3.select(at.get(0))}return Te.prototype.getMargins=function(){return{height:Te.LegendHeight,width:0}},Te.prototype.drawLegend=function(at){n.fF.assertValue(at,"legendData");var dt=at.dataPoints;if(n.fF.assertValue(dt,"dataPoints"),!(dt.length<1)){var At=this.legendContainerParent.select(Te.LegendContainerSelector);if(At.empty()){if(!dt.length)return;var St=$("<div></div>").height(this.getMargins().height).addClass(Te.LegendContainerClass);$(this.legendContainerParent.node()).prepend(St),At=d3.select(St.get(0))}this.legendContainerDiv=At,this.drawTitle(dt),this.drawLegendItems(dt)}},Te.prototype.reset=function(){this.legendContainerDiv&&(this.legendContainerDiv.remove(),this.legendContainerDiv=null)},Te.prototype.isVisible=function(){return!0},Te.prototype.setPosition=function(at){},Te.prototype.getPosition=function(){return De.tV.Top},Te.prototype.drawTitle=function(at){n.fF.assert(function(){return at&&at.length>0},"data is null or empty");var At=this.legendContainerDiv.selectAll("div."+Te.LegendTitleClass).data([at[0]]),St=At.enter().append("div").attr("class",Te.LegendTitleClass);St.filter(function(It){return It.iconOnlyOnLabel}).append("span").attr("class",Te.legendIconClass).html(Te.legendPlaceSelector),St.append("span");var Ct=St.merge(At);Ct.filter(function(It){return It.iconOnlyOnLabel}).select("span."+Te.legendIconClass).style(Te.legendColorCss,function(It){return It.color}),Ct.select("span:last-child").text(function(It){return It.category})},Te.prototype.drawLegendItems=function(at){this.ensureLegendTableCreated();var dt=[at],At=this.legendContainerDiv.select("tbody").selectAll("tr").data(dt),St=At.enter().append("tr"),It=St.selectAll("td").data(function(wt){return wt},function(wt){return wt.label}).enter().append("td").attr("class",Te.LegendItem).append("span");It.filter(function(wt){return!wt.iconOnlyOnLabel}).append("span").html(Te.legendPlaceSelector).attr("class",Te.legendIconClass).attr("white-space","nowrap").styles({"font-size":"20px","margin-bottom":"7px"}),It.append("span").attr("class",Te.legendItemNameClass),It.append("span").attr("class",Te.legendItemMeasureClass);var kt=St.merge(At).selectAll("td").data(function(wt){return wt},function(wt){return wt.label});kt.select("span."+Te.legendItemNameClass).html(function(wt){return(0,I.nU)(wt.label)}),kt.select("span."+Te.legendItemMeasureClass).html(function(wt){return"&nbsp;"+wt.measure}),kt.select("span."+Te.legendIconClass).style("color",function(wt){return wt.color}),kt.exit().remove()},Te.prototype.ensureLegendTableCreated=function(){if(this.legendContainerDiv.select("div table").empty()){var at=this.legendContainerDiv.append("div").append("table");at.style("table-layout","fixed").append("tbody"),this.setPanGestureOnLegend(at)}},Te.prototype.setPanGestureOnLegend=function(at){var dt=$(this.legendContainerParent.node()).width(),At=d3.zoom().on("zoom",function(){if($(at.node()).width()>dt){var St=d3.event.transform.x;St=Math.min(St,0),St=Math.max(St,dt-$(at.node()).width()),at.style("-ms-transform",(0,S.y4)(St)),at.style("-webkit-transform",(0,S.y4)(St)),at.style("transform",(0,S.y4)(St))}});this.legendContainerDiv?this.legendContainerDiv.call(At):at.call(At)},Te.LegendHeight=70,Te.LegendContainerClass="interactive-legend",Te.LegendContainerSelector=".interactive-legend",Te.LegendTitleClass="title",Te.LegendItem="item",Te.legendPlaceSelector="\u25cf",Te.legendIconClass="icon",Te.legendColorCss="color",Te.legendItemNameClass="itemName",Te.legendItemMeasureClass="itemMeasure",Te}(),Ua="foregroundNeutralSecondary";function Za(Te,at,dt,At,St,Ct,It){void 0===St&&(St=!1),void 0===Ct&&(Ct=(0,V.Ue)());var Rt=F.v.create(Ct),kt=(0,D.NA)(Te,yt.showGradientLegend,!1),wt=(0,D.NA)(Te,yt.show,dt=It?kt:dt);wt=It?wt&&kt:wt;var Yt=De.tV[(0,D.NA)(Te,yt.position,"Top")],Gt=(0,D.NA)(Te,yt.showTitle,!0),Jt=(0,D.RK)(Te,yt.labelColor.objectName),er=(0,k.Zi)(Jt,{color:yt.labelColor.propertyName,size:yt.fontSize.propertyName,family:yt.fontFamily.propertyName,bold:yt.bold.propertyName,italic:yt.italic.propertyName,underline:yt.underline.propertyName},Rt,Ct,Ua,"lightLabel",{color:F.v.getThemeColor(Ct,Ua),size:C,family:De.cp,weight:void 0,style:void 0,textDecoration:void 0});return{show:wt,position:Yt,dataPoints:at,showTitle:Gt,title:(0,D.NA)(Te,yt.titleText,At),grouped:St,fontProperties:er,isGradientLegend:!!It,gradientRule:It,bold:(0,D.NA)(Te,yt.bold,!1),italic:(0,D.NA)(Te,yt.italic,!1),underline:(0,D.NA)(Te,yt.underline,!1)}}function Vn(Te){return _.map(Te.dataPoints,function(at){return{color:at.color,displayName:at.label,identity:at.identity}})}},4767:function(ie,ve,v){v.d(ve,{D:function(){return Ft}});var c=v(1813),l=v(8459),n=v(4171),g=v(6763),V={dataRoles:[{name:g.r.rows,kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Rows"),description:(0,l.V)("Role_DisplayName_RowsDescription")},{name:g.r.columns,kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Columns"),description:(0,l.V)("Role_DisplayName_ColumnsDescription")},{name:g.r.values,kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:n.iD.formatString}}},dataViewMappings:[{matrix:{rows:{for:{in:g.r.rows},dataReductionAlgorithm:{top:{count:3e3}}},columns:{for:{in:g.r.columns},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:g.r.values}}}}]},P=v(1592),S=v(1529),D={objects:{general:{properties:{formatString:n.iD.formatString}}},dataViewMappings:[{single:{role:"Values"}}],supportsSelection:!1},b=v(9926),N=v(8502),f=v(1911),F=v(4440),A=v(5709),k=v(7706),Y=v(8828),j=v(790),G=v(9886),I=v(7004),E=v(6462),T=v(8797),m=v(915),z=v(2570),R=v(6274),w=v(9921),d=(0,w.i)([{value:"keyInfluencers",displayName:function(){return"keyInfluencers"}},{value:"topProfiles",displayName:function(){return"topProfiles"}}]),M=(0,w.i)([{value:"absolute",displayName:function(Mt){return Mt.get("Visual_Absolute")}},{value:"relative",displayName:function(Mt){return Mt.get("Visual_Relative")}}]),H=(0,w.i)([{value:"Continuous",displayName:function(Mt){return Mt.get("Visual_Axis_Scalar")}},{value:"Categorical",displayName:function(Mt){return Mt.get("Visual_Axis_Categorical")}}]),W=(0,w.i)([{value:"impact",displayName:function(Mt){return Mt.get("KeyDriver_SortType_Impact")}},{value:"count",displayName:function(Mt){return Mt.get("KeyDriver_SortType_Count")}}]),ee={keyDrivers:{displayName:(0,l.V)("Analysis"),description:(0,l.V)("Visual_KeyDriversDescription"),properties:{allowKeyDrivers:{displayName:(0,l.V)("Visual_KeyDrivers_AllowKeyDrivers"),description:(0,l.V)("Visual_KeyDrivers_AllowKeyDriversDescription"),type:{bool:!0}},allowProfiles:{displayName:(0,l.V)("Visual_KeyDrivers_AllowProfiles"),description:(0,l.V)("Visual_KeyDrivers_AllowProfilesDescription"),type:{bool:!0}},selectedNumericAnalysis:{displayName:(0,l.V)("Visual_KeyDrivers_NumericAnalysis"),description:(0,l.V)("Visual_KeyDrivers_NumericAnalysisDescription"),type:{enumeration:H},suppressFormatPainterCopy:!0},allowKeyDriversCounting:{displayName:(0,l.V)("Visual_KeyDrivers_AllowKeyDriversCounting"),description:(0,l.V)("Visual_KeyDrivers_AllowKeyDriversCountingDescription"),type:{bool:!0}},countType:{displayName:(0,l.V)("KeyDriver_CountType"),description:(0,l.V)("KeyDriver_CountType_Description"),type:{enumeration:M}},selectedAnalysis:{type:{enumeration:d},suppressFormatPainterCopy:!0},selectedSort:{type:{enumeration:W},suppressFormatPainterCopy:!0},targetValue:{type:{text:!0},suppressFormatPainterCopy:!0},numericTargetSelectedKind:{type:{numeric:!0},suppressFormatPainterCopy:!0}}},keyInfluencersVisual:{displayName:(0,l.V)("Visual_KeyDriversVisualColors"),description:(0,l.V)("Visual_KeyDriversVisualColors_Description"),properties:{primaryColor:{displayName:(0,l.V)("Visual_KeyDriversVisualColors_PrimaryColor"),description:(0,l.V)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},primaryFontColor:{displayName:(0,l.V)("Visual_KeyDriversVisualColors_PrimaryFontColor"),description:(0,l.V)("Visual_KeyDriversVisualColors_PrimaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryColor:{displayName:(0,l.V)("Visual_KeyDriversVisualColors_SecondaryColor"),description:(0,l.V)("Visual_KeyDriversVisualColors_SecondaryColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryFontColor:{displayName:(0,l.V)("Visual_KeyDriversVisualColors_SecondaryFontColor"),description:(0,l.V)("Visual_KeyDriversVisualColors_SecondaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},canvasColor:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_KeyDriversVisualColors_CanvasColor_Description"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,l.V)("Visual_FontColor"),description:(0,l.V)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}}}},keyDriversDrillVisual:{displayName:(0,l.V)("Visual_KeyDriversDrillVisualColors"),description:(0,l.V)("Visual_KeyDriversDrillVisualColors_Description"),properties:{defaultColor:{displayName:(0,l.V)("Visual_DefaultColor"),description:(0,l.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},referenceLineColor:{displayName:(0,l.V)("Visual_KeyDriversDrillVisualColors_ReferenceLineColor"),description:(0,l.V)("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}}}}};(0,R.wZ)(ee);var Ae=v(3979),Se=v(7094),we=v(7735),Pe=v(3960),ze=v(3789),Xe=v(1769),pe={inputBox:{displayName:(0,l.V)("Visual_Qna_QuestionBox"),properties:{background:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_Qna_QuestionBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontColor:{displayName:(0,l.V)("Visual_Qna_QuestionFontColor"),description:(0,l.V)("Visual_Qna_QuestionFontColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontSize:{displayName:(0,l.V)("Visual_Qna_QuestionFontSize"),description:(0,l.V)("Visual_Qna_QuestionFontSizeDescription"),type:{formatting:{fontSize:!0}}},questionBold:n.iD.bold,questionItalic:n.iD.italic,questionUnderline:n.iD.underline,questionFontFamily:{displayName:(0,l.V)("Visual_Qna_QuestionFontFamily"),description:(0,l.V)("Visual_Qna_QuestionFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},hoverColor:{displayName:(0,l.V)("Visual_Qna_HoverColor"),description:(0,l.V)("Visual_Qna_HoverColorDescription"),type:{fill:{solid:{color:!0}}}},acceptedColor:{displayName:(0,l.V)("Visual_Qna_AcceptedUnderlineColor"),description:(0,l.V)("Visual_Qna_AcceptedUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},errorColor:{displayName:(0,l.V)("Visual_Qna_ErrorUnderlineColor"),description:(0,l.V)("Visual_Qna_ErrorUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},warningColor:{displayName:(0,l.V)("Visual_Qna_WarningUnderlineColor"),description:(0,l.V)("Visual_Qna_WarningUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontColor:{displayName:(0,l.V)("Visual_Qna_RestatementFontColor"),description:(0,l.V)("Visual_Qna_RestatementFontColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontSize:{displayName:(0,l.V)("Visual_Qna_RestatementFontSize"),description:(0,l.V)("Visual_Qna_RestatementFontSizeDescription"),type:{formatting:{fontSize:!0}}},restatementFontFamily:{displayName:(0,l.V)("Visual_Qna_RestatementFontFamily"),description:(0,l.V)("Visual_Qna_RestatementFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},commitButtonBackgroundColor:{displayName:(0,l.V)("Visual_Qna_CommitButtonBackgroundColor"),description:(0,l.V)("Visual_Qna_CommitButtonBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}}}},suggestions:{displayName:(0,l.V)("Visual_Qna_Suggestions"),properties:{show:n.iD.show,headerFontColor:{displayName:(0,l.V)("Visual_Qna_HeaderFontColor"),description:(0,l.V)("Visual_Qna_HeaderFontColorDescription"),type:{fill:{solid:{color:!0}}}},headerFontSize:{displayName:(0,l.V)("Visual_Qna_HeaderFontSize"),description:(0,l.V)("Visual_Qna_HeaderFontSizeDescription"),type:{formatting:{fontSize:!0}}},headerBold:n.iD.bold,headerItalic:n.iD.italic,headerUnderline:n.iD.underline,headerFontFamily:{displayName:(0,l.V)("Visual_Qna_HeaderFontFamily"),description:(0,l.V)("Visual_Qna_HeaderFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},cardBackground:{displayName:(0,l.V)("Visual_Qna_CardBackgroundColor"),description:(0,l.V)("Visual_Qna_CardBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontColor:{displayName:(0,l.V)("Visual_Qna_CardFontColor"),description:(0,l.V)("Visual_Qna_CardFontColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontSize:{displayName:(0,l.V)("Visual_Qna_CardFontSize"),description:(0,l.V)("Visual_Qna_CardFontSizeDescription"),type:{formatting:{fontSize:!0}}},cardBold:n.iD.bold,cardItalic:n.iD.italic,cardUnderline:n.iD.underline,cardFontFamily:{displayName:(0,l.V)("Visual_Qna_CardFontFamily"),description:(0,l.V)("Visual_Qna_CardFontFamilyDescription"),type:{formatting:{fontFamily:!0}}}}},hiddenProperties:{properties:{savedUtterance:{type:{text:!0},captureState:!0,suppressFormatPainterCopy:!0}}}},De=((0,R.wZ)(pe),{objects:pe,suppressDefaultTitle:!0,supportsKeyboardFocus:!0,supportsHighlight:!0,isConvertible:!0,tooltips:{supportEnhancedTooltips:!1}}),Qe=(0,w.i)([{value:0,displayName:(0,l.V)("Top")},{value:1,displayName:(0,l.V)("Bottom")}]),rt={advancedEditModeSupport:2,objects:{toolbar:{displayName:(0,l.V)("RdlVisual_Capabilities_Toolbar"),properties:{show:n.iD.show,pageNavigation:{displayName:(0,l.V)("PageNavigation"),type:{bool:!0}},paramButton:{displayName:(0,l.V)("Parameters"),type:{bool:!0}},openReportButton:{displayName:(0,l.V)("OpenReport"),type:{bool:!0}},useFloatingToolbar:{displayName:(0,l.V)("RdlVisual_Capabilities_Floating"),type:{bool:!0}},position:{displayName:(0,l.V)("RdlVisual_Capabilities_ToolbarPosition"),type:{enumeration:Qe}}}},export:{displayName:(0,l.V)("Export"),properties:{show:n.iD.show,exportExcel:{displayName:(0,l.V)("RenderFormat_EXCELOPENXML"),type:{bool:!0}},exportPDF:{displayName:(0,l.V)("RenderFormat_PDF"),type:{bool:!0}},exportAccessiblePDF:{displayName:(0,l.V)("RenderFormat_ACCESSIBLEPDF"),type:{bool:!0}},exportCSV:{displayName:(0,l.V)("RenderFormat_CSV"),type:{bool:!0}},exportPPTX:{displayName:(0,l.V)("RenderFormat_PPTX"),type:{bool:!0}},exportWord:{displayName:(0,l.V)("RenderFormat_WORDOPENXML"),type:{bool:!0}},exportMHTML:{displayName:(0,l.V)("RenderFormat_MHTML"),type:{bool:!0}},exportXML:{displayName:(0,l.V)("RenderFormat_XML"),type:{bool:!0}}}},autoFilter:{displayName:(0,l.V)("RdlVisual_Capabilities_AutoFilter"),properties:{show:n.iD.show}},reportInfo:{properties:{reportId:{type:{text:!0}},workspaceId:{type:{text:!0}}}},parameterMapping:{properties:{mappings:{type:{text:!0}}}}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,blockExportData:!0,dataRoles:[{name:"parameterValues",kind:c.DW.GroupingOrMeasure,displayName:(0,l.V)("Parameters"),description:(0,l.V)("RdlVisual_Capabilities_Parameters_Description")}],dataViewMappings:[{conditions:[{parameterValues:{min:0}}],table:{rows:{for:{in:"parameterValues"},dataReductionAlgorithm:{top:{count:3e4}}}}}]},lt=v(3188),Oe={dataRoles:[{name:"Category",kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Axis"),description:(0,l.V)("Role_DisplayName_AxisDescription"),requiredTypes:[{numeric:!0},{dateTime:!0}],cartesianKind:0},{name:"Series",kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Legend"),description:(0,l.V)("Role_DisplayName_LegendDescription")},{name:"Y",kind:c.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Values"),description:(0,l.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:n.iD.formatString,responsive:n.iD.responsive,responsiveLegacy:n.iD.responsiveLegacy}},legend:{displayName:(0,l.V)("Visual_Legend"),description:(0,l.V)("Visual_LegendDescription"),properties:{show:n.iD.show,position:n.iD.legendPosition,showTitle:n.iD.showLegendTitle,titleText:(0,lt.pi)((0,lt.pi)({},n.iD.legendTitle),{suppressFormatPainterCopy:!0}),labelColor:n.iD.labelColor,fontSize:n.iD.fontSize}},categoryAxis:{displayName:(0,l.V)("Visual_XAxis"),properties:{show:n.iD.show,axisType:n.iD.axisType,showAxisTitle:n.iD.showAxisTitle_X,axisStyle:n.iD.axisStyle,labelColor:n.iD.labelColor,labelDisplayUnits:n.iD.labelDisplayUnits,labelPrecision:n.iD.labelPrecision,duration:{type:{numeric:!0}}}},valueAxis:{displayName:(0,l.V)("Visual_YAxis"),properties:{show:n.iD.show,showAxisTitle:n.iD.showAxisTitle_Y,axisStyle:n.iD.axisStyle,labelColor:n.iD.labelColor,labelDisplayUnits:n.iD.labelDisplayUnits,labelPrecision:n.iD.labelPrecision}},dataPoint:{displayName:(0,l.V)("Visual_DataPoint"),description:(0,l.V)("Visual_DataPointDescription"),properties:{defaultColor:n.iD.defaultColor,fill:n.iD.fill}},plotArea:{displayName:(0,l.V)("Visual_Plot"),properties:{transparency:n.iD.transparency,image:n.iD.image}}},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{for:{in:"Y"}}],dataReductionAlgorithm:{top:{}}}}}}],sorting:{implicit:{clauses:[{role:"Category",direction:1}]}}},ce=v(4625),fe=v(3889),ae={dataRoles:[{name:"Values",kind:c.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}},te=v(4834),oe=v(6222),Ce=v(8031);var Je=v(9550),ot=v(3262),bt=v(9552),Ft={actionButton:(0,P.mx)(),aiNarratives:(0,S.Tf)(),animatedNumber:D,areaChart:(0,Se.yg)(!1,!0),barChart:(0,k.nn)(!0,!0),basicShape:N.T,advancedSlicer:f.u9,shape:te.Ic,card:F.C,cardVisual:A.LS,multiRowCard:Pe._i,clusteredBarChart:(0,k.nn)(!0),clusteredColumnChart:(0,k.nn)(),columnChart:(0,k.nn)(!1,!0),donutChart:(0,I.cw)(),funnel:(0,T.qW)(),gauge:m.J1,hundredPercentStackedBarChart:(0,k.nn)(!0,!0),hundredPercentStackedColumnChart:(0,k.nn)(!1,!0),ribbonChart:(0,k.nn)(!1,!0,!0),image:z.Jz,lineChart:(0,Se.yg)(!1,!1),stackedAreaChart:(0,Se.yg)(!0,!0),lineStackedColumnComboChart:(0,Y.p5)(!0),lineClusteredColumnComboChart:(0,Y.p5)(!1),map:(0,we.NC)(),filledMap:(0,E.XN)(),azureMap:(0,b.$E)(),shapeMap:(0,oe.x)(),treemap:(0,ot.cB)(),pieChart:(0,I.cw)(),scatterChart:(0,ce.r4)(),table:{dataRoles:function(vt){return[{name:"Values",kind:c.DW.GroupingOrMeasure,displayName:(0,l.V)(vt&&vt.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values")}]}(undefined),objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:n.iD.formatString,columnWidth:{type:{numeric:!0}},totals:{type:{bool:!0},displayName:(0,l.V)("Visual_Totals"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,l.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,l.V)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,l.V)("Visual_Grid"),properties:{outlineColor:n.iD.outlineColor,outlineWeight:n.iD.outlineWeight,gridVertical:{displayName:(0,l.V)("Visual_GridVertical"),description:(0,l.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,l.V)("Visual_GridVertical_Color"),description:(0,l.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,l.V)("Visual_GridVertical_Weight"),description:(0,l.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,l.V)("Visual_GridHorizontal"),description:(0,l.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,l.V)("Visual_GridHorizontal_Color"),description:(0,l.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,l.V)("Visual_GridHorizontal_Weight"),description:(0,l.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,l.V)("Visual_RowPadding"),description:(0,l.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,l.V)("Visual_Tablix_ImageHeight"),description:(0,l.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,l.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:n.iD.outline,fontColor:n.iD.tablixFontColor,backColor:n.iD.backColor,wordWrap:n.iD.wordWrap}},values:{displayName:(0,l.V)("Visual_Tablix_Values"),properties:{outline:n.iD.outline,backColor:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,l.V)("Visual_FontColor"),description:(0,l.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,l.V)("Visual_Tablix_FontColorSecondary"),description:(0,l.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,l.V)("Visual_Tablix_BackColorSecondary"),description:(0,l.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,l.V)("Visual_Tablix_UrlIcon"),description:(0,l.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}}}},total:{displayName:(0,l.V)("Visual_Total"),properties:{outline:n.iD.outline,fontColor:n.iD.tablixFontColor,backColor:n.iD.backColor}},columnFormatting:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:n.iD.tablixFontColor,backColor:n.iD.backColor,styleHeader:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{custom:{}},suppressDefaultTitle:!0,supportsSelection:!1,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0},matrix:g.d,slicer:(0,Ce.st)(),pageNavigator:ze.QP,bookmarkNavigator:ze.j0,textbox:Je.dd,waterfallChart:(0,bt.GJ)(),heatMap:(0,we.NC)(),scriptVisual:ae,pythonVisual:{dataRoles:[{name:"Values",kind:c.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}},kpi:(0,Ae.pW)(),realTimeLineChart:Oe,accessibleTable:V,pivotTableCapabilities:(0,Xe.R)(),keyDrivers:function(){var vt;return{dataRoles:[{name:"Target",kind:c.DW.GroupingOrMeasure,kindPreference:1,displayName:(0,l.V)("Role_DisplayName_Target"),description:(0,l.V)("Role_DisplayName_TargetDescription")},{name:"ExplainBy",kind:c.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_ExplainBy"),description:(0,l.V)("Role_DisplayName_ExplainByDescription")},{name:"Details",kind:c.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Details"),description:(0,l.V)("Role_DisplayName_DetailsKeyDriversDescription")}],objects:ee,suppressDefaultTitle:!0,dataViewMappings:[{conditions:[(vt={},vt.Target={min:1,max:1},vt)],table:{rows:{select:[{bind:{to:"Target"}},{for:{in:"ExplainBy"}}],dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],supportsKeyboardFocus:!0,supportsSelection:!1,tooltips:{supportEnhancedTooltips:!0}}}(),decompositionTree:(0,G.Sd)(),qnaVisual:De,dataQueryVisual:j.YE,scorecard:fe.b,rdlVisual:rt}},5358:function(ie,ve,v){v.d(ve,{Bt:function(){return F},EX:function(){return V},G6:function(){return D},jN:function(){return A},kA:function(){return P},ku:function(){return S},ub:function(){return g},x0:function(){return k}});var c=v(8955),l=v(6348),n=v(8104);function g(G){return new F(G)}function V(G,I){void 0===I&&(I="rect");var E=G.select("".concat(I,".clearCatcher"));return E.empty()&&(E=G.append(I).classed("clearCatcher",!0).attr("width","100%").attr("height","100%")),E}function P(G,I){void 0===I&&(I="rect");var E=G.select("".concat(I,".clearCatcher"));E.empty()||E.style("pointer-events","none")}function S(G,I){void 0===I&&(I="rect");var E=G.select("".concat(I,".clearCatcher"));E.empty()||E.style("pointer-events","auto")}function D(G){if(_.isEmpty(G))return!1;for(var I=0,E=G.length;I<E;I++)if(G[I].selected)return!0;return!1}var b=function(){function G(I,E,T,m,z){this.dataPoints=I,this.behavior=E,this.key=T,this.hasSelection=m,this.matchPartialIdentities=z}return G.prototype.render=function(){this.behavior.renderSelection(this.hasSelection())},G}();function N(G,I){return _.find(G,function(E){return!E.identity.highlight&&I.identity.includes(E.identity,!0)})}var f=function(){function G(I){this.selectionStateManager=I,this.pointSources={}}return G.prototype.findNonHightlightDataPoint=function(I){for(var E=0,T=this.getSelectablePointSources();E<T.length;E++){var z=N(T[E].dataPoints,I);if(z)return z}},G.prototype.applySelectionStateToDataPoints=function(I){this.updateSelectableDataPointsBySelectedIds(I)},G.prototype.syncSelectionState=function(I){var E=this;this.getSelectablePointSources(I).forEach(function(T){E.updateSelectableDataPointsBySelectedIds(T.dataPoints,T.matchPartialIdentities)})},G.prototype.clearDataPointSelection=function(){this.applyToAllSelectableDataPoints(function(I){return I.selected=!1})},G.prototype.render=function(){this.getSelectablePointSources().forEach(function(I){I.render()})},G.prototype.bind=function(I,E,T,m){var R,z=this,w=!1;m&&(m.isAxis||m.isLabels||m.isLegend||m.useSelectableDataPointForHasSelection)?R=function(){return!!I&&D(I)}:(R=function(){return z.selectionStateManager.getSelectionSize()>0},w=!0),this.isHierarchicalAxis=m&&m.isHierarchicalAxis,this.selectionStateManager.amendDecomposedSelection(!this.isHierarchicalAxis),this.pointSources[T]=new b(I,E,T,R,w)},G.prototype.hasSelectionForSource=function(I){var E;return D(null===(E=this.pointSources[I])||void 0===E?void 0:E.dataPoints)},G.prototype.applyToAllSelectableDataPoints=function(I){this.getSelectablePointSources().forEach(function(E){if(E.dataPoints)for(var T=0,m=E.dataPoints;T<m.length;T++)I(m[T])})},G.prototype.updateSelectableDataPointsBySelectedIds=function(I,E){void 0===E&&(E=!1),!_.isEmpty(I)&&this.selectionStateManager.updateDatapointAgainstSelectedIds(I,E,this.isHierarchicalAxis)},G.prototype.getSelectablePointSources=function(I){var E=this;if(I){var T=this.pointSources[I];return T?[T]:[]}return _.map(Object.keys(this.pointSources),function(m){return E.pointSources[m]})},G}(),F=function(){function G(I){c.fF.assertValue(I,"hostServices"),this.hostService=I,this.dataPointNavigationManager=new j,this.categoryAxisNavigationManager=new j,this.selectionStateManager=new Y,this.dataPointManager=new f(this.selectionStateManager)}return G.prototype.bind=function(I,E,T,m){m&&m.overrideSelectionFromData&&this.takeSelectionStateFromDataPoints(I),this.isHierarchicalAxis=m&&m.isHierarchicalAxis;var z=m?m.pointSourceKey:"";this.dataPointManager.bind(I,E,z,m),m&&m.navigationOptions&&(m.isAxis?this.categoryAxisNavigationManager.update(E,m.navigationOptions,z):this.dataPointNavigationManager.update(E,m.navigationOptions,z),m.navigationOptions.focusElement&&E.renderFocus(m.navigationOptions.focusElement)),E.bindEvents(T,this,m&&m.isAxis?{dataPointNavigationManager:this.categoryAxisNavigationManager,pointSourceKey:z}:{dataPointNavigationManager:this.dataPointNavigationManager,pointSourceKey:z},this.formatMode),this.syncSelectionState(m&&m.pointSourceKey)},G.prototype.clearSelection=function(){this.clearSelectionInternal(),this.renderAll()},G.prototype.clearSelectionInternal=function(){this.clearSelectionState(),this.dataPointManager.clearDataPointSelection()},G.prototype.applySelectionStateToData=function(I){return this.dataPointManager.applySelectionStateToDataPoints(I),this.hasSelection()},G.prototype.hasSelection=function(){return this.selectionStateManager.getSelectionSize()>0},G.prototype.hasSelectionForSource=function(I){return this.dataPointManager.hasSelectionForSource(I)},G.getVisualObjects=function(I){return _.map(I,function(E){return{objectName:G.dataPointObjectName,selectorsByColumn:E.getSelectorsByColumn()}})},G.prototype.handleSelection=function(I,E,T){var z,m=this;(c.fF.assertValue(I,"dataPoint"),I)&&(I.specificIdentity?z=I.specificIdentity.getSelectorsByColumn():(!I.identity&&I.lazyIdentity&&(I.identity=I.lazyIdentity()),I.identity&&(z=I.identity.getSelectorsByColumn())),1===this.hostService.dataMultiSelectMode()&&0===E&&(E=3),this.runInTransaction(function(){I.identity&&m.select(I,E);var d={type:0,visualObjects:I.specificIdentity?[{objectName:G.dataPointObjectName,selectorsByColumn:z}]:G.getVisualObjects(m.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:3===E,isShiftKey:1===E,isLassoSelect:!1,position:T};return _.isEmpty(z)||m.hostService.onSelecting(d),d},E,!1,!I.identity))},G.prototype.handleMultipleSelection=function(I,E,T,m){var z=this;this.runInTransaction(function(){z.selectMultiple(I,E);var B={type:0,visualObjects:G.getVisualObjects(z.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:!!T||3===E,isShiftKey:1===E,isLassoSelect:T,position:m};return z.hostService.onSelecting(B),B},E,T,!1)},G.prototype.runInTransaction=function(I,E,T,m){var R,z=!1;this.selectionStateManager.beginTransaction();try{var w=I();0!==w.action&&w.action?this.selectionStateManager.rollback():(this.selectionStateManager.commit(),z=!0,R=w.selectionLimitInfo,this.syncSelectionState())}catch(B){this.selectionStateManager.rollback()}finally{z&&(m?this.handleClearSelection():(this.sendSelectionToHost(E,T,R),this.renderAll()))}},G.prototype.handleContextMenu=function(I,E){this.sendContextMenuToHost(I,E)},G.prototype.handleClearSelection=function(){0===this.hostService.dataMultiSelectMode()&&(this.clearSelection(),this.sendSelectionToHost(0,!1,{existingSelectionLength:0,newSelectionLength:0,allowed:!0}))},G.prototype.restoreSelection=function(I){return this.clearSelection(),this.selectionStateManager.restoreSelection(I,this.isHierarchicalAxis),this.syncSelectionState(),this.renderAll(),this.hasSelection()},G.prototype.renderAll=function(){this.dataPointManager.render()},G.prototype.clearSelectionState=function(){this.selectionStateManager.clearSelectionState()},G.prototype.selectMultiple=function(I,E){(0===E||2===E)&&this.clearSelectionState();for(var T=0,m=I;T<m.length;T++){var z=m[T],R=z.identity;R.highlight||(1===E||0===E?this.addId(R):3===E?z.selected?this.removeId(R):this.addId(R):2===E&&z.selected&&this.addId(R))}},G.prototype.updateSelectionState=function(I,E,T,m){m||this.clearSelectionInternal(),I.selected?m&&3===E&&this.removeId(T):(this.addId(T),m&&(T.hasIdentity()?this.removeSelectionIdsWithOnlyMeasures():this.removeSelectionIdsExceptOnlyMeasures()))},G.prototype.select=function(I,E){I.identity&&I.identity.highlight&&(I=this.dataPointManager.findNonHightlightDataPoint(I),c.fF.assertValue(I,"Expected to find a non-highlight data point"));var T=I.identity;if(T){var m=this.getSelectionIds(),z=this.hostService.canSelect(G.createSelectEventArgs(m,E));switch(E){case 0:!I.selected||m.length>1||1===m.length&&!m[0].equals(T)?(this.clearSelectionInternal(),this.addId(T)):I.selected?this.removeId(T):this.addId(T);break;case 3:case 1:this.updateSelectionState(I,E,T,z);break;case 2:c.fF.assertFail("single selection does not have intersection implemented");break;default:c.fF.assertFail("no such multiSelectMode")}}},G.prototype.removeId=function(I){this.selectionStateManager.removeId(I,this.isHierarchicalAxis)},G.prototype.addId=function(I){this.selectionStateManager.addId(I,this.isHierarchicalAxis)},G.prototype.getSelectionIds=function(){return this.selectionStateManager.getSelectionIds()},G.prototype.sendContextMenuToHost=function(I,E){var T=this.hostService;if(T.onContextMenu){var m,R;I.specificIdentity?m=I.specificIdentity:I.identity&&(m=I.identity),R=this.selectionStateManager.isIdSelected(m);for(var w=[],B=0,C=!m||R?this.getSelectionIds():[m];B<C.length;B++){var u=C[B].getSelectorsByColumn();_.isEmpty(u)||w.push(u)}_.isEmpty(w)||T.onContextMenu({data:w,position:E})}},G.prototype.sendSelectionToHost=function(I,E,T){var m=this.hostService;if(m.onSelect){var z=G.createSelectEventArgs(this.getSelectionIds(),I,E,T);m.onSelect(z)}},G.createSelectEventArgs=function(I,E,T,m){var z=!1;_.isEmpty(I)||(z=I[0].getSelector()&&!I[0].getSelectorsByColumn());var R=_.chain(I).filter(function(B){return B.hasIdentity()}),w={type:0,visualObjects:R.map(function(B){return{objectName:G.dataPointObjectName,selectorsByColumn:B.getSelectorsByColumn()}}).value(),selectionMode:E,isLassoSelect:T,selectionLimitInfo:m};return z&&(w.selectors=R.map(function(B){return B.getSelector()}).value()),w},G.prototype.takeSelectionStateFromDataPoints=function(I){c.fF.assertValue(I,"dataPoints"),this.clearSelectionState();for(var E=0,T=I;E<T.length;E++){var m=T[E];m.selected&&this.addId(m.identity)}},G.prototype.syncSelectionState=function(I){this.dataPointManager.syncSelectionState(I)},G.prototype.removeSelectionIdsWithOnlyMeasures=function(){this.filterSelection(function(I){return I.hasIdentity()})},G.prototype.removeSelectionIdsExceptOnlyMeasures=function(){this.filterSelection(function(I){return!I.hasIdentity()})},G.prototype.filterSelection=function(I){this.selectionStateManager.filterSelection(I)},G.prototype.setFormatMode=function(I){this.formatMode=I,I&&this.handleClearSelection()},G.prototype.setSubSelectionHelper=function(I){this.subSelectionHelper=I},G.prototype.getSubSelectionHelper=function(){return this.subSelectionHelper},G.dataPointObjectName="dataPoint",G}(),A=function(G){return G[G.CategoryFirst=0]="CategoryFirst",G[G.SeriesFirst=1]="SeriesFirst",G[G.CategoryOnly=2]="CategoryOnly",G[G.SeriesOnly=3]="SeriesOnly",G}({}),k=function(G){return G[G.NextCategory=0]="NextCategory",G[G.PreviousCategory=1]="PreviousCategory",G[G.NextSeries=2]="NextSeries",G[G.PreviousSeries=3]="PreviousSeries",G}({}),Y=function(){function G(){this.clearSelectionState()}return G.prototype.beginTransaction=function(){var I=this;c.fF.assert(function(){return void 0===I.previousSelectedIds},"previousSelectedIds"),this.previousSelectedIds=_.clone(this.selectedIds),this.previousDecomposedSelectedIds=_.clone(this.decomposedSelectedIds),this.previousSelectionIdSize=this.selectionIdSize},G.prototype.commit=function(){c.fF.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0},G.prototype.rollback=function(){c.fF.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.selectedIds=this.previousSelectedIds,this.decomposedSelectedIds=this.previousDecomposedSelectedIds,this.selectionIdSize=this.previousSelectionIdSize,this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0},G.prototype.isIdSelected=function(I){var E=this.selectedIds[null==I?void 0:I.getKeyWithoutHighlight()];return this.selectionIdSize>1&&E&&E.equals(I)},G.prototype.clearSelectionState=function(){this.selectedIds={},this.decomposedSelectedIds={},this.selectionIdSize=0},G.prototype.restoreSelection=function(I,E){var T=this;_.forEach(I,function(m){var z=n.l0.fromSelectorsByColumn(m);T.addId(z,E)})},G.prototype.addId=function(I,E){this.addDecomposedId(I,!E);var T=!!this.selectedIds[I.getKeyWithoutHighlight()];this.selectedIds[I.getKeyWithoutHighlight()]=I,T||(this.selectionIdSize=void 0!==this.selectionIdSize?this.selectionIdSize+1:1)},G.prototype.addDecomposedId=function(I,E){var T=I.getDecomposedKeys(E);if(T)for(var m=0,z=T;m<z.length;m++){var R=z[m],w=this.decomposedSelectedIds[R];_.isArray(w)?_.some(w,function(B){return B.equals(I)})||w.push(I):this.decomposedSelectedIds[R]=[I]}},G.prototype.amendDecomposedSelection=function(I){this.decomposedSelectedIds={};for(var T=0,m=_.values(this.selectedIds);T<m.length;T++)this.addDecomposedId(m[T],I)},G.prototype.removeId=function(I,E){var T=this,m=function(M){var L=M.getKeyWithoutHighlight(),O=T.selectedIds[L];O&&O.includes(I)&&(delete T.selectedIds[L],T.selectionIdSize--)};m(I);var z=function(M){if(M)for(var L=M.length-1;L>-1;L--){var O=M[L];I.includes(O)&&(M.splice(L,1),m(O))}},R=I.getDecomposedKeys(!E);if(R)for(var w=0,B=R;w<B.length;w++){var C=B[w],d=this.decomposedSelectedIds[C];z(d),_.isEmpty(d)&&delete this.decomposedSelectedIds[C]}var u=this.decomposedSelectedIds[l.xO];u&&u.length&&(z(u),_.isEmpty(u)&&delete this.decomposedSelectedIds[l.xO])},G.prototype.getSelectionSize=function(){return this.selectionIdSize},G.prototype.getSelectionIds=function(){return _.values(this.selectedIds)},G.prototype.filterSelection=function(I){this.selectedIds=_.pickBy(this.selectedIds,I);var E={};_.forEach(this.decomposedSelectedIds,function(T,m){var z=_.filter(T,I);z&&!_.isEmpty(z)&&(E[m]=z)}),this.decomposedSelectedIds=E},G.prototype.updateDatapointAgainstSelectedIds=function(I,E,T){if(_.isEmpty(this.selectedIds)&&_.isEmpty(this.decomposedSelectedIds))for(var m=0,z=I;m<z.length;m++)(R=z[m]).selected=!1;else for(var w=0,B=I;w<B.length;w++){var R;(R=B[w]).selected=this.checkDatapointAgainstSelectedIds(R,E,T)}},G.prototype.checkDatapointAgainstSelectedIds=function(I,E,T){var m,z;if(!_.isEmpty(this.selectedIds)&&(R=null===(m=I.identity)||void 0===m?void 0:m.getKeyWithoutHighlight())&&(w=this.selectedIds[R])&&w.includes(I.identity,!0,E))return!0;if(!_.isEmpty(this.decomposedSelectedIds)){var B=null===(z=I.identity)||void 0===z?void 0:z.getDecomposedKeys(!T);if(B)for(var C=0,d=B;C<d.length;C++){var R,u=this.decomposedSelectedIds[R=d[C]];if(u)for(var y=0,M=u;y<M.length;y++)if((w=M[y])&&w.includes(I.identity,!0,E))return!0}var L=this.decomposedSelectedIds[l.xO];if(!_.isEmpty(L))for(var O=0,H=L;O<H.length;O++){var w;if((w=H[O])&&w.includes(I.identity,!0,E))return!0}}return!1},G}(),j=function(){function G(){this.behaviors={},this.helpers={}}return G.prototype.update=function(I,E,T){this.behaviors[T]=I,this.navigationStrategy=E.navigationStrategy,this.helpers[T]=E.helper},G.prototype.goToFirstElement=function(I){var E=this.helpers[I].getFirstElement().element;E&&this.behaviors[I].renderFocus(E)},G.prototype.isEmpty=function(I){return!this.behaviors[I]||_.isEmpty(this.helpers[I])},G.prototype.handleKeyDownEvent=function(I,E,T,m,z){var R,w=this.helpers[I];switch(m){case 9:var B=this.navigationStrategy;B===A.CategoryFirst||B===A.SeriesOnly?R=w.getNextDataPoint(E,T,z?k.PreviousSeries:k.NextSeries):B===A.SeriesFirst||B===A.CategoryOnly?R=w.getNextDataPoint(E,T,z?k.PreviousCategory:k.NextCategory):c.fF.assertFail("Unknown DataPointNavigationStrategy in DataPointNavigationManager.handleKeyDownEvent");break;case 37:R=w.getNextDataPoint(E,T,k.PreviousCategory);break;case 39:R=w.getNextDataPoint(E,T,k.NextCategory);break;case 38:R=w.getNextDataPoint(E,T,k.NextSeries);break;case 40:R=w.getNextDataPoint(E,T,k.PreviousSeries);break;default:c.fF.assertFail("Unsupported key code received by DataPointNavigationManager.handleKeyDownEvent")}this.behaviors[I].renderFocus(R.element)},G}()},6189:function(ie,ve,v){v.d(ve,{E4:function(){return X},I6:function(){return u},Q6:function(){return Q},Rm:function(){return W},VT:function(){return H}});var c=v(3188),l=v(7777),n=v(8955),g=v(4216),V=v(2348),P=v(6909),S=v(8945),h=v(9066);(0,l.CH)("tooltip-container"),(0,l.CH)("tooltip-content"),(0,l.CH)("arrow"),(0,l.CH)("hide-arrow"),(0,l.CH)("small-touch-screen"),(0,l.CH)("large-touch-screen"),(0,l.CH)("truncate-tooltip-height"),(0,l.CH)("new-mobile-tooltip"),(0,l.CH)("heightened-header"),(0,l.CH)("themeableElement"),(0,l.CH)("tooltip-light");var u=function(){function J(){}return J.highlightedValueDisplayNameResorceKey="Tooltip_HighlightedValueDisplayName",J}();function H(J,ee,le,Ne,Ae){var Se=J.data.getAllValuesForRole("Tooltips",le,Ne),we=J.data.getAllFormatStringsForRole("Tooltips",le,Ne),Pe=J.data.getAllValueDisplayNamesForRole("Tooltips"),ze=J.columns.getAllValueMetadataColumnsForRole("Tooltips",Ne);if(Se)for(var Xe=0;Xe<Se.length;Xe++)null!=Se[Xe]&&ee.push({displayName:Pe[Xe],value:(0,S.xq)(Se[Xe],ze[Xe],Ae,!1,we[Xe])})}function Q(J,ee,le,Ne,Ae){if(J&&(n.fF.assert(function(){return J.length===ee.length},"CategoricalLazyTooltipBuilder:withMultipleColumnAndValues: unexpected count of sources & values"),le||!_.every(ee,function(Pe){return null==Pe}))){var Se=(0,P.ML)(_.map(J,function(Pe){return Pe.queryName}));if(Ae){if(_.includes(Ae,Se))return;Ae.push(Se)}var we=(0,P.ML)(_.map(J,function(Pe){return Pe.displayName}));return function(){var Pe=(0,P.ML)(_.map(ee,function(ze,Xe){return Ne(ze,J[Xe])}));return{displayName:we,value:Pe}}}}var X=function(){function J(){this.items=[],this.columns=[]}return J.prototype.withColumnValue=function(ee,le,Ne,Ae,Se){return ee&&(Ae||null!=le)?(_.includes(this.columns,ee.queryName)||(this.columns.push(ee.queryName),this.items.push(new g.o(function(){return{displayName:ee.displayName,value:Se(le,ee,Ne)}}))),this):this},J.prototype.withMultipleColumnAndValues=function(ee,le,Ne,Ae){var Se=Q(ee,le,Ne,Ae);return Se&&this.items.push(new g.o(Se)),this},J.prototype.withValue=function(ee,le){return this.items.push(new g.o(function(){return{displayName:ee,value:le}})),this},J.prototype.withLazyValue=function(ee){return this.items.push(ee),this},J.prototype.withLazyValues=function(ee){return this.items.push(new g.o(ee)),this},J.prototype.getTooltipItems=function(){return _.flatten(_.map(this.items,function(ee){return ee.getValue()}))},J.prototype.getFormattedTooltipItems=function(){return void 0===this.formatted&&(this.formatted=(0,h.X)(this.getTooltipItems())),this.formatted},J}(),W=function(J){function ee(le,Ne){var Ae=J.call(this)||this;return Ae.reader=le,Ae.formatStringProp=Ne,Ae}return(0,c.ZT)(ee,J),ee.prototype.withAllValuesForRole=function(le,Ne,Ae,Se,we){var Pe=this.reader.getAllValueColumnsForRole(le,Ae);if(_.isEmpty(Pe))return this;for(var ze=0,Xe=Pe;ze<Xe.length;ze++)this.withColumnValueByIndex(Xe[ze],Ne,Se,we);return this},ee.prototype.withColumnValueByIndex=function(le,Ne,Ae,Se){var we;if(!le)return this;var Pe=le.values[Ne],ze=(0,V.NA)(null===(we=le.objects)||void 0===we?void 0:we[Ne],this.formatStringProp);return this.withColumnValue(le.source,Pe,ze,Ae,Se)},ee}(X)},1140:function(ie,ve,v){v.d(ve,{FR:function(){return A},GD:function(){return S},Kn:function(){return b},OW:function(){return l},PG:function(){return f},R_:function(){return h},U5:function(){return n},Yd:function(){return D},dt:function(){return k},eE:function(){return g},hG:function(){return N},mc:function(){return P},op:function(){return V},vW:function(){return F}});var c=v(9921),l="blank",n="leftArrow",g="rightArrow",V="back",P="reset",S="information",h="help",D="qna",b="insights",N="bookmarks",f="custom",F="applyAllSlicers",A="clearAllSlicers",k=(0,c.i)([{value:l,displayName:function(j){return j.get("ReportAppBar_Blank")}},{value:n,displayName:function(j){return j.get("Generic_LeftArrow")}},{value:g,displayName:function(j){return j.get("Generic_RightArrow")}},{value:V,displayName:function(j){return j.get("Generic_Back")}},{value:P,displayName:function(j){return j.get("Reset")}},{value:h,displayName:function(j){return j.get("Generic_Help")}},{value:S,displayName:function(j){return j.get("ReportAppBar_InfoIcon")}},{value:D,displayName:function(j){return j.get("Generic_Qna")}},{value:N,displayName:function(j){return j.get("Generic_Bookmark")}},{value:F,displayName:function(j){return j.get("ReportAppBar_ApplyAllSlicers")}},{value:A,displayName:function(j){return j.get("ReportAppBar_ClearAllSlicers")}},{value:f,displayName:function(j){return j.get("Custom")}}])},4933:function(ie,ve,v){v.d(ve,{DW:function(){return N},LS:function(){return D},dt:function(){return b}});var c=v(8955),l=v(9921),n="droplet",g="circle",V="square",P="diamond",S="triangle",D=n,b=(0,l.i)([{value:n,displayName:function(F){return F.get("Visual_MarkerShape_Droplet")}},{value:g,displayName:function(F){return F.get("Visual_MarkerShape_Circle")}},{value:V,displayName:function(F){return F.get("Visual_MarkerShape_Square")}},{value:P,displayName:function(F){return F.get("Visual_MarkerShape_Diamond")}},{value:S,displayName:function(F){return F.get("Visual_MarkerShape_Triangle")}}]);function N(f){switch(f){case n:return"M 1.123 -0.214\n                        C 1.123 0.123 0.947 0.435 0.749 0.626\n                        L 0.139 1.275\n                        C 0.065 1.353 -0.059 1.353 -0.133 1.275\n                        L -0.743 0.626\n                        C -1.023 0.346 -1.117 0.118 -1.117 -0.214\n                        C -1.117 -0.832 -0.615 -1.333 0.003 -1.333\n                        C 0.621 -1.333 1.123 -0.832 1.123 -0.214 Z";case g:return"M 0 0 m -1 0 a 1 1 0 1 0 2 0 a 1 1 0 1 0 -2 0";case V:return"M 0 0 m -1 -1 l 2 0 l 0 2 l -2 0 z";case P:return"M 0 0 m -1 0 l 1 -1 l 1 1 l -1 1 z";case S:return"M 0 0 m -1 1 l 1 -2 l 1 2 z";case"none":return null;default:c.fF.assertFail("anomalyMarkerShape.getPath received an unknown anomalyMarkerShape")}}},2051:function(ie,ve,v){v.d(ve,{C2:function(){return n},Dh:function(){return g},O1:function(){return P},cX:function(){return l},dt:function(){return V}});var c=v(9921),l="showBoth",n="showTitleOnly",g="showUnitOnly",V=(0,c.i)([{value:n,displayName:function(h){return h.get("Visual_Axis_ShowTitleOnly")}},{value:g,displayName:function(h){return h.get("Visual_Axis_ShowUnitOnly")}},{value:l,displayName:function(h){return h.get("Visual_Axis_ShowBoth")}}]);function P(S,h,D){return S?S===l?"".concat(h," (").concat(D,")"):S===g?D:h:h}},180:function(ie,ve,v){v.d(ve,{Hk:function(){return g},Pf:function(){return n},dt:function(){return V},iD:function(){return l}});var c=v(9921),l="Scalar",n="Categorical",g="Both",V=(0,c.i)([{value:l,displayName:function(S){return S.get("Visual_Axis_Scalar")}},{value:n,displayName:function(S){return S.get("Visual_Axis_Categorical")}}])},7259:function(ie,ve,v){v.d(ve,{BG:function(){return n},C9:function(){return l},cP:function(){return P},dt:function(){return h},jv:function(){return g},x7:function(){return V},yX:function(){return S}});var c=v(9921),l="rectangle",n="oval",g="line",V="arrow",P="triangle",S="arrowbutton",h=(0,c.i)([{value:l,displayName:function(b){return b.get("ReportAppBar_ShapeRectangle")}},{value:n,displayName:function(b){return b.get("ReportAppBar_ShapeOval")}},{value:g,displayName:function(b){return b.get("Visual_Shape_Line")}},{value:V,displayName:function(b){return b.get("ReportAppBar_ShapeArrow")}},{value:P,displayName:function(b){return b.get("ReportAppBar_ShapeTriangle")}},{value:S,displayName:"arrowbutton"}])},1207:function(ie,ve,v){v.d(ve,{AB:function(){return P},GT:function(){return l},IZ:function(){return h},VW:function(){return b},dt:function(){return D},fS:function(){return g},j2:function(){return n},se:function(){return V},uH:function(){return S}});var c=v(9921),l="aerial",n="canvasDark",g="canvasLight",V="grayscale",P="road",S=P,h=n,D=(0,c.i)([{value:l,displayName:function(f){return f.get("Visual_MapThemeAerial")}},{value:n,displayName:function(f){return f.get("Visual_MapThemeDark")}},{value:g,displayName:function(f){return f.get("Visual_MapThemeLight")}},{value:V,displayName:function(f){return f.get("Visual_MapThemeGrayScale")}},{value:P,displayName:function(f){return f.get("Visual_MapThemeRoad")}}]);function b(N){return N===l||N===n}},2201:function(ie,ve,v){v.d(ve,{XT:function(){return V},aA:function(){return g},dt:function(){return S},dw:function(){return P},zH:function(){return n}});var c=v(9921),l="pixels",n="meters",g=l,V=200,P=4e6,S=(0,c.i)([{value:l,displayName:function(D){return D.get("Generic_Pixels")}},{value:n,displayName:function(D){return D.get("Visual_MapUnitMeters")}}])},9150:function(ie,ve,v){v.d(ve,{dt:function(){return g},xV:function(){return l}});var c=v(9921),l="darker",g=(0,c.i)([{value:l,displayName:function(P){return P.get("Visual_Color_Darker")}},{value:"lighter",displayName:function(P){return P.get("Visual_Color_Lighter")}}])},2406:function(ie,ve,v){v.d(ve,{al:function(){return l},dt:function(){return g},oI:function(){return n}});var c=v(9921),l="belowValue",n="aboveValue",g=(0,c.i)([{value:l,displayName:function(P){return P.get("CardVisualPositioning_BelowValue")}},{value:n,displayName:function(P){return P.get("CardVisualPositioning_AboveValue")}}])},2323:function(ie,ve,v){v.d(ve,{YP:function(){return g},dt:function(){return P},hl:function(){return l},jv:function(){return n},uv:function(){return S}});var c=v(9921),l="fill",n="line",g="none",P=(0,c.i)([{value:l,displayName:function(D){return D.get("Visual_Confidence_Band_Style_Fill")}},{value:n,displayName:function(D){return D.get("Visual_Confidence_Band_Style_Line")}},{value:g,displayName:function(D){return D.get("None")}}]),S=(0,c.i)([{value:l,displayName:function(D){return D.get("Visual_Confidence_Band_Style_Fill")}},{value:n,displayName:function(D){return D.get("Visual_Confidence_Band_Style_Line")}},{value:"fillLine",displayName:function(D){return D.get("Visual_Confidence_Band_Style_LineFill")}}])},3446:function(ie,ve,v){v.d(ve,{FH:function(){return g},PG:function(){return l},Vm:function(){return n}});var c=v(9921),l="custom",n="fieldName",g=(0,c.i)([{value:l,displayName:function(P){return P.get("Custom")}},{value:n,displayName:function(P){return P.get("StreamingDataflow_FieldName")}}])},7842:function(ie,ve,v){v.d(ve,{dt:function(){return g},eP:function(){return l},rM:function(){return n}});var c=v(9921),l="Rounded",n="Sharp",g=(0,c.i)([{value:l,displayName:function(P){return P.get("VisualContainer_Border_RoundedCorners")}},{value:n,displayName:function(P){return P.get("ReportAppBar_ShapeRectangle")}}])},6604:function(ie,ve,v){v.d(ve,{d:function(){return l}});var l=(0,v(9921).i)([{value:0,displayName:function(g){return g.get("DisplayUnitSystem_EAuto_Title")}},{value:1,displayName:function(g){return g.get("DisplayUnitSystem_E0_Title")}},{value:1e3,displayName:function(g){return g.get("DisplayUnitSystem_E3_Title")}},{value:1e6,displayName:function(g){return g.get("DisplayUnitSystem_E6_Title")}},{value:1e9,displayName:function(g){return g.get("DisplayUnitSystem_E9_Title")}},{value:1e12,displayName:function(g){return g.get("DisplayUnitSystem_E12_Title")}},{value:-1,displayName:function(g){return g.get("Custom")}}])},3806:function(ie,ve,v){v.d(ve,{d7:function(){return l},dt:function(){return V},on:function(){return n}});var c=v(9921),l="auto",n="on",V=(0,c.i)([{value:l,displayName:function(S){return S.get("Visual_Auto")}},{value:n,displayName:function(S){return S.get("ToggleSwitchOn")}},{value:"off",displayName:function(S){return S.get("ToggleSwitchOff")}}])},5834:function(ie,ve,v){v.d(ve,{Od:function(){return n},SX:function(){return l},UX:function(){return V},dt:function(){return P},gC:function(){return g}});var c=v(9921),l="outside",n="inside",g="preferOutside",V="preferInside",P=(0,c.i)([{value:l,displayName:function(h){return h.get("Visual_DonutLabelPosition_Outside")}},{value:n,displayName:function(h){return h.get("Visual_DonutLabelPosition_Inside")}},{value:g,displayName:function(h){return h.get("Visual_DonutLabelPosition_PreferOutside")}},{value:V,displayName:function(h){return h.get("Visual_DonutLabelPosition_PreferInside")}}])},8504:function(ie,ve,v){v.d(ve,{AG:function(){return l},An:function(){return g},dt:function(){return P},w6:function(){return V},zR:function(){return n}});var c=v(9921),l="absolute",n="relativeNumeric",g="relativePercentage",V="range",P=(0,c.i)([{value:l,displayName:function(h){return h.get("Visual_Absolute")}},{value:n,displayName:function(h){return h.get("Visual_RelativeNumeric")}},{value:g,displayName:function(h){return h.get("Visual_RelativePercentage")}},{value:V,displayName:function(h){return h.get("Visual_Axis_Range")}}])},3505:function(ie,ve,v){v.d(ve,{$o:function(){return l},oB:function(){return g}});var c=v(9921),l="Fill only",g=(0,c.i)([{value:l,displayName:function(P){return P.get("Visual_FillStyle_Fill")}},{value:"Border only",displayName:function(P){return P.get("Visual_FillStyle_Border")}}])},931:function(ie,ve,v){v.d(ve,{CR:function(){return g},MS:function(){return D},YK:function(){return V},aT:function(){return P},dt:function(){return N},mN:function(){return b},nO:function(){return l},oN:function(){return S},r0:function(){return n},r2:function(){return h}});var c=v(9921),l=2,n=4,g=8,V=function(f){return f[f.data=l]="data",f[f.percentOfFirst=n]="percentOfFirst",f[f.percentOfPrevious=g]="percentOfPrevious",f[f.dataAndPercentOfFirst=l|n]="dataAndPercentOfFirst",f[f.dataAndPercentOfPrevious=l|g]="dataAndPercentOfPrevious",f}({}),P="Data",S="Percent of first",h="Percent of previous",D="Data, percent of first",b="Data, percent of previous",N=(0,c.i)([{value:P,displayName:function(F){return F.get("Visual_LabelStyle_DataValue")}},{value:S,displayName:function(F){return F.get("Funnel_PercentOfFirst")}},{value:h,displayName:function(F){return F.get("Funnel_PercentOfPrevious")}},{value:D,displayName:function(F){return F.get("Visual_LabelStyle_DataAndPercentOfFirst")}},{value:b,displayName:function(F){return F.get("Visual_LabelStyle_DataAndPercentOfPrevious")}}])},7350:function(ie,ve,v){v.d(ve,{_h:function(){return G},dt:function(){return E},gA:function(){return n}});var c=v(9921),n="",g="de-de",V="en-GB",P="en-US",S="es-ES",h="fr-FR",D="it-it",f="nl-BE",F="pt-BR",k="zh-Hans",Y="zh-Hant",j=[{value:n,version:"1.0"},{value:g,version:"2.0"},{value:V,version:"2.0"},{value:P,version:"2.0"},{value:S,version:"2.0"},{value:h,version:"2.0"},{value:D,version:"2.0"},{value:"ja",version:"1.0"},{value:"ko",version:"2.0"},{value:f,version:"2.0"},{value:F,version:"2.0"},{value:"ru",version:"2.0"},{value:k,version:"2.0"},{value:Y,version:"2.0"}];function G(T){return _.findIndex(j,function(m){return m.value===T})>=0}var E=(0,c.i)([{value:n,displayName:function(m){return m.get("Visual_Auto")}},{value:g,displayName:function(m){return m.get("Visual_MapGeocodingCulture_DE")}},{value:V,displayName:function(m){return m.get("Visual_MapGeocodingCulture_ENGB")}},{value:P,displayName:function(m){return m.get("Visual_MapGeocodingCulture_ENUS")}},{value:S,displayName:function(m){return m.get("Visual_MapGeocodingCulture_ES")}},{value:h,displayName:function(m){return m.get("Visual_MapGeocodingCulture_FR")}},{value:D,displayName:function(m){return m.get("Visual_MapGeocodingCulture_IT")}},{value:"ja",displayName:function(m){return m.get("Visual_MapGeocodingCulture_JA")}},{value:"ko",displayName:function(m){return m.get("Visual_MapGeocodingCulture_KO")}},{value:f,displayName:function(m){return m.get("Visual_MapGeocodingCulture_NL")}},{value:F,displayName:function(m){return m.get("Visual_MapGeocodingCulture_PT")}},{value:"ru",displayName:function(m){return m.get("Visual_MapGeocodingCulture_RU")}},{value:k,displayName:function(m){return m.get("Visual_MapGeocodingCulture_ZHS")}},{value:Y,displayName:function(m){return m.get("Visual_MapGeocodingCulture_ZHT")}}])},2447:function(ie,ve,v){v.d(ve,{$6:function(){return V},YP:function(){return P},aN:function(){return l},dt:function(){return S},rj:function(){return g},xT:function(){return n}});var c=v(9921),l="inner",n="innerHorizontal",g="innerVertical",V="all",P="none",S=(0,c.i)([{value:V,displayName:function(D){return D.get("All")},icon:{glyph:"border-all"}},{value:l,displayName:function(D){return D.get("Border_Grid_Line_Type_Inner")},icon:{glyph:"border-inside"}},{value:n,displayName:function(D){return D.get("Border_Grid_Line_Type_Inner_Horizontal")},icon:{glyph:"border-inside-horizontal"}},{value:g,displayName:function(D){return D.get("Border_Grid_Line_Type_Inner_Vertical")},icon:{glyph:"border-inside-vertical"}},{value:P,displayName:function(D){return D.get("None")},icon:{glyph:"border-none"}}])},1701:function(ie,ve,v){v.d(ve,{B2:function(){return P},F2:function(){return g},PG:function(){return l},aE:function(){return V},dt:function(){return S},t$:function(){return n}});var c=v(9921),l="custom",n="left",g="right",V="above",P="below",S=(0,c.i)([{value:l,displayName:function(D){return D.get("Custom")}},{value:n,displayName:function(D){return D.get("Visual_IconPlacement_Left")}},{value:g,displayName:function(D){return D.get("Visual_IconPlacement_Right")}},{value:V,displayName:function(D){return D.get("Visual_IconPlacement_Above")}},{value:P,displayName:function(D){return D.get("Visual_IconPlacement_Below")}}])},1689:function(ie,ve,v){v.d(ve,{Tj:function(){return n},Zt:function(){return P},dt:function(){return V},hl:function(){return g},mJ:function(){return l}});var c=v(9921),l="Normal",n="Fit",g="Fill",V=(0,c.i)([{value:l,displayName:function(h){return h.get("Normal")}},{value:n,displayName:function(h){return h.get("Visual_ImageScalingType_Fit")}},{value:g,displayName:function(h){return h.get("Visual_ImageScalingType_Fill")}}]),P=V},7779:function(ie,ve,v){v.d(ve,{dt:function(){return g}});var g=(0,v(9921).i)([{value:"image",displayName:function(P){return P.get("Image")}},{value:"imageUrl",displayName:function(P){return P.get("Image_Url")}}])},6449:function(ie,ve,v){v.d(ve,{dt:function(){return g},i1:function(){return l},pd:function(){return n}});var c=v(9921),l="High is good",n="Low is good",g=(0,c.i)([{value:l,displayName:function(P){return P.get("Visual_KPI_DistanceDirection_Positive")}},{value:n,displayName:function(P){return P.get("Visual_KPI_DistanceDirection_Negative")}}])},8014:function(ie,ve,v){v.d(ve,{Hk:function(){return g},S3:function(){return l},aQ:function(){return n},dt:function(){return V}});var c=v(9921),l="Value",n="Percent",g="Value, percent",V=(0,c.i)([{value:l,displayName:function(S){return S.get("Visual_LabelText_Value")}},{value:n,displayName:function(S){return S.get("ConditionalFormattingDialog_Percent")}},{value:g,displayName:function(S){return S.get("Visual_LabelStyle_Both")}}])},7746:function(ie,ve,v){v.d(ve,{dt:function(){return g},i1:function(){return l},pd:function(){return n}});var c=v(9921),l="Positive",n="Negative",g=(0,c.i)([{value:l,displayName:function(P){return P.get("Visual_KPI_Direction_Positive")}},{value:n,displayName:function(P){return P.get("Visual_KPI_Direction_Negative")}}])},7210:function(ie,ve,v){v.d(ve,{d:function(){return l}});var l=(0,v(9921).i)([{value:0,displayName:function(g){return g.get("Visual_LabelOrientation_Vertical")}},{value:1,displayName:function(g){return g.get("Visual_LabelOrientation_Horizontal")}}])},8932:function(ie,ve,v){v.d(ve,{EZ:function(){return n},FY:function(){return P},aE:function(){return S},d7:function(){return l},di:function(){return h},dt:function(){return D},wv:function(){return V},yJ:function(){return g}});var c=v(9921),l="Auto",n="InsideEnd",g="InsideCenter",V="OutsideEnd",P="InsideBase",S="Above",h="Under",D=(0,c.i)([{value:l,displayName:function(N){return N.get("Visual_Auto")}},{value:n,displayName:function(N){return N.get("Visual_LabelPosition_InsideEnd")}},{value:V,displayName:function(N){return N.get("Visual_LabelPosition_OutsideEnd")}},{value:g,displayName:function(N){return N.get("Visual_LabelPosition_InsideCenter")}},{value:P,displayName:function(N){return N.get("Visual_LabelPosition_InsideBase")}},{value:S,displayName:function(N){return N.get("Visual_Reference_Line_Data_Label_Above")}},{value:h,displayName:function(N){return N.get("Visual_Reference_Line_Data_Label_Under")}}])},9385:function(ie,ve,v){v.d(ve,{F2:function(){return n},dt:function(){return g}});var c=v(9921),n="Right",g=(0,c.i)([{value:"Left",displayName:function(P){return P.get("Visual_yAxis_Left")}},{value:n,displayName:function(P){return P.get("Visual_yAxis_Right")}}])},8970:function(ie,ve,v){v.d(ve,{W3:function(){return P},YK:function(){return V},_q:function(){return f},aQ:function(){return h},aT:function(){return S},dt:function(){return F},ev:function(){return b},f3:function(){return D},mA:function(){return l},nO:function(){return n},qv:function(){return N},tG:function(){return g}});var c=v(9921),l=2,n=4,g=8,V=function(A){return A[A.category=l]="category",A[A.data=n]="data",A[A.percent=g]="percent",A[A.categoryAndData=l|n]="categoryAndData",A[A.categoryAndPercent=l|g]="categoryAndPercent",A[A.dataAndPercent=n|g]="dataAndPercent",A[A.categoryAndDataAndPercent=l|n|g]="categoryAndDataAndPercent",A}({}),P="Category",S="Data",h="Percent of total",D="Both",b="Category, percent of total",N="Data value, percent of total",f="Category, data value, percent of total",F=(0,c.i)([{value:P,displayName:function(k){return k.get("Visual_LabelStyle_Category")}},{value:S,displayName:function(k){return k.get("Visual_LabelStyle_DataValue")}},{value:h,displayName:function(k){return k.get("Visual_LabelStyle_Percent")}},{value:D,displayName:function(k){return k.get("Visual_LabelStyle_CategoryAndData")}},{value:b,displayName:function(k){return k.get("Visual_LabelStyle_CategoryAndPercent")}},{value:N,displayName:function(k){return k.get("Visual_LabelStyle_DataAndPercent")}},{value:f,displayName:function(k){return k.get("Visual_LabelStyle_CategoryAndDataAndPercent")}}])},8476:function(ie,ve,v){v.d(ve,{S3:function(){return l},dt:function(){return V},u2:function(){return n},u6:function(){return g}});var c=v(9921),l="Value",n="Name",g="ValueAndName",V=(0,c.i)([{value:l,displayName:function(S){return S.get("Visual_LabelStyle_DataValue")}},{value:n,displayName:function(S){return S.get("Name")}},{value:g,displayName:function(S){return S.get("Visual_LabelStyle_Both")}}])},5675:function(ie,ve,v){v.d(ve,{G_:function(){return V},XD:function(){return n},dt:function(){return P},f2:function(){return l},tl:function(){return g}});var c=v(9921),l="markerOnly",n="lineAndMarker",g="lineOnly",V="markerCircleDefault",P=(0,c.i)([{value:V,displayName:function(h){return h.get("MarkerCircleDefault")}},{value:l,displayName:function(h){return h.get("Marker")}},{value:g,displayName:function(h){return h.get("Visual_Shape_Line")}},{value:n,displayName:function(h){return h.get("Visual_LegendLineAndMarker")}}])},7725:function(ie,ve,v){v.d(ve,{F2:function(){return V},I:function(){return n},dt:function(){return f},t$:function(){return g},u0:function(){return F},we:function(){return l}});var c=v(9921),l="Top",n="Bottom",g="Left",V="Right",f=(0,c.i)([{value:l,displayName:function(k){return k.get("Visual_LabelPosition_TopLeft")}},{value:"TopCenter",displayName:function(k){return k.get("Visual_LabelPosition_TopCenter")}},{value:"TopRight",displayName:function(k){return k.get("Visual_LabelPosition_TopRight")}},{value:g,displayName:function(k){return k.get("Visual_LegendPosition_TopLeftStacked")}},{value:V,displayName:function(k){return k.get("Visual_LegendPosition_TopRightStacked")}},{value:"LeftCenter",displayName:function(k){return k.get("Visual_LegendPosition_LeftCenter")}},{value:"RightCenter",displayName:function(k){return k.get("Visual_LegendPosition_RightCenter")}},{value:n,displayName:function(k){return k.get("Visual_LabelPosition_BottomLeft")}},{value:"BottomCenter",displayName:function(k){return k.get("Visual_LabelPosition_BottomCenter")}},{value:"BottomRight",displayName:function(k){return k.get("Visual_LabelPosition_BottomRight")}}]),F=(0,c.i)([{value:g,displayName:function(k){return k.get("Visual_TextAlignment_Left")}},{value:V,displayName:function(k){return k.get("Visual_TextAlignment_Right")}},{value:n,displayName:function(k){return k.get("Bottom")}},{value:l,displayName:function(k){return k.get("Top")}}])},591:function(ie,ve,v){v.d(ve,{GE:function(){return l},Nb:function(){return n},dt:function(){return V},ip:function(){return g}});var c=v(9921),l="linear",n="step",g="smooth",V=(0,c.i)([{value:l,displayName:function(S){return S.get("Visual_Axis_Linear")}},{value:g,displayName:function(S){return S.get("Visual_SmoothLine")}},{value:n,displayName:function(S){return S.get("Visual_StepLine")}}])},7243:function(ie,ve,v){v.d(ve,{HA:function(){return l},SQ:function(){return n},dt:function(){return V},ft:function(){return g}});var c=v(9921),l="dashed",n="solid",g="dotted",V=(0,c.i)([{value:l,displayName:function(S){return S.get("Visual_LineStyle_Dashed")}},{value:n,displayName:function(S){return S.get("Visual_LineStyle_Solid")}},{value:g,displayName:function(S){return S.get("Visual_LineStyle_Dotted")}}])},2333:function(ie,ve,v){v.d(ve,{$m:function(){return P},Ku:function(){return n},VE:function(){return l},ar:function(){return S},d7:function(){return g},x9:function(){return V},zo:function(){return h}});var c=v(9921),l="magnitude",n="dataRange",g="auto",V="scatterDeprecated",P=[l,n,g],S=[{value:l,displayName:function(b){return b.get("Visual_MarkerRangeType_Magnitude")}},{value:n,displayName:function(b){return b.get("Visual_MarkerRangeType_DataRange")}},{value:g,displayName:function(b){return b.get("Visual_Auto")}}],h=(0,c.i)(S)},6802:function(ie,ve,v){v.d(ve,{LS:function(){return A},OE:function(){return j},PD:function(){return b},Xw:function(){return n},YP:function(){return F},cP:function(){return P},dt:function(){return Y},h6:function(){return g},kZ:function(){return D},m9:function(){return f},tf:function(){return V},uh:function(){return h},x:function(){return S},yf:function(){return N}});var c=v(3188),l=v(9921),n="circle",g="square",V="diamond",P="triangle",S="x",h="shortDash",D="longDash",b="plus",N="upperErrorBar",f="lowerErrorBar",F="none",A=n,k=[{value:n,displayName:function(I){return I.get("Visual_MarkerShape_Circle")},label:function(I){return I.get("Visual_MarkerShape_Circle_Label")}},{value:g,displayName:function(I){return I.get("Visual_MarkerShape_Square")},label:function(I){return I.get("Visual_MarkerShape_Square_Label")}},{value:V,displayName:function(I){return I.get("Visual_MarkerShape_Diamond")},label:function(I){return I.get("Visual_MarkerShape_Diamond_Label")}},{value:P,displayName:function(I){return I.get("Visual_MarkerShape_Triangle")},label:function(I){return I.get("Visual_MarkerShape_Triangle_Label")}},{value:S,displayName:function(I){return I.get("Visual_MarkerShape_X")},label:function(I){return I.get("Visual_MarkerShape_X_Label")}},{value:h,displayName:function(I){return I.get("Visual_MarkerShape_ShortDash")},label:function(I){return I.get("Visual_MarkerShape_ShortDash_Label")}},{value:D,displayName:function(I){return I.get("Visual_MarkerShape_LongDash")},label:function(I){return I.get("Visual_MarkerShape_LongDash_Label")}},{value:b,displayName:function(I){return I.get("Visual_MarkerShape_Plus")},label:function(I){return I.get("Visual_MarkerShape_Plus_Label")}}],Y=(0,l.i)(k),j=(0,l.i)((0,c.ev)((0,c.ev)([],k,!0),[{value:F,displayName:function(I){return I.get("None")}}],!1))},7793:function(ie,ve,v){v.d(ve,{d:function(){return l}});var l=(0,v(9921).i)([{value:0,displayName:function(g){return g.get("Visual_Grid")}},{value:1,displayName:function(g){return g.get("Slicer_Orientation_Vertical")}},{value:2,displayName:function(g){return g.get("Slicer_Orientation_Horizontal")}}])},8540:function(ie,ve,v){v.d(ve,{BK:function(){return N},LI:function(){return V},Ob:function(){return A},RH:function(){return P},Wi:function(){return D},YP:function(){return l},b_:function(){return S},dt:function(){return k},fs:function(){return F},j0:function(){return g},mv:function(){return f},v3:function(){return h},wI:function(){return n},yo:function(){return b}});var c=v(9921),l="None",n="BottomOnly",g="TopOnly",V="LeftOnly",P="RightOnly",S="TopBottom",h="LeftRight",D="Frame";function b(Y){return"number"==typeof Y?!!(1&Y):[g,S,D].some(function(j){return j===Y})}function N(Y){return"number"==typeof Y?!!(2&Y):[P,h,D].some(function(j){return j===Y})}function f(Y){return"number"==typeof Y?!!(4&Y):[n,S,D].some(function(j){return j===Y})}function F(Y){return"number"==typeof Y?!!(8&Y):[V,h,D].some(function(j){return j===Y})}var A=(0,c.i)([{value:1,displayName:function(j){return j.get("Top")}},{value:4,displayName:function(j){return j.get("Bottom")}},{value:8,displayName:function(j){return j.get("Visual_TextAlignment_Left")}},{value:2,displayName:function(j){return j.get("Visual_TextAlignment_Right")}}]),k=(0,c.i)([{value:l,displayName:function(j){return j.get("None")}},{value:n,displayName:function(j){return j.get("Visual_Outline_bottom_only")}},{value:g,displayName:function(j){return j.get("Visual_Outline_top_only")}},{value:V,displayName:function(j){return j.get("Visual_Outline_LeftOnly")}},{value:P,displayName:function(j){return j.get("Visual_Outline_RightOnly")}},{value:S,displayName:function(j){return j.get("Visual_Outline_top_Bottom")}},{value:h,displayName:function(j){return j.get("Visual_Outline_leftRight")}},{value:D,displayName:function(j){return j.get("Visual_Outline_frame")}}])},3500:function(ie,ve,v){v.d(ve,{EY:function(){return l},Ln:function(){return g},PG:function(){return V},YP:function(){return h},cO:function(){return S},dt:function(){return D},mJ:function(){return n},uz:function(){return P}});var c=v(9921),l="Wide",n="Normal",g="Narrow",V="Custom",P=6,S=12,h=20,D=(0,c.i)([{value:l,displayName:function(N){return N.get("Wide")}},{value:n,displayName:function(N){return N.get("Normal")}},{value:g,displayName:function(N){return N.get("Narrow")}},{value:V,displayName:function(N){return N.get("Custom")}}])},2290:function(ie,ve,v){v.d(ve,{W$:function(){return n},dt:function(){return g}});var c=v(9921),n="front",g=(0,c.i)([{value:"back",displayName:function(P){return P.get("Visual_Reference_Line_Behind")}},{value:n,displayName:function(P){return P.get("Visual_Reference_Line_InFront")}}])},286:function(ie,ve,v){v.d(ve,{dt:function(){return g},t$:function(){return l}});var c=v(9921),l="left",g=(0,c.i)([{value:l,displayName:function(P){return P.get("Visual_Reference_Line_Data_Label_Left")}},{value:"right",displayName:function(P){return P.get("Visual_Reference_Line_Data_Label_Right")}}])},7581:function(ie,ve,v){v.d(ve,{aE:function(){return l},dt:function(){return g}});var c=v(9921),l="above",g=(0,c.i)([{value:l,displayName:function(P){return P.get("Visual_Reference_Line_Data_Label_Above")}},{value:"under",displayName:function(P){return P.get("Visual_Reference_Line_Data_Label_Under")}}])},7582:function(ie,ve,v){v.d(ve,{YP:function(){return g},bb:function(){return l},dt:function(){return V}});var c=v(9921),l="before",g="none",V=(0,c.i)([{value:l,displayName:function(S){return S.get("Visual_Before")}},{value:"after",displayName:function(S){return S.get("Visual_After")}},{value:g,displayName:function(S){return S.get("None")}}])},6118:function(ie,ve,v){v.d(ve,{$G:function(){return A},BB:function(){return I},GA:function(){return k},J6:function(){return j},LK:function(){return P},P4:function(){return D},PN:function(){return G},YP:function(){return g},_k:function(){return Y},an:function(){return h},e7:function(){return N},gQ:function(){return F},i4:function(){return S},ks:function(){return f},qQ:function(){return b}});var c=v(8955),l=v(8399),n=v(9921),g="None",P="Minutes",S="Hours",h="Days",D="Weeks",b="Calendar Weeks",N="Months",f="Calendar Months",F="Years",A="Calendar Years",k=(0,n.i)([{value:g,displayName:function(T){return T.get("Select")}},{value:h,displayName:function(T){return T.get("TimeUnit_Days")}},{value:D,displayName:function(T){return T.get("TimeUnit_Weeks")}},{value:b,displayName:function(T){return T.get("Visual_SlicerPeriod_CalWeeks")}},{value:N,displayName:function(T){return T.get("TimeUnit_Months")}},{value:f,displayName:function(T){return T.get("Visual_SlicerPeriod_CalMonths")}},{value:F,displayName:function(T){return T.get("TimeUnit_Years")}},{value:A,displayName:function(T){return T.get("Visual_SlicerPeriod_CalYears")}}]),Y=(0,n.i)([{value:g,displayName:function(T){return T.get("Select")}},{value:P,displayName:function(T){return T.get("TimeUnit_Minutes")}},{value:S,displayName:function(T){return T.get("TimeUnit_Hours")}}]),j=(0,n.i)([{value:g,displayName:function(T){return T.get("Select")}},{value:h,displayName:function(T){return T.get("TimeUnit_Day")}},{value:D,displayName:function(T){return T.get("TimeUnit_Week")}},{value:N,displayName:function(T){return T.get("TimeUnit_Month")}},{value:F,displayName:function(T){return T.get("TimeUnit_Year")}}]),G=(0,n.i)([{value:g,displayName:function(T){return T.get("Select")}},{value:P,displayName:function(T){return T.get("TimeUnit_Minute")}},{value:S,displayName:function(T){return T.get("TimeUnit_Hour")}}]);function I(E){if(null==E)return null;switch(E){case l.hU.Second:return"Seconds";case l.hU.Minute:return P;case l.hU.Hour:return S;case l.hU.Day:return h;case l.hU.Week:return D;case l.hU.CalendarWeek:return b;case l.hU.Month:return N;case l.hU.CalendarMonth:return f;case l.hU.Year:return F;case l.hU.CalendarYear:return A;default:return void c.fF.assertNever(E)}}},6249:function(ie,ve,v){v.d(ve,{BB:function(){return h},Vk:function(){return P},Z$:function(){return g},dt:function(){return S},lp:function(){return V}});var c=v(8955),l=v(8399),n=v(9921),g="Last",V="Next",P="This",S=(0,n.i)([{value:g,displayName:function(b){return b.get("Visual_SlicerRange_Last")}},{value:V,displayName:function(b){return b.get("Visual_SlicerRange_Next")}},{value:P,displayName:function(b){return b.get("Visual_SlicerRange_This")}}]);function h(D){if(null==D)return null;switch(D){case l.KO.Last:return g;case l.KO.Current:return P;case l.KO.Next:return V;default:return void c.fF.assertNever(D)}}},8416:function(ie,ve,v){v.d(ve,{I:function(){return n},dt:function(){return g},we:function(){return l}});var c=v(9921),l="Top",n="Bottom",g=(0,c.i)([{value:l,displayName:function(P){return P.get("Top")}},{value:n,displayName:function(P){return P.get("Bottom")}}])},8496:function(ie,ve,v){v.d(ve,{Lu:function(){return h},S3:function(){return V},W3:function(){return l},ac:function(){return n},dt:function(){return b},hD:function(){return S},jH:function(){return g},rU:function(){return P},s6:function(){return D}});var c=v(9921),l="Category",n="Series",g="Tooltips",V="Value",P="albersUsa",S="equirectangular",h="mercator",D="orthographic",b=(0,c.i)([{value:P,displayName:function(f){return f.get("Visual_ShapeMap_Projection_AlbersUsa")}},{value:S,displayName:function(f){return f.get("Visual_ShapeMap_Projection_Equirectangular")}},{value:h,displayName:function(f){return f.get("Visual_ShapeMap_Projection_Mercator")}},{value:D,displayName:function(f){return f.get("Visual_ShapeMap_Projection_Orthographic")}}])},1306:function(ie,ve,v){v.d(ve,{d:function(){return n},m:function(){return l}});var c=v(9921),l=function(g){return g.AccentBar="accentBar",g.Arrow="arrow",g.ArrowChevron="arrowChevron",g.ArrowPentagon="arrowPentagon",g.Heart="heart",g.Hexagon="hexagon",g.Line="line",g.Octagon="octagon",g.Oval="oval",g.Parallelogram="parallelogram",g.Pentagon="pentagon",g.Pill="pill",g.Rectangle="rectangle",g.RectangleRounded="rectangleRounded",g.TabCutCorner="tabCutCorner",g.TabCutTopCorners="tabCutTopCorners",g.TabRoundCorner="tabRoundCorner",g.TabRoundTopCorners="tabRoundTopCorners",g.Speechbubble="speechbubbleRectangle",g.Trapezoid="trapezoid",g.TriangleIsoc="triangleIsoc",g.TriangleRight="triangleRight",g}({}),n=(0,c.i)([{value:l.Arrow,displayName:function(V){return V.get("ReportAppBar_ShapeArrow")}},{value:l.ArrowChevron,displayName:function(V){return V.get("Visual_Shape_ArrowChevron")}},{value:l.ArrowPentagon,displayName:function(V){return V.get("Visual_Shape_ArrowPentagon")}},{value:l.Heart,displayName:function(V){return V.get("Visual_Shape_Heart")}},{value:l.Hexagon,displayName:function(V){return V.get("Visual_Shape_Hexagon")}},{value:l.Line,displayName:function(V){return V.get("Visual_Shape_Line")}},{value:l.Octagon,displayName:function(V){return V.get("Visual_Shape_Octagon")}},{value:l.Oval,displayName:function(V){return V.get("ReportAppBar_ShapeOval")}},{value:l.Parallelogram,displayName:function(V){return V.get("Visual_Shape_Parallelogram")}},{value:l.Pentagon,displayName:function(V){return V.get("Visual_Shape_Pentagon")}},{value:l.Pill,displayName:function(V){return V.get("Visual_Shape_Pill")}},{value:l.Rectangle,displayName:function(V){return V.get("ReportAppBar_ShapeRectangle")}},{value:l.RectangleRounded,displayName:function(V){return V.get("Visual_Shape_RectangleRounded")}},{value:l.TabCutCorner,displayName:function(V){return V.get("Visual_Shape_TabCutCorner")}},{value:l.TabCutTopCorners,displayName:function(V){return V.get("Visual_Shape_TabCutTopCorners")}},{value:l.TabRoundCorner,displayName:function(V){return V.get("Visual_Shape_TabRoundCorner")}},{value:l.TabRoundTopCorners,displayName:function(V){return V.get("Visual_Shape_TabRoundTopCorners")}},{value:l.Speechbubble,displayName:function(V){return V.get("Visual_Shape_SpeechBubble")}},{value:l.Trapezoid,displayName:function(V){return V.get("Visual_Shape_Trapezoid")}},{value:l.TriangleIsoc,displayName:function(V){return V.get("Visual_Shape_TriangleIsoc")}},{value:l.TriangleRight,displayName:function(V){return V.get("Visual_Shape_TriangleRight")}}])},7401:function(ie,ve,v){v.d(ve,{Ek:function(){return G},G5:function(){return j},GV:function(){return N},Ih:function(){return F},K8:function(){return D},Lw:function(){return Y},RB:function(){return S},Zr:function(){return b},bb:function(){return g},dt:function(){return A},e4:function(){return V},j6:function(){return h},l6:function(){return k},nW:function(){return I},of:function(){return f},vX:function(){return P}});var c=v(8955),l=v(8399),n=v(9921),g="Before",V="After",P="Between",S="Basic",h="Dropdown",D="Relative",b="Single",N="RelativeTime",f="HorizontalList",F="VerticalList",A=(0,n.i)([{value:F,displayName:function(T){return T.get("Visual_SliderMode_VerticalList")}},{value:f,displayName:function(T){return T.get("Tile_Generic")}},{value:P,displayName:function(T){return T.get("Visual_SliderMode_Between")}},{value:g,displayName:function(T){return T.get("Visual_Before")}},{value:V,displayName:function(T){return T.get("Visual_After")}},{value:S,displayName:function(T){return T.get("Visual_SliderMode_Basic")}},{value:h,displayName:function(T){return T.get("Visual_SliderMode_Dropdown")}},{value:D,displayName:function(T){return T.get("Visual_SliderMode_RelativeDate")}},{value:b,displayName:function(T){return T.get("Visual_SliderMode_SingleVal")}},{value:N,displayName:function(T){return T.get("Visual_SliderMode_RelativeTime")}}]);function k(E){return E===g||E===P||E===V||E===b}function Y(E){return E===g||E===P||E===V}function j(E){return E===D||E===N}function G(E){return E===S||E===h}function I(E){switch(E){case N:return l.wj.Time;case D:return l.wj.Date;default:c.fF.assertFail("The following slicer mode is not a relative filter: ".concat(E))}}},3799:function(ie,ve,v){v.d(ve,{d:function(){return l}});var l=(0,v(9921).i)([{value:0,displayName:function(g){return g.get("Slicer_Orientation_Vertical")}},{value:1,displayName:function(g){return g.get("Slicer_Orientation_Horizontal")}}])},7871:function(ie,ve,v){v.d(ve,{d7:function(){return l},dt:function(){return g}});var c=v(9921),l="auto",g=(0,c.i)([{value:l,displayName:function(P){return P.get("Visual_Auto")}},{value:"custom",displayName:function(P){return P.get("Custom")}}])},8120:function(ie,ve,v){v.d(ve,{$Q:function(){return n},dt:function(){return g},jv:function(){return l}});var c=v(9921),l="line",n="column",g=(0,c.i)([{value:l,displayName:function(P){return P.get("Visual_Shape_Line")}},{value:n,displayName:function(P){return P.get("Column")}}])},9791:function(ie,ve,v){v.d(ve,{$6:function(){return l},O3:function(){return g},Ps:function(){return V},Z$:function(){return P},Zc:function(){return n},dt:function(){return D},pd:function(){return S},qC:function(){return h}});var c=v(9921),l=1,n=2,g=4,V=8,P=16,S=32,h=128,D=(0,c.i)([{value:l,displayName:function(N){return N.get("Sparkline_Formatting_MarkerType_All")}},{value:n,displayName:function(N){return N.get("Sparkline_Formatting_MarkerType_Highest")}},{value:g,displayName:function(N){return N.get("Sparkline_Formatting_MarkerType_Lowest")}},{value:V,displayName:function(N){return N.get("Sparkline_Formatting_MarkerType_First")}},{value:P,displayName:function(N){return N.get("Sparkline_Formatting_MarkerType_Last")}},{value:S,displayName:function(N){return N.get("Sparkline_Formatting_MarkerType_Negative")}},{value:h,displayName:function(N){return N.get("Sparkline_Formatting_MarkerType_Isolated")}}])},7681:function(ie,ve,v){v.d(ve,{Ai:function(){return g},GA:function(){return D},K2:function(){return P},R5:function(){return l},TB:function(){return n},UQ:function(){return V},dt:function(){return b},mH:function(){return h},tY:function(){return S}});var c=v(9921),l="bottomLeft",n="bottomRight",g="rightDown",V="rightUp",P="topRight",S="topLeft",h="leftUp",D="leftDown",b=(0,c.i)([{value:l,displayName:function(f){return f.get("Visual_LabelPosition_BottomLeft")}},{value:n,displayName:function(f){return f.get("Visual_LabelPosition_BottomRight")}},{value:g,displayName:function(f){return f.get("Visual_Shape_ChatPosition_RightDown")}},{value:V,displayName:function(f){return f.get("Visual_Shape_ChatPosition_RightUp")}},{value:P,displayName:function(f){return f.get("Visual_LabelPosition_TopRight")}},{value:S,displayName:function(f){return f.get("Visual_LabelPosition_TopLeft")}},{value:h,displayName:function(f){return f.get("Visual_Shape_ChatPosition_LeftUp")}},{value:D,displayName:function(f){return f.get("Visual_Shape_ChatPosition_LeftDown")}}])},9963:function(ie,ve,v){v.d(ve,{LS:function(){return V},NM:function(){return n},dt:function(){return P}});var c=v(9921),n="round",V=n,P=(0,c.i)([{value:"miter",displayName:function(h){return h.get("Visual_StrokeLineJoin_Miter")}},{value:n,displayName:function(h){return h.get("Visual_StrokeLineJoin_Round")}},{value:"bevel",displayName:function(h){return h.get("Visual_StrokeLineJoin_Bevel")}}])},3440:function(ie,ve,v){v.d(ve,{F2:function(){return V},be:function(){return g},d7:function(){return l},dt:function(){return P},t$:function(){return n}});var c=v(9921),l="Auto",n="Left",g="Center",V="Right",P=(0,c.i)([{value:l,displayName:function(h){return h.get("Visual_TextAlignment_Auto")}},{value:n,displayName:function(h){return h.get("Visual_TextAlignment_Left")}},{value:g,displayName:function(h){return h.get("Visual_TextAlignment_Center")}},{value:V,displayName:function(h){return h.get("Visual_TextAlignment_Right")}}])},7123:function(ie,ve,v){v.d(ve,{D:function(){return l}});var l=(0,v(9921).i)([{value:"Series name",displayName:function(g){return g.get("Visual_Label_TitleLabelContent_SeriesName")}},{value:"Custom",displayName:function(g){return g.get("Custom")}}])},510:function(ie,ve,v){v.d(ve,{cy:function(){return b},dt:function(){return D}});var c=v(9921),l=v(8955),D=(0,c.i)([{value:"Normal",displayName:function(F){return F.get("Normal")}},{value:"Heading2",displayName:function(F){return F.get("Heading_2")}},{value:"Heading3",displayName:function(F){return F.get("Heading_3")}},{value:"Heading4",displayName:function(F){return F.get("Heading_4")}},{value:"Heading5",displayName:function(F){return F.get("Heading_5")}},{value:"Heading6",displayName:function(F){return F.get("Heading_6")}}]);function b(f){switch(f){case"Normal":return"p";case"Heading2":return"h2";case"Heading3":return"h3";case"Heading4":return"h4";case"Heading5":return"h5";case"Heading6":return"h6";default:return l.fF.assertNever(f),"p"}}},2763:function(ie,ve,v){v.d(ve,{I:function(){return n},dt:function(){return g},we:function(){return l}});var c=v(9921),l="top",n="bottom",g=(0,c.i)([{value:l,displayName:function(P){return P.get("Top")}},{value:n,displayName:function(P){return P.get("Bottom")}}])},8678:function(ie,ve,v){v.d(ve,{EH:function(){return N},F3:function(){return F},Kx:function(){return S},Ok:function(){return f},RB:function(){return D},XZ:function(){return P},cB:function(){return k},cp:function(){return n},dx:function(){return V},nM:function(){return h},s0:function(){return A},tO:function(){return b},tV:function(){return g}});var c=v(4540),l=v(9249),n=l.Wn.regular.css,g=function(Y){return Y[Y.Top=0]="Top",Y[Y.Bottom=1]="Bottom",Y[Y.Right=2]="Right",Y[Y.Left=3]="Left",Y[Y.None=4]="None",Y[Y.TopCenter=5]="TopCenter",Y[Y.BottomCenter=6]="BottomCenter",Y[Y.RightCenter=7]="RightCenter",Y[Y.LeftCenter=8]="LeftCenter",Y[Y.TopRight=9]="TopRight",Y[Y.BottomRight=10]="BottomRight",Y}({});function V(Y){return!Y||null==Y.show||Y.show}function P(Y){var j=Y.family===n;return(0,c.ED)(Y,{family:j?l.Wn.semibold.css:void 0,weight:j?void 0:"bold"})}function S(Y){switch(Y){case g.Bottom:case g.BottomCenter:case g.BottomRight:return!0;default:return!1}}function h(Y){switch(Y){case g.Left:case g.LeftCenter:return!0;default:return!1}}function D(Y){switch(Y){case g.Top:case g.TopCenter:case g.TopRight:return!0;default:return!1}}function b(Y){switch(Y){case g.Right:case g.RightCenter:return!0;default:return!1}}function N(Y){switch(Y){case g.BottomCenter:case g.LeftCenter:case g.RightCenter:case g.TopCenter:return!0;default:return!1}}function f(Y){switch(Y){case g.TopRight:case g.BottomRight:return!0;default:return!1}}function F(Y){switch(Y){case g.Top:case g.Bottom:return!0;default:return!1}}function A(Y){return D(Y)||S(Y)}function k(Y){return h(Y)||b(Y)}},5051:function(ie,ve,v){v.d(ve,{$B:function(){return Ae},C_:function(){return L},Dm:function(){return A},Dr:function(){return R},EN:function(){return N},EY:function(){return j},El:function(){return Fe},Fy:function(){return O},GU:function(){return De},Gh:function(){return g},IX:function(){return M},JG:function(){return C},L$:function(){return I},MX:function(){return k},Mk:function(){return w},Sm:function(){return Se},TH:function(){return F},TS:function(){return z},Tr:function(){return Q},U9:function(){return we},Vt:function(){return Pe},W0:function(){return u},Yx:function(){return H},_7:function(){return ee},aV:function(){return V},aj:function(){return le},e:function(){return y},er:function(){return W},fi:function(){return b},fk:function(){return B},iB:function(){return lt},ij:function(){return ze},lC:function(){return d},ni:function(){return m},ox:function(){return Qe},p7:function(){return T},pi:function(){return Xe},pj:function(){return rt},rO:function(){return Y},s2:function(){return f},tb:function(){return Oe},v3:function(){return h},we:function(){return E},x7:function(){return D},x8:function(){return Me},zC:function(){return X},zI:function(){return P},zX:function(){return J}});var c=v(3188),l=v(8955),g=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"NoValidGeotaggedCategory"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("NoValidGeotaggedCategoryMessage"),title:fe.get("NoValidGeotaggedCategoryKey"),detail:fe.get("NoValidGeotaggedCategoryValue")}},ce}(),V=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"InvalidGeocodingCulture"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("Visual_MapGeocodingCultureInvalid_Message"),title:fe.get("Visual_MapGeocodingCultureInvalid_Key"),detail:fe.get("Visual_MapGeocodingCultureInvalid_Value")}},ce}(),P=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"InvalidLatLong"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("InvalidLatLongMessage"),title:fe.get("InvalidLatLongKey"),detail:fe.get("InvalidLatLongValue")}},ce}(),h=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"NegativeValuesNotSupported"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_NegativeValues"),title:"",detail:""}},ce}(),D=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"ModifiedLabelValueWarning"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_ModifiedLabelValue"),title:"",detail:""}},ce}(),b=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"AllNegativeValuesNotSupported"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_AllNegativeValues"),title:"",detail:""}},ce}(),N=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"NaNNotSupported"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_NanValues"),title:"",detail:""}},ce}(),f=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"InfinityValuesNotSupported"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_InfinityValues"),title:"",detail:""}},ce}(),F=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"ValuesOutOfRange"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_VisualizationOutOfRange"),title:"",detail:""}},ce}(),A=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"InvalidAxisRange"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="VisualWarning_InvalidAxisRange";return{message:fe.get(ae),title:fe.get(ae),detail:""}},ce}(),k=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"ZeroValuesNotSupported"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="VisualWarning_ZeroValues";return{message:fe.get(ae),title:fe.get("VisualWarning_ZeroValuesTitle"),detail:fe.get(ae)}},ce}(),Y=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"AlignZerosWithCustomDomain"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="VisualWarning_AlignZerosWithCustomDomain";return{message:fe.get(ae),title:fe.get("VisualWarning_AlignZerosWithCustomDomainTitle"),detail:fe.get(ae)}},ce}(),j=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"VisualKPIDataMissing"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("Visual_KPI_DataMissing"),title:"",detail:""}},ce}(),I=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"DateSlicerNoData"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_DateSlicerNoData"),title:"",detail:""}},ce}(),E=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"DataLabelsNotRendered"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="DataLabelsNotRenderedMessage";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("DataLabelsNotRenderedValue")}},ce}(),T=function(){function ce(fe){this.propertyName=fe}return Object.defineProperty(ce.prototype,"code",{get:function(){return"LegendFontSize"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_LegendFontSize";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_LegendFontSize")}},ce}(),m=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"LegendNotRendered"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_LegendNotRendered";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_LegendNotRendered")}},ce}(),z=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"LegendLocation"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_LegendLocation";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_LegendLocation")}},ce}(),R=function(){function ce(fe){this.propertyName=fe}return Object.defineProperty(ce.prototype,"code",{get:function(){return"AxisFontSize"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_AxisFontSize";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_AxisFontSize")}},ce}(),w=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"AxisAndAxisLabelsNotRendered"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_AxisNotRendered";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_AxisNotRendered")}},ce}(),B=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"AxisLabelsNotRendered"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_AxisLabelNotRendered";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_AxisLabelNotRendered")}},ce}(),C=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"ZoomSlidersNotRendered"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_ZoomSlidersNotRendered";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_ZoomSlidersNotRendered")}},ce}(),d=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"SmallMultiplesSubheaderNotRendered"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_SmallMultiplesSubheadersNotRendered";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_SmallMultiplesSubheadersNotRendered")}},ce}(),u=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"SmallMultiplesSubheaderFontSize"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_SmallMultiplesSubheadersFontSize";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_SmallMultiplesSubheadersFontSize")}},ce}(),y=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"SmallMultiplesPaddingSize"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_SmallMultiplesPaddingSize";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_SmallMultiplesPaddingSize")}},ce}(),M=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"SmallMultiplesGridlinesSize"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_SmallMultiplesGridlinesSize";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_SmallMultiplesGridlinesSize")}},ce}(),L=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"SlicerHeaderNotRendered"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_SlicerHeaderNotRendered";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_SlicerHeaderNotRendered")}},ce}(),O=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"SlicerHeaderFontSize"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_SlicerHeaderFontSize";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_SlicerHeaderFontSize")}},ce}(),H=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"HorizontalSlicerFontSize"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_HorizontalSlicerFontSize";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_HorizontalSlicerFontSize")}},ce}(),Q=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return ce.code},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="NoIdentityExprMessage";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("NoIdentityExprValue")}},ce.code="NoIdentityExprWarning",ce}(),X=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return ce.code},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("Visual_Error_SelectionNotShownMessage"),title:fe.get("Visual_Error_SelectionNotShownKey"),detail:fe.get("Visual_Error_SelectionNotShownValue")}},ce.code="OnRestoreSelectionNotSupportedWarning",ce}(),W=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"DataLabelsFontSize"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){var ae="Visual_ResponsiveWarningMessage_DataLabelsFontSize";return{message:fe.get(ae),title:fe.get(ae),detail:fe.get("Visual_ResponsiveWarningValue_DataLabelsFontSize")}},ce}(),J=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"AzureMapsInvalidLatLong"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("InvalidLatLongMessage"),title:fe.get("InvalidLatLongKey"),detail:fe.get("AzureMapsInvalidLatLongValue")}},ce}(),ee=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"AzureMapsControlLoad"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("AzureMapsControlLoadMessage"),title:fe.get("AzureMapsControlLoadTitle"),detail:fe.get("AzureMapsControlLoadDetail")}},ce}(),le=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"AzureMapsBrowserUnsupported"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("AzureMapsBrowserUnsupportedMessage"),title:fe.get("AzureMapsBrowserUnsupportedTitle"),detail:fe.get("AzureMapsBrowserUnsupportedDetail")}},ce}(),Ne=function(){function ce(){}return ce.prototype.getMessages=function(fe,ae,te,oe){return{message:ae&&fe.get(ae),title:te&&fe.get(te),detail:oe&&fe.get(oe)}},ce}(),Ae=function(ce){function fe(){return null!==ce&&ce.apply(this,arguments)||this}return(0,c.ZT)(fe,ce),Object.defineProperty(fe.prototype,"code",{get:function(){return"AzureMapsFileRead"},enumerable:!1,configurable:!0}),fe.prototype.getMessages=function(ae){return ce.prototype.getMessages.call(this,ae,"AzureMapsFileReadMessage","AzureMapsFileReadTitle","AzureMapsFileReadDetail")},fe}(Ne),Se=function(ce){function fe(){return null!==ce&&ce.apply(this,arguments)||this}return(0,c.ZT)(fe,ce),Object.defineProperty(fe.prototype,"code",{get:function(){return"AzureMapsFilledMapData"},enumerable:!1,configurable:!0}),fe.prototype.getMessages=function(ae){return ce.prototype.getMessages.call(this,ae,"AzureMapsFilledMapDataMessage","AzureMapsFilledMapDataTitle","AzureMapsFilledMapDataDetail")},fe}(Ne),we=function(ce){function fe(){return null!==ce&&ce.apply(this,arguments)||this}return(0,c.ZT)(fe,ce),Object.defineProperty(fe.prototype,"code",{get:function(){return"UndefinedToken"},enumerable:!1,configurable:!0}),fe.prototype.getMessages=function(ae){return ce.prototype.getMessages.call(this,ae,"AzureMapsRequestErrorTitle",void 0,void 0)},fe}(Ne),Pe=function(ce){function fe(){return null!==ce&&ce.apply(this,arguments)||this}return(0,c.ZT)(fe,ce),Object.defineProperty(fe.prototype,"code",{get:function(){return"UnrecognizedCode"},enumerable:!1,configurable:!0}),fe.prototype.getMessages=function(ae){return ce.prototype.getMessages.call(this,ae,"AzureMapsRequestErrorTitle",void 0,void 0)},fe}(Ne),ze=function(ce){function fe(){return null!==ce&&ce.apply(this,arguments)||this}return(0,c.ZT)(fe,ce),Object.defineProperty(fe.prototype,"code",{get:function(){return"RequestError"},enumerable:!1,configurable:!0}),fe.prototype.getMessages=function(ae){return ce.prototype.getMessages.call(this,ae,"AzureMapsRequestErrorTitle",void 0,void 0)},fe}(Ne),Xe=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"ShapeMapBoundsFailure"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("ShapeMapBoundsMessage"),title:fe.get("ShapeMapBoundsitle"),detail:fe.get("ShapeMapBoundsDetail")}},ce}(),Me=function(ce){function fe(){return null!==ce&&ce.apply(this,arguments)||this}return(0,c.ZT)(fe,ce),Object.defineProperty(fe.prototype,"code",{get:function(){return"AzureMapsSetCamera"},enumerable:!1,configurable:!0}),fe.prototype.getMessages=function(ae){return ce.prototype.getMessages.call(this,ae,"AzureMapsSetCameraTitle","AzureMapsSetCameraTitle","AzureMapsSetCameraDetail")},fe}(Ne),Fe=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"SparklineDataCountExceeded"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("Sparkline_Visual_DataWarning"),title:"",detail:""}},ce}(),De=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"AINarrativesConsumerDataReductionWarning"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("AINarrativesVisual_ConsumerDataReductionWarning"),title:"",detail:""}},ce}(),Qe=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"AINarrativesAuthorDataReductionWarning"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("AINarrativesVisual_AuthorDataReductionWarning"),title:"",detail:""}},ce}(),rt=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"AINarrativesConsumerLLMLimitWarning"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("AINarrativesVisual_ConsumerLLMLimitWarning"),title:"",detail:""}},ce}(),lt=function(){function ce(){}return Object.defineProperty(ce.prototype,"code",{get:function(){return"AINarrativesAuthorLLMLimitWarning"},enumerable:!1,configurable:!0}),ce.prototype.getMessages=function(fe){return{message:fe.get("AINarrativesVisual_AuthorLLMLimitWarning"),title:"",detail:""}},ce}(),Oe=function(){function ce(){}return ce.prototype.add=function(){for(var fe,ae=[],te=0;te<arguments.length;te++)ae[te]=arguments[te];return l.fF.assertValue(ae,"warnings"),this.warnings||(this.warnings=[]),(fe=this.warnings).push.apply(fe,ae||[]),this},ce.prototype.addForVisualObject=function(fe){for(var ae=[],te=1;te<arguments.length;te++)ae[te-1]=arguments[te];l.fF.assertValue(fe,"objectName"),l.fF.assertValue(ae,"objectWarning"),this.visualObjectWarnings||(this.visualObjectWarnings={});var oe=this.visualObjectWarnings[fe]=this.visualObjectWarnings[fe]||[];return oe.push.apply(oe,ae||[]),this},ce.prototype.removeForVisualObject=function(fe){return this.visualObjectWarnings&&(this.visualObjectWarnings[fe]=void 0),this},ce.prototype.complete=function(){if(!_.isEmpty(this.warnings)||null!=this.visualObjectWarnings)return{warnings:this.warnings,visualObjectWarnings:this.visualObjectWarnings}},ce}()}},Dl={};function ke(ie){var ve=Dl[ie];if(void 0!==ve)return ve.exports;var v=Dl[ie]={exports:{}};return Vl[ie](v,v.exports,ke),v.exports}ke.m=Vl,ke.d=function(ie,ve){for(var v in ve)ke.o(ve,v)&&!ke.o(ie,v)&&Object.defineProperty(ie,v,{enumerable:!0,get:ve[v]})},ke.f={},ke.e=function(ie){return Promise.all(Object.keys(ke.f).reduce(function(ve,v){return ke.f[v](ie,ve),ve},[]))},ke.u=function(ie){return"customVisualsHost."+ie+".min."+{actionButton:"e387cb1ff56d123be8ac",animatedNumber:"2bdad68e3f70c5c66fa1",cartesianChart:"77742ac42b17b1840a25",basicShape:"296eb07802f7e5946881",shape:"61b87d907f380df03ec3",cardModule:"607c4a85b186dedacb7e",cardVisual:"1302c4729ba8b8d266ea",multiRowCard:"abe0f75999799606aec6",donutChart:"5e92e762d38c9774a29e",funnelChart:"0df38b4a3d11bbe3b0ec",gauge:"7bcfea84013d6076ffa1",imageVisual:"ee5b5fe94ffec9721f04",map:"472583f33ef03d2f9f84",azureMap:"0455b7617d0a001d4044",shapeMap:"12dd8840cf9918fc97fb",treemap:"ddcf7b47948a48b8f31d",table:"bc3b433916771b7ae51a",matrix:"8cd7b4838c5ec725a7dd",tableEx:"4f9744b44ad434f9fafa",pivotTable:"0e9a60d80c65ee6c8b0b",accessibleTable:"6e2536131c871196a9e2",slicer:"2feb4b30267ee94cc418",advancedSlicer:"10ffe72f163f0d8abe5e",navigator:"775e7c9325c10dca8d00",textbox:"034f577a552ea85df306",aiNarratives:"48594a2e91c33f1a5f1c",scriptVisual:"5f3bc0950c55458db546",kpiStatusWithHistory:"c2b7f61bfebdc12f3399",decompositionTree:"cd9016f30f1ae53cb26f",scorecard:"4e395c1f7b067b7a9b0a",rdlVisual:"2c0fcb6a35e955fc74b7"}[ie]+".js"},ke.miniCssF=function(ie){},ke.miniCssF=function(ie){},ke.miniCssF=function(ie){},ke.miniCssF=function(ie){},ke.o=function(ie,ve){return Object.prototype.hasOwnProperty.call(ie,ve)},ie={},ve="customVisualsHost:",ke.l=function(v,c,l,n){if(ie[v])ie[v].push(c);else{var g,V;if(void 0!==l)for(var P=document.getElementsByTagName("script"),S=0;S<P.length;S++){var h=P[S];if(h.getAttribute("src")==v||h.getAttribute("data-webpack")==ve+l){g=h;break}}g||(V=!0,(g=document.createElement("script")).charset="utf-8",g.timeout=120,ke.nc&&g.setAttribute("nonce",ke.nc),g.setAttribute("data-webpack",ve+l),g.src=ke.tu(v)),ie[v]=[c];var D=function(N,f){g.onerror=g.onload=null,clearTimeout(b);var F=ie[v];if(delete ie[v],g.parentNode&&g.parentNode.removeChild(g),F&&F.forEach(function(A){return A(f)}),N)return N(f)},b=setTimeout(D.bind(null,void 0,{type:"timeout",target:g}),12e4);g.onerror=D.bind(null,g.onerror),g.onload=D.bind(null,g.onload),V&&document.head.appendChild(g)}},ke.r=function(ie){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(ie,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ie,"__esModule",{value:!0})},function(){var ie;ke.tt=function(){return void 0===ie&&(ie={createScriptURL:function(ve){return ve}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(ie=trustedTypes.createPolicy("angular#bundler",ie))),ie}}(),ke.tu=function(ie){return ke.tt().createScriptURL(ie)},ke.p="",function(){if(void 0!==ke){var ie=ke.u,ve=ke.e,v=new Map,c=new Map;ke.u=function(l){return ie(l)+(v.has(l)?"?"+v.get(l):"")},ke.e=function(l){return ve(l).catch(function(g){var V=c.has(l)?c.get(l):5;if(V<1){var P=ie(l);throw g.message="Loading chunk "+l+" failed after 5 retries.\n("+P+")",g.request=P,g}return new Promise(function(S){setTimeout(function(){var b=Date.now();v.set(l,b),c.set(l,V-1),S(ke.e(l))},3e3)})})}}}(),function(){var ie={0:0,1:0};ke.f.j=function(c,l){var n=ke.o(ie,c)?ie[c]:void 0;if(0!==n)if(n)l.push(n[2]);else{var g=new Promise(function(h,D){n=ie[c]=[h,D]});l.push(n[2]=g);var V=ke.p+ke.u(c),P=new Error;ke.l(V,function(h){if(ke.o(ie,c)&&(0!==(n=ie[c])&&(ie[c]=void 0),n)){var D=h&&("load"===h.type?"missing":h.type),b=h&&h.target&&h.target.src;P.message="Loading chunk "+c+" failed.\n("+D+": "+b+")",P.name="ChunkLoadError",P.type=D,P.request=b,n[1](P)}},"chunk-"+c,c)}};var ve=function(c,l){var P,S,n=l[0],g=l[1],V=l[2],h=0;if(n.some(function(b){return 0!==ie[b]})){for(P in g)ke.o(g,P)&&(ke.m[P]=g[P]);V&&V(ke)}for(c&&c(l);h<n.length;h++)ke.o(ie,S=n[h])&&ie[S]&&ie[S][0](),ie[S]=0},v=self.webpackChunkcustomVisualsHost=self.webpackChunkcustomVisualsHost||[];v.forEach(ve.bind(null,0)),v.push=ve.bind(null,v.push.bind(v))}();var Lo={};(function(){ke.r(Lo),ke.d(Lo,{SandboxHost:function(){return gd},SandboxPromise:function(){return dd},SandboxPromise2:function(){return pd},SandboxPromiseHandler:function(){return md},createSandboxHost:function(){return hd},exportCreateSandboxToGlobal:function(){return bd},exportOnSecurityPolicyViolationToGlobal:function(){return Cd},injectCustomVisual:function(){return yd},onSecurityPolicyViolation:function(){return vd},relayKeyboardEvents:function(){return hl},relayMouseEvents:function(){return cd},relayTouchEvents:function(){return fd},relayUIEventProps:function(){return gl},relayUIEvents:function(){return yl}});var ie=ke(3188),ve=window;ve.powerbi||(ve.powerbi={});var v="True"===ve.useCDN&&ve.hashMappings?ve.cdnUrl:ve.powerbi.build;ke.p=v?v+"/scripts/":"",_.constant(ke.p);var n=ke(8955),V=function(){function t(e,r){if(n.fF.assertValue(e,"plugins"),r){var a=function(s){n.fF.assert(function(){return!!_.find(e,function(p){return p.name===r[s].extends})},"plugin extension type '".concat(s,"' extends a plugin '").concat(r[s].extends,"' which doesn't exist")),n.fF.assert(function(){return!_.some(e,function(p){return p.name===r[s].name})},"Cannot register plugin extension type '".concat(s,"'. A plugin with that name already exists."))};for(var i in r)a(i)}this.plugins=e,this.extensions=r||{}}return t.prototype.getPlugin=function(e){return this.plugins[F(e)]},t.prototype.getExtension=function(e){return this.extensions[e]},t}();function h(t){return n.fF.assertValue(t,"reference"),F(t.type)}function F(t){return t||"dsr"}var A=ke(2490),Y=function(){function t(e,r){n.fF.assertValue(e,"factory"),n.fF.assertValue(r,"hostServices"),this.factory=e,this.hostServices=r,this.readers={},this.queryGen={},this.schemaReaders={}}return t.prototype.reader=function(e){var r=this;return n.fF.assertAnyValue(e,"typeOrTypes"),this.findSinglePropertyDefinition((0,A.rY)(e),function(a){return a.reader(r.hostServices)},_.noop,this.readers)},t.prototype.readerType=function(e){var r=this;n.fF.assertAnyValue(e,"typeOrTypes");var a=this.resolvePluginProperty((0,A.rY)(e),function(i){return i.reader(r.hostServices)},_.noop,this.readers);return a&&a.type},t.prototype.queryGenerator=function(e){return n.fF.assertAnyValue(e,"typeOrTypes"),this.findSinglePropertyDefinition((0,A.rY)(e),function(r){return r.queryGenerator&&r.queryGenerator()},_.noop,this.queryGen)},t.prototype.queryExtensionLookup=function(e){n.fF.assertAnyValue(e,"referenceOrReferences");var r=(0,A.rY)(e),a=_.chain(r).map(function(s){return h(s)}).uniq().value(),i=this.findSingleBasePropertyDefinition(a,function(s){return s.queryExtensionProvider&&j(s.name,r,s.queryExtensionProvider)});return function(t,e){if(t||e)return t?function(r,a){return t(r,a,e)}:e}(this.findSingleExtensionPropertyDefinition(a,function(s){return s.queryExtensionProvider&&j(s.name,r,s.queryExtensionProvider)}),i)},t.prototype.schemaReader=function(e){var r=this;return n.fF.assertAnyValue(e,"type"),this.findSinglePropertyDefinition([e],function(a){return a.schemaReader&&a.schemaReader(r.hostServices)},function(a){return a.schemaReader&&a.schemaReader(r.hostServices)},this.schemaReaders)},t.prototype.getCacheKey=function(e){var r=(0,A.rY)(e);return r.length<2?r[0]:"["+r.join(",")+"]"},t.prototype.findSinglePropertyDefinition=function(e,r,a,i){var o=this.getCacheKey(e),s=i[o];if(s)return s;var p=this.resolvePluginProperty(e,r,a,i);return p?i[o]=p.property:void 0},t.prototype.findSingleExtensionPropertyDefinition=function(e,r){for(var a,i,o=0,s=e;o<s.length;o++){var p=s[o],x=this.factory.getPlugin(p);if(x){if(i&&i!==x.name)return;i=x.name}else{var U=this.factory.getExtension(p);if(!U||i&&i!==U.extends)return;i=U.extends;var K=r(U);if(K){if(a&&K!==a)return;a=K}}}return a},t.prototype.findSingleBasePropertyDefinition=function(e,r){for(var a,i,o=0,s=e;o<s.length;o++){var x=this.factory.getPlugin(s[o]);if(x){if(i&&i!==x.name)return;i=x.name;var U=r(x);if(U){if(a&&U!==a)return;a=U}}}return a},t.prototype.resolvePluginProperty=function(e,r,a,i){for(var o,s=0,p=e;s<p.length;s++){var U=this.resolveProperty(p[s],r,a,i);if(!U||o&&U.property!==o.property)return;o=U}return o},t.prototype.resolveProperty=function(e,r,a,i){var o,s;if(i&&(s=i[o=this.getCacheKey(e)]))return{type:e,property:s};var p=this.factory.getPlugin(e);if(p)return(s=r(p))?(i&&(i[o]=s),{type:e,property:s}):void 0;var x=this.factory.getExtension(e);return x?(s=a(x))?(i&&(i[o]=s),{type:e,property:s}):this.resolveProperty(x.extends,r,a,i):void 0},t}();function j(t,e,r){for(var a=[],i=0,o=e;i<o.length;i++){var s=o[i],p=h(s);p===t&&a.push(s[p])}return r(a)}var I=ke(8611),E=ke(8974),T=ke(9380),m=ke(9291),z=ke(1797),R=ke(8893),w=ke(2605);function L(t,e){n.fF.assertValue(t,"collection"),n.fF.assertValue(e,"toRemove");var r=t.indexOf(e);n.fF.assert(function(){return r>=0},"the metadata column to be removed should exist in the collection before the removal"),r>=0&&t.splice(r,1)}function O(t,e){n.fF.assertValue(e,"dataViewCategorical");var r=e.categories;if(r)for(var a=0,i=r;a<i.length;a++){var o=i[a];o.values.splice(0),o.identity.splice(0)}var s=e.values;if(s){var p=s.grouped();if(!_.isEmpty(p)){for(var x=p[0],U=t.columns,K=function(qt){var ar=qt.source;if(ar.groupName){var or=_.find(U,function(fr){return!fr.groupName&&fr.index===ar.index&&fr.isMeasure===ar.isMeasure});or?(qt.source=or,L(U,ar)):delete ar.groupName}},ue=0,ye=x.values;ue<ye.length;ue++)K(ye[ue]);var Ie=[{values:x.values,objects:x.objects}];if(s.grouped=function(){return Ie},p.length>=2){var Re=x.values.length;if(Re>0){for(var st=Re*(p.length-1),ht=Re,Lt=Re+st;ht<Lt;ht++)L(U,s[ht].source);s.splice(Re,st)}}}for(var Nt=0,Et=s;Nt<Et.length;Nt++){var jt=Et[Nt];jt.values.splice(0),delete jt.identity}}n.fF.assert(function(){return!r||_.every(r,function(Ut){return _.isEmpty(Ut.values)&&_.isEmpty(Ut.identity)})},"values and identity should be cleared in all category columns"),n.fF.assert(function(){return!s||_.every(s.grouped(),function(Ut){return!Ut.name&&!Ut.identity})},"name and identity should be cleared in all series instances"),n.fF.assert(function(){return!s||_.every(s,function(Ut){return _.isEmpty(Ut.values)})},"All values in measure columns should be removed")}function Q(t,e){if(n.fF.assertValue(t,"values"),n.fF.assertValue(e,"indicesToRemove"),n.fF.assert(function(){return(0,A.JN)(e,!0)},"indicesToRemove is expected to be in descending order"),n.fF.assert(function(){return _.uniq(e).length===e.length},"indicesToRemove is not expected to contain any duplicate"),!_.isEmpty(e)){if(n.fF.assert(function(){return 0<=_.last(e)&&_.head(e)<t.length},"elements in indicesToRemove must be valid indices to the values array."),t.length===e.length)return void t.splice(0);for(var r,a=0,i=0,o=e;i<o.length;i++){var s=o[i];void 0===r||r===s+1?(r=s,a++):(t.splice(r,a),r=s,a=1)}n.fF.assertValue(r,"nextSpliceStart must be defined because this function returns early if indicesToRemove is empty."),t.splice(r,a)}}function J(t,e){if(n.fF.assertValue(t,"queryDataView"),n.fF.assertAnyValue(e,"clientSideFilters"),!_.isEmpty(e)&&!_.isEmpty(t.metadata.columns)){n.fF.assert(function(){return _.every(e,function(o){return _.some(t.metadata.columns,function(s){return!s.isMeasure&&s.index===le(o)})})},"Client-side filtering on measure columns is not yet implemented; only attribute filters are supported at the moment.");var r=t.categorical;if(r){var a=function(t,e){if(n.fF.assertAnyValue(t,"seriesMetadataColumn"),n.fF.assertValue(e,"clientSideFilters"),t){var r=Ne(e,[t]);if(!_.isEmpty(r))return function(o){if(o.identity)for(var p=o.name,x=0,U=r;x<U.length;x++)if(we(U[x],p))return!0;return!1}}}(r.values&&r.values.source,e),i=function(t,e){n.fF.assertValue(t,"categories"),n.fF.assertValue(e,"clientSideFilters");var r=Ne(e,_.map(t,function(i){return i.source}));if(!_.isEmpty(r))return function(o,s){for(var p=function(_e){if(_.every(s,function(Re){return we(_e,Re.values[o])}))return{value:!0}},x=0,U=r;x<U.length;x++){var ue=p(U[x]);if("object"==typeof ue)return ue.value}return!1}}(r.categories,e);!function(t,e,r,a){n.fF.assertValue(e,"dataViewCategorical"),n.fF.assertAnyValue(r,"categoryRemovalPredicate"),n.fF.assertAnyValue(a,"seriesRemovalPredicate"),a&&function(t,e,r){n.fF.assertValue(e,"dataViewCategorical"),n.fF.assertValue(r,"removalPredicate");var a=e.values&&e.values.grouped();if(!_.isEmpty(a)){var o=function(t,e,r){n.fF.assertAnyValue(t,"seriesMetadataColumn"),n.fF.assertValue(e,"seriesInstances"),n.fF.assertValue(r,"removalPredicate");for(var a=[],i=e.length-1;i>=0;i--)r(e[i],t)&&a.push(i);return a}(e.values&&e.values.source,a,r);!function(t,e,r){if(n.fF.assertValue(e&&e.values&&!_.isEmpty(e.values.grouped()),"dataViewCategorical must be defined and the grouped() function must return non-empty result"),n.fF.assertValue(r,"seriesIndicesToRemove"),n.fF.assert(function(){return(0,A.JN)(r,!0)},"seriesIndicesToRemove is expected to be in descending order"),n.fF.assert(function(){return _.uniq(r).length===r.length},"seriesIndicesToRemove must not contain duplicate values"),!_.isEmpty(r)){var a=e.values,i=a.grouped();if(i.length===r.length)return void O(t,e);var o=i[0].values.length;if(n.fF.assert(function(){return _.every(i,function(ue){return ue.values.length===o})},"all series instances returned by grouped() are expected to have the same number of measure columns"),o>0)for(var s=t.columns,p=function(ye){var _e=ye*o;n.fF.assert(function(){return _e+o-1<a.length},"Verifying that the index of the last column in this series instance is a valid index to the seriesAndMeasures array.");for(var Ie=_e,Re=_e+o;Ie<Re;Ie++)L(s,a[Ie].source);a.splice(_e,o)},x=0,U=r;x<U.length;x++)p(U[x]);Q(i,r),a.grouped=function(){return i}}}(t,e,o)}}(t,e,a),r&&function(t,e,r){n.fF.assertValue(e,"dataViewCategorical"),n.fF.assertValue(r,"removalPredicate");var a=e.categories;if(!_.isEmpty(a)){var i=function(t,e){n.fF.assertNonEmpty(t,"categories"),n.fF.assertValue(e,"removalPredicate");var r=t[0].values.length;n.fF.assert(function(){return _.every(t,function(o){return o.values.length===r})},"Expecting all category columns to have the same number of values.");for(var a=[],i=r-1;i>=0;i--)e(i,t)&&a.push(i);return a}(a,r);!function(t,e,r){if(n.fF.assertValue(e,"dataViewCategorical"),n.fF.assertValue(r,"rowIndicesToRemove"),n.fF.assert(function(){return(0,A.JN)(r,!0)},"rowIndicesToRemove is expected to be in descending order"),n.fF.assert(function(){return _.uniq(r).length===r.length},"rowIndicesToRemove must not contain duplicate values"),!_.isEmpty(r)){if((0,w.Ed)(e)===r.length)return void O(t,e);n.fF.assert(function(){return(0,w.Ed)(e)>0},"If rowIndicesToRemove is non-empty, then the categorical must have at least 1 row.");var a=e.categories;if(!_.isEmpty(a))for(var i=0,o=a;i<o.length;i++){var s=o[i];Q(s.values,r),Q(s.identity,r)}var p=e.values;if(!_.isEmpty(p))for(var x=0,U=p;x<U.length;x++)Q(U[x].values,r)}}(t,e,i)}}(t,e,r)}(t.metadata,r,i,a)}return t}}function le(t){n.fF.assertValue(t,"clientSideFilter");var e=t.Condition;if(e.Contains)return e.Contains.SelectIndex;n.fF.assertFail("Unknown filter condition type: "+JSON.stringify(e))}function Ne(t,e){if(n.fF.assertValue(t,"clientSideFilters"),n.fF.assertValue(e,"metadataColumns"),_.isEmpty(t)||_.isEmpty(e))return[];for(var r={},a=0,i=e;a<i.length;a++)r[i[a].index]=!0;return _.filter(t,function(s){var p=le(s);return!!r[p]})}function we(t,e){n.fF.assertValue(t,"filter");var r=!1,a=t.Condition;if(a.Contains)if(n.fF.assert(function(){return a.Contains.LiteralValue===Pe(a.Contains.LiteralValue)},"condition.Contains.LiteralValue is expected to have been normalized."),_.isString(e)){var i=Pe(e);r=!(0,E.r3)(i,a.Contains.LiteralValue)}else r=!0;else n.fF.assertFail("ClientSideFilter condition type not implemented: "+JSON.stringify(a));return r}function Pe(t){return t&&(0,E.m5)(t)}var ze=function(t){function e(r){var a=t.call(this)||this;return n.fF.assertNonEmpty(r,"selects"),a.clientSideFilters=[],a.selects=r,a}return(0,ie.ZT)(e,t),e.prototype.visitContains=function(r){if(!this.hasUnsupportedFilter()){var a=!1,i=Xe(r);if(i){var o=i.constantValue,s=z.m.indexOfNamedExpr(this.selects,i.otherSide);if(s>=0&&o){var p={Condition:{Contains:{SelectIndex:s,LiteralValue:Pe(o)}}};this.clientSideFilters.push(p),a=!0}}a||this.setUnsupportedFilter()}},e.prototype.visitAnd=function(r){this.hasUnsupportedFilter()||(r.left.accept(this),r.right.accept(this))},e.prototype.visitDefault=function(r){this.setUnsupportedFilter()},e.prototype.getClientSideFiltersIfAllSupported=function(){if(!this.hasUnsupportedFilter())return this.clientSideFilters},e.prototype.hasUnsupportedFilter=function(){return void 0===this.clientSideFilters},e.prototype.setUnsupportedFilter=function(){this.clientSideFilters=void 0},e}(R.vq);function Xe(t){if(t){var e=(0,m.Ls)(t.left);return e?{constantValue:e,otherSide:t.right}:{constantValue:e=(0,m.Ls)(t.right),otherSide:t.left}}}var Me=ke(9796),pe="PBI.Data.QueryData",De=(Me.cx[pe]=(0,Me.b1)(pe),"PBI.Data.QueryCancellation"),Qe=Me.cx[De]=(0,Me.b1)(De,{logRatio:1e-4}),rt="PBI.Data.ClientCacheHit",lt=Me.cx[rt]=(0,Me.b1)(rt,{logRatio:1e-4}),Oe="PBI.Data.GetConceptualSchema",fe=(Me.cx[Oe]=(0,Me.b1)(Oe),"PBI.Data.ClearConceptualSchemaCache"),te=(Me.cx[fe]=(0,Me.b1)(fe),"PBI.Data.ExecuteQuery"),oe=Me.cx[te]=(0,Me.b1)(te),Ce="PBI.Data.DsrToDataView",he=Me.cx[Ce]=(0,Me.b1)(Ce,{logRatio:1e-4}),Le=ke(4758),Je=ke(3813),ot=ke(5867),bt=ke(8078),Ft=ke(8207);function vt(t,e,r){if(n.fF.assertValue(t,"fullString"),n.fF.assertValue(e,"from"),n.fF.assertValue(r,"length"),n.fF.assert(function(){return e>=0},"from >= 0"),n.fF.assert(function(){return r>=0},"length >= 0"),n.fF.assert(function(){return e+r<=t.length},"(from + length) <= fullString.length"),0===r)return null;for(var a=0,i=0,o=e+r-1;i<r;i++,o--){var s=t.charCodeAt(o)-48;if(s<0||9<s)return null;a+=s*(0,bt.wA)(i)}return a}function be(){return"undefined"!=typeof moment}function Ve(t){var e=function(t){if(t){var e=t.length;if(!(e<=18||e>28)){var r=t[10];if("-"===t[4]&&"-"===t[7]&&("T"===r||" "===r)&&":"===t[13]&&":"===t[16]){var a=vt(t,0,4),i=vt(t,5,2),o=vt(t,8,2),s=vt(t,11,2),p=vt(t,14,2),x=vt(t,17,2),U="Z"===t.charAt(e-1);U&&e--;var K=0;if(e>19){if("."!==t[19])return;var ue=e-20,ye=vt(t,20,ue);if(null===ye)return;K=ye*(0,bt.wA)(3-ue)}if(null!==a&&null!==i&&null!==o&&null!==s&&null!==p&&null!==x&&null!==K)return U?new Date(Date.UTC(a,i-1,o,s,p,x,K)):(0,Ft.yI)(a,i-1,o,s,p,x,K)}}}}(t);if(e)return e;n.fF.assert(function(){return be()},"Moment.js should be loaded for non-fast parseIsoDate.");var r=moment(t);return r.isValid()?r.toDate():null}var Ht=/''/g,Xt="base64'",re=/\.000'$/;function ge(t){return He(t)}function Be(t){return He(t,!0)}function Ye(t,e){if(n.fF.assert(function(){return void 0!==t},"Undefined dsrValue indicates a DSR parsing bug"),null===t)return null;switch(e){case 4:return n.fF.assert(function(){return"string"==typeof t||"number"==typeof t},"Expected only string or number values for type ".concat(e)),"number"==typeof t?t:parseInt(t,10);case 2:case 3:return n.fF.assert(function(){return"string"==typeof t||"number"==typeof t},"Expected only string or number values for type ".concat(e)),"number"==typeof t?t:nt(t);case 7:case 6:if(n.fF.assert(function(){return"string"==typeof t||"number"==typeof t},"Expected only string or number values for type ".concat(e)),"number"==typeof t){n.fF.assert(function(){return t>=0},"Expected positive miliseconds since UNIX epoch for type ".concat(e));var r=new Date(t),a=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),i=new Date(r.getTime()+6e4*a.getTimezoneOffset());return i.epochTimeStamp=t,i}var o=Ve(t);return o&&(0,Ft.Fg)(o);case 1:return n.fF.assert(function(){return"string"==typeof t},"Expected only string values for type ".concat(e)),t;case 5:return n.fF.assert(function(){return"number"==typeof t||"boolean"==typeof t},"Expected number or boolean values for type ".concat(e)),"number"==typeof t?1===t:t;case 13:return n.fF.assert(function(){return"string"==typeof t||"boolean"==typeof t},"Expected only string or boolean values for type ".concat(e)),He(t);default:n.fF.assertFail("unsupported dsrValue for type ".concat(e))}}function it(t,e,r){if(null===t)return(0,m.IF)();switch(r){case 4:return"number"==typeof e?(0,m.cA)(+t):(0,m.f7)(260,+t,e.toString());case 2:return"number"==typeof e?(0,m.gH)(+t):(0,m.f7)(258,+t,e.toString());case 3:return"number"==typeof e?(0,m.tx)(+t):(0,m.f7)(259,+t,e.toString());case 7:case 6:return"number"==typeof e?new m.jz(Je.Ge.fromExtendedType(519),t):(0,m.f7)(519,t,e.toString());case 1:return(0,m.fL)(t.toString());case 5:return(0,m.O7)(!!t);case 13:return He(e,!0);default:n.fF.assertFail("unsupported dsrValue for type ".concat(r))}}function He(t,e){var r=typeof t;if("string"===r){if(_.endsWith(t,"L")){var a=parseInt(t,10);return e?(0,m.cA)(a,t):a}if(_.endsWith(t,"D")){var i=nt(t);return e?(0,m.tx)(i,t):i}if(_.endsWith(t,"M")){var o=nt(t);return e?(0,m.gH)(o,t):o}if(_.endsWith(t,"'")){if("'"===t.charAt(0)){var s=t.substring(1,t.length-1).replace(Ht,"'");return e?(0,m.fL)(s,t):s}if(0===t.indexOf("datetime'")){var p=t.replace(re,"'"),U=Ve(t.substring(9,p.length-1));return e?(0,m.CQ)(U,p):U}}if("null"===t)return e?(0,m.IF)():null;if("true"===t)return!e||(0,m.O7)(!0);if("false"===t)return!!e&&(0,m.O7)(!1)}return"boolean"===r?e?(0,m.O7)(t):t:null===t?e?(0,m.IF)():null:t}function nt(t){var e=parseFloat(t);return isNaN(e)?parseFloat(t.replace("INF","Infinity")):e}var pt=function(){function t(){}return t.findAndParseCalculation=function(e,r){var a=this.findCalculation(e,r);if(a)return ge(a.Value)},t.findAndParseCalculationToSQExpr=function(e,r){var a=this.findCalculation(e,r);if(a)return Be(a.Value)},t.findCalculation=function(e,r){n.fF.assertValue(e,"calcs");for(var a=0,i=e.length;a<i;a++){var o=e[a];if(o.Id===r)return o}},t.describeDataType=function(e,r){var a=0;switch(e=e||0){case 2048:a=1;break;case 1:a=3;break;case 3:a=4;break;case 4096:a=5;break;case 20:a=6;break;case 4:a=7;break;case 8:a=9;break;case 67:a=4,n.fF.assert(function(){return!r||"Years"===r},"Unexpected category for Year type."),r="Years";break;case 35:a=4,n.fF.assert(function(){return!r||"Months"===r},"Unexpected category for Month type."),r="Months"}return Je.Ge.fromPrimitiveTypeAndCategory(a,r)},t.getTopLevelSecondaryDynamicMember=function(e,r){n.fF.assertValue(e,"DsrV1.DataShape");var a=e.SecondaryHierarchy;return a?r&&r.Secondary?t.getDynamicMember(a,r.Secondary.Groupings,0):t.getDynamicMemberFallback(a):null},t.getTopLevelPrimaryDynamicMember=function(e,r,a){n.fF.assertValue(e,"DsrV1.DataShape");var o,i=e.PrimaryHierarchy;return i?(a&&(o=void 0!==e.Calculations),r&&r.Primary?t.getDynamicMember(i,r.Primary.Groupings,0,o):t.getDynamicMemberFallback(i,o)):null},t.getDynamicMember=function(e,r,a,i){if(n.fF.assertValue(e,"dataShapeMembers"),0===e.length)return null;if(!r||0===r.length)return t.getDynamicMemberFallback(e,i);var o=r[a].Member;if(!o)return t.getDynamicMemberFallback(e,i);for(var s=0,p=e;s<p.length;s++){var x=p[s];if(x.Id===o)return x}return null},t.getDynamicMemberFallback=function(e,r){return 2===e.length?e[1]:void 0===r||!0===r?e[0]:null},t.fillMetadataColumnAggregate=function(e,r,a){void 0===a&&(a=!0),n.fF.assertValue(r,"aggregateMetdata");var i=r.source.aggregates;switch(i||(r.source.aggregates=i={}),r.aggregateKind){case 1:return void(i.subtotal=e);case 2:return void(i.max=e);case 3:return void(i.min=e);case 4:return void(a||(i.single=e));case 5:return n.fF.assert(function(){return"number"==typeof e},"unexpected count calc value"),void(i.count=e);case 6:return void(i.average=e);case 8:return void(i.median=e);case 7:var o=r.aggregate.Percentile,s=i.percentiles;s||(s=i.percentiles=[]);var p={k:o.K,value:e};return null!=o.Exclusive&&(p.exclusive=o.Exclusive),void s.push(p);default:n.fF.assertFail("unknown AggregateKind")}},t.copyAggregates=function(e,r){n.fF.assertValue(e,"source Aggregates"),n.fF.assertValue(r,"target Aggregates"),void 0!==e.subtotal&&(r.subtotal=e.subtotal),void 0!==e.min&&(r.min=e.min),void 0!==e.max&&(r.max=e.max),void 0!==e.minLocal&&(r.minLocal=e.minLocal),void 0!==e.maxLocal&&(r.maxLocal=e.maxLocal),void 0!==e.count&&(r.count=e.count)},t.computeAggIdx=function(e,r,a,i){return e+(i-r)*(a+1)},t}(),Bt=function(){function t(){}return Object.defineProperty(t.prototype,"name",{get:function(){return"maxLocal"},enumerable:!1,configurable:!0}),t.prototype.update=function(e){if("number"==typeof e&&!isNaN(e)){var r=this.current;this.current=void 0===r?e:Math.max(r,e)}},t.prototype.value=function(){return this.current},t}(),xt=function(){function t(){}return Object.defineProperty(t.prototype,"name",{get:function(){return"minLocal"},enumerable:!1,configurable:!0}),t.prototype.update=function(e){if("number"==typeof e&&!isNaN(e)){var r=this.current;this.current=void 0===r?e:Math.min(r||0,e)}},t.prototype.value=function(){return this.current},t}(),yt=function(){function t(e){this.context=e,this.measureValueAggregatorsBySelectIdx=[]}return t.prototype.read=function(e,r){void 0===r&&(r=!0);for(var a=this.context,i=a.selects,o=new Array(i.length),s=new Array(i.length);e.nextCalc();){var p=a.aggregateCalcMetadata[e.calcId()];p&&p.aggregateKind&&(pt.fillMetadataColumnAggregate(e.calcValue(),p,!1),3===p.aggregateKind&&(o[p.selectIdx]=!0),2===p.aggregateKind&&(s[p.selectIdx]=!0))}r&&this.addLocalAggregators(o,s)},t.prototype.addLocalAggregators=function(e,r){for(var a=this.measureValueAggregatorsBySelectIdx,i=this.context.measureSelectIndices,o=i.length,s=!1,p=0;p<o;p++){var x=i[p];e[x]||(s=!0,a[x]||(a[x]=[]),a[x].push(new xt)),r[x]||(s=!0,a[x]||(a[x]=[]),a[x].push(new Bt))}this.hasLocalAggregators=s},t.prototype.update=function(e,r){if(this.hasLocalAggregators){var a=this.measureValueAggregatorsBySelectIdx[r];if(a)for(var i=0,o=a;i<o.length;i++)o[i].update(e)}},t.prototype.copyToColumns=function(){for(var e=this.context.measureSelectIndices,r=e.length,a=0;a<r;a++){var i=e[a],o=this.context.selectIndexToColumn[i],s=this.measureValueAggregatorsBySelectIdx[i];if(s&&s)for(var p=0,x=s;p<x.length;p++){var U=x[p],K=U.value();void 0!==K&&(o.aggregates||(o.aggregates={}),o.aggregates[U.name]=K)}}},t}(),Pt=ke(2303),Wt=function(){function t(e,r){this.context=e,this.calcIdToGroupingKeysIndex={},this.initialize(r)}return t.prototype.initialize=function(e){var a,r=this,i=this.context,o=i.selects,s=i.dataMemberIdToMetadata[e];this.identityFields=s.identityFields,this.identityFieldsCount=this.identityFields.length;var x=s.axisGrouping.Keys;n.fF.assert(function(){return x.length===r.identityFieldsCount},"Mismatch in Identity Keys count");for(var U=0;U<this.identityFieldsCount;U++){var K=x[U],ue=void 0;K.Calc?ue=K.Calc:null!=K.Select&&K.Select>=0?ue=s.forSynchronization?null===(a=o[K.Select].Synchronized)||void 0===a?void 0:a.Value:o[K.Select].Value:n.fF.assertFail("unexpected grouping key value"),this.calcIdToGroupingKeysIndex[ue]=U}},t.prototype.reset=function(){this.identityParts=new Array(this.identityFieldsCount)},t.prototype.addExpr=function(e,r){var a=this.calcIdToGroupingKeysIndex[e],i=this.identityFields[a];i&&(this.identityParts[a]=(0,m.Dg)(i,r))},t.prototype.getIdentity=function(){for(var a,e=this.identityParts,r=this.identityFieldsCount,i=0;i<r;i++)a=(0,m.xD)(a,e[i]);var o=(0,Pt.TZ)(a);return n.fF.assertValue(o,"identity"),o},t.prototype.getIdentityFields=function(){return this.identityFields},t}();function nr(t){return t.Schema||void 0}var Qt=function(t){return t[t.None=0]="None",t[t.Group=1]="Group",t[t.Measure=2]="Measure",t}({}),Zt=function(){function t(){}return t.prototype.run=function(e,r,a){this.metadata=a,this.context=e,this.dsrParser=r,this.selectIndexToCategoryColumn={},this.selectIndexToPrimaryValueColumn={},this.selectIndexToDynamicFormatColumn={},this.intersectionValueColumnsMap=[],this.intersectionDynamicFormatColumnsMap=[],this.primaryMeasureCount=0,this.intersectionMeasureCount=0,this.seriesSelectIndex=-1,this.primaryMeasureSelectIndexMap=[],this.intersectionMeasuresSelectIndexMap=[],this.selectIndexToValueColumnsMap=[],r.reset(),this.aggregator=new yt(e);var i=this.dsrParser.dataShapes();i.next();var o={};if(0===e.maxPrimaryDepth){this.readSelectsAndCreateCategoryColumns(void 0,void 0);var s=o.values=(0,Le.Yv)();this.readMeasuresWithNoGrouping(i,s)}else{var p=[],x=[];o.categories=p,this.readSelectsAndCreateCategoryColumns(p,x),s=void 0,(this.intersectionMeasureCount>0||this.primaryMeasureCount>0||this.seriesSelectIndex>=0)&&(o.values=s=(0,Le.Yv)()),this.readSecondaryAndCreateValueColumns(s);var U={};this.readData(i,s,x,U),void 0!==U.value&&(o.lastMergeIndex=U.value)}return o},t.isCompatible=function(e){return e.maxPrimaryDepth<=1&&e.maxSecondaryDepth<=1&&!(0===e.maxPrimaryDepth&&e.maxSecondaryDepth>0)&&_.size(e.selects)>0},t.prototype.readSelectsAndCreateCategoryColumns=function(e,r){var a=this.context,i=a.selectIndexToColumn,o=a.selects,s=o.length,p=this.dsrParser.dataShapes().secondaryHierarchy();this.primaryMeasureSelectIndexMap=new Array(o.length),this.intersectionMeasuresSelectIndexMap=new Array(o.length);for(var x=!!p,U=0;U<s;U++){var K=o[U];if(K&&K.Value)if(K.Kind===Qt.Group){if(null!=K.SecondaryDepth){this.seriesSelectIndex=U;continue}if(null!=K.Depth){n.fF.assert(function(){return null!=r},"Expected truthy value for identities"),n.fF.assert(function(){return null!=e},"Expected truthy value for categories");var ye={source:i[U],values:[],identity:r};e.push(ye),this.selectIndexToCategoryColumn[U]=ye}}else K.Kind===Qt.Measure&&(x&&null==K.Depth?this.intersectionMeasuresSelectIndexMap[this.intersectionMeasureCount++]=U:this.primaryMeasureSelectIndexMap[this.primaryMeasureCount++]=U)}},t.prototype.readSecondaryAndCreateValueColumns=function(e){var r=this.dsrParser.dataShapes().secondaryHierarchy();r?(this.addIntersectionValueColumns(e,r),this.primaryMeasureCount>0&&this.addPrimaryValueColumns(e)):this.addPrimaryValueColumns(e,!0)},t.prototype.addIntersectionValueColumns=function(e,r){for(var i,a=new Array,o=this.context,s=function(){var U=r.id(),K=r.instances();if(2===o.dataMemberIdToMetadata[U].kind){for(;K.next(););return"continue"}var ue=o.dataMemberIdToIdentityBuilder[U];ue||(ue=new Wt(o,U),o.dataMemberIdToIdentityBuilder[U]=ue),i=ue.getIdentityFields();for(var ye=-1;K.next();){ye++,ue.reset();for(var _e=void 0,Ie=void 0;K.nextCalc();){Ie=K.calcId();var Re=p.context.calcInfo[Ie];Re.isGroupKeyButNotSelect||(_e=K.calcValue()),Re.forIdentity&&ue.addExpr(Ie,K.calcValueAsExpr())}p.addIntersectionValueColumnsCore(e,a,Ie,_e,ye,ue.getIdentity()),n.fF.assert(function(){return null==K.intersections()},"unexpected secondary intersections"),n.fF.assert(function(){return null==K.members()},"unexpected secondary nested members")}0===e.length&&0===a.length&&p.addIntersectionValueColumnsCore(e,a,void 0,void 0,0,void 0),e.grouped=function(){return a},e.source=p.context.selectIndexToColumn[p.seriesSelectIndex],e.identityFields=i},p=this;r.next();)s()},t.prototype.addIntersectionValueColumnsCore=function(e,r,a,i,o,s){for(var p,x,U,K=this.context,ue=K.selects,ye=this.intersectionMeasureCount,_e=new Array(ye),Ie=this.metadata.columns,Re=function(_t){var Nt=void 0,Et=$e.intersectionMeasuresSelectIndexMap[_t];void 0!==i?((Nt=K.createColumns(Ie,Et).column).groupName=i,Nt.rootSource=K.selectIndexToColumn[Et]):Nt=_.find(Ie,function(ra){return ra.index===Et});var jt=$e.createValueColumn(Nt,s,Et,!!ue[Et].Highlight,!1);e.push(jt),_e[_t]=jt;var Ut=ue[Et],qt=$e.intersectionValueColumnsMap[o];qt||(qt=$e.intersectionValueColumnsMap[o]={}),qt[Ut.Value]=jt;var ar=Ut.Highlight&&Ut.Highlight.Value;if(ar&&(qt[ar]=jt),Nt.formatSource&&Nt.formatSource.formatString){n.fF.assertValue(null===(p=Ut.DynamicFormat)||void 0===p?void 0:p.Format,"select.DynamicFormat.Format");var or=$e.createValueColumn(Nt.formatSource.formatString,void 0,Et,!!ue[Et].Highlight,!0),fr=$e.intersectionDynamicFormatColumnsMap[o];fr||(fr=$e.intersectionDynamicFormatColumnsMap[o]={}),fr[Ut.DynamicFormat.Format]=or,e.push(or);var Vr=null===(U=null===(x=Ut.Highlight)||void 0===x?void 0:x.DynamicFormat)||void 0===U?void 0:U.Format;Vr&&(fr[Vr]=or)}},$e=this,st=0;st<ye;st++)Re(st);var ht={values:_e};void 0!==i&&(ht.name=i),void 0!==s&&(ht.identity=s),r.push(ht)},t.prototype.addPrimaryValueColumns=function(e,r){for(var a=new Array,i=this.context,o=i.selects,s=0;s<this.primaryMeasureCount;s++){var p=this.primaryMeasureSelectIndexMap[s],x=i.selectIndexToColumn[p],U=this.createValueColumn(x,void 0,p,!!o[p].Highlight,!1);if(this.selectIndexToPrimaryValueColumn[p]=U,a.push(U),e.push(U),x.formatSource&&x.formatSource.formatString){var K=this.createValueColumn(x.formatSource.formatString,void 0,p,!!o[p].Highlight,!0);this.selectIndexToDynamicFormatColumn[p]=K,e.push(K),a.push(K)}}if(r&&e){var ue=[{values:a}];e.grouped=function(){return ue}}},t.prototype.createValueColumn=function(e,r,a,i,o){var s={source:e,values:[]};if(i&&(s.highlights=[]),r&&(s.identity=r),!o){var p=this.selectIndexToValueColumnsMap[a];p||(p=this.selectIndexToValueColumnsMap[a]=[]),p.push(s)}return s},t.prototype.readData=function(e,r,a,i){var o=this.context,s=e.primaryHierarchy();this.aggregator.read(e,0===this.intersectionMeasureCount);for(var p=function(){var K=s.id(),ue=o.dataMemberIdToMetadata[K];if(ue){var ye=1===ue.kind,_e=o.dataMemberIdToIdentityBuilder[K];!_e&&ye&&(_e=new Wt(o,K),o.dataMemberIdToIdentityBuilder[K]=_e);for(var Ie=s.instances();Ie.next();){for(_e&&_e.reset(),1===Ie.restartFlagKind()&&(i.value=Ie.currentIndex());Ie.nextCalc();)x.readPrimaryHierarchyCalc(Ie,_e);_e&&a.push(_e.getIdentity()),x.parseIntersections(Ie),n.fF.assert(function(){return null==Ie.members()},"unexpected nested members to parse")}if(ye)for(var Re=_e.getIdentityFields(),$e=0;$e<o.selects.length;$e++){var st=x.selectIndexToCategoryColumn[$e];st&&(st.identityFields=Re)}}},x=this;s.next();)p();this.aggregator.copyToColumns(),this.copyAggregatesToValueColumns()},t.prototype.copyAggregatesToValueColumns=function(){for(var e=this.context.measureSelectIndices,r=this.context.selectIndexToColumn,a=e.length,i=0;i<a;i++){var o=e[i],s=r[o].aggregates;if(s){var p=this.selectIndexToPrimaryValueColumn[o];p&&pt.copyAggregates(s,p);var x=this.selectIndexToValueColumnsMap[o];if(x)for(var U=0,K=x;U<K.length;U++)pt.copyAggregates(s,K[U])}}},t.prototype.readPrimaryHierarchyCalc=function(e,r){var a=e.calcId(),i=this.context.aggregateCalcMetadata[a];if(i&&1===i.aggregateKind)pt.fillMetadataColumnAggregate(e.calcValue(),i);else{var o=this.context.calcInfo[a];if(o){var s=e.calcValue();if(o.kind===Qt.Group)n.fF.assert(function(){return!!r},"Must have an identity builder when parsing grouping values"),o.isGroupKeyButNotSelect||this.selectIndexToCategoryColumn[o.selectIdx].values.push(s),o.forIdentity&&r.addExpr(a,e.calcValueAsExpr());else if(o.kind===Qt.Measure){var p=o.calcKind;1===p?(this.selectIndexToPrimaryValueColumn[o.selectIdx].values.push(s),this.aggregator.update(s,o.selectIdx)):4===p?this.selectIndexToDynamicFormatColumn[o.selectIdx].values.push(s):3===p?this.selectIndexToPrimaryValueColumn[o.selectIdx].highlights.push(s):6===p&&this.selectIndexToDynamicFormatColumn[o.selectIdx].highlights.push(s)}}}},t.prototype.parseIntersections=function(e){var r=e.intersections();if(r)for(var a=this.context.calcInfo,i=0;r.next();){var o=this.intersectionValueColumnsMap[i],s=this.intersectionDynamicFormatColumnsMap[i];if(r.nextCalc()){if(!this.parseIntersectionCalc(r,o,s,a))continue;for(i++;r.nextCalc();)this.parseIntersectionCalc(r,o,s,a)}}},t.prototype.parseIntersectionCalc=function(e,r,a,i){var o=e.calcId(),s=i[o];if(s)switch(n.fF.assert(function(){return s.kind===Qt.Measure},"unexpected select kind found in intersection"),s.calcKind){case 1:return r[o].values.push(e.calcValue()),!0;case 3:return r[o].highlights.push(e.calcValue()),!0;case 4:return a[o].values.push(e.calcValue()),!0;case 6:return a[o].highlights.push(e.calcValue()),!0;case 2:case 5:return!1}},t.prototype.readMeasuresWithNoGrouping=function(e,r){this.aggregator.read(e),this.aggregator.copyToColumns();var a=e.primaryHierarchy();if(a.next()){this.addPrimaryValueColumns(r,!0);for(var i=this.context.calcInfo,o=a.instances();o.next();)for(var s=function(){var U=o.calcId(),K=i[U];K&&(n.fF.assert(function(){return null!=K.selectIdx},"expect a selectIdx for all measures when there is no grouping"),1===K.calcKind?p.selectIndexToPrimaryValueColumn[K.selectIdx].values.push(o.calcValue()):3===K.calcKind?p.selectIndexToPrimaryValueColumn[K.selectIdx].highlights.push(o.calcValue()):4===K.calcKind?p.selectIndexToDynamicFormatColumn[K.selectIdx].values.push(o.calcValue()):6===K.calcKind&&p.selectIndexToDynamicFormatColumn[K.selectIdx].highlights.push(o.calcValue()))},p=this;o.nextCalc();)s()}},t}(),Dt=ke(3775),rr=ke(1598),lr=function(){function t(e){n.fF.assertValue(e,"Null RestartIdentities list"),n.fF.assertNonEmpty(e,"Empty RestartIdentities list"),this.restartValuesCount=e.length,this.calcIdToRestartIdentityIndex={};for(var r=0;r<this.restartValuesCount;r++)this.calcIdToRestartIdentityIndex[e[r]]=r}return t.prototype.getRestartValues=function(e){n.fF.assertValue(e,"getRestartValues called with undefined instanceParser");var r=new Array(this.restartValuesCount);for(e.restartCalcs();e.nextCalc();){var a=this.calcIdToRestartIdentityIndex[e.calcId()];void 0!==a&&(r[a]=e.calcValueAsExpr())}return n.fF.assert(function(){return _.every(r,function(i){return!!i})},"Missing calcs for RestartValues"),r},t}(),yr=function(){function t(e){this.values=e,this.parsedValues=new Array(e.length),this.parsedValueExprs=new Array(e.length)}return t.prototype.getCalcValue=function(e,r){if(!(e>=this.parsedValues.length)){var a=this.parsedValues[e];return void 0===a&&(a=Ye(this.values[e],r),this.parsedValues[e]=a),a}},t.prototype.getCalcValueExpr=function(e,r,a){if(!(r>=this.parsedValues.length)){var i=this.parsedValueExprs[r];return void 0===i&&(i=it(e,this.values[r],a),this.parsedValueExprs[r]=i),i}},t}(),de=function(){function t(e){if(e)for(var r in this.resolvedValueDictionaries={},e)this.resolvedValueDictionaries[r]=new yr(e[r])}return t.prototype.getCalcValue=function(e,r,a){if(r&&"number"==typeof e){n.fF.assertValue(this.resolvedValueDictionaries,"this.context.resolvedValueDictionaries");var i=this.resolvedValueDictionaries[r];return n.fF.assertValue(i,"dictionary"),i.getCalcValue(e,a)}},t.prototype.getCalcValueExpr=function(e,r,a,i){if(a&&"number"==typeof r){n.fF.assertValue(this.resolvedValueDictionaries,"this.resolvedValueDictionaries");var o=this.resolvedValueDictionaries[a];return n.fF.assertValue(o,"dictionary"),o.getCalcValueExpr(e,r,i)}},t}();function Ue(t,e){n.fF.assertValue(t.Expressions.Primary,"No primary groupings."),n.fF.assertValue(t,"synchronizedGroup");for(var r=t.Expressions.Primary.Groupings,a=t.Select,i={},o=[],s=e.Groupings,p=0;p<s.length;p++)tt(i,r[s[p]].SynchronizedGroup,p,o,a,!0);return{dataMemberIdToMetadata:i,selects:a,maxPrimaryDepth:_.size(s),primaryDataMemberIdCache:o,memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},locked:!1,intersectionCalcMetadataCache:{},maxSecondaryDepth:0,secondaryDataMemberIdCache:void 0,instancesCalcCache:{},lastIntersectionCalcCache:{},intersectionMeasureToSelectIndex:[],secondaryLeafDataMemberId:void 0}}function tt(t,e,r,a,i,o){var s=a[r]=[],p=function(t,e){for(var r=t.length,a=new Array(r),i=0;i<r;i++)a[i]=$t(t[i],t[i].Select,e);return a}(e.Keys,i),x=e.Member;if(x){s.push(x);var U=t[x]={identityFields:p,axisGrouping:e,kind:1,depth:r+1};o?U.forSynchronization=!0:e.SynchronizedGroup&&(U.isSynchronized=!0),e.RestartIdentities&&(U.restartValuesBuilder=new lr(e.RestartIdentities))}var K=e.SubtotalMember;K&&(s.push(K),U={identityFields:p,kind:2,depth:r},o?U.forSynchronization=!0:e.SynchronizedGroup&&(U.isSynchronized=!0),t[K]=U)}function $t(t,e,r){n.fF.assertValue(t,"key"),n.fF.assertAnyValue(e,"selectIndex"),n.fF.assertValue(r,"selectBindings");var a=t.Source;if(!a){n.fF.assert(function(){return e>=0&&e<_.size(r)},"selectIndex should be within range");var i=r[e].Name;return i?(0,m.xA)(i):void n.fF.assertFail("selectName should be defined")}return(0,m.Oh)((0,m.nw)(nr(a),a.Entity||a.EntitySet),a.Property)}var Dr=function(){function t(e,r,a,i,o){n.fF.assertValue(e,"targets"),n.fF.assert(function(){return null!=r.Select||null!=r.ScriptVisualBinding},"descriptor"),this.targets=e,this.descriptor=r,this.selects=r.Select,this.selectIndexToColumn={},this.aggregateCalcMetadata={},this._calcInfo={},this.calcIdToColumnIndices={},this.dataMemberIdToIdentityBuilder={};var s=r.Expressions;this._primaryAxisGroupings=s&&s.Primary&&s.Primary.Groupings,this._secondaryAxisGroupings=s&&s.Secondary&&s.Secondary.Groupings,this.measureSelectIndices=[],this.dataMemberIdToMetadata=a.dataMemberIdToMetadata,this.maxPrimaryDepth=a.maxPrimaryDepth,this.maxSecondaryDepth=a.maxSecondaryDepth,this.primarySynchronizedGroups=a.primarySynchronizedGroups,this.scopedAggregatesEnabled=i,this.dataShapeParser=o}return Object.defineProperty(t.prototype,"primaryAxisGroupings",{get:function(){return this._primaryAxisGroupings},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"secondaryAxisGroupings",{get:function(){return this._secondaryAxisGroupings},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"calcInfo",{get:function(){return this._calcInfo},enumerable:!1,configurable:!0}),t.prototype.createContextForPrimarySynchronizedGroup=function(e,r){var a=this,i=new t(this.targets,this.descriptor,e.context,this.scopedAggregatesEnabled,r);return i._primaryAxisGroupings=_.map(e.groupings,function(o){return a.primaryAxisGroupings[o].SynchronizedGroup}),i._secondaryAxisGroupings=void 0,i._calcInfo=this._calcInfo,i},t.prototype.includes=function(e){return n.fF.assertValue(e,"kind"),(0,rr.yE)(this.targets,e)},t.prototype.createDataViewMetadataColumns=function(){var e=this,r=this.selects;if(!_.isEmpty(r)){var a=[],i=r.length;this.selectIndexToColumnIndex=new Array(i);for(var o=function(_e,Ie){var Re=r[_e];if(!Re)return"continue";n.fF.assert(function(){return Re.Kind!==Qt.None},"Expecting every select never to be of SelectKind.None");var $e=s.createColumns(a,_e),st=$e.column,ht=$e.columnIdx,Lt=$e.dynamicFormatColumn;s.selectIndexToColumn[_e]=st,s.selectIndexToColumnIndex[_e]=ht,Re.Kind===Qt.Measure&&s.measureSelectIndices.push(_e);var _t=Re.Aggregates;if(_t)for(var Nt=0,Et=_t;Nt<Et.length;Nt++){var jt=Et[Nt],Ut=s.getAggregateKind(jt.Aggregate);s.createAggregateCalcMetadata(jt.Ids,Ut,st,_e,jt.Aggregate)}var qt=Re.Value;qt&&(s.calcIdToColumnIndices[qt]||(s.calcIdToColumnIndices[qt]=[]),s.calcIdToColumnIndices[qt].push(ht),(null==Re.Depth||null==Re.SecondaryDepth)&&(s.aggregateCalcMetadata[qt]={source:st,aggregateKind:4,selectIdx:_e})),Re.Kind===Qt.Measure&&(Re.Subtotal&&s.createAggregateCalcMetadata(Re.Subtotal,1,st,_e),Re.SubtotalDynamicFormat&&s.createAggregateCalcMetadata(_.map(Re.SubtotalDynamicFormat,function(ar){return ar&&ar.Format}),1,Lt,_e),Re.Count&&(n.fF.assert(function(){return _.size(Re.Count)<=1},"dataView cannot represent aggregates other than subtotal at different scopes yet"),s.createAggregateCalcMetadata(Re.Count,5,st,_e)),Re.Max&&s.createAggregateCalcMetadata(Re.Max,2,st,_e),Re.Min&&s.createAggregateCalcMetadata(Re.Min,3,st,_e))},s=this,p=0,x=i;p<x;p++)o(p);this.parseAxisGroupings(this.primaryAxisGroupings),this.parseAxisGroupings(this.secondaryAxisGroupings);var U=function(_e){_.size(K.calcIdToColumnIndices[_e])>1&&(K.calcInfo[_e].hasDuplicateColumnIndices=!0,n.fF.assert(function(){return!e.calcInfo[_e].isGroupKeyButNotSelect},"calcs which represent group keys cannot have duplicate column indices"))},K=this;for(var ue in this.calcIdToColumnIndices)U(ue);return this.scopedAggregatesEnabled&&(this.createScopedAggregateMetadata(),this.fillDataShapeScopeAggregateValues()),a}},t.prototype.parseAxisGroupings=function(e){if(e)for(var r=0,a=e;r<a.length;r++){var i=a[r],o=i.SynchronizedGroup;if(o){this.parseGroupingKeys(o.Keys,!0);var s=i.SynchronizationIndex;s&&(this.calcInfo[s]={kind:Qt.Measure,calcKind:10})}this.parseGroupingKeys(i.Keys,!1)}},t.prototype.parseGroupingKeys=function(e,r){for(var a,i,o=this.calcInfo,s=this.selects,p=0,x=e;p<x.length;p++){var U=x[p],K=s[U.Select];null!=K?r?(n.fF.assertValue(null===(a=K.Synchronized)||void 0===a?void 0:a.Value,"Key of a Synchronized AxisGrouping should refer to Select with Synchronization"),o[null===(i=K.Synchronized)||void 0===i?void 0:i.Value].forIdentity=!0):o[K.Value].forIdentity=!0:U.Calc?o[U.Calc]={kind:Qt.Group,forIdentity:!0,isGroupKeyButNotSelect:!0}:n.fF.assertFail("Unexpected DataShapeExpressionAxisGroupingKey without select or calc")}},t.prototype.createAggregateCalcMetadata=function(e,r,a,i,o){for(var s=0,p=e;s<p.length;s++){var U=this.aggregateCalcMetadata[p[s]]={source:a,aggregateKind:r,selectIdx:i};o&&(U.aggregate=o)}},t.prototype.getAggregateKind=function(e){return e.Average?6:e.Max?2:e.Min?3:e.Median?8:e.Percentile?7:void 0},t.prototype.createColumns=function(e,r){var a=e.length,i=this.createMetadataColumn(r);e.push(i);var o=this.selects[r],s=o.Kind,p=this.calcInfo;p[o.Value]={kind:s,columnIndex:a,selectIdx:r,calcKind:1};var x=o.Synchronized;if(x&&(n.fF.assert(function(){return s===Qt.Group},"Synchronization Auxiliary Select is expected only for Grouping Selects"),n.fF.assertValue(x.Value,"Synchronization Auxiliary Select must have a Value"),n.fF.assertValue(x.GroupKeys,"Synchronization Auxiliary Select must have GroupKeys"),p[x.Value]={kind:s,columnIndex:a,selectIdx:r,calcKind:1},p[o.Value].isSynchronized=!0),o.Subtotal){n.fF.assert(function(){return s===Qt.Measure},"Subtotal SelectKind");for(var U=0,K=o.Subtotal;U<K.length;U++)p[ue=K[U]]={columnIndex:a,kind:s,selectIdx:r,calcKind:2}}if(o.Highlight){n.fF.assert(function(){return s===Qt.Measure},"Highlight SelectKind");var ye=o.Highlight.Value;ye&&(p[ye]={columnIndex:a,kind:s,selectIdx:r,calcKind:3});var _e=o.Highlight.Subtotal;if(_e)for(var Ie=0,Re=_e;Ie<Re.length;Ie++)p[ue=Re[Ie]]={columnIndex:a,kind:s,selectIdx:r,calcKind:9}}if(this.scopedAggregatesEnabled){if(!_.isEmpty(o.Aggregates))for(var $e=0,st=o.Aggregates;$e<st.length;$e++)if((ht=st[$e]).Aggregate.Scope)for(var Lt=0,_t=ht.Ids;Lt<_t.length;Lt++)p[_t[Lt]]={columnIndex:a,kind:s,selectIdx:r,calcKind:7};var Et=o.Highlight;if(Et&&!_.isEmpty(Et.Aggregates))for(var Ut=0,qt=Et.Aggregates;Ut<qt.length;Ut++){var ht;if((ht=qt[Ut]).Aggregate.Scope)for(var ar=0,or=ht.Ids;ar<or.length;ar++)p[or[ar]]={columnIndex:a,kind:s,selectIdx:r,calcKind:8}}}var fr=this.tryCreateDynamicFormatColumnMetadata(r,i);if(fr){n.fF.assert(function(){return s===Qt.Measure},"Dynamic Format SelectKind");var Vr=a+1;if(e.push(fr),p[o.DynamicFormat.Format]={columnIndex:Vr,kind:Qt.Measure,selectIdx:r,calcKind:4},o.SubtotalDynamicFormat)for(var ra=0,Na=o.SubtotalDynamicFormat;ra<Na.length;ra++){var ue,aa=(ue=Na[ra])&&ue.Format;aa&&(p[aa]={columnIndex:Vr,kind:Qt.Measure,selectIdx:r,calcKind:5})}var Or=o.Highlight&&o.Highlight.DynamicFormat&&o.Highlight.DynamicFormat.Format;Or&&(p[Or]={columnIndex:Vr,kind:Qt.Measure,selectIdx:r,calcKind:6})}return{column:i,columnIdx:a,dynamicFormatColumn:fr}},t.prototype.createMetadataColumn=function(e){var r=this.selects[e],a={displayName:"",index:e};r.Format&&(a.format=r.Format),a.type=pt.describeDataType(r.Type,r.DataCategory),r.Kind===Qt.Measure&&(a.isMeasure=!0);var i=r.GroupKeys;if(i)for(var o=a.identityExprs=new Array(i.length),s=0;s<i.length;s++)o[s]=$t(i[s],e,this.selects);return a},t.prototype.tryCreateDynamicFormatColumnMetadata=function(e,r){var a=this.selects[e];if(a.DynamicFormat&&a.DynamicFormat.Format){var i={displayName:"",isMeasure:!0};return r.formatSource={formatString:i},i}},t.prototype.createScopedAggregateMetadata=function(){for(var e=this.selects,a=this.selectIndexToColumn,i=0,o=e.length;i<o;i++){var s=e[i];if(s){var p=s.Aggregates,x=a[i];if(!_.isEmpty(p))for(var U=0,K=p;U<K.length;U++)this.createScopedAggregateCalcMetadata(K[U],x);var ye=s.Highlight;if(ye&&!_.isEmpty(ye.Aggregates))for(var Ie=0,Re=ye.Aggregates;Ie<Re.length;Ie++)this.createScopedAggregateCalcMetadata(Re[Ie],x)}}},t.prototype.createScopedAggregateCalcMetadata=function(e,r){var a=e.Aggregate,i=a.Scope;if(i){var o=this.selectIndexToColumn,s=i.PrimaryDepth;n.fF.assert(function(){return void 0===i.SecondaryDepth},"Scoped Aggregates not supports secondary depth for now.");for(var p=new Array(s),x=this.primaryAxisGroupings,U=0,K=0;K<s;K++)for(var ye=0,_e=x[K].Keys;ye<_e.length;ye++){var Re=_e[ye].Select;n.fF.assertValue(Re,"select");var $e=o[Re];n.fF.assertValue($e,"inputScopeColumn"),p[U++]=$e}for(var st={column:r,inputScope:p,respectInstanceFilters:a.RespectInstanceFilters},Lt=this.calcInfo,_t=0,Nt=e.Ids;_t<Nt.length;_t++){var jt=Lt[Nt[_t]];n.fF.assertValue(jt,"aggregateCalcInfo"),jt.scopedAggregateCalcMetadata={metadata:st,aggregateKind:this.getAggregateKind(a)}}}},t.prototype.fillDataShapeScopeAggregateValues=function(){var e=this.dataShapeParser;if(e){var r=this.calcInfo;e.reset();var a=e.next();n.fF.assert(function(){return a},"There must be a DataShape");for(var i=function(){var s=r[e.calcId()];if(!s||!s.scopedAggregateCalcMetadata)return"continue";var p=s.scopedAggregateCalcMetadata,x=p.metadata,U=x.column,K=x.inputScope,ue=x.respectInstanceFilters,ye={inputScope:K,respectInstanceFilters:ue,values:{},highlight:{}};if(U.scopedAggregates){var _e=_.find(U.scopedAggregates,function($e){return t.sameScopedAggregatesInputScope($e.inputScope,K)&&$e.respectInstanceFilters===ue});_e?ye=_e:U.scopedAggregates.push(ye)}else U.scopedAggregates=[ye];var Ie=void 0;switch(s.calcKind){case 7:Ie=ye.values;break;case 8:Ie=ye.highlight;break;default:n.fF.assertFail("Invalid CalcKind.")}var Re=e.calcValue();switch(p.aggregateKind){case 3:Ie.min=Re;break;case 2:Ie.max=Re;break;case 6:Ie.avg=Re;break;default:n.fF.assertFail("Invalid scoped aggregate function.")}};e.nextCalc();)i()}},t.sameScopedAggregatesInputScope=function(e,r){if(e===r)return!0;if(e.length!==r.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==r[a])return!1;return!0},t}(),Ca=function(){function t(e,r,a,i){this.context=e,this.dsrParser=r,this.metadata=a,n.fF.assertValue(e,"context"),n.fF.assertValue(r,"dsrParser"),n.fF.assertValue(a,"metadata"),n.fF.assertNonEmpty(a.columns,"metadata.columns"),this.aggregator=new yt(e),this.scopedAggregatesEnabled=i}return t.prototype.run=function(){var e=this,r=this.aggregator,a=this.dsrParser;a.reset();var i=a.dataShapes();this.calcInfoCache={};var o=i.next();n.fF.assert(function(){return o},"There must be a DataShape"),this.createHierarchiesLevels(),this.readValueSources(i),n.fF.assert(function(){return e.context.maxPrimaryDepth>0||!_.isEmpty(e.context.measureSelectIndices)},"DSR is not compatible with Matrix"),r.read(i,1===this.context.maxPrimaryDepth&&0===this.context.maxSecondaryDepth);var s=i.secondaryHierarchy(),p=this.readHierarchy(1,s,i),x=i.primaryHierarchy(),U=this.readHierarchy(0,x,i);return r.copyToColumns(),{rows:U,columns:p,valueSources:this.valueSources}},t.prototype.createHierarchiesLevels=function(){var e=this.context.selects,r=this.context.maxPrimaryDepth,a=this.context.maxSecondaryDepth;this.primaryHierarchyLevels=new Array(r),this.secondaryHierarchyLevels=new Array(a);for(var i=0;i<r;i++)this.primaryHierarchyLevels[i]={sources:[]};for(i=0;i<a;i++)this.secondaryHierarchyLevels[i]={sources:[]};var o=this.metadata.columns,s=o.length,p=this.columnIndexToZoneIndex=new Array(s);for(i=0;i<s;i++){var x=o[i],U=x.index;if(null!=U){var K=e[U],ue=void 0;K.Kind===Qt.Group&&(null!=K.Depth?ue=this.primaryHierarchyLevels[K.Depth].sources:null!=K.SecondaryDepth&&(ue=this.secondaryHierarchyLevels[K.SecondaryDepth].sources),n.fF.assertValue(ue,"Grouping Select not belonging to either Hierarchy"),p[i]=ue.length,ue.push(x))}}},t.prototype.readHierarchy=function(e,r,a){var i,o,s=this.valueSources.length;switch(e){case 0:if(o=this.context.maxPrimaryDepth,!(i=this.context.primaryAxisGroupings))return n.fF.assert(function(){return 0===o},"No primary groupings"),n.fF.assert(function(){return s>0},"Matrix without groups needs at least a measure"),this.createRowHierarchyForNoGroupings(r);break;case 1:if(o=this.context.maxSecondaryDepth,!(i=this.context.secondaryAxisGroupings))return n.fF.assert(function(){return 0===o},"No secondary groupings"),0===s?{levels:[],root:{children:[]}}:this.createColumnHierarchyForNoGroupings();break;default:n.fF.assertFail("Unexpected DataShapeHierarchy")}n.fF.assert(function(){return o===_.size(i)},"Groupings-Hierarchy mismatch");var p={levels:0===e?this.primaryHierarchyLevels:this.secondaryHierarchyLevels,root:{}};1===e&&s>1&&p.levels.push(this.createColumnHierarchyMeasuresLevel());var x=this.context.primarySynchronizedGroups;0===e&&x&&this.readRowsSynchronizedGroups(x,p,a);var U=this.context;return this.readNodeChildren(U,U.calcInfo,this.columnIndexToZoneIndex,U.dataMemberIdToIdentityBuilder,U.dataMemberIdToMetadata,p.root,r,0,e,s,this.context.maxSecondaryDepth,p.levels),!_.isEmpty(p.root.children)&&!_.isEmpty(p.synchronizedGroups)&&this.ensureRowNodeSynchronization(p.root,0),p},t.prototype.readRowsSynchronizedGroups=function(e,r,a){n.fF.assertNonEmpty(e,"No Primary Synchronized Groups"),n.fF.assertValue(r,"hierarchy");var i=e.length;r.synchronizedGroups=new Array(i),this.primarySynchronizedGroupByLevel=new Array(r.levels.length);for(var o=a.nestedDataShapes(),s=function(K){var ue=e[K],ye=ue.groupings;n.fF.assert(function(){return!_.isEmpty(ye)},"Empty synchronized group");var _e=o[ue.dataShapeId];n.fF.assertValue(_e,"no dataShapeParser for a SynchronizedGroup");var Ie=_e.next();n.fF.assert(function(){return Ie},"Nested DataShape not found");var Re=_e.primaryHierarchy();n.fF.assertValue(Re,"Nested DataShape of a Synchronized Group has no Primary Hierarchy");for(var $e=r.synchronizedGroups[K]={levels:new Array,root:{}},st=0;st<ye.length;st++){var ht=ye[st],Lt=$e.levels[st]=r.levels[ht];Lt.valueSources&&((r.levels[ht]=(0,Dt.ED)(Lt)).valueSources=Lt.valueSources,delete Lt.valueSources)}p.primarySynchronizedGroupByLevel[ye[0]]=$e;for(var Nt=p.metadata.columns,Et=new Array(Nt.length),jt=function(or){for(var fr=Nt[or],Vr=0,ra=$e.levels;Vr<ra.length;Vr++){var aa=_.findIndex(ra[Vr].sources,function(Or){return Or===fr});if(aa>-1){Et[or]=aa;break}}},Ut=0;Ut<Nt.length;Ut++)jt(Ut);var qt=p.context.createContextForPrimarySynchronizedGroup(ue,_e);p.readNodeChildren(qt,qt.calcInfo,Et,qt.dataMemberIdToIdentityBuilder,qt.dataMemberIdToMetadata,$e.root,Re,0,0,0,qt.maxSecondaryDepth,$e.levels,{currentIndex:0})},p=this,x=0;x<i;x++)s(x)},t.prototype.readNodeChildren=function(e,r,a,i,o,s,p,x,U,K,ue,ye,_e){if(p&&0!==p.count())for(var Ie;p.next();){var Re=p.id(),$e=o[Re];if($e){var st=2===$e.kind,ht=st&&0===x,Lt=void 0,_t=void 0;st||((Lt=i[Re])||(Lt=i[Re]=new Wt(e,Re)),_t=Lt.getIdentityFields());var Nt=p.instances();if(!Nt||0===Nt.count())continue;_t&&(s.childIdentityFields=_t),Ie||(Ie=s.children=[]);var Et=this.calcInfoCache[Re];for(null==Et&&(Et=this.calcInfoCache[Re]=[]);Nt.next();){var jt=this.readNode(e,$e,i,o,r,a,Nt,x,st,ht,Et,U,K,ue,Lt,$e.restartValuesBuilder,ye,_e);Ie.push(jt),_e&&_e.currentIndex++}}}},t.prototype.readNode=function(e,r,a,i,o,s,p,x,U,K,ue,ye,_e,Ie,Re,$e,st,ht){n.fF.assert(function(){return!!Re==!U},"Unexpected IdentityBuilder"),n.fF.assert(function(){return!(U&&$e)},"Subtotal nodes should not have RestartValues");var Lt=e.aggregateCalcMetadata,_t={level:x};r.forSynchronization&&(n.fF.assertValue(ht,"undefined synchronizedGroupLeafIndex while parsing Master List"),_t.synchronizationIndex=ht.currentIndex),1===p.restartFlagKind()&&(_t.isMerge=!0),U?_t.isSubtotal=!0:Re.reset();for(var Nt=[],Et=r.isSynchronized,jt=function(Na){var aa=p.calcId(),Or=ue[Na];if(!Or){if(!(Or=o[aa]))return"continue";ue[Na]=Or}if(10===Or.calcKind){var qa=p.calcValue();return n.fF.assert(function(){return"number"==typeof qa},"Synchronization Index is expected to be a number"),_t.synchronizationIndex=qa,"continue"}var ki=Or.columnIndex;n.fF.assert(function(){return!0===Or.isGroupKeyButNotSelect==(null==ki)},"Unexpected columnIndex");var Wr=s[ki];n.fF.assert(function(){return!0===Or.isGroupKeyButNotSelect==(null==Wr)},"Unexpected zoneIndex");var si=Or.kind,Yr=void 0;if(si===Qt.Group){if(!Et){var Ui=p.calcValueAsExpr();Yr=Ui.value,Or.isGroupKeyButNotSelect||(Nt[Wr]={value:Yr,levelSourceIndex:Wr}),Re.addExpr(aa,Ui)}}else if(si===Qt.Measure){n.fF.assertValue(Or.selectIdx,"Measure Calc ".concat(aa," on DataMember instances must be related to a Select"));var rn=Ut.measuresGroupingScopeBySelectIndex[Or.selectIdx];n.fF.assertValue(rn,"Calc ".concat(aa," has an undefined grouping scope")),n.fF.assert(function(){return 0===rn.secondary},"Calc ".concat(aa," is grouped by Secondary while appearing on DataMember")),n.fF.assert(function(){return 0===ye},"Measure Calcs cannot appear on Secondary Hierarchy DataMembers");var bl,Gn=void 0;0===Ie&&rn.primary===st.length?(bl=_e,null==_t.values&&(Gn=_t.values={}),Gn=_t.values):(bl=st[x].valueSources[0].length,_t.nodeValues||(_t.nodeValues={0:{}}),Gn=_t.nodeValues[0]),n.fF.assert(function(){return Wr<bl},"Measure index out-of-bound");var Ro=Gn[Wr];Ro||(Ro=Gn[Wr]={},Wr>0&&(Ro.valueSourceIndex=Wr)),Yr=p.calcValue(),Ut.readNodeValueCalc(Ro,Yr,Or),Ut.scopedAggregatesEnabled&&Or.scopedAggregateCalcMetadata&&Ut.setScopeAggregateValue(_t,Yr,Or,st[x-1]),K&&(2===Or.calcKind||5===Or.calcKind)&&(n.fF.assertValue(e.aggregateCalcMetadata[aa],"Grand Total AggregateMetadata is undefined"),pt.fillMetadataColumnAggregate(Yr,Lt[aa]))}else n.fF.assertFail("Unexpected SelectKind");if(!Et&&Or.hasDuplicateColumnIndices)for(var Sl=0,Dd=e.calcIdToColumnIndices[aa];Sl<Dd.length;Sl++){var Cl=s[Dd[Sl]];Nt[Cl]||(Nt[Cl]={value:Yr,levelSourceIndex:Cl})}},Ut=this,qt=0;p.nextCalc();qt++)jt(qt);if(!U&&!Et){_t.levelValues=Nt,_t.value=Nt[0].value,_t.identity=Re.getIdentity();var ar=p.restartKind();ar&&(1===ar?_t.restartKind=1:2===ar?_t.restartKind=2:3===ar&&(_t.restartKind=3),_t.restartKind&&(n.fF.assertValue($e,"An instance with RestartKind must belong to a DataMember with RestartIdentity"),_t.restartValues=$e.getRestartValues(p)))}var or=p.intersections(),fr=p.members();if(or)n.fF.assert(function(){return null==fr},"non-leaf node with intersections"),this.readIntersectionsValues(o,s,_e,_t,or);else if(fr){if(n.fF.assert(function(){return null==or},"non-leaf node with intersections"),this.readNodeChildren(e,o,s,a,i,_t,fr,x+1,ye,_e,Ie,st,ht),r.isSynchronized&&!_.isEmpty(_t.children)){var Vr=_t.children[0].synchronizationIndex;void 0!==Vr&&(_t.synchronizationIndex=Vr)}}else 1===ye&&_e>1&&(x===Ie-1||_t.isSubtotal)&&this.createColumnHierarchyMeasuresNodes(_t);return _t},t.prototype.setScopeAggregateValue=function(e,r,a,i){n.fF.assertValue(e,"node"),n.fF.assert(function(){return void 0!==r},"calcValue"),n.fF.assertValue(a,"calcInfo");var p,o=a.scopedAggregateCalcMetadata,s=this.findDataViewNodeAggregates(e,o.metadata);switch(a.calcKind){case 7:p=s.values;break;case 8:p=s.highlight;break;default:n.fF.assertFail("Invalid Aggregate CalcInfo.")}switch(o.aggregateKind){case 2:p.max=r;break;case 3:p.min=r;break;case 6:p.avg=r;break;default:n.fF.assertFail("Unexpected DataViewAggregateKind.")}var x=o.metadata,U=i.aggregates;U?_.some(U,function(ue){return ue.column===x.column&&Dr.sameScopedAggregatesInputScope(ue.inputScope,x.inputScope)&&ue.respectInstanceFilters===x.respectInstanceFilters})||U.push(x):i.aggregates=[x]},t.prototype.findDataViewNodeAggregates=function(e,r){var i,a=e.aggregateValues;return a?(i=_.find(a,function(o){var s=o.metadata;return s.column===r.column&&Dr.sameScopedAggregatesInputScope(s.inputScope,r.inputScope)&&s.respectInstanceFilters===r.respectInstanceFilters}))||a.push(i={metadata:r,values:{},highlight:{}}):e.aggregateValues=[i={metadata:r,values:{},highlight:{}}],i},t.prototype.readIntersectionsValues=function(e,r,a,i,o){if(0!==a)for(var s=i.values={},p=0;o.next();){for(var x=0;x<a;x++){var U=s[a*p+x]={};x>0&&(U.valueSourceIndex=x)}for(;o.nextCalc();){var K=e[o.calcId()];if(K){var ue=r[K.columnIndex];n.fF.assertValue(ue,"Intersection calculation has no matching column index"),n.fF.assertValue(U=s[a*p+ue],"nodeValue not found"),this.readNodeValueCalc(U,o.calcValue(),K)}}p++}},t.prototype.readNodeValueCalc=function(e,r,a){switch(n.fF.assertValue(e,"nodeValue"),n.fF.assert(function(){return void 0!==r},"calcValue"),n.fF.assertValue(a,"calcInfo"),a.calcKind){case 1:case 4:e.value=r,this.aggregator.update(r,a.selectIdx);break;case 2:case 5:e.value=r;break;case 3:case 6:case 9:e.highlight=r;break;case 7:case 8:case 10:break;default:n.fF.assertNever(a.calcKind)}},t.prototype.createRowHierarchyForNoGroupings=function(e){var r={level:0,values:{}},a={levels:[],root:{children:[r]}};n.fF.assert(function(){return 1===e.count()},"DSR with no groupings should have one DataMember"),e.next();var i=e.instances();return n.fF.assertValue(i,"instancesParser"),this.readNodeForNoGroupings(r,i),a},t.prototype.readNodeForNoGroupings=function(e,r){n.fF.assert(function(){return 1===r.count()},"DSR with no groupings should have one Instance");var a=this.context.calcInfo,i=this.columnIndexToZoneIndex;r.next();for(var o=e.values={};r.nextCalc();){var p=a[r.calcId()];if(p){var x=i[p.columnIndex],U=o[x];U||(U=o[x]={},x>0&&(U.valueSourceIndex=x)),this.readNodeValueCalc(U,r.calcValue(),p)}}},t.prototype.createColumnHierarchyForNoGroupings=function(){var e=[],r={};return this.valueSources.length>0&&(e=[this.createColumnHierarchyMeasuresLevel()],this.createColumnHierarchyMeasuresNodes(r)),{levels:e,root:r}},t.prototype.createColumnHierarchyMeasuresLevel=function(){for(var e=this.valueSources.length,r=new Array(e),a=0;a<e;a++)r[a]=this.valueSources[a];return{sources:r}},t.prototype.createColumnHierarchyMeasuresNodes=function(e){for(var r=null==e.level?0:this.context.maxSecondaryDepth,a=this.valueSources.length,i=e.children=new Array(a),o=e.isSubtotal,s=0;s<a;s++){var p=i[s]={level:r};s>0&&(p.levelSourceIndex=s),o&&(p.isSubtotal=!0)}},t.prototype.readValueSources=function(e){var r=this,a=this.context,i=a.selects,o=a.measureSelectIndices,s=o.length,p=a.selectIndexToColumn,x=a.selectIndexToColumnIndex,U=this.columnIndexToZoneIndex;n.fF.assertValue(o,"measureSelectIndices"),this.valueSources=[],this.measuresGroupingScopeBySelectIndex={};var K={};if(e.calcCount()>0){for(;e.nextCalc();)K[e.calcId()]=!0;e.restartCalcs()}for(var ue=function(Re){var $e=o[Re],st=i[$e];n.fF.assert(function(){return st.Kind===Qt.Measure},"Expected a Measure Select"),n.fF.assertValue(st.Value,"Every Measure Select must have a Calc Id");var ht=x[$e],Lt=ye.measuresGroupingScopeBySelectIndex[$e]=ye.getMeasureGroupingScope(st,K[st.Value]);if(!Lt)return"continue";var _t=Lt.primary,Nt=Lt.secondary,Et=void 0;if(_t===ye.context.maxPrimaryDepth&&Nt===ye.context.maxSecondaryDepth)Et=ye.valueSources;else{n.fF.assert(function(){return 0===Nt},"Currently, Arbitrary-scoping of measures only supports suppresing projections on all Secondary"),n.fF.assert(function(){return _t<=r.primaryHierarchyLevels.length},"Arbitrary-scope cannot be more specific than inner-most scope");var jt=ye.primaryHierarchyLevels[_t-1];jt.valueSources||(jt.valueSources={0:[]}),Et=jt.valueSources[0]}var Ut=p[$e];if(n.fF.assertValue(Ut,"Measure column not found"),U[ht]=Et.length,Et.push(Ut),st.DynamicFormat&&st.DynamicFormat.Format){var qt=Ut.formatSource&&Ut.formatSource.formatString;n.fF.assertValue(qt,"DynamicFormat column not found"),U[ht+1]=Et.length,Et.push(qt)}},ye=this,_e=0;_e<s;_e++)ue(_e)},t.prototype.getMeasureGroupingScope=function(e,r){return null==e.Depth&&null==e.SecondaryDepth?r?null:{primary:this.context.maxPrimaryDepth,secondary:this.context.maxSecondaryDepth}:{primary:null!=e.Depth?e.Depth+1:0,secondary:null!=e.SecondaryDepth?e.SecondaryDepth+1:0}},t.prototype.ensureRowNodeSynchronization=function(e,r){var a=this;if(n.fF.assert(function(){return!a.isRowLeaf(e)},"Attempting to traverse Hierarchy beyond leaves"),!this.isRowLeaf(e)){var i=this.primarySynchronizedGroupByLevel[r];if(i)return void this.synchronizeNodeChildren(e,i.root);var o=e.children;n.fF.assertNonEmpty(o,"Jagged hierarcy found!");for(var s=r+1,p=0,x=o;p<x.length;p++)this.ensureRowNodeSynchronization(x[p],s)}},t.prototype.synchronizeNodeChildren=function(e,r){if(!this.isRowLeaf(e)){var a=e.level+1,i=r.children;if(_.isEmpty(i))return void this.ensureRowNodeSynchronization(e,a);var o=i.length,s=e.children||[],p=new Array(o);e.children=p;var U,K,x=0;K=null==(U=x<s.length?s[x]:void 0)?void 0:U.synchronizationIndex;for(var ue=0;ue<o;ue++){var ye=i[ue],_e=ye.synchronizationIndex,Ie=this.copyFromMasterNode(ye);Ie.level=a,p[ue]=Ie,U&&K===_e?(n.fF.assert(function(){return U.level===a},"A child node's level must come immediately after its parents level"),this.copyFromExistingNode(U,Ie),this.synchronizeNodeChildren(Ie,ye),x++,K=null==(U=x<s.length?s[x]:void 0)?void 0:U.synchronizationIndex):void 0===K||_e<K?this.isRowLeaf(Ie)||(Ie.children=[],this.synchronizeNodeChildren(Ie,ye)):n.fF.assertFail("Unsynchronized nodes should be a subset of master list nodes.")}}},t.prototype.copyFromMasterNode=function(e){var r={};if(r.synchronizationIndex=e.synchronizationIndex,e.identity&&(r.identity=e.identity),void 0!==e.value&&(r.value=e.value),void 0!==e.isSubtotal&&(r.isSubtotal=e.isSubtotal),e.levelValues){var a=e.levelValues.length;r.levelValues=new Array(a);for(var i=0;i<a;i++){var o=e.levelValues[i];r.levelValues[i]={value:o.value,levelSourceIndex:o.levelSourceIndex}}}return void 0!==e.restartKind&&(r.restartKind=e.restartKind),void 0!==e.restartValues&&(r.restartValues=e.restartValues),r},t.prototype.copyFromExistingNode=function(e,r){e.aggregateValues&&(r.aggregateValues=e.aggregateValues),e.values&&(r.values=e.values),e.nodeValues&&(r.nodeValues=e.nodeValues),n.fF.assert(function(){return!(_.isEmpty(e.children)&&!_.isEmpty(r.children))},"A non-leaf master node matches a leaf node"),e.children&&(r.children=e.children),e.childIdentityFields&&!r.childIdentityFields&&(r.childIdentityFields=e.childIdentityFields)},t.prototype.isRowLeaf=function(e){return!(e.level!==this.context.maxPrimaryDepth-1&&!e.isSubtotal||(n.fF.assert(function(){return _.isEmpty(e.children)},"A leaf node should not have children"),0))},t}(),gi=function(){function t(e,r){this.context=e,this.dsrParser=r,this.aggregator=new yt(e)}return t.prototype.run=function(){return this.parseSingle()},t.prototype.parseSingle=function(){var e=this.dsrParser;e.reset();var r=e.dataShapes(),a=r.next();return n.fF.assert(function(){return a},"There must be a DataShape"),this.aggregator.read(r,!1),this.aggregator.copyToColumns(),0===this.context.maxPrimaryDepth?this.parseMeasureValue(r.primaryHierarchy()):this.parseSubtotal(r.primaryHierarchy())},t.prototype.parseMeasureValue=function(e){for(n.fF.assert(function(){return 1===e.count()},"call parseMeasureValue only when there's one datamember with no grouping");e.next();)return this.parseInstance(e.instances())},t.prototype.parseSubtotal=function(e){for(;e.next();)if(2===this.context.dataMemberIdToMetadata[e.id()].kind)return this.parseInstance(e.instances())},t.prototype.parseInstance=function(e){for(var i,o,r=this.context,a=r.calcInfo;e.next();)for(;e.nextCalc();){var s=e.calcId(),p=a[s];if(p){var x=p.calcKind,U=2===x;(1===x||U)&&(i=e.calcValue(),o=p.selectIdx,U&&(n.fF.assertValue(r.aggregateCalcMetadata[s],"AggregateCalcMetadata for calc must exist."),pt.fillMetadataColumnAggregate(i,r.aggregateCalcMetadata[s])))}}if(void 0!==i)return{column:r.selectIndexToColumn[o],value:i}},t.isCompatible=function(e){return 0===e.maxSecondaryDepth&&1===e.measureSelectIndices.length},t}(),Wi=function(){function t(e,r,a){this.context=e,this.dsrParser=r,this.metadata=a,n.fF.assertValue(e,"context"),n.fF.assertValue(r,"dsrParser"),n.fF.assertValue(a,"metadata"),this.aggregator=new yt(e)}return t.prototype.run=function(){if(this.isCompatible()){var r={columns:this.metadata.columns},a=this.dsrParser;a.reset();var i=a.dataShapes(),o=i.next();n.fF.assert(function(){return o},"There must be a DataShape");var s=this.aggregator;s.read(i);var p=i.primaryHierarchy();return 1===this.context.maxPrimaryDepth?this.readRows(r,p):0===this.context.maxPrimaryDepth?this.readRowWithoutGrouping(r,p):n.fF.assert(function(){return!1},"Upsupported maxPrimaryDepth value"),s.copyToColumns(),r}},t.prototype.readRows=function(e,r){var i,s,a=this.context,o=this.getRowCellsCount(r);for(r.reset();r.next();){var p=r.id(),x=a.dataMemberIdToMetadata[p];if(x){var U=x.kind,K=r.instances(),ue=[];if(1===U){var ye=a.dataMemberIdToIdentityBuilder[p];ye||(ye=a.dataMemberIdToIdentityBuilder[p]=new Wt(a,p));var _e=x.axisGrouping,Ie=K.count();i=new Array(Ie);for(var Re=new Array(Ie),$e=0;K.next();$e++)1===K.restartFlagKind()&&(s=$e),ye.reset(),i[$e]=this.readRow(K,_e,ue,o,ye,!1),Re[$e]=ye.getIdentity();_.isEmpty(Re)||(e.identity=Re),e.identityFields=ye.getIdentityFields()}else if(2===U){if(0===o)continue;for(;K.next();){n.fF.assert(function(){return null==e.totals},"Totals can only be assigned once.");var st=this.readRow(K,null,ue,o,null,!0),ht=st.length;for($e=0;$e<ht;$e++)void 0===st[$e]&&(st[$e]=null);e.totals=st}}else n.fF.assert(function(){return!1},"Unsupported DataMemberKind");e.rows=i,void 0!==s&&(e.lastMergeIndex=s)}}},t.prototype.readRow=function(e,r,a,i,o,s){var U,p=this.aggregator,x=new Array(i),K=0===a.length;K&&r&&(n.fF.assert(function(){return e.calcCount()>0},"No DataShape with a single primary DataMember should ever have a DataMember instance with no calculations."),U=this.createCalcIdToGroupingIdentityIndexMap(r),a.length=e.calcCount());for(var ue=this.context,ye=ue.aggregateCalcMetadata,_e=0;e.nextCalc();_e++){var Ie=e.calcId();if(K){var Re=U&&U[Ie],$e=ue.calcInfo[Ie],st=$e&&$e.columnIndex;$e&&(3===$e.calcKind||6===$e.calcKind||9===$e.calcKind)&&(st=null),a[_e]={axisGroupingIndex:Re,columnIndex:st,hasDuplicateColumnIndices:$e&&$e.hasDuplicateColumnIndices,isGroupKeyOnly:null!=Re&&null==st,selectIndex:$e&&$e.selectIdx,aggregateMetadata:ye[Ie]}}var Lt=a[_e];if(null!=Lt.columnIndex){var _t=e.calcValue();if(x[Lt.columnIndex]=_t,s?pt.fillMetadataColumnAggregate(_t,Lt.aggregateMetadata):p.update(_t,Lt.selectIndex),Lt.hasDuplicateColumnIndices)for(var Nt=0,Et=ue.calcIdToColumnIndices[Ie];Nt<Et.length;Nt++){var jt=Et[Nt];void 0===x[jt]&&(x[jt]=_t)}}o&&o.addExpr(Ie,e.calcValueAsExpr())}return x},t.prototype.readRowWithoutGrouping=function(e,r){if(n.fF.assert(function(){return r.count()<=1},"There must be maximum one DataMember, because SubTotalMember are not supported without grouping."),r.next()){var a=r.instances(),i=[];if(n.fF.assert(function(){return a.count()<=1},"There must be maximum one DataMemberInstance since there is no grouping."),a.next()){for(var o=[];a.nextCalc();){var s=a.calcId(),p=this.context.calcInfo[s];p&&3!==p.calcKind&&(o[p.columnIndex]=a.calcValue())}i.push(o)}e.rows=i}},t.prototype.getRowCellsCount=function(e){for(e.reset();e.next();){var r=e.id(),a=this.context.dataMemberIdToMetadata[r];if(a&&1===a.kind){var i=e.instances();if(i.next()){for(var o=0;i.nextCalc();){var s=i.calcId(),p=this.context.calcInfo[s];p&&(1===p.calcKind||2===p.calcKind)&&(p.hasDuplicateColumnIndices?o+=_.size(this.context.calcIdToColumnIndices[s]):o++)}return o}}}return 0},t.prototype.createCalcIdToGroupingIdentityIndexMap=function(e){for(var r={},a=e.Keys,i=this.context.selects,o=a.length,s=0;s<o;s++){var p=a[s];r[p.Calc||i[p.Select].Value]=s}return r},t.prototype.isCompatible=function(){var e=this.context;return 0===e.maxSecondaryDepth&&e.maxPrimaryDepth<=1},t}(),Cn=function(){function t(e,r){this.context=e,this.dsrParser=r,this.calcIndexToCalcMetadataDictionary={},this.aggregator=new yt(e)}return t.prototype.run=function(){if(this.isCompatible()){var e={};return this.parseTree(e),{root:e}}},t.prototype.parseTree=function(e){var r=this.dsrParser;r.reset();var a=r.dataShapes(),i=a.next();n.fF.assert(function(){return i},"There must be a DataShape");var o=this.context.maxPrimaryDepth;this.aggregator.read(a,1===o),0===o?this.parseDataMembersWithNoGrouping(e,a.primaryHierarchy()):this.parseDataMembers(e,a.primaryHierarchy(),0),this.parseAggregates(e)},t.prototype.parseDataMembers=function(e,r,a){for(;r.next();){var i=this.context,o=r.id(),s=i.dataMemberIdToMetadata[o];if(s){var p=r.instances(),x=this.calcIndexToCalcMetadataDictionary[o];switch(x||(this.calcIndexToCalcMetadataDictionary[o]=x=[]),s.kind){case 1:var U=i.dataMemberIdToIdentityBuilder[o];U||(U=new Wt(i,o),i.dataMemberIdToIdentityBuilder[o]=U);var K=U.getIdentityFields();K&&(e.childIdentityFields=K),this.parseInstances(e,p,x,U,!1,a);break;case 2:this.parseInstances(e,p,x,null,!0,a);break;default:n.fF.assert(function(){return!1},"Unsupported DataMemberKind")}}}},t.prototype.parseInstances=function(e,r,a,i,o,s){var p=this.context,x=this.aggregator,U=p.aggregateCalcMetadata,K=e.children;for(o||(n.fF.assertValue(i,"identityBuilder"),!K&&r.count()>0&&(K=e.children=new Array(r.count())));r.next();){var ue=void 0,ye=void 0,_e=void 0;o||i.reset();var Ie=0===a.length;Ie&&(a.length=r.calcCount());for(var Re=function(Nt){o&&(ue=e.values),ue||(ue={});var Et=r.calcId();Ie&&(a[Nt]=p.calcInfo[Et]);var Ut=a[Nt];if(!Ut)return"continue";var qt=r.calcValue(),ar=Ut.calcKind,or=Ut.kind,fr=Ut.selectIdx;if(o)n.fF.assert(function(){return or!==Qt.Group},"subtotal cannot be of grouping kind."),$e.addTreeNodeMeasureValues(ue,fr,ar,qt),0===s&&pt.fillMetadataColumnAggregate(qt,U[Et]);else{var Vr=Ut.isGroupKeyButNotSelect;Vr||$e.addTreeNodeMeasureValues(ue,fr,ar,qt),or===Qt.Group?(Vr||(_e=qt),i.addExpr(Et,r.calcValueAsExpr())):or===Qt.Measure&&1===ar&&(ye=qt,n.fF.assertValue(fr,"selectIndex"),x.update(qt,fr))}},$e=this,st=0;r.nextCalc();st++)Re(st);if(o)e.values=ue,1===r.restartFlagKind()&&(e.isMerge=!0);else{var ht={values:ue,identity:i.getIdentity()};void 0!==_e&&(ht.name=_e),void 0!==ye&&(ht.value=ye),1===r.restartFlagKind()&&(ht.isMerge=!0);var Lt=r.members();Lt&&this.parseDataMembers(ht,Lt,s+1),K[r.currentIndex()]=ht}}},t.prototype.addTreeNodeMeasureValues=function(e,r,a,i){n.fF.assertValue(r,"selectIndex");var o=e[r];switch(!o&&this.isSupportedMeasureType(a)&&(o=e[r]={}),a){case 1:o.value=i;break;case 2:o.subtotal=i;break;case 3:o.highlight=i}},t.prototype.isSupportedMeasureType=function(e){return 1===e||2===e||3===e},t.prototype.parseDataMembersWithNoGrouping=function(e,r){n.fF.assert(function(){return 1===r.count()},"There can only be one datamember with no grouping"),r.next();var a=r.instances();n.fF.assert(function(){return 1===a.count()},"There can only be one instance for datamember with no grouping"),a.next();for(var i,o=this.context.calcInfo;a.nextCalc();){e.values||(e.values=i={});var s=o[a.calcId()];if(s){var p=s.calcKind,x=a.calcValue();this.addTreeNodeMeasureValues(i,s.selectIdx,p,x),1===p&&(e.value=x)}}},t.prototype.isCompatible=function(){return 0===_.size(this.context.secondaryAxisGroupings)},t.prototype.parseAggregates=function(e){var r=this.context;this.aggregator.copyToColumns();for(var a=r.measureSelectIndices,i=a.length,o=0;o<i;o++){var s=a[o],p=r.selectIndexToColumn[s].aggregates,x=e.values;if(p){x||(x=e.values={});var U=x[s];U||(U=x[s]={}),pt.copyAggregates(p,U)}}},t}(),Ua=ke(1190),Za=function(){function t(e,r,a){n.fF.assertValue(e,"queryBindingDescriptor"),n.fF.assert(function(){return r&&r.length>0},"Expected a non-empty array of exceeded limits."),this.computeMetadata(e,a,r)}return Object.defineProperty(t.prototype,"code",{get:function(){return"DsrLimitsWarning"},enumerable:!1,configurable:!0}),t.prototype.computeMetadata=function(e,r,a){if(this.limits={},e.Limits){var i=t.getExceededLimitsDetails(e,a),o=e.Limits,s=!!i.Primary,p=!!i.Secondary,x=!!i.Intersection;if(e.ScriptVisualBinding)return void(this.hasScriptVisualBinding=!0);var U=e.Expressions&&e.Expressions.Primary&&e.Expressions.Primary.Groupings?e.Expressions.Primary.Groupings:[],K=e.Expressions&&e.Expressions.Secondary&&e.Expressions.Secondary.Groupings?e.Expressions.Secondary.Groupings:[];s&&p?(this.groupings=U.concat(K),this.limits.Primary=t.getLimitMetadata(o.Primary,r),this.limits.Secondary=t.getLimitMetadata(o.Secondary,r)):s?(this.groupings=U,this.limits.Primary=t.getLimitMetadata(o.Primary,r)):p&&(this.groupings=K,this.limits.Secondary=t.getLimitMetadata(o.Secondary,r)),x&&(this.limits.Intersection=t.getLimitMetadata(o.Intersection,r))}},t.prototype.getDetails=function(e){var r=!!this.limits.Primary,a=!!this.limits.Secondary,i=null,o=-1;return this.hasScriptVisualBinding?i=e.get("DsrLimitWarning_TooMuchDataValMultipleColumns"):r||a?r&&a?(o=this.limits.Primary.Type,i=this.getErrorInfoValue(this.groupings,e.get("DsrLimitsWarning_MultipleColumnsWithIssuesFormat"),e)):i=this.getErrorInfoValue(this.groupings,t.getDetailedMessageFormatForOneColumn(o=r?this.limits.Primary.Type:this.limits.Secondary.Type,e),e):this.limits.Intersection&&(i=t.getDetailedMessageFormatForOneColumn(o=this.limits.Intersection.Type,e)),i||(i=e.get("DsrLimitWarning_TooMuchDataValMultipleColumns")),{message:t.getMessage(o,e),displayableErrorInfo:[{errorInfoKey:t.getKey(o,e),errorInfoValue:i}],helpLink:t.getHelpLink(o)}},t.getExceededLimitsDetails=function(e,r){for(var a=e.Limits,i={},o=0,s=r;o<s.length;o++){var p=s[o];a.Primary&&p.Id===a.Primary.Id?i.Primary=a.Primary:a.Secondary&&p.Id===a.Secondary.Id?i.Secondary=a.Secondary:a.Intersection&&p.Id===a.Intersection.Id&&(i.Intersection=a.Intersection)}return i},t.prototype.getErrorInfoValue=function(e,r,a){if(!e||0===e.length)return null;for(var i=[],o=0,s=e.length;o<s;o++){var x=this.getGroupingNameFromGroupingKeys(e[o]);x&&i.push(x)}var U,K=i.length;return 0===K?null:(U=1===K?i[0]:i.join(a.get("ListJoin_Separator")),(0,Ua.W)(r,U))},t.prototype.getGroupingNameFromGroupingKeys=function(e){for(var r=e.Keys,a=0,i=r.length;a<i;a++){var o=r[a];if(null!=o.Select)return this.columnNameFromIndex?this.columnNameFromIndex(o.Select):void 0}},t.getMessage=function(e,r){switch(e){case 2:return r.get("DsrLimitWarning_RepresentativeSampleMessage");case 3:case 4:return r.get("DsrLimitWarning_HighDensitySampleMessage");default:return r.get("DsrLimitWarning_TooMuchDataMessage")}},t.getKey=function(e,r){switch(e){case 2:return r.get("DsrLimitWarning_RepresentativeSampleKey");case 3:case 4:return r.get("DsrLimitWarning_HighDensitySampleKey");default:return r.get("DsrLimitWarning_TooMuchDataKey")}},t.getDetailedMessageFormatForOneColumn=function(e,r){switch(e){case 2:return r.get("DsrLimitWarning_RepresentativeSampleVal");case 3:return r.get("DsrLimitWarning_HighDensitySampleVal");case 4:return r.get("DsrLimitWarning_OverlappingPointsDetails");default:return r.get("DsrLimitWarning_TooMuchDataVal")}},t.getHelpLink=function(e){switch(e){case 3:return"https://go.microsoft.com/fwlink/?linkid=848757";case 4:return"https://go.microsoft.com/fwlink/?linkid=853820"}},t.getLimitMetadata=function(e,r){return e.Top?{Type:0,Count:t.getLimitCount(e.Top,r)}:e.Bottom?{Type:1,Count:t.getLimitCount(e.Bottom,r)}:e.Sample?{Type:2,Count:t.getLimitCount(e.Sample,r)}:e.BinnedLineSample?{Type:3,Count:t.getBinnedLineSampleCount(e.BinnedLineSample)}:e.OverlappingPointsSample?{Type:4,Count:t.getLimitCount(e.OverlappingPointsSample,r)}:{Type:-1,Count:null}},t.getLimitCount=function(e,r){if(e.Calc&&r){var a=pt.findCalculation(r,e.Calc);if(a){var i=ge(a.Value);if(_.isNumber(i))return i}}return e.Count},t.getBinnedLineSampleCount=function(e){return e.MaxTargetPointCount},t}();function Te(t){if(0===t)return"Warning"}var at={"ForecastErrorType.DataIsTooSmall":{localizedMessage:"DsrMessage_NotEnoughDataMessage",localizedTitle:"DsrMessage_NotEnoughDataTitle",localizedContent:"DsrMessage_NotEnoughDataContent",isTransformMessage:!0},"ForecastErrorType.TooManyMissingValues":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.NoDominantStepDetected":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.InputTimeStampsNotSorted":{localizedMessage:"DsrMessage_UnsortedDataMessage",localizedTitle:"DsrMessage_UnsortedDataTitle",localizedContent:"DsrMessage_UnsortedDataContent",isTransformMessage:!0},"ForecastErrorType.XAxisIsNull":{localizedMessage:"DsrMessage_ForecastXValueNullMessage",localizedTitle:"DsrMessage_ForecastXValueNullTitle",localizedContent:"DsrMessage_ForecastXValueNullContent",isTransformMessage:!0},"ForecastErrorType.InvalidSeasonality":{localizedMessage:"DsrMessage_ForecastInvalidSeasonalityMessage",localizedTitle:"DsrMessage_ForecastInvalidSeasonalityTitle",localizedContent:"DsrMessage_ForecastInvalidSeasonalityContent",isTransformMessage:!0},"ForecastErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ForecastVariantDataTypeMessage",localizedTitle:"DsrMessage_ForecastVariantDataTypeTitle",localizedContent:"DsrMessage_ForecastVariantDataTypeContent",isTransformMessage:!0},"ForecastErrorType.Unexpected":{localizedMessage:"DsrMessage_ForecastErrorMessage",localizedTitle:"DsrMessage_ForecastErrorTitle",localizedContent:"DsrMessage_ForecastErrorContent",isTransformMessage:!0},ForecastTransformUnsupported:{localizedMessage:"DsrMessage_ForecastNotSupportedMessage",localizedTitle:"DsrMessage_ForecastNotSupportedTitle",localizedContent:"DsrMessage_ForecastNotSupportedContent",isTransformMessage:!0},"ClusteringErrorType.LessThanKDataPoints":{localizedMessage:"DsrMessage_ClusterTooManyClustersTitle",localizedTitle:"DsrMessage_ClusterTooManyClustersTitle",localizedContent:"DsrMessage_ClusterTooManyClustersContent",isTransformMessage:!0},"ClusteringErrorType.TooManyDataPoints":{localizedMessage:"DsrMessage_ClusterExceedsLimitTitle",localizedTitle:"DsrMessage_ClusterExceedsLimitTitle",localizedContent:"DsrMessage_ClusterExceedsLimitContent",isTransformMessage:!0},"ClusteringErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ClusterVariantDataTypeTitle",localizedTitle:"DsrMessage_ClusterVariantDataTypeTitle",localizedContent:"DsrMessage_ClusterVariantDataTypeContent",isTransformMessage:!0}},dt=function(){function t(e){this.dataShapeMessage=e}return Object.defineProperty(t.prototype,"code",{get:function(){return this.dataShapeMessage.Code},enumerable:!1,configurable:!0}),t.prototype.getDetails=function(e){var r=at[this.dataShapeMessage.Code];return n.fF.assertValue(r,"message to show should be a known message"),{message:e.get(r.localizedMessage),displayableErrorInfo:[{errorInfoKey:e.get(r.localizedTitle),errorInfoValue:e.get(r.localizedContent)}]}},t.prototype.isTransformMessage=function(){var e=at[this.code];return e&&e.isTransformMessage},t}();function Ct(t,e){for(var r=[],a={},i=0,o=t;i<o.length;i++){var s=o[i],p={id:s.Id,name:s.Name,component:s.Component,pageHidden:void 0,start:Ve(s.Start).valueOf(),end:s.End?Ve(s.End).valueOf():void 0,metrics:s.Metrics,status:1,rootId:e,parentId:s.ParentId};s.ParentId?(a[s.ParentId]||(a[s.ParentId]=[]),a[s.ParentId].push(p)):r.push(p)}return It(r,a),r}function It(t,e){for(var r=0,a=t;r<a.length;r++){var i=a[r];e[i.id]&&(i.children=e[i.id],It(i.children,e))}}var Rt=function(){function t(e){this.elements=e,this.currentIndex=-1}return t.prototype.reset=function(e){var r=this;this.currentIndex=-1,e&&(n.fF.assert(function(){return r.elements!==e},"Resetting with same elements"),this.elements=e)},t.prototype.count=function(){return _.size(this.elements)},t.prototype.current=function(){var e=this;return n.fF.assert(function(){return e.currentIndex>=0},"Invalid Iterator index"),this.elements[this.currentIndex]},t.prototype.done=function(){return this.currentIndex===_.size(this.elements)-1},t.prototype.next=function(){return!this.done()&&(this.currentIndex++,!0)},t.prototype.index=function(){return this.currentIndex},t}();function kt(t,e){return new wt(t,e)}var wt=function(){function t(e,r){this.dsrParserContext=r,n.fF.assertValue(e,"dsr"),n.fF.assertAnyValue(r,"dsrParserContext"),this.parser=new Jt(e.DS,this.dsrParserContext)}return t.prototype.dataShapes=function(){return this.parser},t.prototype.reset=function(){this.parser.reset()},t.prototype.lockCache=function(){this.dsrParserContext.locked||(this.dsrParserContext.locked=!0)},t}(),Yt=function(){function t(e){this.calculationContainerKind=e,this.nullValuesHandler=new _r,this.repeatedValuesHandler=new qr}return t.prototype.initialize=function(e,r){this.lastContainerCalculations=r,this.repeatedValuesHandler.initialize(e&&e.R,r),this.nullValuesHandler.initialize(e&&e.\u00d8)},t.prototype.getCurrentCalc=function(e,r,a,i){var s,o=this;return n.fF.assert(function(){return e>=0},"unexpected position input"),a?void 0!==(s=this.repeatedValuesHandler.tryRead(e))?s:void 0!==(s=this.nullValuesHandler.tryRead(e))?(this.lastContainerCalculations[e]=null,s):(r?r.next()&&(s=r.current(),this.lastContainerCalculations[e]=s):(n.fF.assert(function(){return!!i},"Unexpected calcId"),void 0===(s=a[i])&&(s=null),this.lastContainerCalculations[e]=s),s):(n.fF.assert(function(){return 3===o.calculationContainerKind},"Unexpected Empty DataShape/DataMemberInstance as calc container"),null)},t}(),Gt=function(){function t(e,r,a){this.context=e,this.calcMetadataCacheKey=a,this.baseCalculationParser=new Yt(r)}return t.prototype.setCalculations=function(e){n.fF.assertAnyValue(e,"calculationContainerParser:setCalculation calculationContainer can be any value"),this.calculationContainer=e;var r=this.context;if(r){var a=this.calcMetadataCacheKey,i=e.S;i&&(this.metadata=i,a&&!r.locked&&(r.memberInstanceCalcMetadataCache[a]=i),this.lastContainerCalculations||(this.lastContainerCalculations=new Array(i.length))),r.instancesCalcCache[a]&&(this.lastContainerCalculations=r.instancesCalcCache[a]),this.baseCalculationParser.initialize(e,this.lastContainerCalculations);var o=e.C;(i=this.getCalcMetadata())?this.calcMetadataIt=new Rt(i):this.calcMetadataIt&&this.calcMetadataIt.reset(),this.calcIt=_.size(o)>0?new Rt(o):void 0}},t.prototype.restartCalcs=function(){n.fF.assertValue(this.calcMetadataIt,"restartCalcs called before setCalculations"),n.fF.assertAnyValue(this.calcIt,"CalcIt is created only if Calcs are not included as properties"),this.calcIt&&this.calcIt.reset(),this.calcMetadataIt.reset(),delete this.dsrCalcValue},t.prototype.nextCalc=function(){var e=!1,r=this.calcMetadataIt;return r&&((e=r.next()||e)&&(this.dsrCalcValue=this.baseCalculationParser.getCurrentCalc(r.index(),this.calcIt,this.calculationContainer,this.calcId())),r.done()&&(this.context.instancesCalcCache[this.calcMetadataCacheKey]=this.lastContainerCalculations)),e||!1},t.prototype.calcId=function(){return this.metadata[this.calcMetadataIt.index()].N},t.prototype.getCalcMetadata=function(){var e=this.metadata;return e||(e=this.metadata=this.context.memberInstanceCalcMetadataCache[this.calcMetadataCacheKey]),e},t.prototype.calcValue=function(){var e=this.metadata[this.calcMetadataIt.index()],r=this.context.valueDictionaryHandler.getCalcValue(this.dsrCalcValue,e.DN,e.T);return void 0===r&&(r=Ye(this.dsrCalcValue,e.T)),r},t.prototype.calcValueAsExpr=function(){var e=this;n.fF.assert(function(){return void 0!==e.dsrCalcValue},"Unexpected parsedCalcValue");var r=this.calcMetadataIt.current(),a=this.calcValue(),i=this.context.valueDictionaryHandler.getCalcValueExpr(a,this.dsrCalcValue,r.DN,r.T);return i||(i=it(a,this.dsrCalcValue,r.T)),i},t.prototype.calcCount=function(){return this.calcMetadataIt?this.calcMetadataIt.count():this.calcIt?this.calcIt.count():0},t}(),Jt=function(t){function e(r,a,i){var o=t.call(this,a,1)||this;return o.parserContext=a,o.rootDataShape=i,n.fF.assertValue(r,"dataShapes"),n.fF.assertAnyValue(a,"parserContext"),o.it=new Rt(r),o}return(0,ie.ZT)(e,t),e.prototype.reset=function(){this.it.reset()},e.prototype.index=function(){return this.it.index()},e.prototype.count=function(){return this.it.count()},e.prototype.next=function(){var r;this.primaryHierarchyParser=this.secondaryHierarchyParser=this.messageParser=void 0;var a=this.it.next();if(a){var i=this.it.current();this.setCalculations(i),this.context&&(this.context.valueDictionaryHandler=new de(i.ValueDicts||(null===(r=this.rootDataShape)||void 0===r?void 0:r.ValueDicts)))}return a},e.prototype.id=function(){return this.it.current().N},e.prototype.nestedDataShapes=function(){n.fF.assertValue(this.context.primarySynchronizedGroups,"Reading Nested DataShapes other than Synchronized Groups ones is currently unsupported");var r=this.it.current(),a=r.DS;if(!_.isArray(a)||a.length<1)return{};for(var i={},o=function(ue){var ye=_.find(a,function(_e){return _e.N===ue.dataShapeId});n.fF.assertValue(ye,"No DataShape with ID "+ue.dataShapeId),ye&&(i[ye.N]=new e([ye],ue.context,s.rootDataShape||r))},s=this,p=0,x=this.context.primarySynchronizedGroups;p<x.length;p++)o(x[p]);return i},e.prototype.primaryHierarchy=function(){var r=this;if(n.fF.assert(function(){return null!=r.parserContext},"Parser Context is needed to parse DataShape Hierarchy"),!this.primaryHierarchyParser&&this.parserContext){var a=this.it.current().PH;this.primaryHierarchyParser=a&&new tr(a,this.parserContext,0,0)}return this.primaryHierarchyParser},e.prototype.secondaryHierarchy=function(){var r=this;if(n.fF.assert(function(){return null!=r.parserContext},"Parser Context is needed to parse DataShape Hierarchy"),!this.secondaryHierarchyParser&&this.parserContext){var a=this.it.current().SH;this.secondaryHierarchyParser=a&&new tr(a,this.parserContext,1,0)}return this.secondaryHierarchyParser},e.prototype.messages=function(){return!this.messageParser&&_.size(this.it.current().Msg)>0&&(this.messageParser=new Sr(this.it.current().Msg)),this.messageParser},e.prototype.hasRestartTokens=function(){return _.size(this.restartTokens())>0},e.prototype.restartTokens=function(){var r=this.it.current(),a=r.DW;return _.isEmpty(a)?r.RT:(n.fF.assert(function(){return 1===a.length},"Multiple data windows are not yet handled"),a[0].RT)},e.prototype.complete=function(){var r=this.it.current(),a=r.DW;return _.isEmpty(a)?r.IC:(n.fF.assert(function(){return 1===a.length},"Multiple data windows are not yet handled"),a[0].IC)},e.prototype.hasAllData=function(){return this.it.current().HAD},e.prototype.limitsExceeded=function(){return _.size(this.it.current().DLEx)>0},e.prototype.limits=function(){return this.limitsParser||(this.limitsParser=new er(this.it.current().DLEx)),this.limitsParser},e}(Gt),er=function(){function t(e){n.fF.assertValue(e,"limits"),this.it=new Rt(e)}return t.prototype.next=function(){return this.it.next()},t.prototype.id=function(){return this.it.current().N},t.prototype.count=function(){return this.it.count()},t}(),Sr=function(){function t(e){n.fF.assertValue(e,"dataShapeMessage"),this.it=new Rt(e)}return t.prototype.next=function(){return this.it.next()},t.prototype.code=function(){return this.it.current().Code},t.prototype.severity=function(){return this.it.current().Severity},t.prototype.dsrMessage=function(){return new dt(this.it.current())},t}(),tr=function(){function t(e,r,a,i){this.context=r,this.hierarchy=a,this.depth=i,n.fF.assertValue(e,"dataMembers"),this.it=new Rt(e)}return t.prototype.count=function(){return this.it.count()},t.prototype.reset=function(){this.it.reset(),this.dataMemberId=void 0},t.prototype.next=function(){this.instancesParser&&(this.instancesParser=void 0),this.dataMemberId&&(this.dataMemberId=void 0);var e=this.it.next();if(e){var r=this.dataMemberIdCache();if(_.size(r)>0)for(var a=this.it.current(),i=0,o=r[this.depth];i<o.length;i++){var s=o[i];a[s]&&(this.dataMemberId=s)}if(void 0===this.dataMemberId){var p=Object.keys(this.it.current());1===_.size(p)?this.dataMemberId=p[0]:n.fF.assertFail("Unexpected DataMember with multiple properties. Cannot infer DataMemberId")}}return e},t.prototype.id=function(){return this.dataMemberId},t.prototype.dataMemberIdCache=function(){return 0===this.hierarchy?this.context.primaryDataMemberIdCache:this.context.secondaryDataMemberIdCache},t.prototype.instances=function(){if(!this.instancesParser){var e=this.it.current()[this.dataMemberId];this.instancesParser=e&&new dr(e,this.context,this.id(),this.hierarchy,this.depth)}return this.instancesParser},t}(),dr=function(t){function e(r,a,i,o,s){var p=t.call(this,a,2,i)||this;return p.parentDataMemberId=i,p.hierarchy=o,p.depth=s,n.fF.assertValue(r,"instances"),p.it=new Rt(r),p}return(0,ie.ZT)(e,t),e.prototype.next=function(){var r=this,a=this.it.next();if(a){var i=this.it.current();!this.context.locked&&!i.M&&1===this.hierarchy&&this.context.secondaryLeafDataMemberId.push(this.parentDataMemberId),this.setCalculations(i),this.dataMemberIt=void 0,this.intersectionParserDirty=!0,n.fF.assert(function(){return 1!==r.hierarchy||!i.Intersections},"secondary hierarchy should not have any intersections")}return a},e.prototype.count=function(){return this.it.count()},e.prototype.currentIndex=function(){return this.it.index()},e.prototype.intersections=function(){if(!this.intersectionParser){this.intersectionParserDirty=!1;var r=this.it.current().X;return this.intersectionParser=r&&new kr(r,this.context,this.parentDataMemberId)}return this.intersectionParserDirty?(this.intersectionParserDirty=!1,this.intersectionParser.reset(this.it.current().X),this.intersectionParser):this.intersectionParser},e.prototype.restartFlagKind=function(){return this.it.current().RF},e.prototype.restartKind=function(){return this.it.current().RK},e.prototype.members=function(){if(!this.dataMemberIt){var r=this.it.current().M;this.dataMemberIt=r&&new tr(r,this.context,this.hierarchy,this.depth+1)}return this.dataMemberIt},e}(Gt),kr=function(){function t(e,r,a){this.context=r,this.parentDataMemberId=a,n.fF.assertValue(e,"intersections"),this.it=new Rt(null),this.reset(e),this.baseCalculationParser=new Yt(3),this.intersectionMeasureCount=_.size(this.context.intersectionMeasureToSelectIndex),this.expectedIntersectionCount=_.size(this.context.secondaryLeafDataMemberId);var i=r.dataMemberIdToMetadata[a];this.primaryMemberIsGroupMember=1===i.kind,this.primaryDataMemberDepth=i.depth,n.fF.assertValue(r.intersectionCalcMetadataCache,"context.intersectionCalcMetadataCache"),this.calcMetadataCache=r.intersectionCalcMetadataCache[a],!this.calcMetadataCache&&!r.locked&&(this.calcMetadataCache=r.intersectionCalcMetadataCache[a]=new Array(this.expectedIntersectionCount))}return t.prototype.reset=function(e){this.it.reset(e),this.logicalIntersectionIndex=-1,this.physicalIntersectionIndex=-1,this.hasIntersectionElements=e.length>0},t.prototype.next=function(){if(this.resetCalcIt(),this.logicalIntersectionIndex++,this.logicalIntersectionIndex>=this.expectedIntersectionCount)return!1;if(this.setIntersectionId(),this.it.count()===this.expectedIntersectionCount){var e=this.it.next();return e&&this.initialize(this.it.current()),e}if(this.hasIntersectionElements){var r=void 0;if((0===this.logicalIntersectionIndex||this.physicalIntersectionIndex<this.logicalIntersectionIndex)&&this.it.next()&&((r=this.it.current()).I||0===this.logicalIntersectionIndex?this.physicalIntersectionIndex=r.I||0:this.physicalIntersectionIndex++),this.physicalIntersectionIndex===this.logicalIntersectionIndex)return r||(r=this.it.current()),this.initialize(r),!0}return this.initialize(),!0},t.prototype.setIntersectionId=function(){this.intersectionId=this.parentDataMemberId+this.context.secondaryLeafDataMemberId[this.logicalIntersectionIndex]},t.prototype.resetCalcIt=function(e){var r=e&&e.C;this.currentCalcIndex=-1,this.currentCalc=void 0,this.calcIt=r?new Rt(r):void 0},t.prototype.initialize=function(e){var r=this;if(n.fF.assert(function(){return r.logicalIntersectionIndex>=0},"Unexpected call to initialize IntersectionParser"),this.resetCalcIt(e),e){var a=e.S;if(a&&!this.context.locked){void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=a.length),n.fF.assert(function(){return null==r.calcMetadataCache[r.logicalIntersectionIndex]},"unexpected schema present for current logical intersection"),this.calcMetadataCache[this.logicalIntersectionIndex]=a;for(var i=this.context.calcIdToCalcMetadata,o=0,s=a;o<s.length;o++)i[s[o].N]=a}}this.calculationContainer=e;var x=this.context.lastIntersectionCalcCache[this.intersectionId];!x&&this.intersectionId&&(x=this.context.lastIntersectionCalcCache[this.intersectionId]=new Array(this.intersectionCalcCount)),this.baseCalculationParser.initialize(e,x);var U=this.getCalcMetadata();U&&(this.currentCalcMetadata=U,void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=this.intersectionMeasureCount>0?this.currentCalcMetadata.length:0))},t.prototype.restartCalcs=function(){this.calcIt&&this.calcIt.reset(),this.currentCalcIndex=-1,delete this.currentCalc},t.prototype.nextCalc=function(){var e=++this.currentCalcIndex;return e<this.intersectionCalcCount?(this.currentCalc=this.baseCalculationParser.getCurrentCalc(e,this.calcIt,this.calculationContainer,this.calcId()),!0):(this.currentCalc=void 0,!1)},t.prototype.calcId=function(){return this.currentCalcMetadata[this.currentCalcIndex].N},t.prototype.getCalcMetadata=function(){var e=this;n.fF.assert(function(){return e.logicalIntersectionIndex>=0},"getCalcMetadata can return metadata only for valid logical intersection");var r=this.calcMetadataCache[this.logicalIntersectionIndex];if(!r&&!this.context.locked){var a=this.getExpectedCalcId();a&&(r=this.calcMetadataCache[this.logicalIntersectionIndex]=this.context.calcIdToCalcMetadata[a])}return r},t.prototype.getExpectedCalcId=function(){if(0!==this.intersectionMeasureCount){var e=this.context,r=e.dataMemberIdToMetadata[e.secondaryLeafDataMemberId[this.logicalIntersectionIndex]],o=e.selects[this.currentCalcIndex<0?e.intersectionMeasureToSelectIndex[0]:e.intersectionMeasureToSelectIndex[this.currentCalcIndex]];if(1===r.kind&&this.primaryMemberIsGroupMember)return o.Value;if(o.Subtotal){var s=pt.computeAggIdx(this.primaryDataMemberDepth,r.depth,e.maxPrimaryDepth,e.maxSecondaryDepth);return o.Subtotal.length>s&&o.Subtotal[s]}}},t.prototype.calcValue=function(){return null!=this.currentCalc?this.parseCalcValue(this.currentCalc):null},t.prototype.parseCalcValue=function(e){var r=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],a=this.context.valueDictionaryHandler.getCalcValue(e,r.DN,r.T);return void 0===a&&(a=Ye(e,r.T)),a},t.prototype.calcValueAsExpr=function(){if(void 0!==this.currentCalc)return this.parseCalcValueExpr(this.currentCalc,this.calcValue());if(this.it.index()===this.logicalIntersectionIndex){var e=this.calcValue();return null===e?(0,m.IF)():this.parseCalcValueExpr(this.it.current()[this.calcId()],e)}return(0,m.IF)()},t.prototype.parseCalcValueExpr=function(e,r){var a=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],i=this.context.valueDictionaryHandler.getCalcValueExpr(r,e,a.DN,a.T);return void 0===i&&(i=it(r,e,a.T)),i},t.prototype.calcCount=function(){return this.calcIt?this.calcIt.count():0},t}(),Ur=function(){function t(){}return t.prototype.initialize=function(e){this.value=e,this.overflowValue=e>t.MaxSignedNumberFor32Bits?function(t){var e=t.toString(2),r=e.substr(0,e.length-31);return parseInt(r,2)}(e):0},t.prototype.hasBitAtPosition=function(e){if(n.fF.assert(function(){return e>=0},"expected positive integer for position"),e>52)return!1;if(this.value>0){var r=0,a=this.value;return e<31?r=1<<e:(r=1<<e-31,a=this.overflowValue),(a&r)>0}},t.MaxSignedNumberFor32Bits=Math.pow(2,31)-1,t}(),_r=function(){function t(){this.bitSequenceHandler=new Ur}return t.prototype.initialize=function(e){this.bitSequenceHandler.initialize(e)},t.prototype.tryRead=function(e){if(this.bitSequenceHandler.hasBitAtPosition(e))return null},t}(),qr=function(){function t(){this.bitSequenceHandler=new Ur}return t.prototype.initialize=function(e,r){this.bitSequenceHandler.initialize(e),this.lastContainerCalculations=r},t.prototype.tryRead=function(e){if(this.bitSequenceHandler.hasBitAtPosition(e))return this.lastContainerCalculations[e]},t}(),Jr=ke(2975),Xr=(location.search.indexOf("renderAsModalDialog"),'<input type="button" class='.concat("pbi-fluent-button","></input>"),ke(2006)),Aa=ke(390),Yn="azure:values",_d={ComplexSlicerNotAllowedWithMeasures:{localizedContent:"DsrError_ComplexSlicerNotAllowedWithMeasuresValue"},ComplexHighlightsNotAllowed:{localizedContent:"DsrError_ComplexHighlightsNotAllowed_Details",localizedMessage:"DsrError_ComplexHighlightsNotAllowed_ShortMessage"},CouldNotResolveModelReferencesInSemanticQuery:{localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContent:"DsrError_CouldNotResolveModelRefErrorValNoItems",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelRefErrorValFormat",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690865"},ExclusivePercentileOutOfRange:{localizedMessage:"DsrError_ExclusivePercentileOutOfRangeMessage",localizedTitle:"DsrError_ExclusivePercentileOutOfRangeKey",localizedContent:"DsrError_ExclusivePercentileOutOfRangeValue"},InvalidDataShapeNoOutputData:{localizedContent:"DsrError_InvalidDataShapeValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690860"},InvalidUnconstrainedJoin:{localizedTitle:"DsrError_InvalidUnconstrainedJoinKey",localizedContent:"DsrError_InvalidUnconstrainedJoinValue",helpLink:"https://go.microsoft.com/fwlink/?linkid=2186131"},IsRelatedToManyNotSupportedForDetailTable:{localizedMessage:"DsrError_IsRelatedToManyNotSupportedForDetailTableMessage",localizedTitle:"DsrError_IsRelatedToManyNotSupportedForDetailTableKey",localizedContent:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueFormat"},AA_PowerBIScriptPayloadTooLargeError:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746290"},AA_PowerBIScriptResultTooLargeError:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746291"},AA_PowerBIScriptReturnedNoImageError:{localizedMessage:"DsrError_ScriptReturnedNoImageMessage",localizedTitle:"DsrError_ScriptReturnedNoImageKey",localizedContent:"DsrError_ScriptReturnedNoImageContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733479"},AA_PowerBIScriptRuntimeErrorError:{localizedTitle:"DsrError_ScriptRuntimeErrorKey",localizedMessage:"DsrError_ScriptRuntimeErrorMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},AA_PowerBIScriptTimeoutError:{localizedMessage:"DsrError_ScriptTimeoutMessage",localizedTitle:"DsrError_ScriptTimeoutKey",localizedContent:"DsrError_ScriptTimeoutContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733478"},AA_PowerBIRequestsQueueOverflowError:{localizedTitle:"DsrError_RequestsQueueOverflowKey",localizedMessage:"DsrError_RequestsQueueOverflowMessage",localizedContent:"DsrError_RequestsQueueOverflowContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799576"},AA_PowerBIScriptRuntimeMaxMemoryError:{localizedTitle:"DsrError_ScriptRuntimeMaxMemoryKey",localizedMessage:"DsrError_ScriptRuntimeMaxMemoryMessage",localizedContent:"DsrError_ScriptRuntimeMaxMemoryContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799578"},AA_PowerBIScriptRuntimeMaxDiskIOError:{localizedTitle:"DsrError_ScriptRuntimeMaxDiskIOKey",localizedMessage:"DsrError_ScriptRuntimeMaxDiskIOMessage",localizedContent:"DsrError_ScriptRuntimeMaxDiskIOContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799579"},AA_PowerBIScriptMissingDependencyError:{localizedTitle:"DsrError_ScriptRuntimeMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeMissingDependencyMessage",localizedContent:"DsrError_ScriptRuntimeMissingDependencyContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799857"},AA_PowerBIScriptSpecificPackageWithMissingDependencyError:{localizedTitle:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799858"},AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError:{localizedTitle:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799859"},AA_PowerBIScriptMissingSpecificPackageError:{localizedTitle:"DsrError_ScriptRuntimeMissingSpecificPackageKey",localizedMessage:"DsrError_ScriptRuntimeMissingSpecificPackageMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=800225"},ModelMeasuresNotSupportedForDetailTable:{localizedMessage:"DsrError_ModelMeasuresNotSupportedForDetailTableMessage",localizedTitle:"DsrError_ModelMeasuresNotSupportedForDetailTableKey",localizedContent:"DsrError_ModelMeasuresNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_ModelMeasuresNotSupportedForDetailTableValueFormat"},ModelUnavailable:{localizedContent:"DsrError_ModelUnavailableValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},NoUniqueKeyForDetailTable:{localizedContent:"DsrError_NoUniqueKeyForDetailTableValue"},OverlappingKeysOnOppositeHierarchies:{localizedTitle:"DsrError_OverlappingKeysKey",localizedContent:"DsrError_OverlappingKeysValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690863"},rsQueryMemoryLimitExceeded:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},rsQueryTimeoutExceeded:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},rsAccessDenied:{localizedMessage:"DsrError_NoPermissionMessage",localizedTitle:"DsrError_NoPermissionKey",localizedContent:"DsrError_NoAccessForVisual",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},UnsupportedDateTimeLiteral:{localizedMessage:"DsrError_UnsupportedDateTimeMessage",localizedTitle:"DsrError_UnsupportedDateTimeKey",localizedContent:"DsrError_UnsupportedDateTimeValueNoItems",localizedContentWithAffectedItems:"DsrError_UnsupportedDateTimeValueFormat"},InvalidExtensionDax_UnclosedBracketIdentifier:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedBracketIdentifier"},InvalidExtensionDax_UnexpectedCloseParenthesis:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnexpectedCloseParenthesis"},InvalidFilterComparisonIncompatibleExpressions:{localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},InvalidFilterConditionIncompatibleDataType:{localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},ExtensionMeasureEmptyExpression:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureEmptyExpression"},ExtensionMeasureNameNotUniqueModel:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUniqueModel"},ExtensionMeasureNameNotUnique:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUnique"},CouldNotResolveModelReferencesInQueryExtensionSchema:{localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelReferencesInQueryExtensionSchema"},QueryExtensionMeasureError:{localizedContentWithAffectedItemsAndPosition:"DsrError_QueryExtensionMeasureError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_QueryExtensionMeasureErrorWithDetails"},QueryExtensionMeasureUnexpectedEndOfUserInput:{localizedContentWithAffectedItems:"DsrError_QueryExtensionMeasureUnexpectedEndOfUserInput"},NativeVisualCalculationError:{localizedContentWithAffectedItemsAndPosition:"DsrError_NativeVisualCalculationError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_NativeVisualCalculationErrorWithDetails"},NativeVisualCalculationUnexpectedEndOfUserInput:{localizedContentWithAffectedItems:"DsrError_NativeVisualCalculationUnexpectedEndOfUserInput"},UnsupportedDataSourceVariables:{localizedMessage:"DsrError_UnsupportedDataSourceVariablesMessage",localizedTitle:"DsrError_UnsupportedDataSourceVariablesKey",localizedContent:"DsrError_UnsupportedDataSourceVariablesContent"},DataExtensionMissingResultSet:{localizedMessage:"DsrError_DataExtensionMissingResultSetMessage",localizedTitle:"DsrError_DataExtensionMissingResultSetKey",localizedContent:"DsrError_DataExtensionMissingResultSetContent"},ProxyModelChainLimitExceeded:{localizedTitle:"DsrError_ProxyModelChainLimitExceededErrorKey",localizedContent:"DsrError_ProxyModelChainLimitExceededErrorContent",helpLink:"https://go.microsoft.com/fwlink/?LinkID=2225640"},CannotUseMultiColumnFilteringWithMappedColumns:{localizedContent:"DsrError_DQP_CannotUseMultiColumnFilteringWithMappedColumns",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},DifferentMappingsWithinSubqueries:{localizedContent:"DsrError_DQP_DifferentMappingsWithinSubqueries",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},FilterIncompatibleWithParameter:{localizedContent:"DsrError_DQP_FilterIncompatibleWithParameter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},FoundMultipleTargetsWithAtLeastOneMapping:{localizedContent:"DsrError_DQP_FoundMultipleTargetsWithAtLeastOneMapping",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},FoundParameterMappingOnUnsupportedFilter:{localizedContent:"DsrError_DQP_FoundParameterMappingOnUnsupportedFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},InTableConditionNotSupportedWithMappedParameters:{localizedContent:"DsrError_DQP_InTableConditionNotSupportedWithMappedParameters",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},InvalidMappedParameterValueExpression:{localizedContent:"DsrError_DQP_InvalidMappedParameterValueExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},MappedTargetMustMatchMappedCondition:{localizedContent:"DsrError_DQP_MappedTargetMustMatchMappedCondition",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},MixOfAssignedAndUnassignedColumnsWithinORExpression:{localizedContent:"DsrError_DQP_MixOfAssignedAndUnassignedColumnsWithinORExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},MultipleParameterAssignmentsWithinORUnsupported:{localizedContent:"DsrError_DQP_MultipleParameterAssignmentsWithinORUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},MultipleParameterMappingsUnsupported:{localizedContent:"DsrError_DQP_MultipleParameterMappingsUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},ParameterMappingFilterConflict:{localizedContent:"DsrError_DQP_ParameterMappingFilterConflict",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},ParameterMappingsFoundWithinFilteredEvalExpressionFilter:{localizedContent:"DsrError_DQP_ParameterMappingsFoundWithinFilteredEvalExpressionFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},ParameterMappingsNotSupportedOnHighlights:{localizedContent:"DsrError_DQP_ParameterMappingsNotSupportedOnHighlights",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},SingleValueParameterWithMultipleValues:{localizedContent:"DsrError_DQP_SingleValueParameterWithMultipleValues",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},FabricThrottled:{localizedContent:"DsrError_FabricThrottledErrorContent",helpLink:"https://aka.ms/capacitymessages"}},Ed=function(){function t(e){this.oDataError=e,this.oDataCode=this.parseCode()}return Object.defineProperty(t,"maxNumberOfCommaValues",{get:function(){return 9},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.oDataCode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oDataErrorMessage",{get:function(){if(this.oDataError&&this.oDataError.message&&this.oDataError.message.value)return this.oDataError.message.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){switch(this.oDataError.source){case"PowerBI":return"PowerBI";case"External":return"External";case"Unknown":return;case"User":return t.isCodeKnown(this.code)?"User":void 0}n.fF.assertFail("unknown DsrClientError source: ".concat(this.oDataError.source))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"AdditionalErrorMessages",{get:function(){if(this.oDataError){var r=this.oDataError[Yn];if(!_.isEmpty(r))for(var a=0,i=r;a<i.length;a++){var o=i[a];if(!_.isEmpty(o.additionalMessages))return o.additionalMessages}}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"powerBiErrorDetails",{get:function(){if(this.oDataError){var r=this.oDataError[Yn];if(!_.isEmpty(r))for(var a=0,i=r;a<i.length;a++){var o=i[a];if(!_.isEmpty(o.powerBiErrorDetails))return o.powerBiErrorDetails}}},enumerable:!1,configurable:!0}),t.prototype.getDetails=function(e){var r=this.oDataError[Yn],a=null;if(r)for(var i=0,o=r;i<o.length;i++){var s=o[i];if(s.details){a=s.details;break}}var p=t.getErrorDetailsFromStatusCode(this.code,this.oDataErrorMessage,a,this.AdditionalErrorMessages,e),x=p.displayableErrorInfo[0].errorInfoKey;if(!t.isCodeKnown(this.code)&&a&&(p.displayableErrorInfo=[]),a){var U=0===p.displayableErrorInfo.length?x:e.get("DsrError_MoreInfo");p.displayableErrorInfo.push({errorInfoKey:U,errorInfoValue:a})}return t.isDynamicQueryParameterErrorCode(this.code)&&(p.hideDebugInfo=!0),p},t.getErrorDetailsFromStatusCode=function(e,r,a,i,o){var s=o.get("DsrError_Key"),p=o.get("DsrError_UnknownErrorValue"),x=o.get("DsrError_Message"),U="https://support.powerbi.com",K=_d[e];K&&(s=K.localizedTitle?o.get(K.localizedTitle):s,p=t.getContent(e,a,i,K,o)||p,x=K.localizedMessage?o.get(K.localizedMessage):x,U=K.helpLink||U,K.useODataErrorMessageAsContent&&(p=r||x));var ye={message:x,displayableErrorInfo:[{errorInfoKey:s,errorInfoValue:p}],helpLink:U,debugErrorInfo:[]};return!K&&e&&ye.debugErrorInfo.push({errorInfoKey:Xr.jK,errorInfoValue:e}),(!K||!K.useODataErrorMessageAsContent)&&r&&ye.debugErrorInfo.push({errorInfoKey:Xr.N6,errorInfoValue:r}),ye},t.getContent=function(e,r,a,i,o){if(i.localizedContentWithAffectedItemsAndPosition||i.localizedContentWithAffectedItemsAndPositionAndDetails){var s=t.findAdditionalMessageWithAffectedItemsAndPosition(e,a);if(i.localizedContentWithAffectedItemsAndPositionAndDetails&&r&&s)return(0,Ua.W)(o.get(i.localizedContentWithAffectedItemsAndPositionAndDetails),(0,E.yQ)(s.AffectedItems,o,t.maxNumberOfCommaValues),Aa.dx.formatValue(s.Line),Aa.dx.formatValue(s.Position),r);if(i.localizedContentWithAffectedItemsAndPosition&&s)return(0,Ua.W)(o.get(i.localizedContentWithAffectedItemsAndPosition),(0,E.yQ)(s.AffectedItems,o,t.maxNumberOfCommaValues),Aa.dx.formatValue(s.Line),Aa.dx.formatValue(s.Position))}if(i.localizedContentWithAffectedItems){var p=t.getAffectedItemsFromStatusCode(e,a);if(p.length>0)return(0,Ua.W)(o.get(i.localizedContentWithAffectedItems),(0,E.yQ)(p,o,t.maxNumberOfCommaValues))}if(i.localizedContent)return o.get(i.localizedContent)},t.findAdditionalMessageWithAffectedItemsAndPosition=function(e,r){return _.find(r,function(a){return a.Code===e&&!_.isEmpty(a.AffectedItems)&&null!=a.Position&&null!=a.Line})},t.getAffectedItemsFromStatusCode=function(e,r){for(var a=0,i=r;a<i.length;a++){var o=i[a];if(o.Code===e)return o.AffectedItems||[]}return[]},t.prototype.parseCode=function(){var e=this.oDataError.code,r=this.oDataError[Yn],a=[];if(r)for(var i=0,o=r;i<o.length;i++){var s=o[i];s.additionalMessages&&(a=s.additionalMessages)}if(a.length>0)for(var p=0,x=a;p<x.length;p++){var U=x[p];if(t.isCodeKnown(U.Code)){e=U.Code;break}}return e},t.isCodeKnown=function(e){return t.isGeneralKnownErrorCode(e)||t.isDynamicQueryParameterErrorCode(e)},t.isGeneralKnownErrorCode=function(e){switch(e){case"ComplexSlicerNotAllowedWithMeasures":case"ComplexHighlightsNotAllowed":case"ExclusivePercentileOutOfRange":case"InvalidDataShapeNoOutputData":case"InvalidFilterComparisonIncompatibleExpressions":case"InvalidFilterConditionIncompatibleDataType":case"InvalidUnconstrainedJoin":case"ModelUnavailable":case"OverlappingKeysOnOppositeHierarchies":case"rsQueryMemoryLimitExceeded":case"rsQueryTimeoutExceeded":case"CouldNotResolveModelReferencesInSemanticQuery":case"QueryExtensionMeasureUnexpectedEndOfUserInput":case"NativeVisualCalculationUnexpectedEndOfUserInput":case"rsAccessDenied":case"NoUniqueKeyForDetailTable":case"IsRelatedToManyNotSupportedForDetailTable":case"ModelMeasuresNotSupportedForDetailTable":case"UnsupportedDateTimeLiteral":case"InvalidExtensionDax_UnclosedBracketIdentifier":case"InvalidExtensionDax_UnexpectedCloseParenthesis":case"ExtensionMeasureEmptyExpression":case"ExtensionMeasureNameNotUniqueModel":case"ExtensionMeasureNameNotUnique":case"CouldNotResolveModelReferencesInQueryExtensionSchema":case"QueryExtensionMeasureError":case"NativeVisualCalculationError":case"UnsupportedDataSourceVariables":case"DataExtensionMissingResultSet":case"ProxyModelChainLimitExceeded":case"FabricThrottled":return!0;default:return!1}},t.isDynamicQueryParameterErrorCode=function(e){switch(e){case"CannotUseMultiColumnFilteringWithMappedColumns":case"DifferentMappingsWithinSubqueries":case"FilterIncompatibleWithParameter":case"FoundMultipleTargetsWithAtLeastOneMapping":case"FoundParameterMappingOnUnsupportedFilter":case"InTableConditionNotSupportedWithMappedParameters":case"InvalidMappedParameterValueExpression":case"MappedTargetMustMatchMappedCondition":case"MixOfAssignedAndUnassignedColumnsWithinORExpression":case"MultipleParameterAssignmentsWithinORUnsupported":case"MultipleParameterMappingsUnsupported":case"ParameterMappingFilterConflict":case"ParameterMappingsFoundWithinFilteredEvalExpressionFilter":case"ParameterMappingsNotSupportedOnHighlights":case"SingleValueParameterWithMultipleValues":return!0;default:return!1}},t}();function _l(t,e){if(t.metadata.dataReduction={},t.categorical){var r=t.metadata.dataReduction.categorical={};e.Primary&&(r.categories=qn(e.Primary)),e.Secondary&&(r.values=qn(e.Secondary)),e.Intersection&&(r.metadata=qn(e.Intersection))}t.matrix&&(r=t.metadata.dataReduction.matrix={},e.Primary&&(r.rows=qn(e.Primary)))}function qn(t){switch(t.Type){case 3:return{binnedLineSample:{}};case 4:return{overlappingPointsSample:{}};default:return{}}}function Gi(t,e){n.fF.assertValue(t,"node");var r=t.values;r||(r=t.values={});var a=r[e];return a||(a=r[e]={}),a}function El(t,e,r,a){n.fF.assertValue(t,"context"),n.fF.assertValue(r,"dataShape"),n.fF.assertValue(a,"metadata"),n.fF.assert(function(){return t.includes(2)},"context.includes(StandardDataViewKinds.Matrix)");var i=(0,E.BL)("DSR.matrix(".concat(t.perfId,")")),o=[],s=[],p=[];!function(t,e,r,a,i){n.fF.assertValue(i,"metadataColumns");for(var o=t.selects,s=0,p=o.length;s<p;s++){var x=o[s];if(x){var U=Md(t,i,s);if(x.Kind===Qt.Measure)a.push(U);else if(null!=x.Depth){var K=e[x.Depth];null!=K?K.sources.push(U):e[x.Depth]=Oo([U])}else if(null!=x.SecondaryDepth){var ue=r[x.SecondaryDepth];null!=ue?ue.sources.push(U):r[x.SecondaryDepth]=Oo([U])}x.DynamicFormat&&x.DynamicFormat.Format&&(n.fF.assertValue(U.formatSource&&U.formatSource.formatString,"metadataColumn.formatSource.formatString"),a.push(U.formatSource.formatString))}}var ye=a.length;(ye>1||ye>0&&(0===e.length||0===r.length))&&r.push(Oo(a))}(t,o,s,p,a.columns);var x=[],U=function(t,e,r,a,i,o){if(!i.SecondaryHierarchy||0===i.SecondaryHierarchy.length){var s={};return Bo(s,r,0,!1),s}var p;a&&a.Secondary&&(p=a.Secondary.Groupings);var x=wl(t,e,i.SecondaryHierarchy,p,function(U,K,ue,ye,_e){if(_e<e.length)if(ye.isSubtotal){var Ie=e.length-1,Re=e[Ie].sources.length;Re>1&&Bo(ye,Re,Ie,!0)}else n.fF.assert(function(){return _e===e.length-1},"We only support one extra level in the column hierarchy (for measures)"),Bo(ye,e[_e].sources.length,_e,!1);o.push(Fl(ye)),t.stats.secondary++});return x}(t,s,p.length,e,r,x),K=function(t,e,r,a,i){if(a.PrimaryHierarchy&&0!==a.PrimaryHierarchy.length){var o;r&&r.Primary&&(o=r.Primary.Groupings);var s=0,p=0;r&&(s=Nl(r.Primary),p=Nl(r.Secondary));var x=_.filter(t.selects,function(K){return K&&K.Kind===Qt.Measure}),U=wl(t,e,a.PrimaryHierarchy,o,function(K,ue,ye,_e,Ie){(function(t,e,r,a,i,o,s){n.fF.assertValue(r,"instance"),n.fF.assertValue(a,"node"),n.fF.assertValue(i,"intersectionToSecondaryAggIdx");var p=r.Intersections,x={index:0};if(p)for(var U=0,K=p.length;U<K;U++)p[U].Calculations&&Tl(t,e,p[U].Calculations,a,x,i[U],o,s);else Tl(t,e,r.Calculations,a,x,0,o,s)})(ue,x,ye,_e,i,s,p),K.stats.primary++});return U}}(t,o,e,r,x),_e={rows:{root:K,levels:o},columns:{root:U,levels:s},valueSources:p};return i(),_e}function Oo(t){n.fF.assertValue(t,"metadataColumns");for(var e={sources:[]},r=0,a=t.length;r<a;r++)e.sources.push(t[r]);return e}function Md(t,e,r){n.fF.assertValue(e,"metadataColumns");for(var a=0,i=e.length;a<i;a++){var o=e[a];if(o&&o.index===r&&void 0===o.groupName)return o}return t.createColumns(e,r)}function Fl(t){return n.fF.assertValue(t,"node"),t.isSubtotal?t.level:t.level+1}function Nl(t){return n.fF.assertAnyValue(t,"axis"),t&&t.Groupings?t.Groupings.length:0}function Bo(t,e,r,a){t.children=[];for(var i=0;i<e;i++){var o={level:r};i>0&&(o.levelSourceIndex=i),t.children.push(o),a&&(o.isSubtotal=!0)}}function wl(t,e,r,a,i){n.fF.assertValue(t,"context");var o={};return Ml(t,e,o,r,a,0,i),o}function Ml(t,e,r,a,i,o,s){if(n.fF.assertValue(t,"context"),n.fF.assertValue(r,"node"),n.fF.assertValue(o,"depth"),a)for(var p=t.selects,x=function(t,e){n.fF.assertAnyValue(t,"levelSources"),n.fF.assertValue(e,"depth");var r=[],a=t&&t[e]&&t[e].sources;if(!_.isEmpty(a))for(var i=0,o=a.length;i<o;i++){var s=a[i];n.fF.assertValue(s.index,"pre-condition: sourceMetadataColumn.index is defined"),r[s.index]=i}return r}(e,o),U=0,K=a.length;U<K;U++)for(var ue=a[U],ye=0,_e=0,Ie=ue.Instances.length;_e<Ie;_e++){var Re=ue.Instances[_e];if(0===ye&&4===(ye=Ld(p,i,o,ue,Re)))break;var $e={level:o};if(r.children||(r.children=[]),r.children.push($e),1===ye){var st=Rd(p,Re.Calculations,x);if(!_.isEmpty(st)){$e.levelValues=st;var ht=_.last(st);$e.value=ht.value,ht.levelSourceIndex>0&&($e.levelSourceIndex=ht.levelSourceIndex)}}else 3===ye&&($e.isSubtotal=!0);Re.RestartFlag&&1===Re.RestartFlag&&($e.isMerge=!0),i&&1===ye&&(r.childIdentityFields=t.readKeys(i,o),$e.identity=t.readIdentity(i,Re,o));var Lt=Re.Members;Lt&&Lt.length>0?Ml(t,e,$e,Lt,i,o+1,s):s&&s(t,ye,Re,$e,o+1)}}function Rd(t,e,r){n.fF.assertValue(t,"selects"),n.fF.assertValue(e,"calculations"),n.fF.assertNonEmpty(r,"selectIndexToLevelSourceIndexMapping should be non-empty for dynamic groups");for(var a,i=0,o=t.length;i<o;i++){var s=t[i];if(s&&s.Value&&s.Kind===Qt.Group){var p=pt.findAndParseCalculation(e,s.Value);void 0!==p&&(a||(a=[]),a.push({levelSourceIndex:r[i],value:p}))}}return a}function Ld(t,e,r,a,i){if(n.fF.assertValue(t,"selects"),n.fF.assertValue(a,"member"),e&&e.length>r&&null!=a.Id){var o=e[r];if(a.Id===o.Member)return 1;if(a.Id===o.SubtotalMember)return 3}var s=i.Calculations;if(s){for(var p=!1,x=0,U=t.length;x<U;x++){var K=t[x];if(K&&pt.findCalculation(s,K.Value)){if(K.Kind===Qt.Group)return 1;!p&&K.Kind===Qt.Measure&&(p=!0)}}if(p)return 2}return 4}function Tl(t,e,r,a,i,o,s,p){if(n.fF.assertValue(e,"selects"),n.fF.assertValue(a,"node"),r)for(var x={index:0},U=function(_e,Ie){var Re=e[_e];n.fF.assert(function(){return Re.Kind===Qt.Measure},"measureSelects is expected to have measure select bindings only");var $e=Re.Highlight,ht=$e&&$e.DynamicFormat&&$e.DynamicFormat.Format;if(xl(t,r,a,i,x,o,s,p,0,Re.Value,$e&&$e.Value,Re.Subtotal),Re.DynamicFormat&&Re.DynamicFormat.Format){var Lt=_.map(Re.SubtotalDynamicFormat,function(_t){return _t&&_t.Format});xl(t,r,a,i,x,o,s,p,0,Re.DynamicFormat.Format,ht,Lt)}},K=0,ue=e.length;K<ue;K++)U(K)}function xl(t,e,r,a,i,o,s,p,x,U,K,ue){n.fF.assertValue(i,"measureIndex");var ye=Gi(r,a.index),_e=null;if(3!==t&&(_e=pt.findAndParseCalculation(e,U)),null==_e){var Re=function(t,e,r,a,i,o){if(e){var s=pt.computeAggIdx(r,a,i,o);if(s<e.length)return pt.findAndParseCalculation(t,e[s])}}(e,ue,Fl(r),o,s,p);void 0!==Re&&(_e=Re)}K&&(ye.highlight=pt.findAndParseCalculation(e,K)),ye.value=_e,i.index>0&&(ye.valueSourceIndex=i.index),a.index++,i.index++}var Bd=function(){function t(e){n.fF.assertValue(e,"context"),this._context=e}return t.prototype.read=function(e,r,a){var i=this;n.fF.assertValue(r,"dataShape");var o={metadata:{columns:[]}};return a.script=(0,E.zb)(function(){if(r.PrimaryHierarchy&&r.PrimaryHierarchy.length>0){var s=r.PrimaryHierarchy[0];if(s&&s.Instances.length>0){var K=pt.findCalculation(s.Instances[0].Calculations,i._context.scriptVisualBinding.PayloadCalculationId||i._context.scriptVisualBinding.ImageCalculationId);if(K){var ye=function(t){return t&&_.startsWith(t,Xt)?t.substring(Xt.length,t.length-1):null}(K.Value);ye&&(o.scriptResult={payloadBase64:ye})}}}}),o},t}(),Pl=function(){function t(e){n.fF.assertValue(e,"context"),this.context=e}return t.prototype.read=function(e,r,a){var i=this;n.fF.assertValue(r,"dataShape");var o=this.context,s=this.readMetadata(r.IsComplete),p={metadata:s},x=o.includes(16),U=o.includes(1),K=o.includes(4),ue=o.includes(8);if(x||U||K||ue){var ye,_e=(0,E.zb)(function(){ye=i.parseTree(s.columns,e,r),n.fF.assertValue(ye,"root")});x&&(a.tree=_e+(0,E.zb)(function(){var Ie=i.createTree(s,ye);Ie&&(p.tree=Ie)})),U&&(a.categorical=_e+(0,E.zb)(function(){var Ie=i.categorize(s,ye);Ie&&(p.categorical=Ie)})),K&&(a.single=_e+(0,E.zb)(function(){var Ie=i.createSingleValue(s,ye);Ie&&(p.single=Ie)})),ue&&(a.table=_e+(0,E.zb)(function(){var Ie=i.createTable(s,ye);Ie&&(p.table=Ie)}))}return o.includes(2)&&(a.matrix=(0,E.zb)(function(){var Ie=El(i.context,e,r,p.metadata);Ie&&(p.matrix=Ie)})),p},t.prototype.readMetadata=function(e){for(var r={columns:[]},a=this.context,i=a.selects,o=0,s=i.length;o<s;o++)i[o]?a.createColumns(r.columns,o):a.actionHistory|=1;return e||(r.segment={}),r},t.prototype.parseTree=function(e,r,a){var i=(0,E.BL)("DSR.tree(".concat(this.context.perfId,")")),o={},s=this.context.selects;this.parseRootAggregates(e,o);var p=pt.getTopLevelPrimaryDynamicMember(a,r,!0);if(p){var x=a.PrimaryHierarchy[0];p!==x&&this.parseValues(s,o,t.getFirstInstanceCalcs(x));var U=void 0;r&&r.Primary&&(U=r.Primary.Groupings),this.parseRecursive(o,p,U,0,e)}else _.isEmpty(a.PrimaryHierarchy)||this.parseValues(s,o,t.getFirstInstanceCalcs(a.PrimaryHierarchy[0]));return i(),o},t.prototype.parseRecursive=function(e,r,a,i,o){n.fF.assertValue(e,"node"),n.fF.assertValue(r,"dynamicMember"),n.fF.assertValue(i,"depth"),n.fF.assertAnyValue(o,"columns");var U,s=this.context,p=r.Instances,x=p.length;x&&(e.children=[],0===i&&(U=Wd.create(e,s))),a&&(e.childIdentityFields=s.readKeys(a,i));for(var K=0;K<x;K++){var ue=p[K],ye={};e.children.push(ye),ue.RestartFlag&&1===ue.RestartFlag&&(ye.isMerge=!0),this.parseValues(s.selects,ye,ue.Calculations,U),a&&(ye.identity=s.readIdentity(a,ue,i));var _e=ue.Members;if(this.parseAggregates(s.selects,ye,ue.Calculations,_e,i+1),!_.isEmpty(_e)){var Ie=pt.getDynamicMember(_e,a,i+1);Ie&&this.parseRecursive(ye,Ie,a,i+1)}}U&&U.complete(o)},t.getFirstInstanceCalcs=function(e){n.fF.assertValue(e,"member");var r=e.Instances;return r.length>0?r[0].Calculations:null},t.prototype.parseRootAggregates=function(e,r){n.fF.assertValue(e,"columns"),n.fF.assertValue(r,"node");for(var a=0,i=e.length;a<i;a++){var s=e[a].aggregates;s&&pt.copyAggregates(s,Gi(r,a))}},t.prototype.parseAggregates=function(e,r,a,i,o){n.fF.assertValue(e,"selects"),n.fF.assertValue(r,"node"),n.fF.assertAnyValue(a,"calculations"),n.fF.assertAnyValue(i,"allMembers");for(var s=0,p=e.length;s<p;s++){var x=e[s];if(x){var U=Al(x,a,i,o);U&&pt.copyAggregates(U,Gi(r,this.context.selectIndexToColumnIndexMap[s]))}}},t.prototype.parseValues=function(e,r,a,i){if(n.fF.assertValue(e,"selects"),n.fF.assertValue(r,"node"),n.fF.assertAnyValue(a,"calculations"),!_.isEmpty(a))for(var o=0,s=0,p=e.length;o<p;o++){var x=e[o];if(x){if(x.Value&&void 0!==(U=pt.findAndParseCalculation(a,x.Value))&&(x.Kind===Qt.Group?r.name=U:(r.value=U,i&&i.add(s,U)),Gi(r,s).value=U),x.Highlight){var K=pt.findAndParseCalculation(a,x.Highlight.Value);void 0!==K&&(Gi(r,s).highlight=K)}if(s++,x.DynamicFormat&&x.DynamicFormat.Format){var U=pt.findAndParseCalculation(a,x.DynamicFormat.Format);Gi(r,s).value=U,s++}}}},t.prototype.categorize=function(e,r){if(n.fF.assertValue(e,"metadata"),!this.canCategorize())return null;for(var o,a=(0,E.BL)("DSR.categorical(".concat(this.context.perfId,")")),i={},s=0,p=e.columns.length;s<p;s++){var x=e.columns[s];if(void 0!==x.index){if(!x.isMeasure){o||(o=[]),o.push({columnIndex:s,metadataColumn:x});continue}var U={source:x,values:[]},K=x.aggregates;K&&pt.copyAggregates(K,U),i.values||(i.values=(0,Le.Yv)()),i.values.push(U)}}if(o){i.categories=[];for(var ue=void 0,ye=0,_e=o.length;ye<_e;ye++){var Ie=o[ye],Re=r.children,$e={source:Ie.metadataColumn,values:[]};if(Re)for(var st=0,ht=Re.length;st<ht;st++){var Lt=Re[st];$e.values.push(Lt.values[Ie.columnIndex].value),0===ye&&(this.writeCategoricalValues(e,Lt,i.values),Lt.identity&&(ue||(ue=[]),ue.push(Lt.identity))),Lt.isMerge&&(i.lastMergeIndex=st)}ue&&($e.identity=ue),r.childIdentityFields&&($e.identityFields=r.childIdentityFields),i.categories.push($e)}}else this.writeCategoricalValues(e,r,i.values);return a(),i},t.prototype.canCategorize=function(){for(var r=this.context.selects,a=0,i=r.length;a<i;a++){var o=r[a];if(o&&o.Depth>0)return!1}return!0},t.prototype.createTree=function(e,r){var a=this.context;if(!(2&a.actionHistory||1&a.actionHistory))return{root:r};var i=(0,Dt.ED)(r),o=e.columns,s=r.values;if(s){for(var p={},x=0;x<o.length;x++){var U=o[x];void 0!==U.index&&void 0!==s[x]&&(p[U.index]=s[x])}i.values=p}var K=r.children;return K&&(i.children=this.removeFormatSourceFromTreeChildren(o,K)),{root:i}},t.prototype.removeFormatSourceFromTreeChildren=function(e,r){for(var a=r.length,i=_.map(r,function(ue){return ue}),o=0;o<a;o++){var s=(0,Dt.ED)(i[o]);i[o]=s;for(var p={},x=0;x<e.length;x++){var U=e[x];void 0!==U.index&&void 0!==i[o].values[x]&&(p[U.index]=i[o].values[x])}i[o].values=p;var K=i[o].children;K&&(i[o].children=this.removeFormatSourceFromTreeChildren(e,K))}return i},t.prototype.createTable=function(e,r){n.fF.assertValue(e,"metadata");for(var a,i=this.context.selects,o=0,s=i.length;o<s;o++)if(i[o]){var x=i[o].Depth;x>=0&&(a=Math.max(x,a||0))}if(a>0)return null;var K,_e,U=(0,E.BL)("DSR.table(".concat(this.context.perfId,")")),ue=[],ye=e.columns.length;if(a>=0){var Ie=r.children;if(Ie){o=0;for(var Re=Ie.length;o<Re;o++){var $e=Ie[o];this.toTableRow($e,ye,ue),$e.isMerge&&(K=o),$e.identity&&(_e||(_e=[]),_e.push($e.identity))}}}else n.fF.assert(function(){return 0===(0,Jr.Hy)(e.columns)},"groups.length=0"),this.toTableRow(r,ye,ue);var st=this.toTotals(r,ye),ht={rows:ue,columns:e.columns};return _e&&(ht.identity=_e),r.childIdentityFields&&(ht.identityFields=r.childIdentityFields),st&&(ht.totals=st),K>=0&&(ht.lastMergeIndex=K),U(),ht},t.prototype.toTableRow=function(e,r,a){for(var i=[],o=0;o<r;o++){var s=e.values[o];s&&i.push(s.value)}a.push(i)},t.prototype.toTotals=function(e,r){var a=[],i=e.values,o=!1;if(i)for(var s=0;s<r;s++){var p=i[s],x=p?p.subtotal:null;o=o||null!=x,a.push(x)}return o?a:null},t.prototype.writeCategoricalValues=function(e,r,a){for(var i=e.columns,o=0,s=0,p=i.length;s<p;s++){var x=i[s];if(x.isMeasure&&void 0!==x.index){var U=r.values[s];if(U){var K=a[o++];K.values.push(U.value),void 0!==U.highlight&&(K.highlights||(K.highlights=[]),K.highlights.push(U.highlight))}}}},t.prototype.createSingleValue=function(e,r){if(n.fF.assertValue(e,"metadata"),n.fF.assertValue(r,"root"),r.values){for(var a=e.columns,i=null,o=void 0,s=0,p=a.length;s<p;s++)if(a[s].isMeasure&&null!=a[s].index){if(i)return null;i=a[s],o=s}if(!i)return null;var x=r.values[o];if(!x)return null;var U=0===(0,Jr.Hy)(e.columns)?x.value:x.subtotal;return void 0===U?null:{column:i,value:U}}return null},t}(),zd=function(){function t(e){n.fF.assertValue(e,"context"),this._context=e,this._categoriesMetadata=[],this._primaryMeasureSelects=[],this._measureSelects=[],this._secondarySelects=[],this._seriesColumn=null}return t.prototype.read=function(e,r,a){var i=this;n.fF.assertValue(r,"dataShape");var o=this._context,s={metadata:this.readMetadata(r.IsComplete)};return o.includes(1)&&(a.categorical=(0,E.zb)(function(){var p=i.categorize(r,s.metadata,e);p&&(s.categorical=p)})),o.includes(2)&&(a.matrix=(0,E.zb)(function(){var p=El(i._context,e,r,s.metadata);p&&(s.matrix=p)})),s},t.prototype.readMetadata=function(e){for(var r={columns:[]},a=this._context,i=a.selects,o=function(K,ue){var ye=i[K];if(!ye)return"continue";if(ye.Kind===Qt.Measure)return 0===ye.Depth?s._primaryMeasureSelects.push(ye):s._measureSelects.push(ye),"continue";n.fF.assert(function(){return ye.Kind===Qt.Group},"Unexpected Select.Kind");var _e=a.createColumns(r.columns,K);ye.SecondaryDepth>=0?(s._secondarySelects.push(ye),s._secondaryDepth=Math.max(s._secondaryDepth||0,ye.SecondaryDepth),s._seriesColumn=_e):0===ye.Depth&&s._categoriesMetadata.push({select:ye,column:_e})},s=this,p=0,x=i.length;p<x;p++)o(p);return e||(r.segment={}),r},t.prototype.categorize=function(e,r,a){if(n.fF.assertValue(e,"dataShape"),n.fF.assertValue(r,"metadata"),0!==this._secondaryDepth||0===this._categoriesMetadata.length)return null;var o,s,i=(0,E.BL)("DSR.categorical(".concat(this._context.perfId,", secondary)"));a&&(a.Primary&&(o=a.Primary.Groupings),a.Secondary&&(s=a.Secondary.Groupings));var p=pt.getTopLevelSecondaryDynamicMember(e,a),x=this.readColumnsFromSecondary(p,r,s,e.Calculations),U=pt.getTopLevelPrimaryDynamicMember(e,a),K=this.readCategoriesAndValues(U,r,x,o),ue={categories:K.categories,values:x};return void 0!==K.lastMergeIndex&&(ue.lastMergeIndex=K.lastMergeIndex),i(),ue},t.prototype.readColumnsFromSecondary=function(e,r,a,i){n.fF.assertValue(e,"secondaryMember"),n.fF.assertValue(r,"metadata");var o,s=this._context;a&&(o=s.readKeys(a,0));var p=[],x=s.selects,U=this._measureSelects.length,K=[],ue=e.Instances,ye=ue.length;if(ye)for(var _e=0;_e<ye;_e++){var Ie=ue[_e],Re=Ie.Calculations,$e=void 0;a&&($e=s.readIdentity(a,Ie,0));for(var st=0,ht=this._secondarySelects.length;st<ht;st++){for(var _t=pt.findAndParseCalculation(Re,this._secondarySelects[st].Value),Nt=[],Et=0;Et<U;Et++){var Ut=x.indexOf(jt=this._measureSelects[Et]),qt=s.createColumns(r.columns,Ut,!0);void 0!==_t&&(qt.groupName=_t);var ar={source:qt,values:[]};$e&&(ar.identity=$e),this.addColumnAggregates(i,jt,ar),p.push(ar),Nt.push(ar)}K.push({identity:$e,name:_t,values:Nt})}}else{for(Et=0;Et<U;Et++){var jt;Ut=x.indexOf(jt=this._measureSelects[Et]),qt=s.createColumns(r.columns,Ut),this.addColumnAggregates(i,jt,ar={source:qt,values:[]}),p.push(ar)}K.push({values:(0,ie.ev)([],p||[],!0)})}Et=0;for(var or=this._primaryMeasureSelects.length;Et<or;Et++)Ut=x.indexOf(this._primaryMeasureSelects[Et]),qt=s.createColumns(r.columns,Ut),p.push(ar={source:qt,values:[]});o&&(p.identityFields=o);var Vr=this._seriesColumn;return Vr&&(p.source=Vr),p.grouped=function(){return K},p},t.prototype.addColumnAggregates=function(e,r,a){e&&(r.Max&&(a.max=pt.findAndParseCalculation(e,r.Max[0])),r.Min&&(a.min=pt.findAndParseCalculation(e,r.Min[0])))},t.prototype.readCategoriesAndValues=function(e,r,a,i){n.fF.assertValue(e,"primaryMember"),n.fF.assertValue(a,"values");for(var x,o=[],s=this._categoriesMetadata,p=s.length,U=this._context,K=0;K<p;K++)o.push(ue={source:s[K].column,values:[]}),i&&(x||(x=[]),ue.identity=x,ue.identityFields=U.readKeys(i,0));for(var Ie,ye=e.Instances,_e=this._primaryMeasureSelects,Re=(K=0,ye.length);K<Re;K++){var $e=ye[K];1===$e.RestartFlag&&(Ie=K);for(var st=0;st<p;st++){var ue;(ue=o[st]).values.push(pt.findAndParseCalculation($e.Calculations,s[st].select.Value))}x&&x.push(U.readIdentity(i,$e,0));for(var ht=$e.Intersections,Lt=0,_t=0,Nt=ht.length;_t<Nt;_t++)for(var Et=ht[_t].Calculations,jt=0,Ut=this._measureSelects.length;jt<Ut;jt++)if(void 0!==(ar=pt.findAndParseCalculation(Et,(qt=this._measureSelects[jt]).Value))&&((or=a[Lt++]).values.push(ar),qt.Highlight)){or.highlights||(or.highlights=[]);var fr=pt.findAndParseCalculation(Et,qt.Highlight.Value);or.highlights.push(fr)}for(_t=0,Nt=_e.length;_t<Nt;_t++){var qt,or,ar=pt.findAndParseCalculation(Et=$e.Calculations,(qt=_e[_t]).Value);if((or=a[Lt++]).values.push(ar),qt.Highlight){or.highlights||(or.highlights=[]);var Vr=pt.findAndParseCalculation(Et,qt.Highlight.Value);or.highlights.push(Vr)}}}return{categories:o,lastMergeIndex:Ie}},t}(),kd=function(){function t(e,r,a,i){n.fF.assertValue(e,"targets"),n.fF.assert(function(){return null!=r.Select||null!=r.ScriptVisualBinding},"descriptor"),n.fF.assertAnyValue(a,"perfId"),n.fF.assertValue(i,"aggregateReader"),this.targets=e,this.selects=r.Select,this.scriptVisualBinding=r.ScriptVisualBinding,this.perfId=a||"",this.stats={id:a||void 0,primary:0,secondary:0},this.aggregateReader=i,this.cacheItems=[],this.selectIndexToColumnIndexMap={}}return t.prototype.createColumns=function(e,r,a){var o=this.columnMetadata(r,e.length,a);e.push(o);var p=this.tryCreatingDynamicFormatColumnMetadata(r,e.length,o);return p&&e.push(p),o},t.prototype.columnMetadata=function(e,r,a){n.fF.assertValue(e,"selectIndex"),n.fF.assertAnyValue(a,"suppressAggregates");var i=this.selects[e];n.fF.assertValue(i,"select");var o={displayName:"",index:e};if(i.Format&&(o.format=i.Format),o.type=pt.describeDataType(i.Type,i.DataCategory),i.Kind===Qt.Measure&&(o.isMeasure=!0),!a){var s=this.aggregateReader.compute(i,r);s&&(o.aggregates=s)}var p=i.GroupKeys;if(p)for(var x=o.identityExprs=[],U=0,K=p;U<K.length;U++){var ye=this.convertKey(K[U]);x.push(ye)}return this.selectIndexToColumnIndexMap[e]=r,o},t.prototype.tryCreatingDynamicFormatColumnMetadata=function(e,r,a,i){var o=this.selects[e];if(o.DynamicFormat&&o.DynamicFormat.Format){var s={displayName:"",isMeasure:!0};a.formatSource={formatString:s};var p={Kind:Qt.Measure,Subtotal:_.map(o.SubtotalDynamicFormat,function(U){return U&&U.Format})};if(!i){var x=this.aggregateReader.compute(p,r);x&&(s.aggregates=x)}return this.actionHistory|=2,s}},t.prototype.readIdentity=function(e,r,a){n.fF.assertValue(e,"axisGroupings"),n.fF.assertValue(a,"depth");for(var o,i=this.readKeys(e,a),s=e[a].Keys,p=0,x=s.length;p<x;p++){var U=s[p],ue=pt.findAndParseCalculationToSQExpr(r.Calculations,U.Calc||this.selects[U.Select].Value),ye=(0,m.Dg)(i[p],ue);o=(0,m.xD)(o,ye)}return(0,Pt.TZ)(o)},t.prototype.readKeys=function(e,r){n.fF.assertValue(e,"axisGroupings"),n.fF.assertValue(r,"depth");var a=this.getAxisCache(e),i=a.exprs[r];if(void 0===i){i=a.exprs[r]=[];for(var o=e[r].Keys,s=0,p=o.length;s<p;s++)i.push(this.convertKey(o[s]))}return i},t.prototype.includes=function(e){return n.fF.assertValue(e,"kind"),(0,rr.yE)(this.targets,e)},t.prototype.getAxisCache=function(e){n.fF.assertValue(e,"axisGroupings");for(var r=this.cacheItems,a=0,i=r.length;a<i;a++){var o=r[a];if(o.axisGroupings===e)return o}var s={axisGroupings:e,exprs:[]};return r.push(s),s},t.prototype.convertKey=function(e){n.fF.assertValue(e,"key");var r=e.Source;return(0,m.Oh)((0,m.nw)(nr(r),r.Entity||r.EntitySet),r.Property)},t}(),Ud=function(){function t(e,r){n.fF.assert(function(){return null!=e.Select||null!=e.ScriptVisualBinding},"descriptor"),n.fF.assertValue(r,"dataShape"),this.dataShape=r}return t.prototype.compute=function(e,r,a){n.fF.assertValue(r,"columnIndex");var i=this.cache;if(i){var o=i[r];if(o)return o}if(e){i||(this.cache=i={});var s=this.dataShape,p=Al(e,s.Calculations,s.PrimaryHierarchy,0);return a&&!p&&(p={}),i[r]=p,p}},t.prototype.updateAggregates=function(e,r,a,i){n.fF.assertValue(e,"select"),n.fF.assertValue(r,"columnIndex"),n.fF.assertValue(a,"name"),n.fF.assertAnyValue(i,"value");var o=this.compute(e,r,!0);if(o)return o[a]=i,o},t}();function Al(t,e,r,a){n.fF.assertValue(t,"select"),n.fF.assertAnyValue(e,"calculations"),n.fF.assertAnyValue(r,"allMembers"),n.fF.assertValue(a,"depth");var i=!_.isEmpty(r)&&Pl.getFirstInstanceCalcs(r[0]);if(!_.isEmpty(e)||!_.isEmpty(i)){var o;if(!_.isEmpty(i)&&t.Subtotal&&(s=t.Subtotal[a])&&void 0!==(p=pt.findAndParseCalculation(i,s))&&(o||(o={}),o.subtotal=p),!_.isEmpty(e)){t.Max&&(s=t.Max[a])&&void 0!==(p=pt.findAndParseCalculation(e,s))&&(o||(o={}),o.max=p),t.Min&&(s=t.Min[a])&&void 0!==(p=pt.findAndParseCalculation(e,s))&&(o||(o={}),o.min=p),t.Count&&(s=t.Count[a])&&void 0!==(p=pt.findAndParseCalculation(e,s))&&(o||(o={}),o.count=p);var x=t.Aggregates;if(x)for(var U=0,K=x;U<K.length;U++){var s,p,ue=K[U],ye=ue.Aggregate;if((s=ue.Ids[a])&&void 0!==(p=pt.findAndParseCalculation(e,s))){var _e=ye.Percentile;if(_e){var Ie={k:_e.K,value:p};_e.Exclusive&&(Ie.exclusive=_e.Exclusive),o||(o={});var Re=o.percentiles;Re||(Re=o.percentiles=[]),Re.push(Ie)}else ye.Average?(o||(o={}),o.average=p):ye.Median&&(o||(o={}),o.median=p)}}0===a&&(s=t.Value)&&void 0!==(p=pt.findAndParseCalculation(e,s))&&(o||(o={}),o.single=p)}return o}}var Rl,Wd=function(){function t(e,r,a,i){n.fF.assertValue(e,"node"),n.fF.assertValue(r,"aggregateReader"),n.fF.assertValue(i,"aggregators"),this.node=e,this.aggregateReader=r,this.selects=a,this.aggregators=i}return t.create=function(e,r){for(var a=e.values,i=r.selects,o=!1,s={},p=0,x=0,U=i.length;p<U;p++){var K=i[p];if(K){if(K.Kind!==Qt.Measure){x++;continue}var ye=void 0,_e=void 0;if(a&&(_e=a[x])){if(ye=[],void 0===_e.min&&ye.push(new xt),void 0===_e.max&&ye.push(new Bt),0===ye.length){x++;continue}}else ye=[new xt,new Bt];s[x]=ye,o=!0,x++,K.DynamicFormat&&K.DynamicFormat.Format&&x++}}if(o)return new t(e,r.aggregateReader,r.selects,s)},t.prototype.add=function(e,r){var a=this.aggregators[e];if(a)for(var i=0,o=a.length;i<o;i++)a[i].update(r)},t.prototype.complete=function(e){n.fF.assertValue(e,"columns");for(var r=this.aggregators,a=this.node,i=this.aggregateReader,o=0,s=0,p=this.selects.length;o<p;o++){var x=this.selects[o];if(x){var U=r[s];if(!U){s++;continue}for(var K=0,ue=U.length;K<ue;K++){var ye=U[K],_e=ye.value();if(void 0!==_e){var Ie=ye.name;Gi(a,s)[Ie]=_e,e[s].aggregates=i.updateAggregates(x,s,Ie,_e)}}s++,x&&x.DynamicFormat&&x.DynamicFormat.Format&&s++}}},t}();function zo(t){if(n.fF.assertAnyValue(t,"dsr"),2===t.Version)return!0}function Hd(t,e,r,a,i,o){if(n.fF.assertValue(e,"arg"),!e)return null;var s;e.data&&(e=e.data),o&&o.isRunning()&&(s=o.createChildActivity({name:"Parse Query Result"}));var p={},x=e,U=(0,I.z)();_.isString(e)&&(p.dsrLength=e.length,p.jsonParse=(0,E.zb)(function(){x=JSON.parse(e)}),s&&s.setProperty("metrics",{jsonParse:p.jsonParse}));var K=function(t,e,r,a,i,o,s,p,x,U,K,ue,ye,_e,Ie){if(!r)return null;var Re,$e;if(p||(p={}),4&t&&(t|=8),zo(r)){if($e="dsr2-read",performance&&performance.mark&&performance.mark($e+"-start"),p.mode="V2",1!==_.size(r.DS))return null;var st=function(t){var e=t.Select,r=t.Expressions,a=r&&r.Primary,i=a&&a.Groupings,o=a&&a.Synchronization,s=r&&r.Secondary&&r.Secondary.Groupings,p={},x=i&&[],U=s&&[];if(i)for(var K=0,ue=i.length;K<ue;K++)tt(p,i[K],K,x,e);if(s)for(K=0,ue=s.length;K<ue;K++)U[K]=[],tt(p,s[K],K,U,e);var ye=0,_e=[];if(e&&s)for(K=0;K<e.length;K++){var Ie=e[K];Ie&&Ie.Kind===Qt.Measure&&null==Ie.Depth&&null==Ie.SecondaryDepth&&(_e[ye++]=K)}var Re={intersectionMeasureToSelectIndex:_e,secondaryLeafDataMemberId:s&&[],dataMemberIdToMetadata:p,selects:e,maxPrimaryDepth:_.size(i),maxSecondaryDepth:_.size(s),memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},intersectionCalcMetadataCache:{},primaryDataMemberIdCache:x,secondaryDataMemberIdCache:U,instancesCalcCache:{},lastIntersectionCalcCache:{},locked:!1};if(o){var $e=o.length;for(Re.primarySynchronizedGroups=new Array($e),K=0;K<$e;K++){var st=o[K],ht=_.last(st.Groupings);Re.primarySynchronizedGroups[K]={groupings:st.Groupings,dataShapeId:st.DataShape,synchronizationIndexCalcId:i[ht].SynchronizationIndex,context:Ue(t,st)}}}return Re}(e),ht=kt(r,st);Re=function(t,e,r,a,i){var o={columns:t.createDataViewMetadataColumns()},s={dataView:{metadata:o}};if(function(t,e){t.reset();var r=t.dataShapes();n.fF.assert(function(){return 1===r.count()},"DSR has multiple DataShapes"),r.next(),r.complete()||(e.dataView.metadata.segment={},e.restartToken=r.restartTokens())}(e,s),t.includes(2)){var p,x=(0,E.zb)(function(){p=function(t,e,r,a){return new Ca(t,e,r,a).run()}(t,e,o,i),p&&(s.dataView.matrix=p,e.lockCache())});p&&(r.matrix=x)}if(t.includes(1)){var U,K=(0,E.zb)(function(){U=function(t,e,r,a){if(Zt.isCompatible(t))return(new Zt).run(t,e,r)}(t,e,o),U&&(s.dataView.categorical=U,e.lockCache())});U&&(r.categorical=K)}if(t.includes(8)){var ue,ye=(0,E.zb)(function(){ue=function(t,e,r){return new Wi(t,e,r).run()}(t,e,o),ue&&(s.dataView.table=ue,e.lockCache())});ue&&(r.table=ye)}if(t.includes(16)){var _e,Ie=(0,E.zb)(function(){_e=function(t,e){return new Cn(t,e).run()}(t,e),_e&&(s.dataView.tree=_e,e.lockCache())});_e&&(r.tree=Ie)}if(t.includes(4)){var Re,$e=(0,E.zb)(function(){Re=function(t,e){if(gi.isCompatible(t))return new gi(t,e).run()}(t,e),Re&&(s.dataView.single=Re)});Re&&(r.single=$e)}return s}(new Dr(t,e,st,_e,ht.dataShapes()),ht,p,0,_e),ht.reset();var _t=ht.dataShapes(),Nt=_t.next();if(n.fF.assert(function(){return Nt},"There must be a DataShape"),_t.limitsExceeded()){Re.warnings||(Re.warnings=[]);var Et=new Za(e,function(t){for(var e=t.limits(),r=e.count(),a=new Array(r),i=0;i<r;i++)e.next(),a[i]={Id:e.id()};return a}(_t),function(t){for(var e=new Array(t.calcCount()),r=0;t.nextCalc();r++)e[r]={Id:t.calcId(),Value:t.calcValue()};return e}(_t));Re.warnings.push(Et),_l(Re.dataView,Et.limits)}(function(t,e){var r=t.messages();if(r)for(;r.next();)at[r.code()]&&r.severity()===Te(0)&&(e.warnings||(e.warnings=[]),e.warnings.push(r.dsrMessage()))})(_t,Re),Re.dataView&&!_.isEmpty(o)&&(J(Re.dataView,o),Re.disallowPersisting=!0)}else $e="dsr1-read",performance&&performance.mark&&performance.mark($e+"-start"),p.mode="V1Old",Re=function(t,e,r,a,i,o,s){if(n.fF.assertValue(t,"targets"),n.fF.assertAnyValue(e,"descriptor"),n.fF.assertValue(r,"dsr"),n.fF.assertAnyValue(o,"clientSideFilters"),!function(t){return t&&1===_.size(t.DataShapes)}(r))return null;var p=r.DataShapes[0];if(p["odata.error"]){var U=new Ed(p["odata.error"]);return i&&(U.requestId=i),{error:U}}var ue=new kd(t,e,s,new Ud(e,p)),ye=function(t){if(n.fF.assertValue(t,"context"),null!=t.scriptVisualBinding)return new Bd(t);for(var e=0,r=0,a=t.selects,i=0,o=a.length;i<o;i++){var s=a[i];s&&(null!=s.Depth&&(e=Math.max(e,s.Depth+1)),null!=s.SecondaryDepth&&(r=Math.max(r,s.SecondaryDepth+1)))}return r>=1&&1===e?new zd(t):new Pl(t)}(ue).read(e.Expressions,p,a),_e={dataView:ye};if(p.RestartTokens&&(_e.restartToken=p.RestartTokens),p.DataLimitsExceeded&&p.DataLimitsExceeded.length>0){_e.warnings||(_e.warnings=[]);var Ie=new Za(e,p.DataLimitsExceeded,p.Calculations);_e.warnings.push(Ie),_l(ye,Ie.limits)}if(p.DataShapeMessages&&p.DataShapeMessages.length>0)for(var Re=0,$e=p.DataShapeMessages;Re<$e.length;Re++){var st=$e[Re];at[st.Code]&&st.Severity===Te(0)&&(_e.warnings||(_e.warnings=[]),_e.warnings.push(new dt(st)))}return _e.dataView&&!_.isEmpty(o)&&(J(_e.dataView,o),_e.disallowPersisting=!0),n.fF.log("DSR.stats",ue.stats),_e}(t,e,r,p,i,o,s);return Re&&(Re.timestamp=K,Re.fromCache=ue,ye&&!Re.fromCache&&(Re.performanceActivities=Ct(ye.Events,Ie&&Ie.getProperty("rootId")))),performance&&(performance.mark&&performance.mark($e+"-end"),performance.measure&&performance.measure($e,$e+"-start",$e+"-end")),p.total=(0,I.z)()-U,x&&x.logEvent(he,{jsonparse:p.jsonParse,categorical:p.categorical,table:p.table,tree:p.tree,matrix:p.matrix,single:p.single,script:p.script,total:p.total,mode:p.mode,targetDataView:t,dsrLength:p.dsrLength,id:s}),Re}(t,x.descriptor,x.dsr,0,x.requestId,x.clientSideFilters,i,p,a,U,x.timestamp,x.fromCache,x.metrics,r.scopedAggregates,o);if(null!=r&&r.queryContext){var ue=x.queryContext;ue&&(K.queryContext=ue)}return s&&s.resolve(),K}function En(t){return new Ll(t)}var Ll=function(){function t(e){var r=this;this[Rl]="Promise",n.fF.assertValue(e,"deferred"),this.deferred=e,this.state=0,e.promise.then(function(){return r.state=1},function(){return r.state=2})}return t.prototype.then=function(e,r){return this.deferred.promise.then(e,r)},t.prototype.catch=function(e){return this.deferred.promise.catch(e)},t.prototype.finally=function(e){return this.deferred.promise.finally(e)},t.prototype.resolved=function(){return 1===this.state},t.prototype.rejected=function(){return 2===this.state},t.prototype.pending=function(){return 0===this.state},t.prototype.reject=function(e){this.pending()&&(this.deferred.reject(e),this.state=2)},t}();Rl=Symbol.toStringTag;var Uo="ServerError_";var zl=function(){function t(e){this.message=e.message?e.message:"",this.m_serviceError=e}return Object.defineProperty(t.prototype,"code",{get:function(){return this.m_serviceError.errorCode||t.codeName},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requestId",{get:function(){return this.httpRequestId},set:function(r){this.httpRequestId=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){var r=this.m_serviceError.exceptionCulprit;if(null!=r)switch(r){case"System":case"PowerBI":return"PowerBI";case"External":return"External";case"User":return"User";default:return n.fF.assertFail("exceptionCulprit: unrecognized value"),"PowerBI"}},enumerable:!1,configurable:!0}),t.prototype.getDetails=function(e){var r;return r=6===this.m_serviceError.statusCode?function(t,e){return{message:t.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:t.get("ServiceError_CannotLoadVisual"),errorInfoValue:e.message}]}}(e,this.m_serviceError):function(t,e){var r="",a="",i="",o="",s=!1;switch(e.errorCode){case"PremiumFilesModelRequiresPremiumCapacity":r=t.get("ServiceError_ModelCannotLoad"),a=t.get("PremiumRequired_TitleText"),i=t.get("ServerError_PremiumFilesModelRequiresPremiumCapacity"),s=!0;break;case"LargeModelMovedAcrossRegions":r=t.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),a=t.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),i=function(t,e,r){if(!e)return"";var a,i=t.get(Uo+e);return i&&(a=i.replace(/\{\s*([^}\s]+)\s*\}/g,function(o,s,p,x){return r[s]})),a}(t,"LargeModelMovedAcrossRegions",e.parameters),o="https://aka.ms/moving-large-datasets",s=!0;break;case"rsAccessDeniedDueToRLSGroup":r=t.get("ServiceError_ModelCannotLoad"),a=t.get("ServiceError_ModelFetchingFailureKey"),i=t.get("DsrError_NoPermissionDueToRLSGroupMessage"),s=!0;break;case"rsCannotRetrieveModel":case"CannotRetrieveModelError":r=t.get("ServiceError_ModelCannotLoad"),a=t.get("ServiceError_ModelFetchingFailureKey"),i=t.get("DsrError_CanNotRetrieveModelMessage"),s=!0;break;case"DMTS_NoGatewayWithAllDatasourcesToBindError":r=t.get("ServiceError_ModelCannotLoad"),a=t.get("ServiceError_ModelFetchingFailureKey"),i=t.get("ServerError_DMTS_NoGatewayWithAllDatasourcesToBindError"),s=!0;break;case"DM_GWPipeline_UnknownError":r=t.get("ServiceError_ModelCannotLoad"),a=t.get("ServiceError_ModelFetchingFailureKey"),i=t.get("ServerError_DM_GWPipeline_Client_GatewayUnreachable"),s=!0;break;case"pbidAccessDenied":r=t.get("ServiceError_CannotLoadVisual"),a=t.get("ServiceError_AuthenticationErrorKey"),i=t.get("ServiceError_AuthenticationErrorValue"),s=!0;break;case"pbidWindowsAuthNotSupported":r=t.get("ServiceError_CannotLoadVisual"),a=t.get("ServiceError_AuthenticationErrorKey"),i=t.get("ServiceError_WindowsAuthNotSupportedErrorValue"),s=!0;break;case"pbidWindowsAuthWindowsAuthImpersonationNotSupported":r=t.get("ServiceError_CannotLoadVisual"),a=t.get("ServiceError_AuthenticationErrorKey"),i=t.get("ServiceError_WindowsAuthImpersonationNotSupportedErrorValue"),s=!0;break;case"PowerBIServiceLiveConnectModelNotFound":r=t.get("UploadPowerBICompanion_AccessDatasetWarning"),s=!0;break;case"InsecureLibraryLoadingPatchMissing":r=t.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),a=t.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),i=t.get("ServiceError_InsecureLibraryLoadingPatchMissingMessage"),s=!0;break;case"BYOKEncryptedModelRequiresPremiumCapacity":r=t.get("ServiceError_ModelCannotLoad"),a=t.get("PremiumRequired_TitleText"),i=t.get("ServerError_BYOKEncryptedModelRequiresPremiumCapacity_Report"),s=!0;break;case"CustomerKeyNotAccessible":r=t.get("ServiceError_ModelCannotLoad"),a=t.get("ServiceError_ModelCannotLoad"),i=t.get("ServerError_CustomerKeyNotAccessible_Report"),s=!0;break;case"CustomerKeyVaultError":r=t.get("ServiceError_ModelCannotLoad"),a=t.get("ServiceError_ModelCannotLoad"),i=t.get("ServerError_CustomerKeyVaultError_Report"),s=!0;break;case"CapacityLimitExceeded":r=t.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),a=t.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),i=t.get("ServiceError_CapacityOverloadedMessage"),s=!0}if(!s)switch(e.statusCode){case 2:r=t.get("ServiceError_ModelCannotLoad"),a=t.get("ServiceError_ModelConvertFailureKey"),i=t.get("ServiceError_ModelConvertFailureValue");break;case 3:r=t.get("ServiceError_ModelCannotLoad"),a=t.get("ServiceError_ModelCreationFailureKey"),i=t.get("ServiceError_ModelCreationFailureValue");break;case 1:case 9:if(r=t.get("ServiceError_ModelCannotLoad"),a=t.get("ServiceError_ModelCannotLoad"),e.errorDetails){var p=_.find(e.errorDetails,function(U){return"ModelMode"===U.code});if(p)switch(p.detail.value){case"Internal":i=t.get("ServiceError_ModelConnectFailureInternalValue");break;case"ExternalOnPrem":i=t.get("ServiceError_ModelConnectFailureASLiveValue");break;case"ExternalService":i=t.get("ServiceError_ModelConnectFailurePBIServiceValue")}}i||(i=t.get("ServiceError_ModelFetchingFailureValue"));break;case 4:r=t.get("ServiceError_CannotLoadVisual"),a=t.get("ServiceError_ExecuteSemanticQueryErrorKey"),i=t.get("ServiceError_ExecuteSemanticQueryErrorValue");break;case 5:r=t.get("ServiceError_CannotLoadVisual"),a=t.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatKey"),i=t.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatValue");break;default:r=t.get("ServiceError_GeneralError"),a=t.get("ServiceError_GeneralErrorKey"),i=t.get("ServiceError_GeneralErrorValue")}var x={message:r,displayableErrorInfo:[{errorInfoKey:a,errorInfoValue:i}]};return o&&(x.helpLink=o),x}(e,this.m_serviceError),this.m_serviceError.errorDetails&&function(t,e,r){if(!e)return t;for(var a=0,i=e;a<i.length;a++){var o=i[a],s=r.getOptional(Uo+o.code),p=o.detail.value;0===o.detail.type&&(p=r.get(Uo+p)),t.displayableErrorInfo.push({errorInfoKey:s||o.code,errorInfoValue:p})}}(r,this.m_serviceError.errorDetails,e),function(t,e,r,a,i){var o=t.debugErrorInfo=t.debugErrorInfo||[];i&&o.push({errorInfoKey:Xr.j,errorInfoValue:i}),e&&o.push({errorInfoKey:Xr.zd,errorInfoValue:e}),r&&o.push({errorInfoKey:Xr.Bm,errorInfoValue:r}),a&&o.push({errorInfoKey:Xr.RU,errorInfoValue:a})}(r,this.code,this.m_serviceError.message||null,this.m_serviceError.stackTrace||null,this.httpRequestId),r.source=this.source,r},t.codeName="ServiceErrorToClientError",t}(),La=ke(1034),kl=ke(8836),Vp=ke(25),Dp=ke(6023);function Wo(t){return null!=t&&void 0!==t.deferred&&void 0!==t.execution}var wp=function(){function t(e,r,a,i,o){this.addVisualIdToQueryDataAsHttpBodyId=o,this.preferredMaxBatchesConfigured=e>0,this.maxBatches=this.preferredMaxBatchesConfigured?e:4,this.queryExecuteCallback=r,this.pending=[],this.timeoutService=a,this.telemetryV2Enabled=i,this.useHttp2QueryDataEnabled=kl.M.browserSupportsHttp2()}return t.prototype.enqueue=function(e){var r=this;if(!function(t,e){var r=e.options;if(1===r.executionType){n.fF.assertValue(r.queryId,"queryId");var a=_.findIndex(t,function(i){return i.options.queryId===r.queryId});if(a>-1)return n.fF.assert(function(){return t[a].execution.rejected()},"CancelQuery should correspond to rejected queries."),!0}return!1}(this.pending,e))return this.pending.push(e),this.currentBatchDeferred||(this.currentBatchDeferred=e.options.telemetryV2Enabled?new Vp.GG(!0):$.Deferred(),this.timeoutService.setTimeout(-1,this.telemetryV2Enabled).promise.then(function(){var o=r.createBatches();r.clearPending(),r.queryExecuteCallback(o),r.currentBatchDeferred.resolve(),r.currentBatchDeferred=void 0})),e.options.telemetryV2Enabled?this.currentBatchDeferred.promise:this.currentBatchDeferred.promise()},t.prototype.clearPending=function(){this.pending=[]},t.prototype.setMaxBatches=function(e){this.maxBatches=e,this.preferredMaxBatchesConfigured=e>0},t.prototype.createBatches=function(){var e=[],r=this.sortQueriesByDataSource(),a=this.maxBatches,i=!1;if(!this.preferredMaxBatchesConfigured&&this.useHttp2QueryDataEnabled&&(_.some(r,function(x){return _.some(x.dataSources,function(U){return U.isLimitedParallelQueryModel})})||(a=20,i=!0)),r.length>=a)for(var s=0,p=r.length;s<p;++s)e.push(this.createBatchFromDataSourceGroup(r[s]));else e=this.splitDataSourcesIntoBatches(r,a);return i&&_.forEach(e,function(x){return x.useSynchronous=!0}),e},t.prototype.sortQueriesByDataSource=function(){var r,e=this;r=this.addVisualIdToQueryDataAsHttpBodyId?_.groupBy(this.pending,function(o){return null===(U=null===(x=null===(p=null==(s=o.options)?void 0:s.applicationContext)||void 0===p?void 0:p.Sources)||void 0===x?void 0:x[0])||void 0===U?void 0:U.VisualId;var s,p,x,U}):{"":this.pending};var i=[];return _.forEach(r,function(o){var s=[];_.forEach(o,function(p){if(!function(t){return!!Wo(t)&&t.execution.rejected()}(p)){var x=e.findDataSourceGroup(p.options.dataSources,s,p.options.cacheResponseOnServer);x?x.queuedExecutions.push(p):s.push({dataSources:p.options.dataSources,queuedExecutions:[p],cacheResponseOnServer:p.options.cacheResponseOnServer,cacheOptions:p.options.cacheOptions})}}),i.push.apply(i,s)}),i},t.prototype.findDataSourceGroup=function(e,r,a){for(var i=0,o=r.length;i<o;++i){var s=r[i];if((0,Dp.fS)(e,s.dataSources)&&s.cacheResponseOnServer===a)return s}return null},t.prototype.createBatchFromDataSourceGroup=function(e){for(var r=[],a=[],i=[],o=e.queuedExecutions,s=[],p=[],x=function(ye,_e){var Ie=o[ye],Re=o[ye].options,$e=o[ye].enqueueActivity;Wo(Ie)?(r.push(Re),i.push(Ie.deferred),$e&&s.push($e),o[ye].queryActivity&&p.push(o[ye].queryActivity)):(n.fF.assert(function(){return 1===Re.executionType},"Only CancelQuery executions are not rejectable."),a.push(Re))},U=0,K=o.length;U<K;++U)x(U);return{dataSources:e.dataSources,queryOptions:r,cancelQueryOptions:a,promises:i,cacheOptions:e.cacheOptions,cacheResponseOnServer:e.cacheResponseOnServer,enqueueActivities:s,queryActivities:p}},t.prototype.splitDataSourcesIntoBatches=function(e,r){for(var a=[],i=0,o=e.length;i<o;++i)a.push(this.createBatchFromDataSourceGroup(e[i]));return this.splitBatches(a,r)},t.prototype.splitBatches=function(e,r){for(var a=e.slice();a.length<r;){for(var i=void 0,o=0,s=a.length;o<s;++o){var p=a[o];p.queryOptions.length>1&&(!i||i.queryOptions.length<p.queryOptions.length)&&(i=p)}if(!i)return a;a.push(this.splitBatch(i)),i=null}return a},t.prototype.splitBatch=function(e){var r=e.queryOptions.length,a=e.queryOptions.splice(r/2),i=e.promises.splice(r/2),o=e.enqueueActivities.splice(r/2),s=e.queryActivities.splice(r/2),p=e.cancelQueryOptions.length,x=[];return p&&(x=e.cancelQueryOptions.splice(p/2)),{dataSources:e.dataSources,queryOptions:a,promises:i,cacheOptions:e.cacheOptions,cacheResponseOnServer:e.cacheResponseOnServer,cancelQueryOptions:x,enqueueActivities:o,queryActivities:s}},t}(),Ul=function(){function t(e,r){this.requestId=e,this.errorCode=r}return Object.defineProperty(t.prototype,"code",{get:function(){return this.errorCode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getDetails=function(e){return{message:e.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:e.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:e.get("ServiceError_ExecuteSemanticQueryErrorValue")},{errorInfoKey:e.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:Xr.zd,errorInfoValue:this.code}]}},t}(),Wl=function(){function t(){this._head=new Zn,this._tail=new Zn,this._head.next=this._tail,this._tail.prev=this._head,this._length=0}return t.prototype.insertToHead=function(e){e.next=this._head.next,e.prev=this._head,this._head.next=e,e.next.prev=e,this._length++},t.prototype.head=function(){if(this._length>0)return this._head.next},t.prototype.tail=function(){if(this._length>0)return this._tail.prev},t.prototype.removeFromTail=function(){this._length>0&&this.remove(this._tail.prev)},t.prototype.remove=function(e){this._length<=0||void 0===e.prev||void 0===e.next||(e.prev.next=e.next,e.next.prev=e.prev,this._length--)},t.prototype.length=function(){return this._length},t}(),Zn=function(){return function(e){void 0===e&&(e=void 0),this.value=e}}(),xp=function(){function t(e){this.cache={},this.capacity=e,this.linkedList=new Wl}return t.prototype.get=function(e){if(e in this.cache){var r=this.cache[e].value;return null==r?void 0:r.value}},t.prototype.remove=function(e){this.cache[e]&&(this.linkedList.remove(this.cache[e]),delete this.cache[e])},t.prototype.put=function(e,r){var a=this;e in this.cache&&this.remove(e);var i=new jl(e,r),o=new Zn(i);if(this.cache[e]=o,this.linkedList.insertToHead(o),this.size()>this.capacity){n.fF.assert(function(){return a.size()===a.capacity+1},"cache has exceeded expected maximum capacity");var s=this.linkedList.tail();delete this.cache[s.value.key],this.linkedList.removeFromTail()}},t.prototype.containsKey=function(e){return e in this.cache},t.prototype.size=function(){return this.keys().length},t.prototype.keys=function(){return Object.keys(this.cache)},t.prototype.isFull=function(){return this.size()===this.capacity},t}(),Pp=function(){function t(e){this.cache={},this.capacity=e,this.linkedList=new Wl}return t.prototype.get=function(e){if(e in this.cache){var r=this.cache[e];return this.linkedList.remove(r),this.linkedList.insertToHead(r),r.value.value}},t.prototype.remove=function(e){e in this.cache&&(this.linkedList.remove(this.cache[e]),delete this.cache[e])},t.prototype.put=function(e,r){var a=this;e in this.cache&&this.remove(e);var i=new jl(e,r),o=new Zn(i);if(this.cache[e]=o,this.linkedList.insertToHead(o),this.size()>this.capacity){n.fF.assert(function(){return a.size()===a.capacity+1},"cache has exceeded expected maximum capacity");var s=this.linkedList.tail();delete this.cache[s.value.key],this.linkedList.removeFromTail()}},t.prototype.containsKey=function(e){return e in this.cache},t.prototype.size=function(){return this.keys().length},t.prototype.keys=function(){return Object.keys(this.cache)},t.prototype.isFull=function(){return this.size()===this.capacity},t}(),jl=function(){return function(e,r){this.key=e,this.value=r}}(),Hl=function(){function t(e,r,a){this.cache=1===(a||(a=500),r)?new Pp(a):new xp(a),this.promiseFactory=e}return t.prototype.getEntryCount=function(){return this.cache.size()},t.prototype.hasCacheEntry=function(e){return n.fF.assertValue(e,"cacheKey"),!!this.getCacheEntry(e)},t.prototype.createCacheEntry=function(e,r,a,i,o){var s=this;n.fF.assertValue(e,"cacheKey");var p=this.getCacheEntry(e);if(e&&!p){var x=this.promiseFactory,U=this.cache,K=x.defer(o),ue=function(t){return new Ll(t)}(K),ye=x.defer(o),_e=En(ye);return this.appendCacheEntryInternal(e,p={promise:_e,refCount:0,context:r}),ue.then(function(Ie){p.updateResult&&(Ie=p.updateResult(Ie)),Ie&&a&&(Ie=a(Ie)),p.result=i?i(Ie):Ie,ye.resolve(Ie)},function(Ie){return ye.reject(Ie)}).finally(function(){delete p.updateResult}),_e.finally(function(){U.containsKey(e)&&(delete U.get(e).promise,_e.rejected()&&s.removeCacheEntryInternal(e))}).catch(function(Ie){return ue.reject(Ie)}),{deferred:K,promise:ue}}},t.prototype.clearEntry=function(e,r){var a=this.getCacheEntry(e);if(a){var i=a.promise;return r&&i?i.reject():this.removeCacheEntryInternal(e),!0}return!1},t.prototype.clearAllEntries=function(e){for(var r=0,a=this.cache.keys();r<a.length;r++)this.clearEntry(a[r],e)},t.prototype.bindCacheEntry=function(e,r,a){n.fF.assertValue(e,"cacheKey");var i=this.getCacheEntry(e);if(void 0!==i){var o=this.promiseFactory.defer(a),s=En(o);if(i.result){var p=r?r(i.result):i.result;return o.resolve(p),s}var x=i.promise;if(!x)return o.reject(void 0),s;i.refCount++;var U=function(ue){i.refCount--,0===i.refCount&&x.pending()&&x.reject(ue)};return s.then(function(){return U()},function(K){return U(K)}),x.then(function(K){var ue=r?r(K):K;o.resolve(ue)},function(K){return o.reject(K)}),s}},t.prototype.getEntryContext=function(e){n.fF.assertValue(e,"cacheKey");var r=this.getCacheEntry(e);if(r)return r.context},t.prototype.keys=function(){return this.cache.keys()},t.prototype.isFull=function(){return this.cache.isFull()},t.prototype.rewriteAllEntries=function(e){for(var r=[],a=!!e.rewriteKey,i=!!e.rewriteResult,o=this.cache,s=function(_e){if(a){var Ie=e.rewriteKey(_e);Ie!==_e&&r.push({oldKey:_e,newKey:Ie})}if(i){var Re=o.get(_e);Re&&(Re.result&&e.rewriteResult?Re.result=e.rewriteResult(Re.result,_e):Re.updateResult=function($e){return e.rewriteResult&&e.rewriteResult($e,_e)||$e})}},p=0,x=o.keys();p<x.length;p++)s(x[p]);for(var K=0,ue=r.length;K<ue;K++)this.changeCacheKey(r[K].oldKey,r[K].newKey)},t.prototype.putCacheResult=function(e,r,a){n.fF.assertValue(e,"cacheKey");var i=this.getCacheEntry(e);i?i.result?i.result=a?a(r):r:i.updateResult=function(){return r}:n.fF.assertFail("cannot update no-existing cacheEntry for key '".concat(e,"' with result '").concat(r,"'"))},t.prototype.appendCacheEntryInternal=function(e,r){this.cache.containsKey(e)&&this.removeCacheEntryInternal(e),this.cache.put(e,r)},t.prototype.removeCacheEntryInternal=function(e){this.cache.remove(e)},t.prototype.changeCacheKey=function(e,r){if(!r)return this.clearEntry(e,!0);if(this.hasCacheEntry(r)||!this.hasCacheEntry(e))return!1;var a=this.getCacheEntry(e);return this.removeCacheEntryInternal(e),this.appendCacheEntryInternal(r,a),!0},t.prototype.getCacheEntry=function(e){var r;if(n.fF.assertValue(e,"cacheKey"),e&&(r=this.cache.get(e))&&(r.promise||r.result))return r},t}(),nn=ke(3708),Rp=ke(2972),Lp=ke(4225),ei=ke(4791),Jn=ke(1359),Kl=function(){function t(e){n.fF.assertValue(e,"from"),this.clauses={from:e,select:[]}}return t.prototype.addWhere=function(e){n.fF.assertValue(e,"filter");var r=this.clauses;r.where||(r.where=[]),r.where.push(e)},t.prototype.addWheres=function(e){n.fF.assertValue(e,"filters");var r=this.clauses;r.where||(r.where=[]);for(var a=0,i=e;a<i.length;a++)r.where.push(i[a])},t.prototype.addOrderBy=function(e){n.fF.assertValue(e,"sort");var r=this.clauses;r.orderBy||(r.orderBy=[]),r.orderBy.push(e)},t.prototype.addSelect=function(e){n.fF.assertValue(e,"select"),this.clauses.select.push(e)},t.prototype.addGroupBy=function(e){n.fF.assertValue(e,"groupBy");var r=this.clauses;r.groupBy||(r.groupBy=[]),r.groupBy.push(e)},t.prototype.addTransform=function(e){n.fF.assertValue(e,"transformItem");var r=this.clauses;r.transforms||(r.transforms=[]),r.transforms.push(e)},t.prototype.setTop=function(e){this.clauses.top=e},t.prototype.toQuery=function(){return Jn.vQ.createWith(this.clauses,!0)},t.prototype.toFilter=function(){var e=this.clauses;if(n.fF.assert(function(){return!e.orderBy&&0===e.select.length},"toFilter must not have orderBy/select specified."),e.from&&e.where)return new Jn.yl(e.from,e.where)},t}(),Qi=function(t){return t[t.Version0=0]="Version0",t[t.Version1=1]="Version1",t[t.Version2=2]="Version2",t}({}),pr=function(){function t(){}return t.serializeQuery=function(e,r,a){void 0===r&&(r=!1),void 0===a&&(a=!1),n.fF.assertValue(e,"query");var i=[],o=e.from();this.serializeFrom(o,i);var p,s=this.serializeQueryFilters(e.where(),Vi.create,!1),x=e.transforms();if(!_.isEmpty(x)){p=[];for(var U=0,K=x;U<K.length;U++){var ue=K[U],ye=_.map(ue.input.parameters,function(Ut){return Vi.createNamed(Ut,r)}),_e={Name:ue.name,Algorithm:ue.algorithm,Input:{Parameters:ye},Output:void 0};if(ue.input.table){var Ie=this.serializeTransformTableColumns(ue.input.table.columns);_e.Input.Table={Name:ue.input.table.name,Columns:Ie}}if(ue.output&&ue.output.table){var Re=this.serializeTransformTableColumns(ue.output.table.columns);_e.Output={Table:{Name:ue.output.table.name,Columns:Re}}}p.push(_e)}}for(var $e=this.serializeSortDefinitions(e.orderBy(),r),st=[],ht=e.select(),Lt=0,_t=ht.length;Lt<_t;Lt++)st.push(Vi.createNamed(ht[Lt],r,a));var Nt,Et=e.groupBy();if(Et&&Et.length)for(Nt=[],Lt=0,_t=Et.length;Lt<_t;Lt++)Nt.push(Vi.createNamed(Et[Lt],r));var jt={Version:Qi.Version2,From:i,Select:st};return s&&(jt.Where=s),p&&(jt.Transform=p),$e&&(jt.OrderBy=$e),Nt&&(jt.GroupBy=Nt),e.top()&&(jt.Top=e.top()),jt},t.serializeSortDefinitions=function(e,r){var a;if(e&&e.length){a=[];for(var i=0,o=e.length;i<o;i++){var s=e[i];a.push({Direction:s.direction,Expression:Vi.create(s.expr,r)})}}return a},t.tryDeserializeQuery=function(e){var r;try{r=this.deserializeQuery(e)}catch(a){}if(r&&!this.isMalformed(r))return r},t.isMalformed=function(e){for(var r=0,a=e.select();r<a.length;r++)if(!a[r].expr)return!0;return!1},t.serializeQueryFilters=function(e,r,a){var i;if(!_.isEmpty(e)){i=[];for(var o=0,s=e;o<s.length;o++){var p=s[o],x={Condition:r(p.condition,a)};if(!_.isEmpty(p.target)){x.Target=[];for(var U=0,K=p.target;U<K.length;U++)x.Target.push(r(K[U],a))}p.annotations&&(x.Annotations=p.annotations),i.push(x)}}return i},t.deserializeQuery=function(e){n.fF.assertValue(e,"contract");var r=e.Version?e.Version:Qi.Version0,a=r<Qi.Version1,i=ti.from(e.From),o=new Kl(i),s=e.Where;if(s)for(var p=0,x=s.length;p<x;p++){var U=ti.filter(s[p],i);U&&(a&&(U=Gl.Upgrade(r,U)),o.addWhere(U))}var K=e.Transform,ue=i;if(!_.isEmpty(K)){for(var ye={},Ie=0,Re=i.keys();Ie<Re.length;Ie++){var $e=Re[Ie];ye[$e]=i.source($e)}for(p=0,x=K.length;p<x;p++){var st;K[p].Input&&K[p].Input.Table&&(ye[st=K[p].Input.Table.Name]=new ei.SX(void 0,st)),K[p].Output&&K[p].Output.Table&&(ye[st=K[p].Output.Table.Name]=new ei.SX(void 0,st))}for(ue=new ei.cL(ye),p=0,x=K.length;p<x;p++)o.addTransform(ti.transform(K[p],ue))}var ht=e.OrderBy;if(ht)for(p=0,x=ht.length;p<x;p++)o.addOrderBy(ti.sort(ht[p],i));var Lt=e.Select,_t={};for(p=0,x=Lt.length;p<x;p++)o.addSelect(ti.select(Lt[p],_t,ue));var Nt=e.GroupBy;if(Nt){var Et={};for(p=0,x=Nt.length;p<x;p++)o.addGroupBy(ti.groupBy(Nt[p],Et,i))}return e.Top&&o.setTop(e.Top),o.toQuery()},t.deserializeSortDefinitions=function(e,r){return _.isEmpty(e)?[]:_.map(e,function(a){return ti.sort(a,r)})},t.serializeFilter=function(e){var r=[],a=e.from();this.serializeFrom(a,r);var i=this.serializeQueryFilters(e.where(),Vi.create,!1);return{Version:Qi.Version2,From:r,Where:i}},t.serializeFrom=function(e,r){for(var a=e.keys(),i=new Ip(e),o=0,s=a.length;o<s;o++)r.push(e.source(a[o]).accept(i,o))},t.deserializeFrom=function(e){return ti.from(e)},t.deserializeFilter=function(e,r){n.fF.assertValue(e,"contract");var a=e.Version?e.Version:Qi.Version0,i=a<Qi.Version1,o=ti.from(e.From),s=new Kl(o),p=e.Where;if(p)for(var x=0,U=p.length;x<U;x++){var K=ti.filter(p[x],o);K?(i&&(K=Gl.Upgrade(a,K)),s.addWhere(K)):r&&(_.isEmpty(r.RemovedIndexes)&&(r.RemovedIndexes=[]),r.RemovedIndexes.push(x))}return s.toFilter()},t.serializeExpr=function(e,r){return void 0===r&&(r=!1),n.fF.assertValue(e,"contract"),n.fF.assertValue(r,"serializeAnnotations"),Vi.create(e,!0,r)},t.serializeExprWithRef=function(e,r){return void 0===r&&(r=!1),n.fF.assertValue(e,"contract"),n.fF.assertValue(r,"serializeAnnotations"),Vi.create(e,!1,r)},t.deserializeExpr=function(e){return n.fF.assertValue(e,"input"),Xn(e)},t.deserializeExprWithRef=function(e,r){return n.fF.assertValue(e,"input"),cr(e,r)},t.serializeTransformTableColumns=function(e){return n.fF.assertValue(e,"columns"),_.map(e,function(r){var a={Expression:Vi.createNamed(r.expression)};return r.role&&(a.Role=r.role),a})},t}(),ti=function(){function t(){}return t.from=function(e){n.fF.assertValue(e,"contract");var r={};if(e)for(var a=0,i=e.length;a<i;a++){var o=e[a];switch(o.Type){case 2:r[o.Name]=o.Expression.Subquery?new ei.vd(pr.deserializeQuery(o.Expression.Subquery.Query)):new ei.Qo(Bp(o.Expression));break;case 1:r[o.Name]=new ei.QS(o.Schema,o.Entity);break;default:r[o.Name]=new ei.SX(o.Schema,o.Entity)}}return new ei.cL(r)},t.filter=function(e,r){n.fF.assertValue(e,"contract");var a=r?cr(e.Condition,r):Xn(e.Condition);if(a){var i={condition:a};if(e.Target){i.target=[];for(var o=0,s=e.Target;o<s.length;o++){var p=s[o],x=r?cr(p,r):Xn(p);if(!x)return;i.target.push(x)}}return e.Annotations&&(i.annotations=e.Annotations),i}},t.sort=function(e,r){return n.fF.assertValue(e,"contract"),{direction:e.Direction,expr:cr(e.Expression,r)}},t.select=function(e,r,a){return t.toNamedQueryExpression(e,r,a)},t.groupBy=function(e,r,a){return t.toNamedQueryExpression(e,r,a)},t.transform=function(e,r){var a=_.map(e.Input.Parameters,function(p){return t.toNamedQueryExpression(p,{},r)}),i={name:e.Name,algorithm:e.Algorithm,input:{parameters:a},output:{}};if(e.Input.Table){var o=this.deserializeTransformTableColumns(e.Input.Table.Columns,r);i.input.table={name:e.Input.Table.Name,columns:o}}if(e.Output&&e.Output.Table){var s=this.deserializeTransformTableColumns(e.Output.Table.Columns,r);i.output.table={name:e.Output.Table.Name,columns:s}}return i},t.toNamedQueryExpression=function(e,r,a){n.fF.assertValue(e,"contract"),n.fF.assertValue(a,"from");var i=cr(e,a),o=e.Name||(0,E.zE)(r,z.m.defaultName(i));r[o]=!0;var s={name:o,expr:i};return e.NativeReferenceName&&(s.nativeReferenceName=e.NativeReferenceName),s},t.deserializeTransformTableColumns=function(e,r){n.fF.assertValue(e,"columns");var a={};return _.map(e,function(i){return{role:i.Role,expression:t.toNamedQueryExpression(i.Expression,a,r)}})},t}(),Ip=function(){function t(e){this.from=e}return t.prototype.visitEntity=function(e,r){return{Name:this.from.keys()[r],Entity:e.entity,Schema:e.schema,Type:0}},t.prototype.visitPod=function(e,r){return{Name:this.from.keys()[r],Entity:e.pod,Schema:e.schema,Type:1}},t.prototype.visitSubquery=function(e,r){return{Name:this.from.keys()[r],Expression:{Subquery:{Query:pr.serializeQuery(e.subquery)}},Type:2}},t.prototype.visitExpr=function(e,r){return{Name:this.from.keys()[r],Expression:pr.serializeExpr(e.expr),Type:2}},t}(),Vi=function(){function t(e,r){this.standalone=e,this.serializeAnnotations=r}return t.getInstance=function(e,r){e||(e=!1),r||(r=!1);var a=[+e,+r].reduce(function(o,s){return o<<1|s}),i=t.instances[a];return i||(i=new t(e,r)),i},t.create=function(e,r,a){return void 0===r&&(r=!1),void 0===a&&(a=!1),e.accept(t.getInstance(r,a))},t.createNamed=function(e,r,a){void 0===r&&(r=!1),void 0===a&&(a=!1);var i=t.getInstance(r,a),o=e.expr.accept(i);return e.name&&(o.Name=e.name),e.nativeReferenceName&&(o.NativeReferenceName=e.nativeReferenceName),o},t.prototype.visitColumnRef=function(e){return this.addAnnotations(e,{Column:{Expression:e.source.accept(this),Property:e.ref}})},t.prototype.visitMeasureRef=function(e){return this.addAnnotations(e,{Measure:{Expression:e.source.accept(this),Property:e.ref}})},t.prototype.visitNativeMeasure=function(e){var r={Language:e.language,Expression:e.expression,DataType:e.dataType};e.proposedName&&(r.ProposedName=e.proposedName),e.format&&(r.Format=e.format);var a=e.expressionContentCache;return!a||!a.dependencies&&null==a.unrecognizedIdentifiers?{NativeMeasure:r}:(r.ExpressionContentCache={},a.dependencies&&(r.ExpressionContentCache.Dependencies=this.serializeAll(a.dependencies)),null!=a.unrecognizedIdentifiers&&(r.ExpressionContentCache.UnrecognizedIdentifiers=a.unrecognizedIdentifiers),this.addAnnotations(e,{NativeMeasure:r}))},t.prototype.visitNativeColumn=function(e){var r={Language:e.language,Expression:e.expression,DataType:e.dataType,Source:e.source.accept(this)};e.proposedName&&(r.ProposedName=e.proposedName),e.format&&(r.Format=e.format);var a=e.expressionContentCache;return!a||!a.dependencies&&null==a.unrecognizedIdentifiers||(r.ExpressionContentCache={},a.dependencies&&(r.ExpressionContentCache.Dependencies=this.serializeAll(a.dependencies)),null!=a.unrecognizedIdentifiers&&(r.ExpressionContentCache.UnrecognizedIdentifiers=a.unrecognizedIdentifiers)),this.addAnnotations(e,{NativeColumn:r})},t.prototype.visitAggr=function(e){if(!_.isNil(e.includeAllTypes))switch(e.func){case 3:return this.addAnnotations(e,{Min:{Expression:e.arg.accept(this),IncludeAllTypes:e.includeAllTypes}});case 4:return this.addAnnotations(e,{Max:{Expression:e.arg.accept(this),IncludeAllTypes:e.includeAllTypes}})}return this.addAnnotations(e,{Aggregation:{Expression:e.arg.accept(this),Function:e.func}})},t.prototype.visitPercentile=function(e){var r=this.addAnnotations(e,{Percentile:{Expression:e.arg.accept(this),K:e.k}});return e.exclusive&&(r.Percentile.Exclusive=e.exclusive),r},t.prototype.visitRangePercent=function(e){return this.addAnnotations(e,{RangePercent:{Min:e.min.accept(this),Max:e.max.accept(this),Percent:e.percent}})},t.prototype.visitHierarchy=function(e){return this.addAnnotations(e,{Hierarchy:{Expression:e.arg.accept(this),Hierarchy:e.hierarchy}})},t.prototype.visitPropertyVariationSource=function(e){var r=e.arg.accept(this);return this.addAnnotations(e,{PropertyVariationSource:{Expression:{SourceRef:r.SourceRef},Name:e.name,Property:e.property}})},t.prototype.visitHierarchyLevel=function(e){return this.addAnnotations(e,{HierarchyLevel:{Expression:e.arg.accept(this),Level:e.level}})},t.prototype.visitSelectRef=function(e){return n.fF.assert(function(){return void 0===e.attributeKind||null==e.attributeKind},"Serialization of expr.attributeKind is not supported."),this.addAnnotations(e,{SelectRef:{ExpressionName:e.expressionName}})},t.prototype.visitBetween=function(e){return this.addAnnotations(e,{Between:{Expression:e.arg.accept(this),LowerBound:e.lower.accept(this),UpperBound:e.upper.accept(this)}})},t.prototype.visitIn=function(e){var r=this.serializeAll(e.args),a=e.values;if(a){for(var i=[],o=0,s=a.length;o<s;o++)i.push(this.serializeAll(a[o]));return this.addAnnotations(e,{In:{Expressions:r,Values:i}})}return this.addAnnotations(e,{In:{Expressions:this.serializeAll(e.args),Table:e.table.accept(this)}})},t.prototype.visitEntity=function(e){var r;return n.fF.assertValue(e,"expr"),this.standalone?r={Schema:e.schema,Entity:e.entity}:(n.fF.assertValue(e.variable,"expr.variable"),r={Source:e.variable}),this.addAnnotations(e,{SourceRef:r})},t.prototype.visitSubqueryRef=function(e){return n.fF.assertValue(e,"expr"),e.variable&&!e.query?this.addAnnotations(e,{SourceRef:{Source:e.variable}}):this.standalone?this.addAnnotations(e,{Subquery:{Query:pr.serializeQuery(e.query,!1,this.serializeAnnotations)}}):void n.fF.assertFail("The inlined subquery is only expected to be there in standalone mode.")},t.prototype.visitNamedQueryRef=function(e){return this.standalone?this.addAnnotations(e,{NamedQueryReference:{Name:e.queryName}}):(n.fF.assertValue(e.variable,"expr.variable"),this.addAnnotations(e,{SourceRef:{Source:e.variable}}))},t.prototype.visitAnd=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{And:{Left:e.left.accept(this),Right:e.right.accept(this)}})},t.prototype.visitOr=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{Or:{Left:e.left.accept(this),Right:e.right.accept(this)}})},t.prototype.visitCompare=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{Comparison:{ComparisonKind:e.comparison,Left:e.left.accept(this),Right:e.right.accept(this)}})},t.prototype.visitConditional=function(e){var r=this;n.fF.assertValue(e,"expr");var a=this.addAnnotations(e,{Conditional:{Cases:_.map(e.cases,function(o){return r.visitCase(o)})}}),i=e.defaultValue;return i&&(a.Conditional.DefaultValue=i.accept(this)),a},t.prototype.visitCase=function(e){return{Condition:e.condition.accept(this),Value:e.value.accept(this)}},t.prototype.visitContains=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{Contains:{Left:e.left.accept(this),Right:e.right.accept(this)}})},t.prototype.visitDateAdd=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{DateAdd:{Expression:e.arg.accept(this),Amount:e.amount,TimeUnit:e.unit}})},t.prototype.visitDateSpan=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{DateSpan:{Expression:e.arg.accept(this),TimeUnit:e.unit}})},t.prototype.visitExists=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{Exists:{Expression:e.arg.accept(this)}})},t.prototype.visitNot=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{Not:{Expression:e.arg.accept(this)}})},t.prototype.visitNow=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{Now:{}})},t.prototype.visitDefaultValue=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{DefaultValue:{}})},t.prototype.visitAnyValue=function(e){n.fF.assertValue(e,"expr");var r={};return null!=e.defaultValueOverridesAncestors&&(r.DefaultValueOverridesAncestors=e.defaultValueOverridesAncestors),this.addAnnotations(e,{AnyValue:r})},t.prototype.visitFillRule=function(e){n.fF.assertValue(e,"expr");var r={},a=e.rule;return a.linearGradient2&&(r.linearGradient2=this.visitLinearGradient2(a.linearGradient2)),a.linearGradient3&&(r.linearGradient3=this.visitLinearGradient3(a.linearGradient3)),this.addAnnotations(e,{FillRule:{Input:e.input.accept(this),FillRule:r}})},t.prototype.visitLinearGradient2=function(e){n.fF.assertValue(e,"visitLinearGradient2 - gradient");var r={min:this.visitRuleStop(e.min),max:this.visitRuleStop(e.max)},a=this.visitNullColoringStrategy(e.nullColoringStrategy);return a&&(r.nullColoringStrategy=a),r},t.prototype.visitLinearGradient3=function(e){n.fF.assertValue(e,"visitLinearGradient3 - gradient");var r={min:this.visitRuleStop(e.min),mid:this.visitRuleStop(e.mid),max:this.visitRuleStop(e.max)},a=this.visitNullColoringStrategy(e.nullColoringStrategy);return a&&(r.nullColoringStrategy=a),r},t.prototype.visitRuleStop=function(e){n.fF.assertValue(e,"stop");var r={color:e.color.accept(this)};return e.value&&(r.value=e.value.accept(this)),r},t.prototype.visitNullColoringStrategy=function(e){if(e){n.fF.assertValue(e.strategy,"visitNullColoringStrategy - input.strategy");var r={strategy:e.strategy.accept(this)};return e.color&&(r.color=e.color.accept(this)),r}},t.prototype.visitThemeDataColor=function(e){return this.addAnnotations(e,{ThemeDataColor:{ColorId:e.colorId,Percent:e.percent}})},t.prototype.visitStartsWith=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{StartsWith:{Left:e.left.accept(this),Right:e.right.accept(this)}})},t.prototype.visitGroupRef=function(e){var r=this;return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{GroupRef:{Expression:e.source.accept(this),Property:e.ref,GroupedColumns:_.map(e.groupedExprs,function(a){return a.accept(r)})}})},t.prototype.visitConstant=function(e){switch(n.fF.assertValue(e,"expr"),e.type.primitiveType){case 5:case 7:case 2:case 4:case 3:case 0:case 1:return this.addAnnotations(e,{Literal:{Value:e.valueEncoded}});default:n.fF.assertFail("Unrecognized kind: "+e.type.primitiveType)}},t.prototype.visitArithmetic=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{Arithmetic:{Left:e.left.accept(this),Right:e.right.accept(this),Operator:e.operator}})},t.prototype.visitFloor=function(e){n.fF.assertValue(e,"expr");var r=this.addAnnotations(e,{Floor:{Expression:e.arg.accept(this),Size:e.size}});return null!=e.timeUnit&&(r.Floor.TimeUnit=e.timeUnit),r},t.prototype.visitResourcePackageItem=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{ResourcePackageItem:{PackageName:e.packageName,PackageType:e.packageType,ItemName:e.itemName}})},t.prototype.visitScopedEval=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{ScopedEval:{Expression:e.expression.accept(this),Scope:this.serializeAll(e.scope)}})},t.prototype.visitFilteredEval=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{FilteredEval:{Expression:e.expression.accept(this),Filters:pr.serializeQueryFilters(e.filters,t.create,this.standalone)}})},t.prototype.visitWithRef=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{WithRef:{ExpressionName:e.expressionName}})},t.prototype.visitTransformTableRef=function(e){return this.addAnnotations(e,{TransformTableRef:{Source:e.source}})},t.prototype.visitTransformOutputRoleRef=function(e){return this.addAnnotations(e,{TransformOutputRoleRef:{Role:e.role,Transform:e.transform}})},t.prototype.visitRoleRef=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{RoleRef:{Role:e.role}})},t.prototype.visitSummaryValueRef=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{SummaryValueRef:{Name:e.name}})},t.prototype.visitAllRolesRef=function(e){return n.fF.assertValue(e,"expr"),this.addAnnotations(e,{AllRolesRef:{}})},t.prototype.visitDiscretize=function(e){return this.addAnnotations(e,{Discretize:{Expression:e.source.accept(this),Count:e.count}})},t.prototype.visitMember=function(e){return this.addAnnotations(e,{Member:{Expression:e.source.accept(this),Member:e.member}})},t.prototype.visitSparklineData=function(e){var r={SparklineData:{Measure:e.measure.accept(this),Groupings:this.serializeAll(e.grouping),PointsPerSparkline:e.pointsPerSparkline}};return e.scalarKey&&(r.SparklineData.ScalarKey=e.scalarKey.accept(this)),e.includeMinGroupingInterval&&(r.SparklineData.IncludeMinGroupingInterval=e.includeMinGroupingInterval),r},t.prototype.serializeAll=function(e){for(var r=[],a=0,i=e.length;a<i;a++)r.push(e[a].accept(this));return r},t.prototype.visitNativeVisualCalc=function(e,r){return this.addAnnotations(e,{NativeVisualCalculation:{Language:e.language,Expression:e.expression,Name:e.name}})},t.prototype.addAnnotations=function(e,r){if(this.serializeAnnotations){var a=e.getAnnotations();a&&(r.Annotations=a)}return r},t.instances=[],t}(),Gl=function(){function t(){}return t.Upgrade=function(e,r){if(!r||!r.condition)return null;var a=(0,Lp._)(r.condition);return e===Qi.Version0&&2!==a?{condition:r.condition}:r},t}();function cr(t,e){return n.fF.assertValue(t,"contract"),function(t,e){if(t.Column){var r=cr(t.Column.Expression,e);if(r)return(0,m.Oh)(r,t.Column.Property,t.Annotations)}}(t,e)||function(t,e){if(t.Measure){var r=cr(t.Measure.Expression,e);if(r)return(0,m.mv)(r,t.Measure.Property,t.Annotations)}}(t,e)||function(t,e){if(t.NativeMeasure){var r=void 0;return t.NativeMeasure.ExpressionContentCache&&(r={unrecognizedIdentifiers:t.NativeMeasure.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:Yi(t.NativeMeasure.ExpressionContentCache.Dependencies)}),"dax"!==t.NativeMeasure.Language&&n.fF.assertFail("QueryNativeMeasure is using unexpected language: "+t.NativeMeasure.Language),(0,m.PB)(t.NativeMeasure.Language,t.NativeMeasure.Expression,t.NativeMeasure.DataType,t.NativeMeasure.ProposedName,r,t.NativeMeasure.Format,t.Annotations)}}(t)||function(t,e){if(t.NativeColumn){var r=void 0;if(t.NativeColumn.ExpressionContentCache&&(r={unrecognizedIdentifiers:t.NativeColumn.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:Yi(t.NativeColumn.ExpressionContentCache.Dependencies)}),"dax"!==t.NativeColumn.Language)return void n.fF.assertFail("QueryNativeColumn is using unexpected language: "+t.NativeColumn.Language);if(!t.NativeColumn.Source)return void n.fF.assertFail("QueryNativeColumn should have a source");var a=cr(t.NativeColumn.Source,e);return(0,m.sl)(t.NativeColumn.Language,t.NativeColumn.Expression,t.NativeColumn.DataType,a,t.NativeColumn.ProposedName,r,t.NativeColumn.Format,t.Annotations)}}(t,e)||function(t,e){if(t.SourceRef){if(!e){var o=t.SourceRef;return(0,m.nw)(o.Schema,o.Entity,void 0,t.Annotations)}var a=t.SourceRef.Source,i=e.source(a);if(i)return(0,ei.$r)(i)?(0,m.nw)(i.schema,i.entity,a,t.Annotations):(0,ei.Yg)(i)?(0,m.nw)(i.schema,i.pod,a):(0,Rp.y)(i)?(0,m.v5)(a,t.Annotations):(n.fF.assert(function(){return(0,ei.Ms)(i)},"Expected an ExpressionSource"),i.expr.as(a))}}(t,e)||function(t,e){if(t.Aggregation){var r=cr(t.Aggregation.Expression,e);if(r)return(0,m.m_)(r,t.Aggregation.Function,void 0,t.Annotations)}}(t,e)||function(t,e){if(t.Min){var r=cr(t.Min.Expression,e);if(r)return(0,m.m_)(r,3,t.Min.IncludeAllTypes,t.Annotations)}}(t,e)||function(t,e){if(t.Max){var r=cr(t.Max.Expression,e);if(r)return(0,m.m_)(r,4,t.Max.IncludeAllTypes,t.Annotations)}}(t,e)||function(t,e){if(t.SelectRef)return(0,m.xA)(t.SelectRef.ExpressionName,void 0,t.Annotations)}(t)||function(t,e){if(t.Percentile){var r=cr(t.Percentile.Expression,e);if(r)return(0,m.Pe)(r,t.Percentile.K,t.Percentile.Exclusive||!1,t.Annotations)}}(t,e)||function(t,e){if(t.RangePercent){var r=cr(t.RangePercent.Min,e),a=cr(t.RangePercent.Max,e);if(r&&a)return(0,m.Mj)(r,a,t.RangePercent.Percent,t.Annotations)}}(t,e)||function(t,e){if(t.Arithmetic){var r=cr(t.Arithmetic.Left,e),a=cr(t.Arithmetic.Right,e);if(r&&a)return(0,m.Y8)(r,a,t.Arithmetic.Operator,t.Annotations)}}(t,e)||function(t,e){if(t.Floor){var r=cr(t.Floor.Expression,e);if(r)return(0,m.GW)(r,t.Floor.Size,t.Floor.TimeUnit,t.Annotations)}}(t,e)||function(t,e){if(t.Discretize){var r=cr(t.Discretize.Expression,e);if(r)return(0,m.h5)(r,t.Discretize.Count,t.Annotations)}}(t,e)||function(t,e){if(t.Member){var r=cr(t.Member.Expression,e);if(r)return(0,m.fP)(r,t.Member.Member,t.Annotations)}}(t,e)||function(t,e){if(t.Hierarchy){var r=cr(t.Hierarchy.Expression,e);if(r)return(0,m.bT)(r,t.Hierarchy.Hierarchy,t.Annotations)}}(t,e)||function(t,e){if(t.HierarchyLevel){var r=cr(t.HierarchyLevel.Expression,e);if(r)return(0,m.os)(r,t.HierarchyLevel.Level,t.Annotations)}}(t,e)||function(t,e){if(t.PropertyVariationSource){var r=cr(t.PropertyVariationSource.Expression,e);if(r)return(0,m.yU)(r,t.PropertyVariationSource.Name,t.PropertyVariationSource.Property,t.Annotations)}}(t,e)||function(t,e){if(t.And){var r=cr(t.And.Left,e),a=cr(t.And.Right,e);if(r&&a)return(0,m.xD)(r,a,t.Annotations)}}(t,e)||function(t,e){if(t.Between){var r=cr(t.Between.Expression,e),a=cr(t.Between.LowerBound,e),i=cr(t.Between.UpperBound,e);if(r&&a&&i)return(0,m.vX)(r,a,i,t.Annotations)}}(t,e)||function(t,e){if(t.In){if(t.In.Values)return(0,m.Sh)(Yi(t.In.Expressions,e),_.map(t.In.Values,function(a){return Yi(a,e)}));var r=cr(t.In.Table,e);if(r)return(0,m.dY)(Yi(t.In.Expressions,e),r,t.Annotations)}}(t,e)||function(t,e){if(t.Or){var r=cr(t.Or.Left,e),a=cr(t.Or.Right,e);if(r&&a)return(0,m.or)(r,a,t.Annotations)}}(t,e)||function(t,e){if(t.Contains){var r=cr(t.Contains.Left,e),a=cr(t.Contains.Right,e);if(r&&a)return(0,m.r3)(r,a,t.Annotations)}}(t,e)||function(t,e){if(t.Comparison){var r=cr(t.Comparison.Left,e),a=cr(t.Comparison.Right,e);if(r&&a)return(0,m.qu)(t.Comparison.ComparisonKind,r,a,t.Annotations)}}(t,e)||function(t,e){if(t.Conditional){for(var r=t.Conditional.Cases,a=r.length,i=new Array(a),o=0;o<a;o++){var s=cm(r[o]);if(!s){i=void 0;break}i[o]=s}if(t.Conditional.DefaultValue){var p=cr(t.Conditional.DefaultValue);if(i&&p)return(0,m.u7)(i,p,t.Annotations)}else if(i)return(0,m.u7)(i,void 0,t.Annotations)}}(t)||function(t,e){if(t.DateAdd){var r=cr(t.DateAdd.Expression,e);if(r)return(0,m.sO)(t.DateAdd.TimeUnit,t.DateAdd.Amount,r,t.Annotations)}}(t,e)||function(t,e){if(t.DateSpan){var r=cr(t.DateSpan.Expression,e);if(r)return(0,m.uQ)(t.DateSpan.TimeUnit,r,t.Annotations)}}(t,e)||function(t,e){if(t.Exists){var r=cr(t.Exists.Expression,e);if(r)return(0,m.Gg)(r,t.Annotations)}}(t,e)||function(t,e){if(t.Not){var r=cr(t.Not.Expression,e);if(r)return(0,m.ff)(r,t.Annotations)}}(t,e)||function(t){if(t.Now)return(0,m.zO)(t.Annotations)}(t)||function(t){if(t.DefaultValue)return(0,m.LS)(t.Annotations)}(t)||function(t){if(t.AnyValue)return(0,m.n7)(t.AnyValue.DefaultValueOverridesAncestors,t.Annotations)}(t)||function(t,e){if(t.StartsWith){var r=cr(t.StartsWith.Left,e),a=cr(t.StartsWith.Right,e);if(r&&a)return(0,m.Ny)(r,a,t.Annotations)}}(t,e)||function(t,e){if(t.FillRule){var r=cr(t.FillRule.Input,e),a=t.FillRule,i={},o=a.FillRule.linearGradient2,s=a.FillRule.linearGradient3;if(o)i.linearGradient2={min:Fn(o.min,e),max:Fn(o.max,e)},(p=Ql(o.nullColoringStrategy,e))&&(i.linearGradient2.nullColoringStrategy=p);else if(s){var p;i.linearGradient3={min:Fn(s.min,e),mid:Fn(s.mid,e),max:Fn(s.max,e)},(p=Ql(s.nullColoringStrategy,e))&&(i.linearGradient3.nullColoringStrategy=p)}return(0,m.x5)(r,i,t.Annotations)}}(t,e)||function(t){if(t.ThemeDataColor)return(0,m.e7)(t.ThemeDataColor.ColorId,t.ThemeDataColor.Percent,t.Annotations)}(t)||function(t,e){if(t.ResourcePackageItem)return(0,m.nF)(t.ResourcePackageItem.PackageName,t.ResourcePackageItem.PackageType,t.ResourcePackageItem.ItemName,t.Annotations)}(t)||function(t,e){if(t.ScopedEval){var r=cr(t.ScopedEval.Expression,e);if(r)return(0,m.ed)(r,Yi(t.ScopedEval.Scope,e),t.Annotations)}}(t,e)||function(t,e){if(t.FilteredEval){var r=cr(t.FilteredEval.Expression,e);return(0,m.Xw)(r,_.map(t.FilteredEval.Filters,function(a){return ti.filter(a,e)}),t.Annotations)}}(t,e)||function(t,e){if(t.WithRef)return(0,m.Oe)(t.WithRef.ExpressionName,t.Annotations)}(t)||function(t,e){if(t.TransformTableRef)return(0,m.GB)(t.TransformTableRef.Source,t.Annotations)}(t)||function(t,e){if(t.TransformOutputRoleRef)return(0,m.hu)(t.TransformOutputRoleRef.Role,t.TransformOutputRoleRef.Transform,t.Annotations)}(t)||function(t){if(t.Literal)return Be(t.Literal.Value)}(t)||function(t,e){if(t.GroupRef){var r=cr(t.GroupRef.Expression,e),a=_.map(t.GroupRef.GroupedColumns,function(i){return cr(i,e)});if(r&&!_.isEmpty(a))return(0,m.Wp)(t.GroupRef.Property,r,a,t.Annotations)}}(t,e)||function(t){if(t.RoleRef)return(0,m.Wu)(t.RoleRef.Role,t.Annotations)}(t)||function(t){if(t.AllRolesRef)return(0,m.lI)(t.Annotations)}(t)||function(t){if(t.NamedQueryReference)return(0,m.kD)(t.NamedQueryReference.Name,void 0,t.Annotations)}(t)||function(t){if(t.Subquery)return(0,m.v5)(pr.deserializeQuery(t.Subquery.Query),t.Annotations)}(t)||function(t){return function(t){if(t.Boolean)return(0,m.O7)(t.Boolean.Value,t.Annotations)}(t)||Yl(t)||function(t){if(t.DateTimeSecond){var e=ql(t.DateTimeSecond);return(0,m.uQ)(5,(0,m.CQ)(e),t.Annotations)}}(t)||Yl(t)||function(t){if(t.Decimal)return(0,m.gH)(t.Decimal.Value,void 0,t.Annotations)}(t)||function(t){if(t.Integer)return(0,m.cA)(t.Integer.Value,void 0,t.Annotations)}(t)||function(t){if(t.Null)return(0,m.IF)()}(t)||function(t){if(t.Number)return Be(t.Number.Value)}(t)||function(t){if(t.String)return(0,m.fL)(t.String.Value,void 0,t.Annotations)}(t)}(t)||function(t){if(t.SummaryValueRef)return(0,m.bO)(t.SummaryValueRef.Name,t.Annotations)}(t)||function(t,e){var r=t.SparklineData;if(r)return(0,m.Zy)(cr(r.Measure,e),Yi(r.Groupings,e),r.ScalarKey?cr(t.SparklineData.ScalarKey,e):void 0,r.PointsPerSparkline,r.IncludeMinGroupingInterval)}(t,e)||function(t,e){var r=t.NativeVisualCalculation;if(r)return(0,m.YU)(r.Name,r.Expression,t.Annotations)}(t)}function Xn(t){return cr(t,null)}function Yi(t,e){for(var r=[],a=0,i=t.length;a<i;a++)r.push(cr(t[a],e));return r}function Bp(t){return Xn(t)}function cm(t){if(t){var e=cr(t.Condition),r=cr(t.Value);if(e&&r)return{condition:e,value:r}}}function Fn(t,e){if(t){var r={color:cr(t.color,e)};return t.value&&(r.value=cr(t.value,e)),r}}function Ql(t,e){if(t){var r={strategy:cr(t.strategy,e)};return t.color&&(r.color=cr(t.color,e)),r}}function Yl(t){var e=t.DateTime||t.Date;if(e){var r=ql(e);if(r)return(0,m.CQ)(r,void 0,t.Annotations)}}function ql(t){return n.fF.assertValue(t,"contract"),function(t){try{return function(t){if(E.b$.throwIfNullOrEmptyString(t,null,"deserializeDate","Cannot deserialize empty string"),(0,ot.BF)(0===t.indexOf("/Date(")&&_.endsWith(t,")/"),"Cannot deserialize empty string"),be()){var e=moment(t);return(0,ot.BF)(e.isValid(),"parsedValue.isValid must be true"),e.toDate()}var r=t.substring("/Date(".length,t.length-")/".length);(0,ot.BF)(/^\-?\d+$/.test(r),"Cannot deserialize invalid date");var a=parseInt(r,10);return(0,ot.BF)(!isNaN(a),"Cannot deserialize invalid date"),new Date(a)}(t)}catch(e){}}(t.Value)}function on(t){return n.fF.assert(function(){return t&&t.Commands&&t.Commands.length>0},"data query should not be empty"),t.Commands.length>1}function Zl(t){return n.fF.assert(function(){return t&&t.Commands&&t.Commands.length>0},"data query should not be empty"),on(t)?jo(t):Ho(t.Commands[0].SemanticQueryDataShapeCommand)}function jo(t){if(n.fF.assert(function(){return!t||on(t)},"!dataQuery || isCompositeDataQuery(dataQuery)"),t)return JSON.stringify(t)}function Ho(t){if(t)return JSON.stringify(t)}var Jl=E.b$.generateGuid,Xl=function(){function t(e,r,a,i,o){this.featureSwitches=o,n.fF.assertValue(e,"promiseFactory"),n.fF.assertValue(a,"createQuery"),this.createQuery=a,this.createCancelQuery=i,this.promiseFactory=e,this.cacheByModel={},this.telemetryService=r}return t.prototype.ensure=function(e){var a,r=this;n.fF.assertValue(e,"options"),n.fF.assertValue(e.command,"options.command");var i=e.command;n.fF.assert(function(){return i&&i.Commands&&i.Commands.length>0},"data query should not be empty");var o=i.Commands[0].SemanticQueryDataShapeCommand,s=this.ensureCache(e.dataSources),p=Zl(i);if(s.hasCacheEntry(p)){if(t.allowResultFromClientCacheOrDefault(e))return this.telemetryService.logEvent(lt,{cacheHit:!0,isCacheFull:s.isFull(),entryCount:s.getEntryCount()}),s.bindCacheEntry(p,void 0,e.telemetryV2Enabled);s.clearEntry(p)}this.telemetryService.logEvent(lt,{cacheHit:!1,isCacheFull:s.isFull(),entryCount:s.getEntryCount()});var x=$l(i,this.featureSwitches,p),U=this.findEquivalentCache(e,s,x);if(U)return U;var ue,K=(0,ie.pi)({},e);K.queryId=x.queryId,K.executionType=0,null!==(a=this.featureSwitches)&&void 0!==a&&a.queryContext&&(ue=function(Re){var $e=r.findQueryContext(K);if(!$e)return Re;var st=(0,ie.pi)({},Re);return st.queryContext=$e,st});var ye=s.createCacheEntry(p,x,ue,t.rewriteCachedResult,e.telemetryV2Enabled);if(ye.promise.catch(function(Ie){(0,Xr.Hx)(Ie)||r.featureSwitches&&r.featureSwitches.queryCancellation&&r.createCancelQuery({dataSources:K.dataSources,command:K.command,allowResultFromClientCache:K.allowResultFromClientCache,allowClientSideFilters:K.allowClientSideFilters,cacheResponseOnServer:K.cacheResponseOnServer,ignoreViewportForCache:K.ignoreViewportForCache,cacheOptions:K.cacheOptions,queryId:K.queryId,executionType:1},Ie&&Ie.queryCancellationSource)}),K.clientCacheOnly)return ye.promise.reject(new Xr.xs),ye.promise;this.createQuery(K,ye);var _e=s.bindCacheEntry(p,void 0,e.telemetryV2Enabled);return!1===e.cacheResponseOnClient&&s.clearEntry(p),o.Binding&&o.Binding.DataReduction&&($n(o.Binding.DataReduction.Primary)||$n(o.Binding.DataReduction.Secondary))||_e.then(function(Ie){Ie&&Ie.dsr&&function(t,e){if(n.fF.assertValue(t,"dsr"),zo(t)){if(!e)return!1;for(var r=kt(t,void 0).dataShapes(),a=function(t){return n.fF.assertAnyValue(t,"dsr"),t.MinorVersion}(t);r.next();)if(a&&a>=1){if(!0!==r.hasAllData())return!1}else if(!r.complete()||r.limitsExceeded()||r.hasRestartTokens())return!1;return!0}return _.every(t.DataShapes,function(i){return i&&i.IsComplete&&_.isEmpty(i.DataLimitsExceeded)&&!i.RestartTokens})}(Ie.dsr,r.featureSwitches&&r.featureSwitches.dsrV2)&&(x.hasAllData=!0)},function(){}),_e},t.prototype.findQueryContext=function(e){var r=e.applicationContext;if(r)return n.fF.assert(function(){return 1===_.size(r.Sources)},"Expected to have 1 ApplicationContextSource"),r.Sources[0].CustomProperties},t.prototype.clear=function(e){var r=this.getCache(e);r&&r.clearAllEntries()},t.prototype.rewrite=function(e,r){var a=this,i=this.getCache(e);if(i){var o={};r.rewriteCacheKey&&r.rewriteDataQueryCacheKey&&(o.rewriteKey=function(s){var p=JSON.parse(s),x=i.getEntryContext(s);if(x.compositeDataQuery){var U=p,K=r.rewriteDataQueryCacheKey(U);if(K&&K!==U){var ue=eu(K,a.featureSwitches);_.assign(x,ue)}}else{var ye=p,_e=r.rewriteCacheKey(ye);_e&&_e!==ye&&(ue=tu(_e,a.featureSwitches),_.assign(x,ue))}return x.key}),r.rewriteCacheResult&&(o.rewriteResult=function(s){var p=s,x=r.rewriteCacheResult({descriptor:p.descriptor,dsr:p.dsr});return x?{descriptor:x.descriptor,dsr:x.dsr}:{descriptor:p.descriptor,dsr:p.dsr}}),i.rewriteAllEntries(o)}},t.prototype.put=function(e,r,a){var i=this.ensureCache(e),o=r,s=Zl(o);if(i.hasCacheEntry(s))i.putCacheResult(s,a,t.rewriteCachedResult);else{var p=$l(o,this.featureSwitches,s);i.createCacheEntry(s,p,void 0,t.rewriteCachedResult).deferred.resolve(a)}},t.allowResultFromClientCacheOrDefault=function(e){return n.fF.assertValue(e,"options"),!1!==e.allowResultFromClientCache},t.prototype.findEquivalentCache=function(e,r,a){if(n.fF.assertValue(e,"options"),n.fF.assertValue(r,"cache"),n.fF.assertValue(a,"entryContext"),t.allowResultFromClientCacheOrDefault(e))if(a.compositeDataQuery){if(e.ignoreViewportForCache)for(var _e=0,Ie=r.keys();_e<Ie.length;_e++)if((ue=r.getEntryContext(Ie[_e]))&&ue.keyWithoutViewport&&ue.keyWithoutViewport===a.keyWithoutViewport)return r.bindCacheEntry(ue.key,void 0,e.telemetryV2Enabled)}else{var i=e.command;n.fF.assert(function(){return i&&!_.isEmpty(i.Commands)},"data query should not be empty");for(var o=i.Commands[0].SemanticQueryDataShapeCommand.Binding,s=!!(o&&o.DataReduction&&o.DataReduction.Primary&&o.DataReduction.Primary.TopNPerLevel),p=!1,x=0,U=r.keys();x<U.length;x++){var ue;if(ue=r.getEntryContext(U[x])){if(!s&&ue.hasAllData&&ue.keyWithoutReduction===a.keyWithoutReduction)return r.bindCacheEntry(ue.key,void 0,e.telemetryV2Enabled);if(Xm(r,ue,e,a,e.telemetryV2Enabled)){p=!0;break}}}p&&nn.f.information("Reused cache with client side filters")}},t.prototype.getCache=function(e){return this.cacheByModel[this.generateModelKey(e)]},t.prototype.ensureCache=function(e){var r,a=this.generateModelKey(e),i=this.cacheByModel,o=i[a];return void 0===o&&(o=i[a]=null!==(r=this.featureSwitches)&&void 0!==r&&r.lruCacheEvictionPolicy?new Hl(this.promiseFactory,1):new Hl(this.promiseFactory,0)),o},t.prototype.generateModelKey=function(e){if(!_.isEmpty(e))return JSON.stringify(_.map(e,function(r){return{dbName:r.dbName,vsName:r.vsName,schemaName:r.schemaName}}))},t.rewriteCachedResult=function(e){if(!e)return e;var r=(0,ie.pi)({},e);return delete r.metrics,r.fromClientCache=!0,r},t}();function $l(t,e,r){return n.fF.assertValue(t,"dataQuery"),n.fF.assert(function(){return t&&t.Commands&&t.Commands.length>0},"data query should not be empty"),n.fF.assertAnyValue(r,"cacheKey"),on(t)?eu(t,e,r):(n.fF.assert(function(){return 1===t.Commands.length},"Expecting a non-empty, non-composite query to have exactly 1 command."),tu(t.Commands[0].SemanticQueryDataShapeCommand,e,r))}function eu(t,e,r){return n.fF.assertValue(t,"dataQuery"),n.fF.assert(function(){return on(t)},"data query should be composite"),n.fF.assertAnyValue(r,"cacheKey"),n.fF.assert(function(){return!r||r===jo(t)},"If cacheKey is specified, it is expected to be the return value of this.generateCacheKeyDataQuery(dataQuery).  The fact that cacheKey is a parameter to this function is just an optimization."),{key:r||jo(t),keyWithoutReduction:Ym(t),keyWithoutViewport:qm(t),keyWithoutFilter:void 0,queryFilters:void 0,compositeDataQuery:!0,queryId:ru(e)}}function tu(t,e,r){n.fF.assertAnyValue(t,"dataShapeCommand"),n.fF.assertAnyValue(r,"cacheKey"),n.fF.assert(function(){return!r||r===Ho(t)},"If cacheKey is specified, it is expected to be the return value of this.generateCacheKey(dataShapeCommand).  The fact that cacheKey is a parameter to this function is just an optimization.");var a=function(t){if(n.fF.assertAnyValue(t,"command"),!t)return!1;var e=t.Binding&&t.Binding.DataReduction,r=e&&e.Primary,a=e&&e.Secondary;return!(!nu(r)||!nu(a)||$n(r)||$n(a))}(t);return{key:r||Ho(t),keyWithoutReduction:Gm(t),keyWithoutViewport:void 0,keyWithoutFilter:a?Qm(t):void 0,queryFilters:a?Zm(t):void 0,compositeDataQuery:!1,queryId:ru(e)}}function ru(t){return t&&t.queryCancellation?Jl():""}function au(t){t&&t.Binding&&"object"==typeof t.Binding&&(t.Binding.DataReduction=void 0,t.Binding.Limits=void 0)}function Gm(t){if(t){var e=_.cloneDeep(t);return au(e),JSON.stringify(e)}}function Qm(t){if(t){var e=_.cloneDeep(t);return function(t){t&&t.Query&&t.Query.Where&&(t.Query.Where=void 0)}(e),JSON.stringify(e)}}function Ym(t){if(n.fF.assert(function(){return!t||on(t)},"!dataQuery || isCompositeDataQuery(dataQuery)"),t){var e=_.cloneDeep(t);return au(e.Commands[0].SemanticQueryDataShapeCommand),JSON.stringify(e)}}function qm(t){if(n.fF.assert(function(){return!t||on(t)},"!dataQuery || isCompositeDataQuery(dataQuery)"),t){n.fF.assertValue(t.Commands,"dataQuery.Commands"),n.fF.assert(function(){return 2===t.Commands.length},"dataQuery.Commands must have two commands"),n.fF.assertValue(t.Commands[1].ScriptVisualCommand,"dataQuery.Commands second element must be a ScriptVisualCommand");var e=_.cloneDeep(t);return function(t){t&&(t.ViewportHeightPx=void 0,t.ViewportWidthPx=void 0)}(e.Commands[1].ScriptVisualCommand),JSON.stringify(e)}}function Zm(t){n.fF.assertAnyValue(t,"command");var e=t&&t.Query;if(e&&!_.isEmpty(e.Where)){var r=ou(e),a=r&&r.where();if(!_.isEmpty(a))return a}}function Xm(t,e,r,a,i){if(void 0===i&&(i=!1),n.fF.assert(function(){return Xl.allowResultFromClientCacheOrDefault(r)},"QueryCache.allowResultFromClientCacheOrDefault(options)"),n.fF.assertValue(t,"cache"),n.fF.assertValue(e,"oldItemContext"),n.fF.assertValue(r,"newQueryOptions"),n.fF.assertValue(a,"newItemContext"),r.allowClientSideFilters){var o=function(t,e){if(n.fF.assertValue(t,"oldItemContext"),n.fF.assertValue(e,"newItemContext"),!e.compositeDataQuery&&e.keyWithoutFilter&&!t.compositeDataQuery&&t.keyWithoutFilter&&t.hasAllData&&t.keyWithoutFilter===e.keyWithoutFilter&&function(t,e){return n.fF.assertAnyValue(t,"filters"),n.fF.assertAnyValue(e,"counterparts"),_.every(t,function(r){return _.some(e,function(a){return function(t,e){if(n.fF.assertValue(t,"restrictiveFilter"),n.fF.assertValue(e,"baseFilter"),!(0,T.FK)(t,e))return!1;var r=t.condition,a=e.condition;if(r instanceof m.ev&&a instanceof m.ev){var i=Xe(r),o=Xe(a);if(i&&o&&(0,T.fS)(i.otherSide,o.otherSide))return(0,E.r3)(Pe(i.constantValue),Pe(o.constantValue))}return!1}(a,r)})})}(iu(t.queryFilters,e.queryFilters),e.queryFilters)){var o=iu(e.queryFilters,t.queryFilters);if(!_.isEmpty(o))return function(t,e){n.fF.assert(function(){return t&&!t.compositeDataQuery},"itemContext && !itemContext.compositeDataQuery"),n.fF.assertNonEmpty(e,"filtersToConvert");var r=JSON.parse(t.key),a=ou(r&&r.Query);if(a)return n.fF.assert(function(){return _.every(e,function(o){return(0,T.qV)(a.where(),o)})},"expecting every item in filtersToConvert to be in the where clause of the source SemanticQuery."),function(t,e){n.fF.assertNonEmpty(t,"selects"),n.fF.assertNonEmpty(e,"filters");var r=_.some(e,function(p){return!function(t){return n.fF.assertValue(t,"filter"),!t.target}(p)});if(!r){for(var a=new ze(t),i=0,o=e;i<o.length;i++)o[i].condition.accept(a);return a.getClientSideFiltersIfAllSupported()}}(a.select(),e)}(e,o)}}(e,a);if(!_.isEmpty(o))return t.bindCacheEntry(e.key,function(s){return function(t,e){n.fF.assertValue(t,"data"),n.fF.assertNonEmpty(e,"clientSideFilters");var r=(0,ie.pi)({},t);return r.clientSideFilters=e,r}(s,o)},i)}}function iu(t,e){return n.fF.assertAnyValue(t,"filters"),n.fF.assertAnyValue(e,"comparants"),_.isEmpty(e)?t:_.filter(t,function(r){return!(0,T.qV)(e,r)})}function $n(t){return n.fF.assertAnyValue(t,"algorithm"),t&&t.Window&&null!=t.Window.RestartTokens}function nu(t){return n.fF.assertAnyValue(t,"algorithm"),!t||!!t.Window}function ou(t){if(n.fF.assertAnyValue(t,"queryDefinition"),t&&t.From&&t.Select)return pr.deserializeQuery(t)}var iv=function(t){function e(r){var a=this;return n.fF.assertValue(r,"jobId"),(a=t.call(this,"DelayedQueryTimeoutError")||this).jobId=r,a}return(0,ie.ZT)(e,t),e.prototype.getDetails=function(r){var a=t.prototype.getDetails.call(this,r);return a.debugErrorInfo=a.debugErrorInfo||[],a.debugErrorInfo.push({errorInfoKey:Xr.nE,errorInfoValue:this.jobId}),a},e}(Xr.mB),nv=function(){function t(){}return t.prototype.resolveDelayedQuery=function(e,r,a){n.fF.assertFail("Apps that want to support delayed query results need to specify an IExecuteSemanticQueryDelayedResultResolver implementation"),a.reject(new iv(e))},t}(),ov=function(t){function e(r){var a=this;return n.fF.assertValue(r,"requestId"),(a=t.call(this,"ExecuteSemanticQueryUnknownError")||this).httpRequestId=r,a}return(0,ie.ZT)(e,t),Object.defineProperty(e.prototype,"requestId",{get:function(){return this.httpRequestId},enumerable:!1,configurable:!0}),e.prototype.getDetails=function(r){var a=t.prototype.getDetails.call(this,r);return a.debugErrorInfo=a.debugErrorInfo||[],a.debugErrorInfo.push({errorInfoKey:Xr.j,errorInfoValue:this.httpRequestId}),a},e}(Xr.mB),sv=function(){function t(e,r,a,i,o,s,p,x,U){var K=this;this.communication=r,this.telemetryService=i,this.featureSwitches=p,this.queryContextProvider=x,this.appContextHostDataProvider=U,n.fF.assertValue(e,"host"),n.fF.assertValue(i,"telemetryService"),this.promiseFactory=e.promiseFactory(),this.delayedQueryResultResolver=o||new nv,this.batcher=new wp(null==s?0:s,function(ue){for(var ye=0,_e=ue.length;ye<_e;++ye)K.executeBatch(ue[ye])},a,p&&p.telemetryV2,p&&p.addVisualIdToQueryDataAsHttpBodyId),this.queryCache=function(t,e,r,a,i){return n.fF.assertValue(t,"promiseFactory"),n.fF.assertValue(r,"createQuery"),new Xl(t,e,r,function(ue,ye){K.telemetryService.logEvent(Qe,{source:ye}),K.enqueueExecution({options:ue,enqueueActivity:ue.performanceActivity&&ue.performanceActivity.isRunning()&&ue.performanceActivity.createChildActivity({name:"Query Pending"}),queryActivity:ue.performanceActivity})},i)}(this.promiseFactory,this.telemetryService,function(ue,ye){var _e,Ie={options:ue,deferred:ye.deferred,execution:ye.promise,enqueueActivity:ue.performanceActivity&&ue.performanceActivity.isRunning()&&ue.performanceActivity.createChildActivity({name:"Query Pending"}),queryActivity:ue.performanceActivity};K.setAppContextHostData(Ie),null!==(_e=K.featureSwitches)&&void 0!==_e&&_e.queryContext?K.setQueryContext(Ie).then(function(){K.enqueueExecution(Ie)}):K.enqueueExecution(Ie)},0,p)}return t.prototype.setAppContextHostData=function(e){var r;if(this.appContextHostDataProvider&&e.options.applicationContext&&null!==(r=this.featureSwitches)&&void 0!==r&&r.useEnrichedApplicationContext){var a=e.options.applicationContext,i=this.appContextHostDataProvider.getApplicationContextHostData();a.Sources[0]=(0,ie.pi)((0,ie.pi)({},a.Sources[0]),i)}},t.prototype.setQueryContext=function(e){var r;return(0,ie.mG)(this,void 0,La.J,function(){var a,i;return(0,ie.Jh)(this,function(s){switch(s.label){case 0:if(null===(r=this.featureSwitches)||void 0===r||!r.queryContext)return[2];if(!this.queryContextProvider||!e.options.applicationContext)return[2];n.fF.assert(function(){return 1===_.size(e.options.applicationContext.Sources)},"Expected to have 1 ApplicationContextSource"),a=e.options.applicationContext.Sources[0],s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.queryContextProvider.generateQueryContext()];case 2:return(i=s.sent())?(a.CustomProperties=(0,ie.pi)((0,ie.pi)({},a.CustomProperties),i),[3,4]):[2];case 3:return s.sent(),[2];case 4:return[2]}})})},t.prototype.enqueueExecution=function(e){this.isCommunicationStopped?(this.pausedQueries=this.pausedQueries||[],this.pausedQueries.push(e)):this.batcher.enqueue(e)},t.prototype.execute=function(e){if(!_.isEmpty(e.dataSources))return this.queryCache.ensure(e);var r=this.promiseFactory.defer(e.telemetryV2Enabled),a=En(r);return r.resolve(e.command),a},t.prototype.stopCommunication=function(){this.isCommunicationStopped=!0},t.prototype.resumeCommunication=function(){this.isCommunicationStopped=!1;var e=this.pausedQueries;if(e){for(var r=0,a=e.length;r<a;r++){var i=e[r];lv(i)&&this.batcher.enqueue(i)}this.pausedQueries=void 0}},t.prototype.cache=function(){return this.queryCache},t.prototype.setLocalCacheResult=function(e,r){this.queryCache.put(e.dataSources,e.command,r)},t.prototype.setPreferredMaxConnections=function(e){this.batcher.setMaxBatches(e)},t.prototype.executeBatch=function(e){var r=this;n.fF.assertValue(e,"batch"),n.fF.assert(function(){return e.queryOptions.length===e.promises.length},"Queries & promises sizes must match.");var a=e.promises;this.communication.execute(e).then(function(i){return r.onSuccess(i,a)},function(i){return r.onError(i,a)})},t.prototype.onSuccess=function(e,r){n.fF.assertValue(e,"result"),n.fF.assertValue(r,"executions"),this.rejectExecutionsForMissingJobs(e,r);for(var a=e.jobIds,i={},o=0,s=r.length;o<s;++o)i[a[o]]=r[o];var p=e.results;for(o=0,s=p.length;o<s;++o){var x=p[o],U=x.result,ue=i[K=x.jobId];delete i[K];var ye=U.data,_e=U.error;if(ye)ue.resolve({descriptor:ye.descriptor,dsr:ye.dsr,metrics:ye.metrics,requestId:e.requestId,timestamp:ye.timestamp,fromCache:ye.fromCache});else if(_e){var Re=new zl(_e);Re.requestId=e.requestId,ue.reject(Re)}else U.asyncResult&&this.delayedQueryResultResolver.resolveDelayedQuery(x.jobId,e.requestId,ue)}if(!_.isEmpty(Object.keys(i)))for(var K in _e=new Ul(e.requestId,"MissingJobResult"),i)i[K].reject(_e)},t.prototype.rejectExecutionsForMissingJobs=function(e,r){var a=e.jobIds.length,i=r.length;if(i>a)for(var o=new Ul(e.requestId,"MissingJobId"),s=a;s<i;s++)r[s].reject(o)},t.prototype.onError=function(e,r){var a;if(n.fF.assertValue(r,"executions"),e&&e.requestError&&(a=new zl(e.requestError)),a)a.requestId=e.requestId;else{var i=e.error,o=void 0,s=void 0,p=void 0;if(i){o=i.message,s=i.code;var x=i["pbi.error"]&&i["pbi.error"].exceptionCulprit;null!=x&&(p=function(t){switch(t){case 2:return"External";case 1:return"User";default:return"PowerBI"}}(x))}a=e&&null!=e.httpStatusCode&&e.requestId?new Xr.Gx(e.httpStatusCode,e.requestId,s,o,p):new ov(e.requestId)}for(var U=0,K=r.length;U<K;U++)r[U].reject(a)},t}();function lv(t){return!!Wo(t)&&t.execution.pending()}var cv=function(){function t(e,r,a,i,o,s,p,x,U){n.fF.assertValue(e,"host"),this.proxy=new sv(e,r,o,a,s,p,i,x,U),this.featureSwitches=i,this.telemetryService=a}return t.prototype.execute=function(e){return this.proxy.execute(e)},t.prototype.transform=function(e,r,a,i){return void 0===e?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:Hd(r,e,this.featureSwitches,this.telemetryService,a,i)},t.prototype.stopCommunication=function(){this.proxy.stopCommunication()},t.prototype.resumeCommunication=function(){this.proxy.resumeCommunication()},Object.defineProperty(t.prototype,"cache",{get:function(){return this.proxy.cache()},enumerable:!1,configurable:!0}),t.prototype.setLocalCacheResult=function(e,r){this.proxy.setLocalCacheResult(e,r)},t.prototype.setPreferredMaxConnections=function(e){this.proxy.setPreferredMaxConnections(e)},t}(),eo="noQueryName",Ar=function(){function t(e,r,a,i){this.deepestNodeLevelInPath=-1,this.measures=r||[],this.dataMap=e||null,this.nodeIsCollapsed=null!=a?a:null,this.nodeIndexes=null!=i?i:[]}return t.prototype.withCategory=function(e,r,a){var i,o;return void 0===a&&(a=!1),e&&e.source&&e.identity&&e.identity[r]&&(i=e.identity[r],o=e.source.queryName||eo),this.addItemToDataMap(o,i),this},t.prototype.withSeries=function(e,r,a){var i,o;return void 0===a&&(a=!1),e&&e.source&&r&&(i=r.identity,o=e.source.queryName||eo),this.addItemToDataMap(o,i),this},t.prototype.withMeasure=function(e){return this.measures.push(e),this},t.prototype.withMatrixNode=function(e,r,a){if(void 0===a&&(a=!1),!e)return this;var i,o,p=e.level;return e.identity&&r&&r[p]&&r[p].sources&&r[p].sources[0]&&(i=e.identity,o=r[p].sources[0].queryName||eo),this.addItemToDataMap(o,i,e.isCollapsed,p,e.nodeIndex),this},t.prototype.withTable=function(e,r,a){var i,o;return void 0===a&&(a=!1),e&&e.identity&&null!=r&&(o=(i=e.identity[r])?JSON.stringify(i):eo),this.addItemToDataMap(o,i),this},t.prototype.equals=function(e){var r=e;return!!(this.compareMeasures(this.measures,r.measures)&&this.compareMetadata(this.getSelector(),r.getSelector())&&this.compareMetadata(r.getSelector(),this.getSelector()))},t.prototype.createSelectionId=function(e){return this.key=JSON.stringify(this.dataMap)+JSON.stringify(this.measures),this},t.prototype.getKey=function(){return this.key},t.prototype.includes=function(e,r){void 0===r&&(r=!1);var a=e;return!!(!this.dataMap&&this.compareMeasures(this.measures,a.measures)||this.dataMap&&a.dataMap&&this.compareMetadata(this.getSelector(),a.getSelector()))},t.prototype.hasIdentity=function(){return!!this.dataMap},t.prototype.compareMeasures=function(e,r){if(e.length!==r.length)return!1;for(var a=0,i=r;a<i.length;a++)if(-1===e.indexOf(i[a]))return!1;return!0},t.prototype.compareMetadata=function(e,r){if(!e.data&&r.data||e.data&&!r.data)return!1;if(!e.data&&!r.data)return!0;for(var a=function(U){if(!r.data.some(function(K){return JSON.stringify(K)===JSON.stringify(U)}))return{value:!1}},i=0,o=e.data;i<o.length;i++){var p=a(o[i]);if("object"==typeof p)return p.value}return!0},t.prototype.addItemToDataMap=function(e,r,a,i,o){if(r){this.dataMap||(this.dataMap={});var s=this.dataMap,p=s[e];if(null==p)return s[e]=[r],null!=a&&null!=i&&i>this.deepestNodeLevelInPath&&(this.nodeIsCollapsed=a,this.deepestNodeLevelInPath=i),void(null!=o&&this.nodeIndexes.push(o));p.push(r)}},t.prototype.getSelector=function(){var e=this,r={data:void 0,metadata:_.head(this.measures)};if(this.dataMap){r.data=[];var a=function(p){n.fF.assert(function(){return e.dataMap[p].length<=1},"dataMap can only have one selector per column"),r.data.push(i.dataMap[p][0])},i=this;for(var o in this.dataMap)a(o)}return r},t.prototype.getSelectorsByColumn=function(){return null},t}(),fv=function(){function t(){}return Object.defineProperty(t.prototype,"code",{get:function(){return"EmptyData"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getDetails=function(e){return{message:e.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:e.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:e.get("InvalidDataFormat_DataFormatIsInvalid")}],debugErrorInfo:[{errorInfoKey:Xr.zd,errorInfoValue:this.code}]}},t}(),dv=function(){function t(){}return Object.defineProperty(t.prototype,"code",{get:function(){return"InvalidDataResponse"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getDetails=function(e){return{message:e.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:e.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:e.get("InvalidDataResponse_ServerError")}],debugErrorInfo:[{errorInfoKey:Xr.zd,errorInfoValue:this.code}]}},t}(),vv=function(){function t(e,r,a){this.promiseFactory=e,this.dataReaderProvider=r,this.dataReaders={},this.telemetryService=a}return t.prototype.execute=function(e){return n.fF.assertValue(e,"options"),this.getReader(e.type).execute(e.query,e.kinds,e.perfId)},t.prototype.getReader=function(e){var r=this.dataReaders[e];if(r)return r;var a=this.dataReaderProvider.reader(e);return n.fF.assertValue(a,"Could not find data reader for type: ".concat(e)),this.dataReaders[e]=new yv(e,a,this.promiseFactory,this.telemetryService)},t.prototype.stopCommunication=function(e){this.getReader(e).stopCommunication()},t.prototype.resumeCommunication=function(e){this.getReader(e).resumeCommunication()},t.prototype.clearCache=function(e,r){this.getReader(e).clearCache(r)},t.prototype.rewriteCacheEntries=function(e,r,a){this.getReader(e).rewriteCacheEntries(r,a)},t.prototype.setLocalCacheResult=function(e,r){return this.getReader(e.type).setLocalCacheResult(e.query,r)},t}(),yv=function(){function t(e,r,a,i){n.fF.assertAnyValue(e,"pluginName"),n.fF.assertValue(r,"reader"),n.fF.assertValue(a,"promiseFactory"),n.fF.assertValue(i,"telemetryService"),this.name=e,this.reader=r,this.promiseFactory=a,this.telemetryService=i}return t.prototype.execute=function(e,r,a){var i=this;n.fF.assertValue(e,"options"),n.fF.assertAnyValue(a,"perfId");var o=this.promiseFactory.defer(e.telemetryV2Enabled),s=this.reader;if(s.execute){var p=s.execute(e,a);p.then(function(U){if(U){var K=i.transform(U,r,a,e.performanceActivity),ue=K.error;if(K.performanceActivities&&ue&&(ue.performanceActivities=K.performanceActivities),ue)return o.reject(ue),void i.telemetryService.logEvent(oe,{requestId:U.requestId,isError:!0,errorSource:"PowerBI",errorCode:ue.code});o.resolve({dataReaderResult:K,dataViewSource:{data:U}})}else o.reject(new fv),i.telemetryService.logEvent(oe,{isError:!0,errorSource:"PowerBI",errorCode:"DataProxy_EmptyData"})},function(U){o.reject(U),(!U||!U.ignorable)&&i.telemetryService.logEvent(oe,{requestId:null==U?void 0:U.requestId,isError:!0,errorSource:"PowerBI",errorCode:U?U.code:"DataProxy_ProviderError"})}).catch(function(U){o.reject(U)});var x=En(o);return x.catch(function(U){U=U||new dv,p.reject(U)}),x}return e.command?o.resolve({dataReaderResult:this.transform(e.command,r,a)}):o.reject(),En(o)},t.prototype.stopCommunication=function(){var e=this.reader;e.stopCommunication&&e.stopCommunication()},t.prototype.resumeCommunication=function(){var e=this.reader;e.resumeCommunication&&e.resumeCommunication()},t.prototype.clearCache=function(e){var r=this.reader.cache;r&&r.clear(e)},t.prototype.rewriteCacheEntries=function(e,r){var a=this.reader.cache;a&&a.rewrite(e,r)},t.prototype.setLocalCacheResult=function(e,r){var a=this.reader;a.setLocalCacheResult&&a.setLocalCacheResult(e,r)},t.prototype.transform=function(e,r,a,i){var o=this.reader;if(o.transform)return o.transform(e,r||31,a,i);var s={metadata:{columns:[]}};return s[this.name]=e,{dataView:s}},t}(),xr=ke(6348),Rr=ke(1313),su=ke(8294),gv=ke(6633),bv=ke(549),lu=ke(910),uu=ke(2479),Nn=ke(7184),wn=ke(7649);function Ko(t){return{scopeId:pr.serializeExpr(t.expr)}}function cu(t){if(t.scopeId){var e=pr.deserializeExpr(t.scopeId);if(e)return(0,Pt.TZ)(e)}}var Lr=ke(130);function to(t,e,r){(0,Lr.un)(t)?(fu(r),to(t.left,e,r.left),to(t.right,e,r.right)):(0,Lr.$Q)(t)?(n.fF.assert(function(){return(0,Lr.Lk)(t.left)||(0,Lr.kb)(t.left)||(0,Lr.t3)(t.left)||(0,Lr.iV)(t.left)},"expression.left should be fieldRef: entity/measure/column/aggregate"),fu(r,t.left),n.fF.assert(function(){return(0,Lr.VC)(t.right)},"expression.right should be constant"),e.push(t.right)):n.fF.assertFail("identities should consists of COMPARE, AND, and should not reach to fieldRef(ENTITY/MEASURE/COLUMN/AGGREGATE) and CONSTANT exprs")}function fu(t,e){e?t.value=e:(t.left={},t.right={})}function ro(t,e){return!(!t||!e)&&(t.left&&t.right?!(!e.left||!e.right)&&ro(t.left,e.left)&&ro(t.right,e.right):t.value?!!e.value&&(0,T.fS)(t.value,e.value):(n.fF.assertFail("CompareTreeNode failed, invalid tree structure"),!1))}function du(t){if((0,xr.yN)(t))return t.expr;n.fF.assertFail("selectors should be scoped identities")}function ao(t,e,r){if(e.left&&e.right){var a=ao(t,e.left,r),i=ao(t,e.right,r);return(0,m.xD)(a,i)}if(e.value){var o=e.value,s=t[r.index++];return n.fF.assert(function(){return(0,Lr.Lk)(o)||(0,Lr.kb)(o)||(0,Lr.t3)(o)||(0,Lr.iV)(o)},"expression.left should be fieldRef: entity/measure/column/aggregate"),n.fF.assert(function(){return(0,Lr.VC)(s)},"expression.right should be constant"),(0,m.qu)(0,o,s)}n.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function Vv(t){for(var e=[],a=0,i=t.values;a<i.length;a++){for(var s=[],p=0,x=i[a];p<x.length;p++){var K=_.mapValues(x[p],function(ue){return _.map(ue,function(ye){return pr.deserializeExpr(ye)})});s.push(K)}e.push(s)}return{values:e,columns:_.map(t.columns,function(ue){return Go(ue)})}}function Go(t){var e={};if(t.left&&t.right)return e.left=Go(t.left),e.right=Go(t.right),e;if(t.value){var r=pr.deserializeExpr(t.value);return(0,Lr.Lk)(r)||(0,Lr.kb)(r)||(0,Lr.t3)(r)||(0,Lr.iV)(r)?e.value=r:n.fF.assertFail("Value should be fieldRef: entity/measure/column/aggregate"),e}n.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function _v(t){if(n.fF.assertAnyValue(t,"contract"),t){var e={expressions:_.map(t.expressions,function(r){return pr.serializeExpr(r)})};return t.decomposedIdentities&&(e.decomposedIdentities=function(t){if(n.fF.assertAnyValue(t,"contract"),t){for(var e=[],a=0,i=t.values;a<i.length;a++){for(var s=[],p=0,x=i[a];p<x.length;p++){var K=_.mapValues(x[p],function(ue){return _.map(ue,function(ye){return pr.serializeExpr(ye)})});s.push(K)}e.push(s)}return{values:e,columns:_.map(t.columns,function(ue){return Qo(ue)})}}}(t.decomposedIdentities)),t.valueMap&&(e.valueMap=t.valueMap),t.jsonFilter&&(e.jsonFilter=t.jsonFilter),e}}function Qo(t){var e={};return t.left&&t.right?(e.left=Qo(t.left),e.right=Qo(t.right),e):t.value?(e.value=pr.serializeExpr(t.value),e):void n.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function wv(t,e){var r;if(n.fF.assertValue(t,"input"),!_.isEmpty(t.expressions)){if(e){var a=function(t){if(n.fF.assertValue(t,"filterExpressionMetadata"),t){var e={expressions:t.expressions},r=[],a=[],i=[];if(t.cachedValueItems){for(var o=0,s=t.cachedValueItems;o<s.length;o++){var p=s[o];i.push(p.valueMap);for(var x=[],U=0,K=p.identities;U<K.length;U++){var ye={},_e=[],Ie={};to(du(K[U]),_e,ye);for(var Re=-1,$e=0;$e<a.length;$e++)if(ro(ye,a[$e])){Re=$e;break}Re<0&&(a.push(ye),Re=a.length-1),Ie[Re]=_e,x.push(Ie)}r.push(x)}e.decomposedIdentities={values:r,columns:a},e.valueMap=i}return e}}(t);r=_v(a)}else r=function(t){if(n.fF.assertValue(t,"input"),!_.isEmpty(t.expressions)){var e={expressions:_.map(t.expressions,function(r){return pr.serializeExpr(r)})};return _.isEmpty(t.cachedValueItems)||(e.cachedValueItems=function(t){if(t&&!(t.length<1)){for(var e=[],r=0,a=t;r<a.length;r++){var i=a[r];if(!_.isEmpty(i.identities)){var o=_.map(i.identities,function(s){return Ko(s)});o&&e.push({identities:o,valueMap:i.valueMap})}}return e}}(t.cachedValueItems)),t.jsonFilter&&(e.jsonFilter=t.jsonFilter),e}}(t);return r}}function Mv(t){if(n.fF.assertValue(t,"input"),!_.isEmpty(t.expressions)){if(function(t){return!!t.decomposedIdentities}(t)){var e=function(t){if(n.fF.assertAnyValue(t,"input"),t){var e={expressions:_.map(t.expressions,function(r){return pr.deserializeExpr(r)})};return t.decomposedIdentities&&(e.decomposedIdentities=Vv(t.decomposedIdentities)),t.valueMap&&(e.valueMap=t.valueMap),t.jsonFilter&&(e.jsonFilter=t.jsonFilter),e}}(t);return function(t){if(n.fF.assertValue(t,"decomposedSelectors"),t){var e={expressions:t.expressions},r=t.decomposedIdentities&&t.decomposedIdentities.values,a=t.decomposedIdentities&&t.decomposedIdentities.columns,i=[];if(r&&a){for(var o=0;o<r.length;o++){for(var p=[],x=0,U=r[o];x<U.length;x++){var K=U[x];for(var ue in K){var Ie=ao(K[ue],a[ue],{index:0}),Re=(0,Pt.TZ)(Ie);p.push(Re)}}i.push({identities:p,valueMap:t.valueMap[o]})}_.isEmpty(i)||(e.cachedValueItems=i),t.jsonFilter&&(e.jsonFilter=t.jsonFilter)}return e}}(e)}return function(t){if(n.fF.assertValue(t,"input"),!_.isEmpty(t.expressions)){var e={expressions:_.map(t.expressions,function(r){return pr.deserializeExpr(r)})};return _.isEmpty(t.cachedValueItems)||(e.cachedValueItems=function(t){if(t&&!(t.length<1)){for(var e=[],r=0,a=t;r<a.length;r++){var i=a[r];if(!_.isEmpty(i.identities)){var o=_.map(i.identities,function(s){return cu(s)});o&&e.push({identities:o,valueMap:i.valueMap})}}return e}}(t.cachedValueItems)),t.jsonFilter&&(e.jsonFilter=t.jsonFilter),e}}(t)}}var Yo,qi=Je.Ge.fromDescriptor({bool:!0}),Ia=Je.Ge.fromDescriptor({numeric:!0}),ea=Je.Ge.fromDescriptor({text:!0}),Ti={fill:{solid:{color:!0}}};function pu(t){return t&&"ExprContext"===t.propertyDefinitionKind}function mu(t){if(t)return _.map(t,sn)}function Lv(t){if(t)return{category:t.categoryString,underlyingType:t.extendedType}}function Iv(t){if(t)return new Je.Ge(t.underlyingType,t.category)}function Ov(t,e,r){if(n.fF.assertAnyValue(t,"input"),n.fF.assertAnyValue(e,"descriptor"),t){var a={properties:zv(t.properties,e?e.properties:null,r)},i=function(t){if(n.fF.assertAnyValue(t,"input"),null===t)return null;if(t){var e={};return t.data&&(e.data=_.chain(t.data).map(function(r){return yu(r)}).filter(function(r){return null!=r}).value()),t.metadata&&(e.metadata=t.metadata),t.id&&(e.id=t.id),void 0!==t.highlightMatching&&(e.highlightMatching=t.highlightMatching),null!=t.order&&(e.order=t.order),e}}(t.selector);return i&&(a.selector=i),a}}function yu(t){return n.fF.assertValue(t,"input"),t.scopeId?cu(t):t.wildcard?(0,bv.ms)(_.map(t.wildcard,pr.deserializeExpr)):t.roles?(0,su.Yp)(t.roles):t.total?(0,gv.ms)(_.map(t.total,pr.deserializeExpr)):t.dataViewWildcard?(0,lu.Ue)(t.dataViewWildcard.matchingOption):void 0}function zv(t,e,r){if(n.fF.assertAnyValue(t,"input"),n.fF.assertAnyValue(e,"propertyDescriptors"),t){var a={};for(var i in t){var o=kv(t[i],e?e[i]:null,r);void 0!==o&&(a[i]=o)}return a}}function kv(t,e,r){if(n.fF.assertAnyValue(t,"input"),n.fF.assertAnyValue(e,"propertyDescriptor"),e){var a=Cu(e.type);return pu(t)?{propertyDefinitionKind:"ExprWithContext",value:na(t.value,a.value),context:gu(t.context)}:function(t,e){return!!e.value}(0,a)?na(t,a.value):Mn(t,a.structural)}if(r&&t){if(pu(t))return{propertyDefinitionKind:"ExprWithContext",value:pr.deserializeExpr(t.value.expr),context:gu(t.context)};if(t.expr)return pr.deserializeExpr(t.expr);if(t.solid)return Mn(t,Ti);if(t.filter)return pr.deserializeFilter(t.filter)}}function na(t,e){if(n.fF.assertValue(e,"type"),void 0!==e.primitiveType&&t.expr)return pr.deserializeExpr(t.expr)}function Mn(t,e){if(n.fF.assertValue(e,"type"),e.fill&&e.fill.solid&&e.fill.solid.color&&t)return t.solid&&t.solid.color?{solid:{color:na(t.solid.color,Je.Ge.fromPrimitiveTypeAndCategory(1))}}:void 0;if(e.fillRule){var i=Vu(t,na);if(i)return i}var o=t;return e.filter&&o&&o.filter?pr.deserializeFilter(o.filter):e.image&&o&&o.image?function(t){n.fF.assertValue(t,"input");var e={name:na(t.name,ea),url:na(t.url,Je.Ge.fromDescriptor(uu.z))};return t.scaling&&(e.scaling=na(t.scaling,ea)),e}(o.image):e.geoJson&&o&&o.geoJson?function(t){return n.fF.assertValue(t,"input"),{type:na(t.type,ea),name:na(t.name,ea),content:na(t.content,ea)}}(o.geoJson):e.paragraphs&&t?function(t){return n.fF.assertValue(t,"input"),_.map(t,function(e){var r={textRuns:_.map(e.textRuns,function(a){return(0,Nn.Y0)(a)?Jo(a):(0,Nn.Zm)(a)?function(t){var e={cases:_.map(t.cases,function(r){var a={pattern:na(r.pattern,ea),textRuns:_.map(r.textRuns,function(i){return Jo(i)})};return a}),defaultCase:{textRuns:_.map(t.defaultCase.textRuns,function(r){return Jo(r)})},expression:Gv(t.expression)};return e}(a):void 0})};return e.horizontalTextAlignment&&(r.horizontalTextAlignment=e.horizontalTextAlignment),e.listType&&(r.listType=e.listType),e.indent&&(r.indent=e.indent),r})}(t):e.queryTransform&&t?function(t){return n.fF.assertValue(t,"input"),{algorithm:t.algorithm,parameters:_.map(t.parameters,function(r){return{name:r.Name,expr:pr.deserializeExpr(r)}})}}(t):e.dataBars&&t?function(t){return n.fF.assertValue(t,"input"),{minValue:t.minValue?na(t.minValue,Ia):void 0,maxValue:t.maxValue?na(t.maxValue,Ia):void 0,positiveColor:Mn(t.positiveColor,Ti),negativeColor:Mn(t.negativeColor,Ti),axisColor:Mn(t.axisColor,Ti),reverseDirection:na(t.reverseDirection,qi),hideText:na(t.hideText,qi)}}(t):e.icon&&t&&"Icon"===t.kind?function(t){n.fF.assertValue(t,"input");var e={kind:"Icon"};return t.layout&&(e.layout=na(t.layout,ea)),t.verticalAlignment&&(e.verticalAlignment=na(t.verticalAlignment,qi)),t.value&&(e.value=na(t.value,ea)),e}(t):e.exprList&&t&&"ExprList"===t.kind?function(t){n.fF.assertValue(t,"input");var e={exprs:[],kind:"ExprList"};return e.exprs=_.map(t.exprs,function(r){return pr.deserializeExpr(r.expr)}),e}(t):e.errorRange&&t&&"ErrorRange"===t.kind?function(t){n.fF.assertValue(t,"input");var e={kind:"ErrorRange"};if(t.explicit)e.explicit={isRelative:pr.deserializeExpr((r=t.explicit).isRelative.expr)},r.lowerBound&&(e.explicit.lowerBound=pr.deserializeExpr(r.lowerBound.expr)),r.upperBound&&(e.explicit.upperBound=pr.deserializeExpr(r.upperBound.expr));else if(t.symmetricalExplicit)e.symmetricalExplicit={delta:pr.deserializeExpr((r=t.symmetricalExplicit).delta.expr)};else if(t.standardDeviation)e.standardDeviation={value:pr.deserializeExpr((r=t.standardDeviation).value.expr),multiplier:pr.deserializeExpr(r.multiplier.expr)};else if(t.percentage)e.percentage={lowerBoundDelta:pr.deserializeExpr((r=t.percentage).lowerBoundDelta.expr),upperBoundDelta:pr.deserializeExpr(r.upperBoundDelta.expr)};else if(t.percentile){var r;n.fF.assertValue((r=t.percentile).lowerBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),n.fF.assertValue(r.upperBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),e.percentile={lowerBound:pr.deserializeExpr(r.lowerBound.expr),upperBound:pr.deserializeExpr(r.upperBound.expr)}}return e}(t):e.qnaVisualLink&&t?function(t){n.fF.assertValue(t,"input");var e={};return t.suggestedUtterances&&(e.suggestedUtterances=_.map(t.suggestedUtterances,function(r){return{utterance:r.Utterance}})),_.isEmpty(e)?void 0:e}(t):void n.fF.assertFail("Deserializing a structural type failed")}function gu(t){n.fF.assertValue(t,"input");var e={};return _.isEmpty(t.filterContext)||(e.filterContext=_.map(t.filterContext,function(r){return{filter:pr.deserializeFilter(r.filter),metadata:r.metadata?Mv(r.metadata):void 0}})),e}function Jo(t){var e={value:Hv(t.value)};return t.textStyle&&(e.textStyle=t.textStyle),t.url&&(e.url=t.url),t.mentionEmail&&(e.mentionEmail=t.mentionEmail),e}function Hv(t){var e;if(_.isString(t))e=t;else if(!(e=na(t,ea))){var r=t;(0,wn.U)(r)&&(e=r)}return e}function Gv(t){var e;if(!(e=na(t,ea))){var r=t;(0,wn.U)(r)&&(e=r)}return e}function eh(t,e,r,a,i){if(n.fF.assertAnyValue(t,"contract"),n.fF.assertAnyValue(e,"descriptor"),t){var o=function(t,e,r,a,i){if(n.fF.assertAnyValue(t,"contract"),n.fF.assertAnyValue(e,"descriptors"),t){var o={};for(var s in t){var p=e?e[s]:null;if(!(i&&null!=p&&p.transient||!r&&!p)){var x=nh(t[s],p,r,a);void 0===x?n.fF.assertFail("DataViewObjectSerializer: failed to serialize property: "+s+" due to malformed property value."):o[s]=x}}return o}}(t.properties,e?e.properties:null,r,a,i);if(o){var s={properties:o},p=sn(t.selector);return p&&(s.selector=p),s}}}function sn(t){if(n.fF.assertAnyValue(t,"contract"),null===t)return null;if(t){var e={};return t.data&&(e.data=_.chain(t.data).map(function(r){return bu(r)}).filter(function(r){return null!=r}).value()),t.metadata&&(e.metadata=t.metadata),t.id&&(e.id=t.id),void 0!==t.highlightMatching&&(e.highlightMatching=t.highlightMatching),null!=t.order&&(e.order=t.order),e}}function io(t){if(n.fF.assertAnyValue(t,"contract"),t){var e={};if(t.dataMap)for(var r in e.dataMap={},t.dataMap){var a=(0,A.rY)(t.dataMap[r]);e.dataMap[r]=_.chain(a).map(function(i){return bu(i)}).filter(function(i){return null!=i}).value()}return t.metadata&&(e.metadata=t.metadata),t.id&&(e.id=t.id),e}}function rh(t){if(t)return _.map(t,function(e){return{objectName:e.objectName,selectorsByColumn:io(e.selectorsByColumn)}})}function bu(t){return n.fF.assertValue(t,"contract"),(0,xr.yN)(t)&&t.expr?Ko(t):(0,xr.QV)(t)&&t.exprs?{wildcard:_.map(t.exprs,function(e){return pr.serializeExpr(e)})}:(0,xr.j9)(t)&&t.roles?{roles:t.roles}:(0,xr.tQ)(t)&&t.exprs?{total:_.map(t.exprs,function(e){return pr.serializeExpr(e)})}:(0,xr.qm)(t)?{dataViewWildcard:ah(t)}:void n.fF.assertFail("serializeDataRepetitionSelector - Selector did not match type and constraints.")}function ah(t){return{matchingOption:t.matchingOption}}function nh(t,e,r,a){if(n.fF.assertAnyValue(t,"contract"),n.fF.assertAnyValue(e,"descriptor"),e){var i=Cu(e.type);return(0,Rr.er)(t)?{propertyDefinitionKind:"ExprContext",value:zr(t.value,i.value),context:Su(t.context,a)}:i.value?zr(t,i.value):Tn(t,i.structural)}if(r&&t){if((0,Rr.er)(t))return{propertyDefinitionKind:"ExprContext",value:{expr:pr.serializeExpr(t.value)},context:Su(t.context,a)};if(t instanceof m.Il)return{expr:pr.serializeExpr(t)};if(t instanceof Jn.yl)return{filter:pr.serializeFilter(t)};if(t.solid)return Tn(t,Ti)}}function zr(t,e){if(n.fF.assertValue(e,"type"),void 0!==e.primitiveType&&t instanceof m.Il)return{expr:pr.serializeExpr(t,!0)}}function Tn(t,e){if(n.fF.assertValue(e,"type"),t){if(e.fill&&e.fill.solid&&e.fill.solid.color)return{solid:{color:zr(t.solid.color,ea)}};if(e.fillRule){var i=Vu(t,zr);if(i)return i}if(e.filter)return{filter:pr.serializeFilter(t)};if(e.image)return{image:oh(t)};if(e.geoJson)return{geoJson:sh(t)};if(e.paragraphs)return function(t){return n.fF.assertValue(t,"definition"),_.map(t,function(e){var r={textRuns:_.map(e.textRuns,function(a){return(0,Nn.IM)(a)?Xo(a):(0,Nn.Kt)(a)?{cases:_.map(a.cases,function(o){return{pattern:zr(o.pattern,ea),textRuns:_.map(o.textRuns,function(p){return Xo(p)})}}),defaultCase:{textRuns:_.map(a.defaultCase.textRuns,function(o){return Xo(o)})},expression:ch(a.expression)}:void 0})};return e.horizontalTextAlignment&&(r.horizontalTextAlignment=e.horizontalTextAlignment),e.listType&&(r.listType=e.listType),e.indent&&(r.indent=e.indent),r})}(t);if(e.queryTransform)return function(t){return{algorithm:t.algorithm,parameters:_.map(t.parameters,function(e){var r=pr.serializeExpr(e.expr);return r.Name=e.name,r})}}(t);if(e.dataBars)return function(t){return{minValue:zr(t.minValue,Ia),maxValue:zr(t.maxValue,Ia),positiveColor:Tn(t.positiveColor,Ti),negativeColor:Tn(t.negativeColor,Ti),axisColor:Tn(t.axisColor,Ti),reverseDirection:zr(t.reverseDirection,qi),hideText:zr(t.hideText,qi)}}(t);if(e.icon&&"Icon"===t.kind)return function(t){var e={kind:"Icon"};return t.layout&&(e.layout=zr(t.layout,ea)),t.verticalAlignment&&(e.verticalAlignment=zr(t.verticalAlignment,qi)),t.value&&(e.value=zr(t.value,ea)),e}(t);if(e.exprList&&"ExprList"===t.kind)return function(t){n.fF.assertValue(t,"input");var e={exprs:[],kind:"ExprList"};return e.exprs=_.map(t.exprs,function(r){return zr(r,ea)}),e}(t);if(e.errorRange&&"ErrorRange"===t.kind)return function(t){n.fF.assertValue(t,"input");var e={kind:"ErrorRange"};if(t.explicit)e.explicit={isRelative:zr((r=t.explicit).isRelative,qi)},r.lowerBound&&(e.explicit.lowerBound=zr(r.lowerBound,Ia)),r.upperBound&&(e.explicit.upperBound=zr(r.upperBound,Ia));else if(t.symmetricalExplicit)e.symmetricalExplicit={delta:zr((r=t.symmetricalExplicit).delta,Ia)};else if(t.standardDeviation)e.standardDeviation={value:zr((r=t.standardDeviation).value,Ia),multiplier:zr(r.multiplier,Ia)};else if(t.percentage)e.percentage={lowerBoundDelta:zr((r=t.percentage).lowerBoundDelta,Ia),upperBoundDelta:zr(r.upperBoundDelta,Ia)};else if(t.percentile){var r;e.percentile={lowerBound:zr((r=t.percentile).lowerBound,Ia),upperBound:zr(r.upperBound,Ia)}}return e}(t);if(e.qnaVisualLink)return function(t){n.fF.assertValue(t,"input");var e={};if(t.suggestedUtterances){e.suggestedUtterances=_.map(t.suggestedUtterances,function(a){return{Version:"1.0",Utterance:a.utterance}})}return _.isEmpty(e)?void 0:e}(t);n.fF.assertFail("Serializing a structural type failed")}}function Su(t,e){n.fF.assertValue(t,"contract");var r={};return _.isEmpty(t.filterContext)||(r.filterContext=_.map(t.filterContext,function(a){return{filter:pr.serializeFilter(a.filter),metadata:a.metadata?wv(a.metadata,e):void 0}})),r}function oh(t){n.fF.assertValue(t,"definition");var e={name:zr(t.name,ea),url:zr(t.url,Je.Ge.fromDescriptor(uu.z))};return t.scaling&&(e.scaling=zr(t.scaling,ea)),e}function sh(t){return n.fF.assertValue(t,"definition"),{type:zr(t.type,ea),name:zr(t.name,ea),content:zr(t.content,ea)}}function Xo(t){var e={value:uh(t.value)};return t.textStyle&&(e.textStyle=t.textStyle),t.url&&(e.url=t.url),t.mentionEmail&&(e.mentionEmail=t.mentionEmail),e}function uh(t){var e;return t instanceof m.Il?e=zr(t,ea):_.isString(t)||(0,wn.U)(t)?e=t:n.fF.assertNever(t),e}function ch(t){var e;return t instanceof m.Il?e=zr(t,ea):(0,wn.U)(t)?e=t:n.fF.assertNever(t),e}function Cu(t){n.fF.assertValue(t,"typeDescriptor");var e=Je.Ge.fromDescriptor(t);return 0!==e.primitiveType?{value:e}:{structural:t}}function Vu(t,e){if(t.linearGradient2){var a={min:{color:e((r=t.linearGradient2).min.color,Je.Ge.fromPrimitiveTypeAndCategory(1))},max:{color:e(r.max.color,Je.Ge.fromPrimitiveTypeAndCategory(1))}};return r.min.value&&(a.min.value=e(r.min.value,Je.Ge.fromPrimitiveTypeAndCategory(3))),r.max.value&&(a.max.value=e(r.max.value,Je.Ge.fromPrimitiveTypeAndCategory(3))),r.nullColoringStrategy&&(a.nullColoringStrategy={strategy:e(r.nullColoringStrategy.strategy,Je.Ge.fromPrimitiveTypeAndCategory(1))},r.nullColoringStrategy.color&&(a.nullColoringStrategy.color=e(r.nullColoringStrategy.color,Je.Ge.fromPrimitiveTypeAndCategory(1)))),{linearGradient2:a}}var r;return t.linearGradient3?(a={min:{color:e((r=t.linearGradient3).min.color,Je.Ge.fromPrimitiveTypeAndCategory(1))},mid:{color:e(r.mid.color,Je.Ge.fromPrimitiveTypeAndCategory(1))},max:{color:e(r.max.color,Je.Ge.fromPrimitiveTypeAndCategory(1))}},r.min.value&&(a.min.value=e(r.min.value,Je.Ge.fromPrimitiveTypeAndCategory(3))),r.mid.value&&(a.mid.value=e(r.mid.value,Je.Ge.fromPrimitiveTypeAndCategory(3))),r.max.value&&(a.max.value=e(r.max.value,Je.Ge.fromPrimitiveTypeAndCategory(3))),r.nullColoringStrategy&&(a.nullColoringStrategy={strategy:e(r.nullColoringStrategy.strategy,Je.Ge.fromPrimitiveTypeAndCategory(1))},r.nullColoringStrategy.color&&(a.nullColoringStrategy.color=e(r.nullColoringStrategy.color,Je.Ge.fromPrimitiveTypeAndCategory(1)))),{linearGradient3:a}):null}var gh=ke(3166),ln=ke(5353),Sh=function(){function t(e,r){void 0===r&&(r={}),n.fF.assertNonEmpty(e,"Empty roles"),this.roles=e,this.root={identityValues:null,children:[],parent:null},this.levels=[];var i=r.canCollapseRoot,o=r.collapseParentAfterRemovingChildLevel;this.supportsMerge=!!r.supportsMerge,this.canCollapseRoot=!!i,this.collapseParentAfterRemovingChildLevel=!!o}return t.prototype.updateLevels=function(e,r){if(!_.isEmpty(e)&&(0!==r||this.canCollapseRoot)){n.fF.assert(function(){return r<=_.size(e)},"Number of active projections cannot be greater than the number of projections");var a=e.length,i=this.levels;this.levels=new Array(a);for(var o=0;o<a;o++){var s=o>=r-1,p=i[o],x=[e[o]];p&&_.isEqual(p.queryRefs,x)?(this.levels[o]=p,p.isCollapsed=s):this.levels[o]={isCollapsed:s,queryRefs:x,toggledNodes:[]}}this.canCollapseRoot&&(0===r?this.root.isToggled=!0:delete this.root.isToggled),this.pinLevels(r)}},t.prototype.clone=function(){for(var e=this,r={supportsMerge:this.supportsMerge,canCollapseRoot:this.canCollapseRoot,collapseParentAfterRemovingChildLevel:this.collapseParentAfterRemovingChildLevel},a=new t(_.clone(this.roles),r),i=new Array(this.levels.length),o=0;o<this.levels.length;o++)i[o]=[];return a.levels=_.map(this.levels,function(s,p){return e.cloneExpansionLevel(s,i,p)}),a.root=this.cloneExpansionNode(this.root,null,i,-1),a},t.prototype.isStateModified=function(){return _.some(this.levels,function(e){return!e.isCollapsed})||!_.isEmpty(this.root.children)},t.prototype.addLevel=function(e,r){var a=this;n.fF.assert(function(){return a.supportsMerge});var i=_.findLastIndex(this.levels,function(U){return U.isPinned}),o={isCollapsed:!0,queryRefs:[e],toggledNodes:[],isPinned:r<=i||void 0};n.fF.assert(function(){return r<=_.size(a.levels)},"position > count of levels");for(var s=_.findIndex(this.levels,function(U){return!_.isEmpty(U.toggledNodes)},r),x=-1===s?r:s;x<_.size(this.levels);x++)this.setLevelState(x,!0);if(this.levels.splice(r,0,o),this.unlockLevels(r),o.isPinned)for(x=0;x<r;x++)delete this.levels[x].AIInformation},t.prototype.removeLevel=function(e){var a,r=this;n.fF.assert(function(){return r.supportsMerge}),n.fF.assert(function(){return e>=0&&e<_.size(r.levels)},"invalid level position"),this.collapseParentAfterRemovingChildLevel&&(a=this.getVisibleDescendentsDepth(this.root,-1)),this.removeIntermediateNodes(this.root,-1,function(i){return i===e}),this.levels.splice(e,1),this.collapseParentAfterRemovingChildLevel&&e>0&&e===a-1&&this.setLevelState(e-1,!0),e<_.size(this.levels)&&this.unlockLevels(e)},t.prototype.moveLevels=function(e,r,a){var i,o=this;n.fF.assert(function(){return o.supportsMerge}),n.fF.assert(function(){return e<_.size(o.levels)},"sourceIndex >= count of level"),n.fF.assert(function(){return r<_.size(o.levels)},"targetIndex >= count of level");var s=_.findLastIndex(this.levels,function(ye){return ye.isPinned}),p=Math.min(e,r);if(r>e){n.fF.assert(function(){return e+a<=_.size(o.levels)},"sourceIndex + count exceeds level count"),this.removeIntermediateNodes(this.root,-1,function(ye){return ye>=e&&ye<e+a});for(var x=e;x<Math.min(e+a,_.size(this.levels));x++)this.levels[x].toggledNodes=[]}var U=this.levels.splice(e,a);(i=this.levels).splice.apply(i,(0,ie.ev)([r,0],U||[],!1));var K=_.findIndex(this.levels,function(ye){return!_.isEmpty(ye.toggledNodes)},r);for(x=-1===K?r:K;x<_.size(this.levels);x++)this.setLevelState(x,!0);if(this.unlockLevels(p),e>s&&r<=s?_.forEach(U,function(ye){return ye.isPinned=!0}):e<=s&&r>s&&_.forEach(U,function(ye){return ye.isPinned=!1}),_.forEach(U,function(ye){return delete ye.AIInformation}),this.levels[r].isPinned)for(x=0;x<r;x++)delete this.levels[x].AIInformation},t.prototype.getVisibleDescendentsDepth=function(e,r){var a=this.levels.length;if(n.fF.assert(function(){return r<a},"node out of bounds"),-1===r&&this.canCollapseRoot&&e.isToggled)return 0;for(var i=[e];;){if(r===a-1)return r+1;for(var o=this.levels[r]&&this.levels[r].isCollapsed,s=void 0,p=[],x=0,U=i;x<U.length;x++){var K=U[x];!o==!K.isToggled&&(p.push.apply(p,K.children||[]),s=!0)}if(s&&r++,!(p.length>0))break;i=p}for(;r<a-1&&(-1===r||!this.levels[r].isCollapsed);)r++;return r+1},t.prototype.removeIntermediateNodes=function(e,r,a){var i=this;if(a(r)){var o=!!e.isToggled!=!!this.levels[r].isCollapsed;_.pull(e.parent.children,e),_.forEach(e.children,function(s){o&&(s.isToggled=!i.levels[r+1].isCollapsed),s.parent=e.parent,e.parent.children.push(s)})}_.forEach((0,ie.ev)([],e.children||[],!0),function(s){return i.removeIntermediateNodes(s,r+1,a)})},t.prototype.cloneExpansionLevel=function(e,r,a){return{isCollapsed:e.isCollapsed,identityKeys:this.cloneExpressionList(e.identityKeys),queryRefs:_.clone(e.queryRefs),toggledNodes:r[a],isPinned:e.isPinned,isLocked:e.isLocked,AIInformation:e.AIInformation?{method:e.AIInformation.method,disabled:e.AIInformation.disabled}:void 0}},t.prototype.cloneExpansionNode=function(e,r,a,i){var o={identityValues:this.cloneExpressionList(e.identityValues),children:[],parent:r};void 0!==e.isToggled&&(o.isToggled=e.isToggled),i>=0&&a[i].push(o);for(var s=0,p=e.children;s<p.length;s++)o.children.push(this.cloneExpansionNode(p[s],o,a,i+1));return o},t.prototype.cloneExpressionList=function(e){return e?_.map(e,function(r){return r}):null},t.prototype.setNodeState=function(e,r){var a=this;if(e&&_.isEmpty(e.data))return n.fF.assert(function(){return a.canCollapseRoot},"Collapse to root capability is not enabled"),r?this.root.isToggled=!0:delete this.root.isToggled,this.root;var i=(0,xr.CT)(e);if(i){for(var o=i.length,s=this.root,p=0;p<o;p++){var x=i[p],U=(0,ln.RR)(x.expr);if(!this.ensureLevel(p,U))return;var ue=(0,ln.KX)(x.expr);s=this.ensureChildNode(p,s,ue,p===o-1?r:void 0)}if(!this.pruneNonToggledLeaf(s))return s}},t.prototype.ensureLevel=function(e,r){var a=this.levels[e];if(n.fF.assertValue(a,"level does not exist"),a.identityKeys){if(!(0,A.NF)(a.identityKeys,r,T.fS))return}else a.identityKeys=r;return a},t.prototype.ensureChildNode=function(e,r,a,i){n.fF.assertValue(r,"parent"),n.fF.assertValue(a,"identityValues"),n.fF.assertValue(e>=0,"levelIdx >= 0");var o=this.levels[e];n.fF.assertValue(o,"level does not exist");var s=this.findNodeMatchingIdentities(r.children,a);return s||r.children.push(s={children:[],identityValues:a,parent:r}),void 0!==i&&(i!==!!o.isCollapsed?(s.isToggled=!0,_.indexOf(o.toggledNodes,s)<0&&o.toggledNodes.push(s)):(delete s.isToggled,o.toggledNodes=_.filter(o.toggledNodes,function(p){return p!==s}))),s},t.prototype.pruneNonToggledLeaf=function(e){n.fF.assertValue(e,"node");for(var r=!1;e.parent&&!e.isToggled&&_.isEmpty(e.children);)e.parent.children=_.filter(e.parent.children,function(a){return a!==e}),e=e.parent,r=!0;return r},t.prototype.setLevelState=function(e,r){var a=this;if(-1===e)return n.fF.assert(function(){return a.canCollapseRoot},"Collapse to root capability is not enabled"),void(r?this.root.isToggled=!0:delete this.root.isToggled);n.fF.assert(function(){return e>-1},"levelIdx");var i=this.levels[e];if(i){i.isCollapsed=r;for(var o=0,s=i.toggledNodes;o<s.length;o++){var p=s[o];delete p.isToggled,this.pruneNonToggledLeaf(p)}i.toggledNodes=[]}},t.prototype.pinLevels=function(e){var r=this;n.fF.assert(function(){return e<=_.size(r.levels)},"Requested pinning of too many levels");for(var a=0;a<Math.min(e,_.size(this.levels));a++)this.levels[a].isPinned=!0},t.prototype.unpinLevels=function(e){var r=this;n.fF.assert(function(){return e<_.size(r.levels)},"Level does not exist");var a=this.getVisibleDescendentsDepth(this.root,-1);n.fF.assert(function(){return e>=a-1},"cannot unpin projected level");for(var i=Math.max(e,a-1);i<_.size(this.levels);i++)delete this.levels[i].isPinned},t.prototype.lockLevels=function(e){var r=this;n.fF.assert(function(){return e<=_.size(r.levels)},"Requested locking of too many levels");for(var a=0;a<Math.min(e,_.size(this.levels));a++)this.levels[a].isLocked=!0},t.prototype.unlockLevels=function(e){var r=this;n.fF.assert(function(){return e<_.size(r.levels)},"Level does not exist");for(var a=e;a<_.size(this.levels);a++)delete this.levels[a].isLocked},t.prototype.setAILevelInformation=function(e,r){var a=this;n.fF.assert(function(){return e<_.size(a.levels)},"Level does not exist"),r?this.levels[e].AIInformation=_.cloneDeep(r):delete this.levels[e].AIInformation},t.prototype.getAILevelInformation=function(e){var r=this;return n.fF.assert(function(){return e<_.size(r.levels)},"Level does not exist"),_.cloneDeep(this.levels[e].AIInformation)},t.prototype.isWholeLevelExpanded=function(e){var r=this.levels[e];return!r||!r.isCollapsed&&_.isEmpty(r.toggledNodes)},t.prototype.isHierarchyExpanded=function(){var e=this;n.fF.assertNonEmpty(this.levels,"levels"),n.fF.assert(function(){return e.isWholeLevelCollapsed(e.levels.length-1)},"Last level should be collapsed");for(var r=0;r<this.levels.length-1;r++)if(!this.isWholeLevelExpanded(r))return!1;return!0},t.prototype.isWholeLevelCollapsed=function(e){var r=this.levels[e];return r&&r.isCollapsed&&_.isEmpty(r.toggledNodes)},t.prototype.getNodeLevelState=function(e,r,a){if(n.fF.assertNonEmpty(e,"identities"),n.fF.assert(function(){return a>=0},"levelIndex >= 0"),a>=this.levels.length)return{isNodeCollapsed:!1,levelHasToggledNodes:!1};var i=e[0],o=this.ensureLevel(a,(0,ln.RR)(i.expr));if(o){var x,s=!_.isEmpty(o.toggledNodes),p=(0,ln.KX)(i.expr);return r&&(x=this.findNodeMatchingIdentities(r.children,p)),1===e.length?x?{isNodeCollapsed:x.isToggled?!o.isCollapsed:o.isCollapsed,levelHasToggledNodes:s}:{isNodeCollapsed:o.isCollapsed,levelHasToggledNodes:s}:(e.splice(0,1),this.getNodeLevelState(e,x,a+1))}},t.prototype.rewrite=function(e){for(var r=0,a=this.levels;r<a.length;r++){var i=a[r];i.identityKeys&&(i.identityKeys=_.map(i.identityKeys,function(o){return o.accept(e)}))}return this.root=this.rewriteNodeExpansionState(this.root,e),this},t.prototype.rewriteNodeExpansionState=function(e,r){var a=this;return e.identityValues&&(e.identityValues=_.map(e.identityValues,function(i){return i.accept(r)})),e.children=_.map(e.children,function(i){return a.rewriteNodeExpansionState(i,r)}),e},t.prototype.findNodeMatchingIdentities=function(e,r){return _.find(e,function(a){return(0,A.NF)(a.identityValues,r,T.fS)})},t}();function Eh(t){return _.filter(_.map(t,function(e){return function(t){if(n.fF.assertValue(t,"expansionState"),n.fF.assertValue(!_.isEmpty(t.roles),"expansionState.roles"),function(t){return!_.isEmpty(t.root.children)||!_.isEmpty(t.root.identityValues)}(t)||function(t){return _.findIndex(t.levels,function(e){return e.isPinned})>=0}(t)){var e={roles:t.roles};return _.isEmpty(t.levels)||(n.fF.assertValue(t.root,"expansionState.root"),e.levels=_.map(t.levels,function(r){return function(t){if(n.fF.assertAnyValue(t,"level"),t){n.fF.assertNonEmpty(t.queryRefs,"level.queryRefs");var e={queryRefs:_.clone(t.queryRefs)};return t.isCollapsed&&(e.isCollapsed=!0),t.identityKeys&&(e.identityKeys=_.map(t.identityKeys,function(r){return pr.serializeExpr(r)})),t.isPinned&&(e.isPinned=t.isPinned),t.isLocked&&(e.isLocked=t.isLocked),t.AIInformation&&(e.AIInformation=_.cloneDeep(t.AIInformation)),e}}(r)}),e.root=Du(t.root)),e}}(e)}),function(e){return e})}function Du(t){n.fF.assertValue(t,"node");var e={identityValues:t.identityValues?_.map(t.identityValues,function(s){return pr.serializeExpr(s)}):null};if(t.isToggled&&(e.isToggled=!0),!_.isEmpty(t.children)){e.children=[];for(var r=function(p){n.fF.assert(function(){return!_.isEmpty(p.identityValues)},"child.identityValues");var x=Du(p);e.children.push(x)},a=0,i=t.children;a<i.length;a++)r(i[a])}return e}function wh(t,e){if(t){for(var r=[],a=function(x){if(!x)return"continue";n.fF.assert(function(){return!_.isEmpty(x.roles)},"serializedHierarchy.roles");var U=new Sh(x.roles,e);_.isEmpty(x.levels)||(n.fF.assertValue(x.root,"serializedHierarchy.root"),U.levels=_.map(x.levels,function(K){return function(t){var e={queryRefs:_.clone(t.queryRefs),isCollapsed:!!t.isCollapsed,toggledNodes:[],isPinned:t.isPinned,isLocked:t.isLocked,AIInformation:_.cloneDeep(t.AIInformation)};return t.identityKeys&&(e.identityKeys=_.map(t.identityKeys,function(r){return pr.deserializeExpr(r)})),e}(K)}),U.root=_u(x.root,-1,null,U.levels,!!e.canCollapseRoot)),r.push(U)},i=0,o=t;i<o.length;i++)a(o[i]);return r}}function _u(t,e,r,a,i){n.fF.assertValue(t,"serializedNode");var o={identityValues:t.identityValues?_.map(t.identityValues,function(p){return pr.deserializeExpr(p)}):null,parent:r,children:[]};if(t.isToggled&&(o.isToggled=!0,e>=0?a[e].toggledNodes.push(o):n.fF.assert(function(){return i},"Collapse to root capability not enabled")),!_.isEmpty(t.children)){var s=e+1;o.children=_.map(t.children,function(p){return _u(p,s,o,a,i)})}return o}var Eu=function(){function t(){}return t.deserializeDataViewSelectTransforms=function(e){return n.fF.assertValue(e,"input"),function(t){if(t)for(var e=0,r=t;e<r.length;e++){var a=r[e];a.kpiStatusGraphic&&(a.kpi={graphic:a.kpiStatusGraphic})}}(e),_.map(e,function(r){var a={displayName:r.displayName,format:r.format,kpi:r.kpi,queryName:r.queryName,roles:r.roles,sort:r.sort,sortOrder:r.sortOrder,type:Iv(r.type)};return r.expr&&(a.expr=pr.deserializeExpr(r.expr)),r.aggregateSources&&(a.aggregateSources=r.aggregateSources),r.relatedSelects&&(a.relatedSelects=r.relatedSelects),r.relatedObjects&&(a.relatedObjects=r.relatedObjects),a})},t.serializeDataViewSelectTransforms=function(e){return n.fF.assertValue(e,"input"),_.map(e,function(r){var a={displayName:r.displayName,format:r.format,kpi:r.kpi,queryName:r.queryName,roles:r.roles,sort:r.sort,sortOrder:r.sortOrder,type:Lv(r.type)};return r.expr&&(a.expr=pr.serializeExpr(r.expr)),r.aggregateSources&&(a.aggregateSources=r.aggregateSources),r.relatedSelects&&(a.relatedSelects=r.relatedSelects),r.relatedObjects&&(a.relatedObjects=r.relatedObjects),a})},t.serializeDataViewTransformActions=function(e,r){n.fF.assertAnyValue(r,"objectDescriptors");var a={objects:(e=e||{}).objects,projectionOrdering:e.roles&&e.roles.ordering,projectionActiveItems:e.roles&&e.roles.activeItems,splits:e.splits,queryMetadata:null,visualElements:null};return e&&e.objects&&(a.objects=function(t,e,r,a){if(n.fF.assertAnyValue(t,"contract"),n.fF.assertAnyValue(e,"descriptors"),t){var i={};for(var o in t){var s=void 0;if(!e||(s=e[o]))for(var p=t[o],x=i[o]=[],U=0,K=p.length;U<K;U++)x.push(eh(p[U],s,!e,undefined,false))}return i}}(e.objects,r)),e&&e.selects&&(a.selects=t.serializeDataViewSelectTransforms(e.selects)),e&&!_.isEmpty(e.expansionStates)&&(a.expansionStates=Eh(e.expansionStates)),a},t.deserializeDataViewTransformActions=function(e,r){var a=r&&r.objects;n.fF.assertValue(e,"actions"),n.fF.assertAnyValue(a,"objectDescriptors");var i=e.objects?function(t,e){if(n.fF.assertAnyValue(t,"input"),n.fF.assertAnyValue(e,"descriptors"),t){!Yo&&!e&&(Yo=!0,nn.f.error("deserializeObjects called with no descriptors - ",!0));var r={};for(var a in t){var i=void 0;if(!e||(i=e[a]))for(var o=t[a],s=r[a]=[],p=0,x=o.length;p<x;p++)s.push(Ov(o[p],i,!e))}return r}}(e.objects,a):null,o=t.createTransformActions(e.queryMetadata,e.visualElements,a,i)||{},s=e&&e.projectionActiveItems;return _.isEmpty(s)||this.upgradeActiveItemsIfNeeded(s),o.roles={ordering:e.projectionOrdering,activeItems:s},o.splits=e.splits,e.selects&&(o.selects=t.deserializeDataViewSelectTransforms(e.selects)),e.expansionStates&&(o.expansionStates=wh(e.expansionStates,{supportsMerge:r&&r.expandCollapse&&r.expandCollapse.supportsMerge,canCollapseRoot:r&&r.noDefaultProjections,collapseParentAfterRemovingChildLevel:r&&r.expandCollapse&&r.expandCollapse.collapseParentAfterRemovingChildLevel})),this.upgradeComboChartFromCY16SU04AndPrior(o),o},t.isStringArray=function(e){return _.isString(e[0])},t.upgradeActiveItemsIfNeeded=function(e){for(var r in e){var a=e[r],i=void 0;!_.isEmpty(a)&&this.isStringArray(a)&&(i=_.map(a,function(s){return{queryRef:s}})),e[r]=i||a}},t.upgradeComboChartFromCY16SU04AndPrior=function(e){var r;n.fF.assertValue(e,"transformActions");var o=e.roles&&e.roles.ordering;if(o){var s=o.Y&&1===o.Y.length&&_.includes(o.Y2,o.Y[0])?o.Y[0]:void 0;if(void 0!==s){var p=e.splits&&2===e.splits.length&&!e.splits[0].selects[s]&&e.splits[1].selects[s]?e.splits[0]:void 0;if(p){var x=_.chain(Object.keys(p.selects)).filter(function(_e){return p.selects[_e]}).map(function(_e){return parseInt(_e,10)}).maxBy(function(_e){return _e}).value();if(x!==Number.NEGATIVE_INFINITY&&e.selects&&e.selects.length===x){var K=e.selects[s];if(K&&K.roles.Y&&K.roles.Y2){delete K.roles.Y;var ye=(0,ie.pi)({},K);ye.roles=((r={}).Y=!0,r),ye.queryName=K.queryName,e.selects[x]=ye,e.roles.ordering.Y=[x]}}}}}},t.serializeTransformActions=function(e){return JSON.stringify(e)},t.createTransformActions=function(e,r,a,i){if(n.fF.assertAnyValue(e,"queryMetadata"),n.fF.assertAnyValue(r,"visualElements"),n.fF.assertAnyValue(a,"objectDescs"),n.fF.assertAnyValue(i,"objectDefns"),e&&!_.isEmpty(e.Select)||!_.isEmpty(r)||i){var o={};if(e){var s=e.Select;if(s)for(var p=o.selects=[],x=function(Re,$e){var st=s[Re];if(!st)return p.push(null),"continue";var ht=U.toTransformSelect(st,Re);if(p.push(ht),ht.format&&a){n.fF.assert(function(){return!!ht.queryName},"selectTransform.queryName should be defined (or defaulted).");var Lt=(0,gh.$v)(a);Lt&&(i||(i={}),(0,Rr.sO)(i,Lt,{metadata:ht.queryName},(0,m.fL)(ht.format)))}},U=this,K=0,ue=s.length;K<ue;K++)x(K)}if(r){var ye=(r=_.unionBy(r,function(Ie){return JSON.stringify(Ie)})).length;for(ye>1&&(o.splits=[]),K=0;K<ye;K++){var _e=r[K];_e.Settings&&0===K&&(i=this.upgradeSettingsToObjects(_e.Settings,i)),_e.DataRoles&&(o.selects||(o.selects=[]),o.roles||(o.roles={ordering:{}}),this.populateDataRoles(_e.DataRoles,o.selects,o.roles.ordering)),o.splits&&o.splits.push(this.populateSplit(_e.DataRoles))}}return i&&(o.objects=i),o}},t.toTransformSelect=function(e,r){n.fF.assertValue(e,"select");var a={};return e.Restatement&&(a.displayName=e.Restatement),e.Name?a.queryName=e.Name:a.queryName||(a.queryName="$select"+r),e.Format&&(a.format=e.Format),e.Type&&(a.type=this.describeDataType(e.Type,function(t){switch(t){case 0:return"None";case 1:return"Address";case 2:return"City";case 3:return"Company";case 4:return"Continent";case 5:return"Country";case 6:return"County";case 7:return"Date";case 8:return"Image";case 9:return"ImageUrl";case 10:return"Latitude";case 11:return"Longitude";case 12:return"Organization";case 13:return"Place";case 14:return"PostalCode";case 15:return"Product";case 16:return"StateOrProvince";case 17:return"WebUrl"}}(e.DataCategory))),e.kpi&&(a.kpi=e.kpi),e.kpiStatusGraphic&&(a.kpi={graphic:e.kpiStatusGraphic}),a},t.describeDataType=function(e,r){var a=0;switch(e=e||0){case 2048:a=1;break;case 1:a=3;break;case 3:a=4;break;case 4096:a=5;break;case 20:a=6;break;case 4:a=7;break;case 8:a=9;break;case 67:a=4,n.fF.assert(function(){return!r||"Year"===r},"Unexpected category for Year type."),r="Year";break;case 35:a=4,n.fF.assert(function(){return!r||"Month"===r},"Unexpected category for Month type."),r="Month"}return Je.Ge.fromPrimitiveTypeAndCategory(a,r)},t.populateDataRoles=function(e,r,a){n.fF.assertValue(e,"roles"),n.fF.assertValue(r,"selects"),n.fF.assertValue(a,"projectionOrdering");for(var i=0,o=e.length;i<o;i++){var s=e[i],p=s.Projection,x=s.Name,U=r[p];void 0===U&&(this.fillArray(r,p),U=r[p]={});var K=U.roles;void 0===U.roles&&(K=U.roles={}),K[x]=!0;var ue=a[x];void 0===ue&&(ue=a[x]=[]),ue.push(p)}},t.fillArray=function(e,r){n.fF.assertValue(e,"selects"),n.fF.assertValue(r,"length");for(var a=e.length;a<r;a++)e[a]={}},t.populateSplit=function(e){n.fF.assertAnyValue(e,"roles");var r={},a={selects:r};if(e)for(var i=0,o=e.length;i<o;i++)r[e[i].Projection]=!0;return a},t.upgradeSettingsToObjects=function(e,r){if(e){var a;for(a in r||(r={}),e){var i=e[a],o=a,s=i,p="general";switch(a){case"hasScalarCategoryAxis":p="categoryAxis",o="axisType",s=(0,m.fL)(i?"Scalar":"Categorical");break;case"Totals":o="totals",s=(0,m.O7)(!!i);break;case"textboxSettings":o="paragraphs",i&&i.paragraphs&&(s=i.paragraphs);break;case"VisualType1":o="visualType1",s=(0,m.fL)(i);break;case"VisualType2":o="visualType2",s=(0,m.fL)(i);break;case"imageVisualSettings":o="imageUrl",i&&i.imageUrl&&(s=(0,m.fL)(i.imageUrl));break;default:continue}this.setObjectDefinition(r,p,o,s)}return r}},t.setObjectDefinition=function(e,r,a,i){n.fF.assertValue(e,"objects"),n.fF.assertValue(r,"objectName"),n.fF.assertValue(a,"propertyName");var o=e[r];void 0===o&&(o=e[r]=[]);var s=o[0];void 0===s&&(s=o[0]={properties:{}}),s.properties[a]=i},t}(),Th={major:0,minor:0,patch:0};function fi(t){n.fF.assertValue(t,"versionString");for(var i,e=0,r=0,a=0,o=0,s=0,p=0,x=t.length;s<=x;s++){var U=s===x?46:t.charCodeAt(s);switch(U){case 46:case 45:if(s===p)return;var K=vt(t,p,s-p);if(null==K)return;switch(o){case 0:e=K;break;case 1:r=K;break;case 2:a=K;break;default:return}if(o++,p=s+1,45===U){if(3!==o||!xh(i=t.substr(s+1)))return;s=x}break;default:if(U<48||U>57)return}}var ue={major:e,minor:r,patch:a};return i&&(ue.prerel=i),ue}function xh(t){n.fF.assertValue(t,"prerel");for(var e=0,r=t.length;e<r;e++){var a=t.charCodeAt(e);if(!(65<=a&&a<=90||97<=a&&a<=122||48<=a&&a<=57||45===a||46===a))return!1}return!0}function Zi(t,e){return n.fF.assertValue(t,"v1"),n.fF.assertValue(e,"v2"),no(Ha(t),Ha(e))>0}function xi(t,e){return n.fF.assertValue(t,"v1"),n.fF.assertValue(e,"v2"),no(Ha(t),Ha(e))<0}function Fu(t,e){return n.fF.assertValue(t,"v1"),n.fF.assertValue(e,"v2"),no(Ha(t),Ha(e))>=0}function Nu(t,e){return n.fF.assertValue(t,"v1"),n.fF.assertValue(e,"v2"),t=Ha(t),e=Ha(e),!no(Ha(t),Ha(e))}function Ha(t){return _.isString(t)?fi(t)||Th:t}function no(t,e){var r=oo(t.major,e.major);return r||(r=oo(t.minor,e.minor))||(r=oo(t.patch,e.patch))?r:function(t,e){var r=_.isEmpty(t),a=_.isEmpty(e);if(r)return a?0:1;if(a)return-1;var i=vt(t,0,t.length),o=vt(e,0,e.length);return null!=i?null!=o?oo(i,o):-1:null!=o?1:t.localeCompare(e)}(t.prerel,e.prerel)}function oo(t,e){var r=(t=t||0)-(e=e||0);return 0===r?0:r<0?-1:(n.fF.assert(function(){return r>0},"diff > 0"),1)}var di=ke(2933),Kr=ke(1813),Ah=ke(2310);function ts(t){return void 0===t.source.index}function rs(t){return _.some(t,ts)}function wu(t){n.fF.assertValue(t,"categorical");var e=t.values;if(e){var a;if(e.source){a=(0,Dt.qO)(e.grouped());var i=0===(0,w.Ed)(t),o=e.length>=1&&(i||void 0!==_.head(e).identity);if(!_.isEmpty(e)&&o)for(var p,s=0,x=function(_e,Ie){var Re=e[_e];if(ts(Re))return"continue";if(!p||Re.identity!==p.identity){var $e=a[s];$e?p=(0,Dt.qO)($e):(n.fF.assert(function(){return!Re.identity},"!currentValueColumn.identity -- Extra valueGroup items should be statics (no identity)."),p=$e=a[s]={values:null}),a[s]=p,p.values=[],s++,n.fF.assert(function(){return Re.identity===p.identity},"expecting the value columns are sequenced by series groups")}p.values.push(Re)},U=0,K=e.length;U<K;U++)x(U);else for(U=0,K=a.length;U<K;U++){var ue=a[U];_.isEmpty(ue.values)||(a[U]=ue=(0,Dt.qO)(ue),ue.values=[])}}else a=[{values:e}];e.grouped=function(){return a},t.values=e}}var ta=ke(1006),xn=ke(2966);function Mu(t,e){n.fF.assertValue(t,"measureSources"),n.fF.assertValue(e,"projectionOrder");var r=(0,xn.jh)(t,e);if(r=_.chain(r).filter(function(i){return void 0!==i.projectionOrderIndex}).sortBy(function(i){return i.projectionOrderIndex}).value(),!(0,A.NF)(t,r,function(i,o){return i.index===o.metadataColumn.index}))return r}function Tu(t){if(n.fF.assertValue(t,"groups"),!_.isEmpty(t))return _.chain(t[0].values).map(function(r){return r.source}).filter(function(r){return void 0!==r.index}).value()}var Yh=ke(1025),Pn=ke(5662);function Zh(t,e,r){if(n.fF.assertValue(e,"Category type is not specified"),!_.isDate(t)||!e||!e.temporal)return null;var a=t;return e.temporal.year?function(t){return n.fF.assertValue(t,"date"),t.getFullYear()}(a):e.temporal.quarter?function(t,e){n.fF.assertValue(t,"date");var a=Math.floor((t.getMonth()+3)/3);return(0,Ua.W)(e,a.toLocaleString())}(a,r):e.temporal.month?function(t){return n.fF.assertValue(t,"date"),Aa.dx.formatValue(t,"MMMM")}(a):e.temporal.day?function(t){return n.fF.assertValue(t,"date"),t.getDate()}(a):void 0}function ty(t,e){n.fF.assertValue(t,"dataViewMatrix"),e.columnHierarchyRewritten||(t.columns=(0,Dt.ED)(t.columns));var r=t.columns;e.rowHierarchyRewritten||(t.rows=(0,Dt.ED)(t.rows));var a=t.rows;if(!(r.levels.length>1)){var i={level:0},o=r.root.children,s=_.size(o),p=a.levels.length;if(s>0){var x=0,U=function(_e){if(_e.values){i.values||(i.values={});for(var Ie=0;Ie<s;Ie++)i.values[x++]=_e.values[Ie];_e.values=void 0}if(s>1){_e.children||(_e.children=[]);for(var Re=0;Re<s;Re++){var $e={level:p};$e.levelSourceIndex=o[Re].levelSourceIndex,_e.isSubtotal&&($e.isSubtotal=!0),_e.children.push($e)}}};e.hierarchyTreesRewritten?xu(a.root,U):t.columns.root=as(a.root,U)}else e.hierarchyTreesRewritten||(t.columns.root=function(t){return as(t)}(a.root));if(s>1&&(a.levels.push({sources:r.levels[0].sources}),r.levels.length=0),e.hierarchyTreesRewritten)t.columns.root=a.root,t.rows.root={children:[i]};else{var ue=(0,Dt.ED)(t.rows.root);ue.children=[i],t.rows.root=ue}t.columns.levels=a.levels,t.rows.levels=[]}}function xu(t,e){var r=t.children;if(r&&r.length>0)for(var a=0,i=r.length;a<i;a++)xu(r[a],e);else e(t)}function as(t,e){var r={};return e&&(r.nodeProcessor=function(a){_.isEmpty(a.children)&&e(a)}),is(t,r)}function is(t,e){var r,a,i=(0,Dt.ED)(t),o=t.children;if(!(e.nodeProcessor&&e.nodeProcessor(i),_.isEmpty(o)||null!==(a=null===(r=e.skipChildren)||void 0===r?void 0:r.call(e,t))&&void 0!==a&&a))for(var p=o.length,x=i.children=new Array(p),U=0;U<p;U++)x[U]=is(o[U],e);return i}var oa=ke(7605);function Pu(t,e,r){if(_.isEmpty(r))return[];var a=ta.nG.fromMatrixValues(e);if(_.isEmpty(a))return[];var i=ns(t,a),o=(0,xn.jh)(r,i,a);return _.chain(o).filter(function(s){return void 0!==s.projectionOrderIndex}).sortBy(function(s){return s.projectionOrderIndex}).value()}function ns(t,e){n.fF.assertValue(t,"projectionOrdering"),n.fF.assertValue(e,"roles");for(var r=[],a=0,i=e;a<i.length;a++){var s=t[i[a]];_.isEmpty(s)||r.push.apply(r,s||[])}return r}function Au(t,e){return n.fF.assertValue(t,"valueSources"),n.fF.assertValue(e,"valueProjectionOrdering"),(0,A.NF)(t,e,function(r,a){return r===a.metadataColumn})}function Ru(t,e,r,a,i){n.fF.assertValue(t,"prototypeRowHierarchy"),n.fF.assertNonEmpty(e,"originalValueSources"),n.fF.assertValue(r,"projectedValueSourceEntries"),n.fF.assert(function(){return void 0===i||0===a.length},"staticValueSources are not supported with Scoped Measures");var p,U,o=e.length,s=r.length,x=(0,Dt.qO)(t),K=function(_e,Ie){var Re=Ie?_e.values:(0,oa.Lr)(_e);if(Re&&0!==o){if(!U){U=0;var $e={};for(var st in Re)U++,$e[Re[st].valueSourceIndex||0]=!0;o=Object.keys($e).length}if(void 0===p){if(o>s&&a.length>0&&(o-=a.length,0==(U-=a.length)))return;n.fF.assert(function(){return U%o==0},"expecting the intersection values to have one value per measure column per column group instance"),p=U/o}else n.fF.assert(function(){return p===U/o},"expecting every interaction values collection to have the same length");var ht;if(s>0){ht={};for(var Lt=0;Lt<p;Lt++)for(var _t=Lt*o,Nt=Lt*s,Et=0;Et<s;Et++)Et!==((Ut=Re[_t+r[Et].sourceIndex]).valueSourceIndex||0)&&((Ut=(0,Dt.qO)(Ut)).valueSourceIndex=Et||void 0),ht[Nt+Et]=Ut;for(var qt=s,ar=Object.keys(ht).length,or=U+a.length,fr=U;fr<or;fr++){var Ut;(Ut=Re[fr]).valueSourceIndex=qt++||void 0,ht[ar++]=Ut}}else ht=void 0;Ie?_e.values=ht:_e.nodeValues=ht?{0:ht}:void 0}};return x.root=void 0===i?as(x.root,function(ye){return K(ye,!0)}):is(x.root,{nodeProcessor:function(_e){_e.level===i&&K(_e,!1)},skipChildren:function(_e){return _e.level>=i}}),x}function Lu(t,e){n.fF.assertValue(t,"matrixHierarchy"),n.fF.assertValue(e,"projectionOrdering");var a,r=t.levels,i=_.chain(r).map(function(ue,ye){return ye}).filter(function(ue){var ye=r[ue];return _.size(ye.sources)>=2&&!(0,oa.Ro)(ye)}).value();if(!_.isEmpty(i)){for(var o=_.uniq(e),s=i.length-1;s>=0;s--){var p=i[s],x=t.levels[p],U=sy(x,o);if(!_.isEmpty(U)){void 0===a&&((a=(0,Dt.qO)(t)).levels=(0,Dt.qO)(t.levels),a.root=(0,oa.no)(t.root,p,!0));var K=(0,Dt.qO)(x);a.levels[p]=ly(K,U),uy(a.root,p,U)}}return a}}function sy(t,e){n.fF.assertValue(t,"hierarchyLevel"),n.fF.assertValue(e,"hierarchyProjection");var r,a=t.sources;if(a&&a.length>=2){var i=(0,xn.jh)(a,e);n.fF.assert(function(){return _.every(i,function(s){return s.metadataColumn.isMeasure||void 0!==s.projectionOrderIndex||null==e[s.sourceIndex]})},"Removed grouping during Matrix Projection ordering");var o=_.sortBy(i,function(s){return s.projectionOrderIndex});r=_.map(o,function(s,p){return{originalSourceIndex:s.sourceIndex,newSourceIndex:p}})}return r}function ly(t,e){n.fF.assertValue(t,"transformingHierarchyLevel"),n.fF.assertNonEmpty(e,"levelSourceIndexMappings");var r=t.sources;t.sources=r.slice(0);for(var a=function(x){n.fF.assert(function(){return x.originalSourceIndex<r.length},"pre-condition: The value in every mapping in the specified levelSourceIndicesReorderingMap must be a valid index to the specified hierarchyLevel.sources array property"),t.sources[x.newSourceIndex]=r[x.originalSourceIndex]},i=0,o=e;i<o.length;i++)a(o[i]);return t}function uy(t,e,r){n.fF.assertValue(t,"transformingHierarchyRootNode"),n.fF.assertNonEmpty(r,"levelSourceIndexMappings"),n.fF.assert(function(){return r.length===_.uniqBy(r,function(i){return i.originalSourceIndex}).length},"levelSourceIndexMappings must not contain duplicate originalSourceIndex");var a=_.reduce(r,function(i,o){return i[o.originalSourceIndex]=o,i},{});return(0,oa.X2)(t,e,function(i){var o=i.levelValues;if(!_.isEmpty(o)){n.fF.assert(function(){return _.every(o,function(ye){return!!a[ye.levelSourceIndex]})},"Invalid levelSourceIndexMappings or transformingHierarchyRootNode: levelSourceIndexMappings should contain an entry for every levelSourceIndex in the matrix hierarchy.");for(var s=_.sortBy(o,function(ye){var _e=a[ye.levelSourceIndex];return _e&&_e.newSourceIndex}),p=0,x=s.length;p<x;p++){var U=(0,Dt.qO)(s[p]),K=a[U.levelSourceIndex];U.levelSourceIndex=K&&K.newSourceIndex,s[p]=U}i.levelValues=s;var ue=_.last(s);i.value!==ue.value&&(i.value=ue.value),(i.levelSourceIndex||0)!==ue.levelSourceIndex&&(i.levelSourceIndex=ue.levelSourceIndex)}}),t}function Iu(t,e){n.fF.assert(function(){return t&&_.every(t.children,function(a){return a.level===t.children[0].level})},"node must be defined and all of its child nodes must have the same level value."),n.fF.assertValue(e,"measureHeadersLevelIndex");var r=t.children;return!_.isEmpty(r)&&r[0].level===e}function Ou(t,e,r,a){for(var i=new Array(e),o=0,s=e;o<s;o++){var p=void 0,x=a&&a[o].sourceIndex;null!=x&&(p=r.children&&r.children[x]);var U=p?(0,Dt.qO)(p):{};U.level=t,r.isSubtotal&&(U.isSubtotal=!0),U.levelSourceIndex=o>0?o:void 0,i[o]=U}return i}function my(t){n.fF.assertValue(t,"options");var e=_.filter(t.dataRoles,function(r){return!_.isEmpty(r.requiredTypes)});!function(t,e,r){if(n.fF.assertValue(t,"dataview"),!_.isEmpty(e)&&!_.isEmpty(r)){for(var a=function(t,e){if(!t||!e)return function(){return!1};for(var r={},a=0,i=t;a<i.length;a++){var o=i[a],s=o.roles;if(s)for(var p=0,x=e;p<x.length;p++)if(s[x[p].name]){r[o.index]=!0;break}}return function(K){return!isNaN(K)&&!!r[K]}}(t.metadata.columns,r),i=function(t,e){if(!t||!e)return function(){return!0};for(var r=[],a=0,i=t;a<i.length;a++){var o=i[a],s=gy(o,e);s&&(r[o.index]=s)}return function(p,x){return!r[p]||r[p](x)}}(t.metadata.columns,r),o={},s=0,p=e;s<p.length;s++){var x=p[s];x.table&&t.table&&(o.table=!0),x.matrix&&t.matrix&&(o.matrix=!0),x.categorical&&t.categorical&&(o.categorical=!0),x.tree&&t.tree&&(o.tree=!0),x.single&&t.single&&(o.single=!0)}o.categorical&&function(t,e,r){var a=t&&t.values;if(a){var i=a.grouped();if(i)for(var o=0,s=i;o<s.length;o++)for(var U=0,K=s[o].values;U<K.length;U++){var ue=K[U],ye=ue.source.index;if(e(ye))for(var _e=0,Ie=ue.values.length;_e<Ie;_e++)ue.values=un(ue.values,_e,ye,r)}}}(t.categorical,a,i),o.table&&function(t,e,r){var a=t&&t.columns;if(a){for(var i=[],o=0,s=a;o<s.length;o++){var p=s[o];e(p.index)&&i.push(p.index)}for(var x=t.rows,U=0,K=x.length;U<K;U++)for(var ue=0,ye=i;ue<ye.length;ue++){var _e=ye[ue];x[U]=un(x[U],_e,_e,r)}}}(t.table,a,i),o.tree&&Bu(t.tree.root,a,i),o.matrix&&function(t,e,r){var a=t&&t.rows&&t.rows.root;a&&zu(t,a,e,r)}(t.matrix,a,i),o.single&&function(t,e,r,a){if(t.single){for(var i=[],o=0,s=r;o<s.length;o++){var p=s[o];p.name&&i.push(p.name)}for(var x=t.metadata.columns,U=0,K=e;U<K.length;U++){var ye=K[U].single.role;if(-1!==i.indexOf(ye)){var _e=Ey(x,ye);return void(_e&&(t.single=un(t.single,"value",_e.index,a)))}}}}(t,e,r,i)}}(t.dataview,t.dataViewMappings,e)}function gy(t,e){var r=function(t,e){var r=[],a=t&&t.roles;if(!a)return r;for(var i=0,o=e;i<o.length;i++){var s=o[i];if(a[s.name])for(var p=0,x=s.requiredTypes;p<x.length;p++){var K=Je.Ge.fromDescriptor(x[p]);r.push(K)}}return r}(t,e);if(!_.isEmpty(r))return function(a){return function(t,e){for(var r=0,a=e;r<a.length;r++){var i=a[r];if(i.numeric||i.integer)return"number"==typeof t}return!1}(a,r)}}function Bu(t,e,r){if(t.values)for(var a in t.values)e(a)&&("object"==typeof t.values[a]&&"value"in t.values[a]?t.values[a]=un(t.values[a],"value",a,r):t.values=un(t.values,+a,+a,r));else if(t.children)for(var i=0,o=t.children;i<o.length;i++)Bu(o[i],e,r)}function zu(t,e,r,a){if(e.values)for(var i in e.values){var o=e.values[i],p=t.valueSources[o.valueSourceIndex||0].index;_.isNumber(p)&&r(p)&&(e.values[i]=un(o,"value",p,a))}else if(e.children)for(var x=0,U=e.children;x<U.length;x++)zu(t,U[x],r,a)}function un(t,e,r,a){if(t){var i=t[e];return null!==i&&!a(r,i)&&((t=(0,Dt.qO)(t))[e]=null),t}}function Ey(t,e){for(var r=0,a=t;r<a.length;r++){var i=a[r],o=i&&i.roles;if(o&&o[e])return i}}var wa=ke(2348),Fy=ke(6420),wy=function(){function t(){this.originalDynamicFormatColumns=[],this.categoryIndexToDynamicFormatColumn=[]}return t.prototype.trackOriginalDynamicFormatColumn=function(e,r){this.originalDynamicFormatColumns.push({valueColumnIndex:e,dynamicFormatStringColumn:r})},t.prototype.addPivotedDynamicFormatColumn=function(e,r,a){var i=this;void 0===this.categoryIndexToDynamicFormatColumn[e]&&(this.categoryIndexToDynamicFormatColumn[e]=[]),n.fF.assert(function(){return void 0===i.categoryIndexToDynamicFormatColumn[e][r]},"categoryIndexToDynamicFormatColumn[".concat(e,"][").concat(r,"] === undefined")),this.categoryIndexToDynamicFormatColumn[e][r]=a},t.prototype.getPivotedDynamicFormatColumn=function(e,r){var a=this.getValueColumnIndex(e);if(void 0!==a)return n.fF.assertValue(this.categoryIndexToDynamicFormatColumn[a][r],"categoryIndexToDynamicFormatColumn[".concat(a,"][").concat(r,"]")),this.categoryIndexToDynamicFormatColumn[a][r]},t.prototype.getValueColumnIndex=function(e){var r=_.find(this.originalDynamicFormatColumns,function(a){return a.dynamicFormatStringColumn===e});if(r)return r.valueColumnIndex},t}(),os=ke(7960);var By=ke(447),zy=ke(7121);function Uu(t,e,r){for(var a=(0,Dt.ED)(t),i=0,o=r;i<o.length;i++){var s=o[i];a[s]=e[s]}return a}var Wu=ke(8301),Qy=["Series","Category"],Yy=["Series","X","Y"];function ju(t,e,r,a){n.fF.assertValue(t,"groupingLevelSelectIndices"),n.fF.assertValue(e,"selectTransforms"),n.fF.assertAnyValue(r,"drillableRoles"),n.fF.assertValue(a,"rolesToMatch");for(var i=0,o=t.length,s=0,p=a;s<p.length;s++){var x=p[s];if(o<=i)return!1;var U=Xy(t,e,x);if(0===U)return!1;if(U>=2&&!_.includes(r,x))return!1;i+=U}return!(i<o)}function Xy(t,e,r){n.fF.assertValue(t,"selectIndices"),n.fF.assertValue(e,"selectTransforms"),n.fF.assertValue(r,"roleToMatch");for(var a=0,i=0,o=t;i<o.length;i++){var s=o[i];if((0,xn.iN)(e[s]&&e[s].roles,r))a++;else if(a>0)break}return a}var tg=ke(4599),Hu_quarterPrefix="Qtr {0}";function ss(t){n.fF.assertValue(t,"options");var e=t.prototype,r=t.objectDescriptors,a=t.transforms,i=t.visualStyle,o=t.withWarnings?[]:void 0;if(!e)return{dataViews:ig(r,a,i,t.featureSwitches)};if(!a)return{dataViews:[e]};var s=function(t,e,r,a,i,o,s,p,x,U){n.fF.assertValue(t,"queryDataViewMetadata"),n.fF.assertAnyValue(e,"objectDescriptors"),n.fF.assertAnyValue(r,"dataViewMappings"),n.fF.assertAnyValue(a,"dataRoles"),n.fF.assertAnyValue(i,"drillCapabilities"),n.fF.assertValue(s,"transforms"),n.fF.assertValue(p,"DataViewTransformContext.create - visualStyle");var K=s.selects,ue=s.roles&&s.roles.activeItems,ye=_.isEmpty(K)?{}:(0,Wu.bG)(K,t),_e=(0,Wu._v)(K,ue),Re=(0,Jr.Lo)(_e,r,ye,U,e,s.objects).supportedMappings;return{queryDataViewMetadata:t,objectDescriptors:e,dataRoles:a,drillCapabilities:i,expandCollapseCapabilities:o,transforms:s,selectTransforms:K,projectionOrdering:s.roles&&s.roles.ordering,projectionActiveItems:ue,roleKindByQueryRef:ye,queryProjectionsByRole:_e,visualCapabilitiesRoleMappings:r,visualCapabilitiesDataViewKinds:(0,ta._1)(r),applicableRoleMappings:Re,applicableDataViewKinds:(0,ta._1)(Re),visualStyle:p,visualCapabilitiesKeepAllMetadataColumns:x}}(e.metadata,r,t.dataViewMappings,t.dataRoles,t.drillCapabilities,t.expandCollapseCapabilties,a,i,t.keepAllMetadataColumnsCapability,t.featureSwitches),p=function(t,e){n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"transformContext");var r=e.transforms,a=e.applicableRoleMappings,i=function(t,e,r,a,i){if(!function(t,e,r,a,i){if(_.isEmpty(e)||!t||_.isEmpty(i))return!1;var o=_.filter(i,function(st){return!(0,ta.zY)(st)});if(1!==o.length)return!1;var s=o[0].categorical;if(!s)return!1;var p=t.matrix;if(!p||!p.rows||!p.rows.levels||2!==p.rows.levels.length)return!1;var x=[],U=[],K=function(ht,Lt){var _t=a[ht];if(_t)for(var Nt=0,Et=_t.all();Nt<Et.length;Nt++){var jt=Et[Nt];r[jt.queryRef]===Kr.DW.Grouping&&Lt.push(jt.queryRef)}};if((0,os.Sr)(s.categories,{visitRole:function(ht){K(ht,x)}}),(0,os.vS)(s.values,{visitRole:function(ht){K(ht,U)}}),(0,os.fl)(s.values,{visitRole:function(ht){K(ht,U)}}),_.isEmpty(x)||_.isEmpty(U))return!1;for(var ue=0,ye=p.columns.levels;ue<ye.length;ue++)for(var Ie=0,Re=ye[ue].sources;Ie<Re.length;Ie++)if(!Re[Ie].isMeasure)return!1;return!0}(t,e,r,a,i))return t;var o={metadata:{columns:(0,A.JG)(t.metadata.columns)}};if(t.single&&(o.single=t.single),t.table&&(o.table=t.table),t.matrix){var s=function(t){var Yr,Ui,e=t.rows,r=e.root,a=r.children,i=[],o=e.levels[0],s=r.childIdentityFields,p={},x=[],U=e.levels[1],K=_.isEmpty(a)?void 0:a[0].childIdentityFields,ue=t.valueSources.length,ye=function(Yr){var Ui=p[Yr.key];return n.fF.assert(function(){return void 0!==Ui},"findcat() !== undefined"),Ui};if(a)for(var Ie=0,Re=a;Ie<Re.length;Ie++){i.push($e=Re[Ie]);for(var st=0,ht=$e.children;st<ht.length;st++)Yr=Lt=ht[st],Ui=void 0,void 0===p[Ui=Yr.identity.key]&&(p[Ui]=x.length,x.push(Yr))}for(var _t=new Array(x.length),Nt=0;Nt<i.length;++Nt)for(var $e,Et=0,jt=($e=a[Nt]).children;Et<jt.length;Et++){var Lt;_t[Ut=ye((Lt=jt[Et]).identity)]||(_t[Ut]=new Array(i.length)),_t[Ut][Nt]=Lt.values}var qt={root:{children:_.map(i,function(si){var Yr=(0,Dt.qO)(si);return Yr.level=0,Yr.children=void 0,Yr.childIdentityFields=void 0,Yr}),childIdentityFields:s},levels:[o]};if(ue>0){for(var ar=_.map(t.columns.root.children,function(si){var Yr={level:1};return si.levelSourceIndex&&(Yr.levelSourceIndex=si.levelSourceIndex),Yr}),or=0,fr=qt.root.children;or<fr.length;or++)fr[or].children=ar;qt.levels.push(t.columns.levels[0])}var ra={root:{children:_.map(x,function(si){var Yr=(0,Dt.qO)(si);return Yr.level=0,Yr.children=void 0,Yr.childIdentityFields=void 0,Yr}),childIdentityFields:K},levels:[U]};if(ue>0)for(var Ut=0;Ut<x.length;++Ut){var Na=ra.root.children[Ut],aa={};for(Nt=0;Nt<i.length;++Nt)for(var Or=_t[Ut]&&_t[Ut][Nt],qa=0;qa<ue;++qa)aa[Nt*ue+qa]=Or?Or[qa]:0===qa?{value:null}:{value:null,valueSourceIndex:qa};Na.values=aa}return{rows:ra,columns:qt,valueSources:t.valueSources}}(t.matrix);_.isEmpty(s.valueSources)||(0,oa.CF)(s.columns)||(o.categorical=function(t,e){for(var r=t.columns.root.children.length,a=t.valueSources,i=a.length,o=function(t){n.fF.assertValue(t,"unpivotedMatrix"),n.fF.assert(function(){return t&&t.rows&&t.rows.levels&&1===t.rows.levels.length},"pre-condition: unpivotedMatrix should have exactly one level in row hierarchy");for(var e=_.map(t.rows.root.children,function(x){return x.identity}),r=t.rows.root.childIdentityFields,a=t.rows.levels[0].sources,i=[],o=0,s=a.length;o<s;o++){var p=_.map(t.rows.root.children,function(x){var U=x.levelValues;if(void 0!==U)return n.fF.assert(function(){return U[o]&&U[o].levelSourceIndex===o},"pre-condition: DataViewMatrixNode.levelValues is expected to have one DataViewMatrixGroupValue node per level source column, sorted by levelSourceIndex."),U[o].value});i.push({source:a[o],values:p,identity:e,identityFields:r})}return i}(t),s=[],p=0;p<r;++p){var x=t.columns.root.children[p];s.push(U={values:[],identity:x.identity,name:null!=x.value?x.value:null});for(var K=0;K<i;++K){var ye=(0,ie.pi)({},a[K]);ye.groupName=U.name,e.push(ye);var _e={source:ye,values:[],identity:U.identity};U.values.push(_e);for(var Ie=K+p*i,Re=0,$e=t.rows.root.children;Re<$e.length;Re++)_e.values.push($e[Re].values[Ie].value)}}for(var Lt=[],_t=0,Nt=s;_t<Nt.length;_t++){var U=Nt[_t];for(K=0;K<i;++K)Lt.push(U.values[K])}return Lt.grouped=function(){return s},Lt.identityFields=t.columns.root.childIdentityFields,Lt.source=t.columns.levels[0].sources[0],{categories:o,values:Lt}}(s,o.metadata.columns))}return o}(t,e.selectTransforms,e.roleKindByQueryRef,e.queryProjectionsByRole,a);return function(t,e,r,a){if(!function(t,e,r,a){if(_.isEmpty(e)||!t||_.isEmpty(r))return!1;var i=t.matrix;if(!i||!i.rows||_.isEmpty(i.rows.levels)||!i.columns||_.isEmpty(i.columns.levels))return!1;for(var o=[],s=0,p=i.columns.levels;s<p.length;s++)for(var U=0,K=p[s].sources;U<K.length;U++)(ue=K[U]).isMeasure||o.push(ue);for(var ye=[],_e=0,Ie=i.rows.levels;_e<Ie.length;_e++)for(var Re=0,$e=Ie[_e].sources;Re<$e.length;Re++)(ue=$e[Re]).isMeasure||ye.push(ue);for(var st=[],ht=0,Lt=i.rows.levels;ht<Lt.length;ht++)for(var _t=0,Nt=Lt[ht].sources;_t<Nt.length;_t++){var ue;(ue=Nt[_t]).isMeasure&&st.push(ue)}if(!_.isEmpty(st)||1!==o.length||ye.length<1)return!1;var Et=_.filter(r,function(Vr){return!(0,ta.zY)(Vr)});if(1!==Et.length)return!1;if(2!==(0,ta._1)(Et))return!1;var Ut=Et[0].matrix;if(!Ut)return!1;var qt=ta.nG.fromMatrixRows(Ut.rows),ar=ta.nG.fromMatrixColumns(Ut.columns);if(_.size(qt)<2||0!==_.size(ar))return!1;var or=_.uniq([].concat.apply([],_.map(ye,function(Vr){return Object.keys(e[Vr.index].roles)}))),fr=_.uniq([].concat.apply([],_.map(o,function(Vr){return Object.keys(e[Vr.index].roles)})));return _.isEqual(qt,[].concat(fr,or))&&_.isEqual(a,or)}(t,e,a,r))return t;var i={metadata:{columns:(0,ie.ev)([],t.metadata.columns||[],!0)}};if(t.single&&(i.single=t.single),t.table&&(i.table=t.table),t.matrix){var o=function(t){var e=t.rows,r=t.columns,a=e.root,i=a.children;n.fF.assert(function(){return 1===e.levels.length},"oldRows.levels.length ===1"),n.fF.assert(function(){return r.levels.length>=1},"oldColumns.levels.length >=1"),n.fF.assert(function(){return 1===r.levels[0].sources.length},"oldColumns.levels[0].sources.length === 1");var o={levels:[],root:{children:[]}},p={rows:o,columns:{levels:[],root:{children:[]}},valueSources:t.valueSources},x=o.root.children;o.levels.push(r.levels[0]),o.root.childIdentityFields=r.root.childIdentityFields;for(var U=0,K=r.root.children;U<K.length;U++){var ue=K[U];void 0!==ue.levelValues&&void 0!==ue.value&&x.push({children:[],value:ue.value,levelValues:ue.levelValues,identity:ue.identity,level:0})}var ye=_.size(t.valueSources);if(o.levels.push(e.levels[0]),_.isEmpty(x))return p;for(var _e in i){var Ie=i[_e];for(var Re in Ie.values){var st=x[Math.floor(Re/ye)];st.childIdentityFields||(st.childIdentityFields=a.childIdentityFields);var ht=Ie.values[Re];if(null!=ht){var Lt=st.children[_e];Lt||st.children.push(Lt={level:st.level+1,value:Ie.value,levelValues:Ie.levelValues,values:{},identity:Ie.identity}),Lt.values[Re%ye]=ht}}}return p}(t.matrix);_.isEmpty(o.valueSources)||(0,oa.CF)(o.columns)||(i.matrix=o)}return i}(i=function(t,e,r,a){if(n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"transformActions"),n.fF.assertAnyValue(r,"applicableRoleMappings"),n.fF.assertAnyValue(a,"drillableRoles"),!_.isEmpty(e.splits))return t;var i=t.matrix;if(!i)return t;var o=_.chain(r).map(function(U){return function(t){n.fF.assertValue(t,"dataViewMapping");var e=t.matrix;if(e&&e.rows&&!e.columns&&!e.values){var r=ta.nG.fromMatrixRows(e.rows);if((0,A.NF)(r,Qy,function(i,o){return i===o})||(0,A.NF)(r,Yy,function(i,o){return i===o}))return{primaryAxisRoles:r.slice(1),secondaryAxisRole:r[0]}}}(U)}).filter(function(U){return!!U}).value();if(1!==o.length)return t;if(!function(t,e,r,a){n.fF.assertValue(t,"dataViewSelectIndices"),n.fF.assertValue(e,"transformActions"),n.fF.assertAnyValue(r,"drillableRoles"),n.fF.assertValue(a,"matchingUpgradeSourceRolesStructure");var i=t.primaryAxis,o=t.secondaryAxis;if(!_.isEmpty(t.intersection)||1!==_.size(i)||1!==_.size(o))return!1;var s=e.selects;return!(!ju(i[0].selectIndices,s,r,a.primaryAxisRoles)||!ju(o[0].selectIndices,s,r,[a.secondaryAxisRole]))}((0,oa.GJ)(i),e,a,o[0]))return t;var p=function(t){n.fF.assertValue(t,"dataViewMatrix"),n.fF.assert(function(){return 1===t.columns.levels.length},"dataViewMatrix.columns.levels.length === 1"),n.fF.assert(function(){return 1===t.rows.levels.length},"dataViewMatrix.rows.levels.length === 1"),n.fF.assert(function(){return _.isEmpty(t.valueSources)},"_.isEmpty(dataViewMatrix.valueSources)");var e=(0,Dt.qO)(t),r=e.rows=(0,Dt.qO)(t.rows),a=e.columns=(0,Dt.qO)(t.columns),o=(a.levels=(0,Dt.qO)(a.levels)).splice(0,1)[0];(r.levels=(0,Dt.qO)(r.levels)).splice(0,0,o);var p=t.rows.root,x=r.root=(0,Dt.qO)(a.root);a.root={children:[]};var U=(0,Dt.VW)(x.children,function(K){var ue=(0,Dt.qO)(K);return ue.childIdentityFields=p.childIdentityFields,ue.children=function(t){if(n.fF.assertAnyValue(t,"nodes"),!t)return t;var e=(0,Dt.VW)(t,function(r){var a=(0,Dt.ED)(r);return a.level+=1,a});return e||(0,Dt.ED)(t)}(p.children),ue});return U&&(x.children=U),e}(i),x=(0,Dt.qO)(t);return x.matrix=p,x}(i,r,a,e.drillCapabilities&&e.drillCapabilities.roles),e.selectTransforms,e.drillCapabilities&&e.drillCapabilities.roles,a)}(e,s),x=function(t,e,r,a,i,o){n.fF.assertValue(e,"transformContext");var s=[],p=e.transforms.splits;if(_.isEmpty(p))s.push(Ku(t,e,r,a,null,i,o));else for(var x=0,U=p;x<U.length;x++){var ue=Ku(t,e,r,a,U[x].selects,null,o);s.push(ue)}return s}(p,s,t.featureSwitches,o,t.bypassConcatenation,t.orderIndependentSelectorMatching);return{dataViews:x=(0,By.KH)({visualDataViews:x,dataRoles:s.dataRoles,objectDescriptors:r,objectDefinitions:a.objects,transformSelects:a.selects,applicableDataViewMappings:s.applicableRoleMappings,roleKindByQueryRef:s.roleKindByQueryRef,queryProjectionsByRole:s.queryProjectionsByRole,visualStyle:s.visualStyle,featureSwitches:t.featureSwitches}),warnings:o}}function ig(t,e,r,a){if(e&&e.objects){var i={metadata:{columns:[]}};return(0,Le.ni)(i,0,t,e.objects,e.selects,r,a),[i]}return[]}function Ku(t,e,r,a,i,o,s){var p,x,U,K,ue;n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"transformContext"),n.fF.assert(function(){return!i||_.every(i,function(Nt,Et){var jt;return!Nt||(null===(jt=e.selectTransforms)||void 0===jt?void 0:jt[Et])})},"If selectsToInclude is specified, every included Select must have a corresponding Select Transform.");var ye=(0,Dt.ED)(t);ye.metadata=(0,Dt.ED)(t.metadata),ye=function(t,e){if(n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"transformContext"),(0,rr.Js)(e.visualCapabilitiesDataViewKinds)<=1)return t;var a=e.applicableDataViewKinds;if(0===(0,rr.Js)(a))return t;var o=(0,Dt.qO)(t);return o.categorical&&!(0,rr.yE)(a,1)&&(o.categorical=void 0),o.matrix&&!(0,rr.yE)(a,2)&&(o.matrix=void 0),o.table&&!(0,rr.yE)(a,8)&&(o.table=void 0),o.tree&&!(0,rr.yE)(a,16)&&(o.tree=void 0),o.single&&!(0,rr.yE)(a,4)&&(o.single=void 0),o}(ye,e);var _e=e.visualCapabilitiesDataViewKinds,Ie=e.visualCapabilitiesRoleMappings,Re=e.selectTransforms,$e=e.expandCollapseCapabilities,st=e.objectDescriptors,ht=e.visualStyle,Lt={rowHierarchyRewritten:!1,columnHierarchyRewritten:!1,hierarchyTreesRewritten:!1},_t=[];return ye=function(t,e,r,a,i,o,s,p,x){n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"targetDataViewKinds"),n.fF.assert(function(){return 0===e||!_.isEmpty(r)},"if targetDataViewKinds !== None, then roleMappings must be non-empty"),n.fF.assertAnyValue(a,"selectTransforms"),n.fF.assertValue(i,"columnRewrites"),n.fF.assertValue(o,"matrixTransformationContext"),n.fF.assertValue(s,"DataViewTransform.transformSelects - visualStyle");var U=new Fy.Q(x,s);return i.length=0,a&&(t.metadata.columns=function(t,e,r,a){if(n.fF.assertValue(t,"columns"),!e)return t;for(var i=(0,Dt.ED)(t),o={},s=function($e,st){var ht=t[$e],Lt=e[ht.index];o[ht.index]=!0;var _t=ht;if(Lt)_t=i[$e]=Gu(ht,Lt);else if(!_.some(t,function(Nt){return Nt.formatSource&&Nt.formatSource.formatString===ht}))return"continue";r.push({from:ht,to:_t})},p=0,x=t.length;p<x;p++)s(p);if(a)for(p=0;p<e.length;p++)if(!o[p]){var U=e[p];K=Qu(U,K={displayName:U.displayName,index:p,identityExprs:U.identityExprs}),i.push(K)}for(var ue={},ye=0,_e=i;ye<_e.length;ye++){var K;if((K=_e[ye]).roles&&!K.groupName&&K.index)for(var Ie in K.rolesIndex||(K.rolesIndex={}),K.roles)void 0===ue[Ie]&&(ue[Ie]=0),K.roles[Ie]&&(K.rolesIndex[Ie]=[ue[Ie]++])}return n.fF.assert(function(){return _.every(r,function(Re){return Re.from.index===Re.to.index})},"post-condition: DataViewMetadataColumn.index is not expected to be rewritten by select transforms."),i}(t.metadata.columns,a,i,p),function(t,e,r){if(n.fF.assertValue(t,"dataView"),n.fF.assertAnyValue(r,"selects"),r)for(var i,a=t.metadata.columns,o=0,s=r.length;o<s;o++){var p=r[o],x=p&&p.aggregateSources;if(x){i||(i=(0,tg._x)(t,r));var U=pg(a,o,p),K=U.aggregates={},ue=Je.Ge.fromDescriptor(U.type),ye=Yu(e,i,r,ue,x.min);void 0!==ye&&(K.min=ye),void 0!==(ye=Yu(e,i,r,ue,x.max))&&(K.max=ye)}}}(t,U,a)),t.categorical&&(0,rr.yE)(e,1)&&(t.categorical=function(t,e){n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"columnRewrites");var r=(0,Dt.ED)(t);function a(p){var x=function(t,e){for(var r={},a=t.source,i=t.source.rootSource,o=0,s=e;o<s.length;o++){var p=s[o];p.from===a&&(r.source=p.to),p.from===i&&(r.rootSource=p.to)}return r}(p,e),U=x.source,K=x.rootSource;if(U){var ue=(0,Dt.ED)(p);return ue.source=U,K&&(ue.source.rootSource=K),ue}}var i=(0,Dt.VW)(t.categories,a);if(i&&(r.categories=i),t.values){var o=(0,Dt.VW)(t.values,a)||(0,Dt.qO)(t.values);if(r.values=o,o.source){var s=so(o.source,e);s&&(o.source=s)}}return wu(r),r}(t.categorical,i),t=function(t,e){n.fF.assertValue(t,"dataView");var r,a=function(t,e){if(t&&!_.isEmpty(e)){var r=t.categories;if(!_.isEmpty(r)){var a=t.values;if(!_.isEmpty(a)&&!a.grouped().some(function(x){return!!x.identity}))for(var i=function(U,K){var ue=e[U].categorical;if(!ue)return"continue";n.fF.assert(function(){return _.filter(r,function(ht){return Ju(ht.source.roles,ue.values)}).length<=1},"There should never be more than one column with the secondary axis group role in a DataViewCategorical, let alone columns in DataViewCategorical.categories.");for(var ye=0,_e=r;ye<_e.length;ye++){var Ie=_e[ye],Re=Ie.source.roles;if(Ju(Re,ue.values)){var $e=ue.categories;if(Mg(Re,$e)||us(Re,$e))return{value:{type:2,selfCrossJoinCategory:Ie}};if(1===r.length)return{value:{type:1}}}}},o=0,s=e.length;o<s;o++){var p=i(o);if("object"==typeof p)return p.value}}}}(t.categorical,e);if(a)switch(a.type){case 1:r=function(t){var e;n.fF.assertValue(t,"dataView");var r=t.categorical;if(!r)return null;var a=r.categories;if(!a||1!==a.length)return null;var i=r.values;if(_.isEmpty(i)||i.source)return null;for(var o=a[0],s=o.identity,p=o.values,x=[],U=[],K=new wy,ue=0,ye=p.length;ue<ye;ue++)for(var _e=p[ue],Ie=s[ue],Re=0,$e=i.length;Re<$e;Re++){var st=i[Re],ht=K.getPivotedDynamicFormatColumn(st.source,ue);if(void 0===ht&&(ht=(0,Dt.ED)(st.source)),st.identity)return null;if(ht.groupName=_e,ht.rootSource=st.source,null!==(e=ht.formatSource)&&void 0!==e&&e.formatString){var Lt=ht.formatSource.formatString;K.trackOriginalDynamicFormatColumn(Re,Lt);var _t=(0,Dt.ED)(Lt);ht.formatSource={formatString:_t},K.addPivotedDynamicFormatColumn(Re,ue,_t)}var Nt={source:ht,values:[st.values[ue]],identity:Ie,min:st.min,max:st.max,subtotal:st.subtotal},Et=st.highlights;Et&&(Nt.highlights=[Et[ue]]),x.push(ht),U.push(Nt)}var jt=(0,Dt.ED)(t.metadata);return jt.columns=x,{metadata:jt,categorical:{values:i=(0,Le.Yv)(U,o.identityFields,o.source)},matrix:t.matrix}}(t);break;case 2:n.fF.assertValue(a.selfCrossJoinCategory,"selfCrossJoinCategory is expected to be defined when type is SelfCrossJoin"),r=function(t,e){if(n.fF.assertValue(t,"dataView"),n.fF.assert(function(){return!e||_.includes(t.categorical.categories,e)},"!selfCrossJoinCategory || _.includes(dataView.categorical.categories, selfCrossJoinCategory)"),t.categorical&&e){var r=t.categorical;if(!(_.isEmpty(r.categories)||r.values&&r.values.source)){var a=function(t,e){return n.fF.assertValue(t,"dataViewCategorical"),n.fF.assertValue(e,"selfCrossJoinCategory"),n.fF.assert(function(){return _.includes(t.categories,e)},"_.includes(dataViewCategorical.categories, selfCrossJoinCategory)"),e.source.identityExprs||(1===t.categories.length?e.identityFields:void 0)}(r,e);if(!_.isEmpty(a))return function(t,e,r,a){n.fF.assertValue(t,"dataViewMetadata"),n.fF.assertValue(e,"dataViewCategorical"),n.fF.assertValue(e.categories,"dataViewCategorical.categories"),n.fF.assertValue(r,"selfCrossJoinCategory"),n.fF.assert(function(){return _.size(r.values)===_.size(r.identity)},"_.size(selfCrossJoinCategory.values) === _.size(selfCrossJoinCategory.identity)"),n.fF.assertValue(a,"seriesGroupIdentityFields");var o=r.values.length;if(0!==o){var s=e.values?e.values.grouped()[0].values:[],p=function(t,e,r,a){n.fF.assertValue(t,"category"),n.fF.assertValue(e,"categoryLength"),n.fF.assertValue(r,"measures"),n.fF.assertValue(a,"seriesGroupIdentityFields");var i=function(t){n.fF.assertValue(t,"length");for(var e=new Array(t),r=0;r<t;r++)e[r]=null;return e}(e),o=function(t,e){n.fF.assertValue(t,"category"),n.fF.assert(function(){return _.size(t.values)===_.size(t.identity)},"_.size(category.values) === _.size(category.identity)"),n.fF.assertValue(!_.isEmpty(e),"!_.isEmpty(seriesGroupIdentityFields)");for(var r=t.identity,a=t.values,i=[],o={},s=0,p=_.size(r);s<p;s++){var U=(0,ln.J2)(r[s].expr,e),K=U&&(0,Pt.TZ)(U),ue=K&&K.key,ye=o[ue],_e=void 0;void 0===ye?(i.push(_e={identity:K,groupValue:a[s],groupIndex:i.length,valueRowIndices:[]}),o[ue]=_e.groupIndex):_e=i[ye],_e.valueRowIndices.push(s)}return n.fF.assert(function(){return(0,A.pT)(i,function(Ie,Re){return Ie.groupIndex-Re.groupIndex})},"post-condition: seriesGroups is sorted by group index"),i}(t,a);if(!_.isEmpty(o)){var s=_.map(o,function(p){var x=p.valueRowIndices;return _.map(r,function(K){var ue={values:Uu(i,K.values,x)};return K.highlights&&(ue.highlights=Uu(i,K.highlights,x)),ue})});return{groupColumn:{source:t.source,identityFrom:{fields:a,identities:_.map(o,function(p){return p.identity})},values:_.map(o,function(p){return p.groupValue})},valueColumns:_.map(r,function(p){return{source:p.source}}),data:s}}}(r,o,s,a);if(p){var x=(0,zy.h)().withCategories(e.categories).withGroupedValues(p).build();return(t=(0,Dt.ED)(t)).columns=x.metadata.columns,{metadata:t,categorical:x.categorical}}}}(t.metadata,r,e,a)}}}(t,a.selfCrossJoinCategory)}return r||t}(t,r)),t.matrix&&(0,rr.yE)(e,2)&&(t.matrix=function(t,e,r){n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"columnRewrites");var a=(0,Dt.ED)(t),i=function(K){return so(K,e)};function o(U){var K=null,ue=(0,Dt.VW)(U.levels,function(ye){var _e=null,Ie=(0,Dt.VW)(ye.sources,i);if(Ie&&(_e=ls(_e,ye,function($e){return $e.sources=Ie})),ye.valueSources){n.fF.assert(function(){return _.isEqual(_.keys(ye.valueSources),["0"])},"Scoped Measures with column groupings are not supported"),n.fF.assertValue(ye.valueSources[0],"Empty Scoped measures metadata");var Re=(0,Dt.VW)(ye.valueSources[0],i);Re&&(_e=ls(_e,ye,function($e){return $e.valueSources={0:Re}}))}return _e});return ue&&(K=ls(K,U,function(ye){return ye.levels=ue})),K}var s=o(a.rows);s&&(a.rows=s,r.rowHierarchyRewritten=!0);var p=o(a.columns);p&&(a.columns=p,r.columnHierarchyRewritten=!0);var x=(0,Dt.VW)(a.valueSources,i);return x&&(a.valueSources=x),a}(t.matrix,i,o)),t.table&&(0,rr.yE)(e,8)&&(t.table=function(t,e){n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"columnRewrites");var r=(0,Dt.ED)(t),i=(0,Dt.VW)(t.columns,function(s){return so(s,e)});return i&&(r.columns=i),r}(t.table,i)),t.single&&(0,rr.yE)(e,4)&&(t.single=function(t,e){var r=so(t.column,e);return r&&((t=(0,Dt.qO)(t)).column=r),t}(t.single,i)),t}(ye,_e,Ie,Re,_t,Lt,ht,e.visualCapabilitiesKeepAllMetadataColumns,r),(0,Le.ni)(ye,e.visualCapabilitiesDataViewKinds,st,e.transforms.objects,Re,ht,r,a,s),ye=function(t,e,r,a,i){n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"transformContext"),n.fF.assertValue(a,"matrixTransformationContext"),n.fF.assertAnyValue(i,"selectsToInclude");var o=e.projectionOrdering,s=e.applicableRoleMappings,p=(0,Dt.qO)(t);if(function(t,e,r){if(e){for(var a=new Array(r.length),i=0,o=t;i<o.length;i++)if(void 0!==(s=o[i]).index&&void 0!==s.roles&&null==s.groupName)for(var p in a[s.index]=s,s.rolesIndex=s.rolesIndex||{},s.roles)s.roles[p]&&(s.rolesIndex[p]=[]);for(var p in e)for(var x=e[p],U=0;U<x.length;U++){var s;(s=a[x[U]])&&s.rolesIndex[p].push(U)}}}(p.metadata.columns,o,r),p.table&&(0,rr.yE)(e.applicableDataViewKinds,8)&&function(t,e,r){if(!e)return t;var a=function(t,e){var r=Object.keys(t);if(1===r.length){var a=r[0],i=_.map(e,function(s){return s.from.index});return function(t,e){if(!(0,A.NF)(t,e,function(s,p){return s===p})){for(var r=[],a=0,i=e.length;a<i;++a)r[a]=t.indexOf(e[a]);return r}}(i,t[a])}}(e,r);if(!a)return t;var i=function(p){for(var x=a.length,U=new Array(x),K=0;K<x;K++)U[K]=p[a[K]];return U};if((t=(0,Dt.qO)(t)).columns=i(t.columns),_.isEmpty(t.rows)||(t.rows=(0,Dt.VW)(t.rows,function(s){var p=i(s);return s.objects&&(p.objects=i(s.objects)),p})),t.totals){var o=i(t.totals);t.totals.objects&&(o.objects=i(t.totals.objects)),t.totals=o}}(p.table,o,r),p.matrix&&(0,rr.yE)(e.applicableDataViewKinds,2)){var x=_.filter(s,function(U){return!!U.matrix});n.fF.assertValue(0!==x.length,"transformContext.applicableDataViewKinds should not have included Matrix if none of the applicableRoleMappings targets matrix."),n.fF.assertValue(x.length<2,"This logic needs to be enhanced if there is more than one applicable DataViewMapping that targets matrix."),p.matrix=function(t,e,r,a){var i;n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"matrixMapping"),n.fF.assertAnyValue(r,"projectionOrdering"),n.fF.assertValue(a,"context");var o=t;if(r){o=function(t,e,r,a){n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"matrixRoleMapping"),n.fF.assertValue(r,"projectionOrdering"),n.fF.assertValue(a,"context");var i=t.valueSources,o=Pu(r,e.values,i);if(Au(i,o))return t;n.fF.assert(function(){return o.length>0||!_.isEmpty(i)},"Nothing to re-order!");var s=(0,Dt.qO)(t),p=s.columns.levels,x=[];p.length>0&&(x=p[0].sources.filter(function(K){return K.isMeasure&&null!=K.index&&!_.isEmpty(K.roles)&&!_.find(o,function(ue){return ue.metadataColumn===K})})),s.rows=Ru(s.rows,s.valueSources,o,x);var U=_.map(o,function(K){return K.metadataColumn});return s.valueSources=U,s.valueSources=s.valueSources.concat(x),s.columns=function(t,e,r,a){n.fF.assertValue(t,"prototypeColumnHierarchy"),n.fF.assertValue(e,"newValueSources");var x,i=t.levels,o=(0,oa.Lt)(i),p=(o?_.size(i)>=2:_.size(i)>=1)?e.length>=2:e.length>=1;return x=o?p?function(t,e,r,a){n.fF.assert(function(){return t&&(0,oa.Lt)(t.levels)},"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),n.fF.assertValue(e,"newValueSources");var i=(0,Dt.qO)(t),o=i.levels=(0,Dt.qO)(i.levels),s=o.length-1,p=o[s]=(0,Dt.qO)(o[s]);return p.sources=e,i.root=(0,oa.no)(i.root,s,!0),(0,oa.w1)(i.root,function(x){var U;if(Iu(x,s)){var K=Ou(s,e.length,x,a);if(0===s&&r.length>0){for(var ue=p.sources.length,ye=0;ye<r.length;ye++)K.push({level:0,levelSourceIndex:ue+ye});x.children=K,(U=p.sources).push.apply(U,r||[])}else x.children=K;return 2}return 1}),i}(t,e,r,a):function(t){n.fF.assert(function(){return t&&(0,oa.Lt)(t.levels)},"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)");var e=(0,Dt.qO)(t),r=e.levels=(0,Dt.qO)(e.levels),a=r.length-1;return r.splice(a,1),e.root=(0,oa.no)(e.root,a,!0),(0,oa.w1)(e.root,function(i){return Iu(i,a)?(i.children=void 0,2):1}),e}(t):p?function(t,e){n.fF.assert(function(){return t&&!(0,oa.Lt)(t.levels)},"prototypeColumnHierarchy && !hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),n.fF.assertValue(e,"newValueSources");var r=(0,Dt.qO)(t),a=r.levels=(0,Dt.qO)(r.levels);a.push({sources:e});var o=a.length-1;return r.root=(0,oa.no)(r.root,o,!0),(0,oa.w1)(r.root,function(s){return(0,oa.N9)(s)?(s.children=Ou(o,e.length,s),2):1}),r}(t,e):t,x}(s.columns,(0,ie.ev)([],U||[],!0),x,o),a.hierarchyTreesRewritten=!0,s}(o,e,r,a),o=function(t,e,r){n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"applicableDataViewMapping"),n.fF.assertValue(r,"projectionOrdering");var U,i=ns(r,ta.nG.fromMatrixRows(e.rows)),o=Lu(t.rows,i),p=ns(r,ta.nG.fromMatrixColumns(e.columns)),x=Lu(t.columns,p);return(o||x)&&((U=(0,Dt.qO)(t)).rows=o||U.rows,U.columns=x||U.columns),U||t}(o,e,r);var s=null===(i=e.rows)||void 0===i?void 0:i.values;_.isEmpty(s)||(o=function(t,e,r,a){n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"scopedMeasuresRoleMapping"),n.fF.assertValue(r,"projectionOrdering"),n.fF.assertValue(a,"context");for(var i=t,o=0;o<t.rows.levels.length;o++){var p=(0,oa.vC)(t.rows.levels[o]);if(!_.isEmpty(p)){var x=[];o===t.rows.levels.length-1&&(n.fF.assert(function(){return(0,oa.pr)(t.columns)>0},"Scoped measures at last row level aren't expected without Column grouping"),x=Pu(r,e,p)),Au(p,x)||((i=(0,Dt.qO)(i)).rows=Ru(i.rows,p,x,[],o),i.rows.levels=(0,Dt.qO)(i.rows.levels),(i.rows.levels[o]=(0,Dt.qO)(i.rows.levels[o])).valueSources=x.length>0?{0:_.map(x,function(K){return K.metadataColumn})}:void 0,a.hierarchyTreesRewritten=!0)}}return i}(o,s,r,a))}return o}(p.matrix,x[0].matrix,o,a),function(t,e){if(t&&!_.isEmpty(e)){var r=t.rows.levels;if(!(r.length<1)){var a=t.rows.root.children;if(a&&0!==a.length)for(var i=r[0].sources[0].roles,o=0,s=e.length;o<s;o++){var p=e[o].matrix;if(p&&!us(i,p.rows)&&us(i,p.columns))return!0}}}}(p.matrix,s)&&ty(p.matrix,a)}return function(t,e,r,a,i){n.fF.assertValue(t,"prototype"),n.fF.assertAnyValue(e,"applicableRoleMappings"),n.fF.assertAnyValue(r,"dataRoles"),n.fF.assertAnyValue(a,"projectionOrdering"),n.fF.assertAnyValue(i,"splitSelects");var o,s=_.chain(e).filter(function(U){return U.categorical&&!(0,ta.zY)(U)}).map(function(U){return U.categorical}).value();if(t.categorical&&s.length>=1){var p=t.categorical,x=function(t,e,r,a){if(n.fF.assertValue(t,"prototypeCategorical"),n.fF.assertValue(e,"categoricalRoleMappingsWithoutRegression"),n.fF.assert(function(){return _.every(e,function(s){return!!s})},"categoricalRoleMappingsWithoutRegression must not contain falsy elements"),n.fF.assertAnyValue(r,"projectionOrdering"),n.fF.assertAnyValue(a,"splitSelects"),!_.isEmpty(t.categories)){var i=(0,ta.y4)(e,ta.O2);if(i){var o=function(t,e,r){if(n.fF.assertValue(t,"roles"),n.fF.assertAnyValue(e,"projectionOrdering"),n.fF.assertAnyValue(r,"splitSelects"),e){var a=_.reduce(t,function(i,o){var s=_.filter(e[o],function(p){return!r||r[p]});return i.push.apply(i,s||[]),i},[]);return a}}(i,r,a);if(o)return function(t,e,r){n.fF.assertValue(t,"prototypeCategorical"),n.fF.assertValue(e,"projectionOrder"),n.fF.assertValue(r,"categoryRoles");var a=t.categories;if(_.isEmpty(a))n.fF.assert(function(){return _.isEmpty(e)},"If DataViewCategory.categories is empty but projectionOrder of primary axis is non-empty, then something went wrong when projectionOrder was getting deserialized or reconstructed.  If projectionOrder for primary axis is truly non-empty, then the DSR and DataView should have some data there.");else if(!function(t,e){return n.fF.assertValue(t,"categories"),n.fF.assertValue(e,"selectIndexOrder"),t.length===e.length&&_.every(e,function(r,a){return t[a].source.index===r})}(a,e)){var i=_.map(a,function(K){return K.source}),o=(0,xn.jh)(i,e,r),s=_.chain(o).filter(function(K){return void 0!==K.projectionOrderIndex}).sortBy(function(K){return K.projectionOrderIndex}).value(),p=_.map(s,function(K){return a[K.sourceIndex]}),x=(0,Dt.qO)(t);if(_.isEmpty(p))x.categories=void 0;else{var U=(0,w.OC)(a);U&&(p=(0,w.gp)(p,U)||p),x.categories=p}return x}}(t,o,i)}}}(p,s,a,i);x=function(t,e,r,a){n.fF.assertValue(t,"prototypeCategorical"),n.fF.assertAnyValue(e,"dataRoles"),n.fF.assertAnyValue(r,"projectionOrdering"),n.fF.assertAnyValue(a,"splitSelects");var i=t.values;if(i){var o=function(t){if(rs(t)){var e=(0,Le.Yv)(t.filter(function(r){return!ts(r)}),void 0,t.source);return e.grouped=t.grouped.bind(e),e}}(i),s=function(t){n.fF.assertValue(t,"values"),n.fF.assert(function(){return!rs(t)},"Dynamic format values should have already been removed");var r,a,i,o,e=t.source,s=t.grouped();if(e){a=Tu(s);var x=(r=s.length)*_.size(a),U=t.length-x;U>0&&(i=x,o=_.chain(t).takeRight(U).map(function(K){return K.source}).value())}else i=0,o=Tu(s);return{secondaryAxisSource:e,dynamicSeriesGroupCount:r,dynamicSeriesMeasureSources:a,staticSeriesMeasureStartingIndex:i,staticSeriesMeasureSources:o}}(o||i),p=function(t,e,r,a){if(n.fF.assertValue(t,"valueColumnsInfo"),n.fF.assertAnyValue(e,"dataRoles"),n.fF.assertAnyValue(r,"projectionOrdering"),n.fF.assertAnyValue(a,"splitSelects"),!r)return function(t,e){n.fF.assertValue(t,"valueColumnsInfo"),n.fF.assertAnyValue(e,"splitSelects");var i=(t.dynamicSeriesMeasureSources||[]).concat(t.staticSeriesMeasureSources||[]),o=_.chain(i).filter(function(s){return!e||!!e[s.index]}).map(function(s){return s.index}).uniq().value();return o}(t,a);var i=_.reduce(e,function(K,ue,ye){var _e=ue.name;return void 0===K[_e]&&(K[_e]=ye),K},{}),p=(t.dynamicSeriesMeasureSources||[]).concat(t.staticSeriesMeasureSources||[]),x=_.chain(p).filter(function(K){return!a||!!a[K.index]}).uniqBy(function(K){return K.index}).map(function(K){var ue=K.roles;return ue?_.filter(Object.keys(ue),function(ye){return ue[ye]}):[]}).flatten().uniq().sortBy(function(K){return i[K]}).value(),U=_.chain(x).map(function(K){return r[K]||[]}).flatten().filter(function(K){return!a||!!a[K]}).uniq().value();return U}(s,e,r,a);if(o=function(t,e,r){n.fF.assertValue(t,"prototypeValues"),n.fF.assertValue(e,"prototypeValueColumnsInfo"),n.fF.assertValue(r,"measureRolesProjectionOrder"),n.fF.assert(function(){return!rs(t)},"Dynamic format values should have already been removed");var a=function(t,e,r){if(n.fF.assertValue(t,"prototypeValues"),n.fF.assertValue(e,"prototypeValueColumnsInfo"),n.fF.assertValue(r,"measureRolesProjectionOrder"),e.dynamicSeriesGroupCount&&!_.isEmpty(e.dynamicSeriesMeasureSources)){var a=Mu(e.dynamicSeriesMeasureSources,r);if(a){var i=a.length;if(0===i)return[];for(var o=e.dynamicSeriesMeasureSources.length,s=e.dynamicSeriesGroupCount,p=[],x=0;x<s;x++)for(var U=x*o,K=0;K<i;K++)p.push(t[U+a[K].sourceIndex]);return p}}}(t,e,r),i=function(t,e,r){if(n.fF.assertValue(t,"prototypeValues"),n.fF.assertValue(e,"prototypeValueColumnsInfo"),n.fF.assertValue(r,"measureRolesProjectionOrder"),!_.isEmpty(e.staticSeriesMeasureSources)){var a=Mu(e.staticSeriesMeasureSources,r);if(a){var i=a.length;if(0===i)return[];for(var o=e.staticSeriesMeasureStartingIndex,s=[],p=0;p<i;p++)s.push(t[o+a[p].sourceIndex]);return s}}}(t,e,r);if(a||i){var o=(0,Dt.qO)(t);return a?i?(n.fF.assert(function(){return _.isEmpty(a)||_.isEmpty(i)},"At least one of the two arrays should be empty, because visual DataView should not have a mix of dynamic and static measures."),o.splice(0,o.length),o.push.apply(o,a||[]),o.push.apply(o,i||[])):(n.fF.assertValue(e.dynamicSeriesGroupCount,"prototypeValueColumnsInfo.dynamicSeriesInstanceCount should have been populated if dynamic series measures got transformed"),n.fF.assertValue(e.dynamicSeriesMeasureSources,"prototypeValueColumnsInfo.dynamicSeriesMeasureSources should have been populated if dynamic series measures got transformed"),o.splice.apply(o,(0,ie.ev)([0,e.dynamicSeriesMeasureSources.length*e.dynamicSeriesGroupCount],a||[],!1))):i&&(n.fF.assertValue(e.staticSeriesMeasureSources,"prototypeValueColumnsInfo.staticSeriesMeasureSources should have been populated if static series measures got transformed"),n.fF.assertValue(e.staticSeriesMeasureStartingIndex,"prototypeValueColumnsInfo.staticSeriesMeasureStartingIndex should have been populated if static series measures got transformed"),o.splice.apply(o,(0,ie.ev)([e.staticSeriesMeasureStartingIndex,e.staticSeriesMeasureSources.length],i||[],!1))),o}}(o||i,s,p)||o,o=function(t,e){if(n.fF.assertValue(t,"prototypeValues"),n.fF.assertAnyValue(e,"splitSelects"),e&&t.source&&!e[t.source.index]){var a=(0,Dt.qO)(t);return a.source=void 0,a.identityFields=void 0,a}}(o||i,a)||o,o){var x=!!o.source,U=o.length>0,K=(0,Dt.qO)(t);return x||U?(K.values=o,wu(K)):K.values=void 0,K}}}(x||p,r,a,i),x&&((o=(0,Dt.qO)(t)).categorical=x)}return o||t}(p,s,e.dataRoles,o,i)}(ye,e,_t,Lt,i),ye=function(t,e,r,a,i,o){if(_.isEmpty(r)||!i)return t;var s=i&&i.roles;if(_.isEmpty(s))return t;n.fF.assertValue(t,"dataView"),n.fF.assertValue(e,"targetDataViewKinds"),n.fF.assertNonEmpty(a,"selectTransforms"),n.fF.assertAnyValue(o,"expansionStates");var p=i.addDataViewFlags;if(n.fF.assertValue(p,"addDataViewFlags"),!0!==(p.propertyIdentifier?(0,wa.NA)(t.metadata.objects,p.propertyIdentifier,p.defaultValue):p.defaultValue))return t;var U=_.find(r,function(ye){return ye.matrix}),K=U&&U.matrix;if(K&&t.matrix&&(0,rr.yE)(e,2)){var ue=function(t,e,r,a,i,o,s){n.fF.assertNonEmpty(a,"Expand/Collapse is not supported");var p=ta.nG.fromMatrixRows(e.rows),x=i&&function(t,e){return n.fF.assertValue(t,"ExpansionStates"),n.fF.assertNonEmpty(e,"Empty roles"),_.find(t,function(r){return _.isEqual(r.roles,e)})}(i,p),U=function(t,e,r,a,i,o,s){if(n.fF.assertAnyValue(i,"dataViewTransform.applyExpansionStatesToHierarchy - expansionState may not exist"),!_.some(e,function(Ie){return!_.includes(a,Ie)})){for(var p=0,x=function(Re){_.some(e,function($e){return Re.roles[$e]})&&p++},U=0,K=r;U<K.length;U++)x(K[U]);if(p>0){(t=(0,Dt.qO)(t)).levels=(0,Dt.qO)(t.levels),n.fF.assertValue(t.levels,"hierarchy.levels");for(var ye=0;ye<t.levels.length;ye++)ye<p-1&&(t.levels[ye]=(0,Dt.qO)(t.levels[ye]),t.levels[ye].canBeExpanded=!0);var _e=qu(t.root,t.levels,i&&i.root,i&&i.levels,p);return _e&&(t.root=_e),s&&i&&function(t,e,r){n.fF.assertValue(t,"hierarchy"),n.fF.assertValue(e,"metadataColumns"),n.fF.assertValue(r,"expansionState");var a=r.levels;if(!_.isEmpty(a)){for(var i={},o=0,s=e;o<s.length;o++){var p=s[o];i[p.queryName]=p}for(var x=new Array(a.length),U=t.levels,K=0,ue=function(st){var ht=st.queryRefs;if(!_.isEmpty(ht)&&!_.isEmpty(U)&&U[K])for(var Lt=U[K].sources,_t=function(qt){n.fF.assert(function(){return _.some(Lt,function(ar){return ar.queryName===qt})},"ExpansionState levels should match matrix levels.")},Nt=0,Et=ht;Nt<Et.length;Nt++)_t(Et[Nt]);x[K++]={isCollapsed:st.isCollapsed,isPinned:st.isPinned,isLocked:st.isLocked,AIInformation:_.cloneDeep(st.AIInformation),sources:_.map(ht,function(Ut){return i[Ut]})}},ye=0,_e=a;ye<_e.length;ye++)ue(_e[ye]);var Re=Zu(r.root,x,void 0,z.m.getPrimitiveValuesFromSQConstantExpr);t.expansionStates=[{levels:x,root:Re}]}}(t,o,i),t}}}(t.rows,p,r,a,x,o,s);if(U)return(t=(0,Dt.qO)(t)).rows=U,t}(t.matrix,K,a,s,o,t.metadata.columns,i.addDataViewExpansionState);ue&&((t=(0,Dt.qO)(t)).matrix=ue)}return t}(ye,_e,Ie,Re,$e,e.transforms.expansionStates),ye=function(t,e){n.fF.assertValue(t,"prototype"),n.fF.assertValue(e,"quarterPrefix");var r=t.categorical;if(!r||_.isEmpty(r.categories))return t;var a=r.categories,i=(0,Pn.A8)(a[0],Pn.it);if(!i||_.isEmpty(i.values))return t;for(var o,s,p,U,x=[],K=0,ue=a.length;K<ue;K++)for(var ye=a[K],_e=ye.source.type,Ie=ye.values,Re=void 0,$e=void 0,st=0,ht=_.size(Ie);st<ht;st++){var _t=i.values[st];if(null==Ie[st]&&null!=_t){o||(s=(o=(0,Dt.qO)(t)).categorical=(0,Dt.qO)(r),p=s.categories=(0,Dt.qO)(a)),Re||($e=(Re=p[K]=(0,Dt.qO)(ye)).values=(0,Dt.qO)(Ie));var Nt=Zh(_t.min,_e,e);$e[st]=Nt,x[st]||(U||(U=st),x[st]=[]),x[st][K]=(0,m.kQ)(Nt,_e)}}var Et=function(Ut,qt){for(var ar=p[Ut],or=function(Na,aa){var Or=x[Na];Or&&(n.fF.assert(function(){return Or.length===ar.identityFields.length},"category values must match category identities"),ar.identity[Na]=(0,Pt.TZ)(z.m.getDataViewScopeIdentityComparisonExpr(ar.identityFields,Or)))},fr=U,Vr=_.size(ar.identity);fr<Vr;fr++)or(fr)};for(K=0,ue=_.size(p);K<ue;K++)Et(K);return o||t}(ye,Hu_quarterPrefix),ye=function(t){var e=t.table;if(e&&1===e.columns.length&&e.columns[0].isMeasure&&1===e.rows.length&&1===e.rows[0].length){var a=e.rows[0];return t.single={column:e.columns[0],value:a[0]},a.objects&&(t.single.objects=a.objects[0]),t}return t}(ye),o||(ye=(0,Yh.pP)(ye,st,e.applicableRoleMappings,e.projectionActiveItems,e.drillCapabilities)),my({dataview:ye,dataViewMappings:Ie,dataRoles:e.dataRoles}),ye.metadata&&!(null===(p=null==e?void 0:e.transforms)||void 0===p)&&p.isDataFilterApplied&&(ye.metadata.isDataFilterApplied=!0),!(null===(U=null===(x=null==e?void 0:e.transforms)||void 0===x?void 0:x.roles)||void 0===U)&&U.drillableRoles&&ye.metadata&&(ye.metadata.dataRoles||(ye.metadata.dataRoles={}),ye.metadata.dataRoles.drillableRoles=null===(ue=null===(K=null==e?void 0:e.transforms)||void 0===K?void 0:K.roles)||void 0===ue?void 0:ue.drillableRoles),ye}function Gu(t,e){return n.fF.assertValue(t,"prototypeColumn"),n.fF.assertValue(e,"select"),Qu(e,(0,Dt.ED)(t))}function Qu(t,e){return t.roles&&(e.roles=t.roles),t.type&&(e.type=t.type),e.format=function(t,e){return t.format||e.format}(t,e),t.displayName&&(e.displayName=t.displayName),t.queryName&&(e.queryName=t.queryName),t.expr&&(e.expr=t.expr),t.kpi&&t.kpi.graphic&&(e.kpi=t.kpi),t.sort&&(e.sort=t.sort),null!=t.sortOrder&&(e.sortOrder=t.sortOrder),t.discourageAggregationAcrossGroups&&(e.discourageAggregationAcrossGroups=t.discourageAggregationAcrossGroups),t.parameter&&(e.parameter=t.parameter),t.relatedObjects&&(e.relatedObjects=t.relatedObjects),e}function pg(t,e,r){n.fF.assertValue(t,"columns"),n.fF.assertValue(e,"selectIdx"),n.fF.assertValue(r,"select");for(var a=0,i=t;a<i.length;a++){var o=i[a];if(o.index===e&&void 0===o.groupName)return o}var s=Gu({displayName:r.displayName},r);return t.push(s),s}function Yu(t,e,r,a,i){n.fF.assertValue(e,"evalContext"),n.fF.assertValue(r,"selects"),n.fF.assertValue(a,"type"),n.fF.assertValue(i,"source");var o=r[i.index];if(o)return t.evaluateValue(e,o.expr,a)}function so(t,e){var r=_.find(e,function(a){return a.from===t});if(r)return r.to}function ls(t,e,r){return t||(t=(0,Dt.ED)(e)),r&&r(t),t}function qu(t,e,r,a,i){if(!t.isSubtotal&&t.level!==i-1){var o=!1;if(void 0!==t.level){if(t=(0,Dt.qO)(t),a){var s=Number(!(!r||!r.isToggled)),p=a[t.level],x=Number(!(!p||!p.isCollapsed));t.isCollapsed=!!(x^s)}else t.isCollapsed=_.isEmpty(t.children)||1===t.children.length&&!!t.children[0].isSubtotal;o=!0}if(!_.isEmpty(t.children))for(var U=function(ye){var _e=t.children[ye],Ie=_e.identity,Re=Ie&&(0,ln.KX)(Ie.expr),$e=Re&&_.find(r&&r.children,function(ht){return(0,A.NF)(ht.identityValues,Re,T.fS)}),st=qu(_e,e,$e,a,i);st&&((t=(0,Dt.qO)(t)).children=(0,Dt.qO)(t.children),t.children[ye]=st,o=!0)},K=0;K<t.children.length;K++)U(K);return o?t:void 0}n.fF.assert(function(){return _.isEmpty(t.children)},"Leaf node with children")}function Zu(t,e,r,a){if(t){var o,s,i=t.identityValues;if(_.isEmpty(i)||(o=_.map(i,a)),!_.isEmpty(t.children)){var p=t.children;s=new Array(p.length);for(var x=0,U=0,K=p;U<K.length;U++){var ye=Zu(K[U],e,void 0===r?0:r+1,a);s[x++]=ye}}return{isExpanded:void 0===r?void 0:!!e[r].isCollapsed==!!t.isToggled,values:o,children:s}}}function Mg(t,e){if(t&&e&&e.bind)return t[e.bind.to]}function us(t,e){if(t&&e&&e.for)return t[e.for.in]}function Ju(t,e){if(t&&e&&e.group)return t[e.group.by]}var cs=ke(9656);function Xu(t,e){if(t.matrix||n.fF.assert(function(){return(0,cs.C0)(t.metadata,e.metadata)},"Cannot merge data views with different metadata columns"),e.metadata.segment?t.metadata.segment=e.metadata.segment:delete t.metadata.segment,t.table&&e.table&&function(t,e){if(n.fF.assertValue(t,"source"),n.fF.assertValue(e,"segment"),!_.isEmpty(e.rows)){var r=e.lastMergeIndex+1;Ji(t.rows,e.rows,r),n.fF.assert(function(){return!t.identity==!e.identity},"The existence of identity in the new segment is different than the source"),e.identity&&Ji(t.identity,e.identity,r)}}(t.table,e.table),t.categorical&&e.categorical&&function(t,e){if(n.fF.assertValue(t,"source"),n.fF.assertValue(e,"segment"),n.fF.assert(function(){return _.size(t.categories)===_.size(e.categories)},"pre-condition: source categories and segment categories should have the same length"),n.fF.assert(function(){return _.every(t.categories,function(U){return t.categories[0].identity===U.identity})},"pre-condition: the identity property of all category columns are expected to be the same array object"),!_.isEmpty(t.categories)&&!_.isEmpty(e.categories)){for(var r=e.lastMergeIndex+1,a=e.categories.length,i=function(K){var ue=e.categories[K],ye=t.categories[K];n.fF.assert(function(){return(0,cs.Mw)(ye.source,ue.source)},"Source and segment category have different sources."),n.fF.assert(function(){return void 0!==ye.values||void 0===ye.identity},"Source category is missing values but has identities."),ue.values&&Ji(ye.values,ue.values,r)},o=0;o<a;o++)i(o);e.categories[0].identity&&Ji(t.categories[0].identity,e.categories[0].identity,r)}if(t.values&&e.values){var s=e.values.length;n.fF.assert(function(){return t.values.length===s},"Source and segment values have different lengths.");for(var p=function(K){var ue=e.values[K],ye=t.values[K];n.fF.assert(function(){return(0,cs.Mw)(ye.source,ue.source)},"Source and segment value have different sources."),!ye.values&&ue.values&&(ye.values=[]);var _e=e.lastMergeIndex+1;ue.values&&Ji(ye.values,ue.values,_e),ue.highlights&&Ji(ye.highlights,ue.highlights,_e)},x=0;x<s;x++)p(x)}}(t.categorical,e.categorical),t.tree&&e.tree&&fs(t.tree.root,e.tree.root,!0),t.matrix&&e.matrix){n.fF.assertValue(t.matrix.rows,"source.matrix.rows"),n.fF.assertValue(t.matrix.rows.levels,"source.matrix.rows.levels"),n.fF.assertValue(e.matrix.rows,"segment.matrix.rows"),n.fF.assertValue(e.matrix.rows.levels,"segment.matrix.rows.levels"),n.fF.assertValue(t.metadata,"source.metadata"),n.fF.assertValue(t.metadata.columns,"source.metadata.columns"),n.fF.assertValue(e.metadata,"segment.metadata"),n.fF.assertValue(e.metadata.columns,"segment.metadata.columns");var r=t.matrix.rows.levels.length,a=e.matrix.rows.levels.length;if(r>a)_.remove(t.metadata.columns,function(U){return null!=U.index&&!_.some(e.metadata.columns,function(K){return K.index===U.index})}),t.metadata.columns.length=e.metadata.columns.length,function(t,e){var r=e.levels.length;t.levels.length=r,n.fF.assert(function(){return _.isEqual(t.levels,e.levels)},"Segments have different levels");var a=[];ds(t.root.children,r-1,a);for(var i=0,o=a;i<o.length;i++)Ag(o[i])}(t.matrix.rows,e.matrix.rows);else if(r<a){for(var o=0,s=0,p=_.filter(e.metadata.columns,function(U){return null!=U.index&&!_.some(t.metadata.columns,function(K){return K.index===U.index})});s<p.length;s++){for(var x=p[s];o<t.metadata.columns.length&&(null==t.metadata.columns[o].index||t.metadata.columns[o].index<x.index);)o++;t.metadata.columns.splice(o,0,x)}!function(t,e){for(var r=e.levels.length,a=t.levels.length,i=a;i<r;i++)t.levels.push(e.levels[i]);n.fF.assert(function(){return _.isEqual(t.levels,e.levels)},"Segments have different levels");var o=[];ds(t.root.children,a-1,o);for(var s=0,p=o;s<p.length;s++)Lg(p[s],a);(function(t,e){for(var r=t.root,a=0;a<e;a++)if(_.isEmpty(r.children)||(n.fF.assertValue(r=r.children[0],"Segment has fewer levels than expected"),!r.isMerge||r.isSubtotal))return!1;return!0})(e,a)&&delete _.last(o).children}(t.matrix.rows,e.matrix.rows)}fs(t.matrix.rows.root,e.matrix.rows.root,r!==a)}}function Ji(t,e,r){if(r>=e.length)return e;var a=[];return void 0!==r&&(a=e.splice(0,r)),Array.prototype.push.apply(t,e),a}function fs(t,e,r){if(n.fF.assertValue(t,"sourceRoot"),n.fF.assertValue(e,"segmentRoot"),e.children&&0!==e.children.length){if(r&&(!t.children||0===t.children.length))return void(t.children=e.children);n.fF.assert(function(){return t.children&&t.children.length>=0},"Source tree has different structure than segment.");var a=function(t){if(0===t.length)return 0;for(var e=0;e<t.length&&t[e].isMerge;e++);return e}(e.children),i=t.children[t.children.length-1],o=Ji(t.children,e.children,a);o.length>0&&fs(i,o[o.length-1],r)}}function Ag(t){if(!_.isEmpty(t.children)){var e=_.find(t.children,function(r){return r.isSubtotal});e&&(t.values=e.values),delete t.children,delete t.childIdentityFields}}function Lg(t,e){t.isSubtotal||(n.fF.assert(function(){return t.level===e-1},"Leaf was found on a non-last level"),n.fF.assert(function(){return 0===_.size(t.children)},"Node has children"),t.children=[{isSubtotal:!0,level:e,values:t.values}],delete t.values)}function ds(t,e,r){n.fF.assertValue(t,"nodes");for(var a=0,i=t;a<i.length;a++){var o=i[a];o.isSubtotal||(o.level===e?r.push(o):!_.isEmpty(o.children)&&void 0!==o.level&&o.level<e&&ds(o.children,e,r))}}var ca=ke(8104),ec=ke(9064);function Og(){return window}function zg(t,e,r){return void 0===e&&(e=3),void 0===r&&(r=0),function(a,i,o){n.fF.assertValue(a,"target"),n.fF.assertValue(i,"propertyKey");var s=o.value;return o.value=function(){for(var p=this,x=[],U=0;U<arguments.length;U++)x[U]=arguments[U];n.fF.assert(function(){return!_.isEmpty(t)},"eventName"),n.fF.assert(function(){return 0!==e},"activityAction");for(var K=Og();!(K==window.top||K.featureSwitchService&&K.telemetryService);)K=K.parent;var Ie,ue=K.featureSwitchService,ye=K.telemetryService,_e=!1;if(ue&&ue.isFeatureSwitchesRegistered()&&ue.featureSwitches&&ue.featureSwitches.telemetryV2&&ye||(_e=!0),_e)return Ie=s.apply(this,x);var Re=Zone&&Zone.current,$e=Re&&Re.get("data"),st=$e&&$e.monitoredActivity;(0,rr.yE)(e,1)&&(st=ye.startMonitoredActivity(st,t,{baseVersion:"v2",isFireAndForget:1===r||void 0}),Re=st.currentZone),n.fF.assertValue(Re,"currentZone");try{Re.run(function(){return Ie=s.apply(p,x)})}catch(ht){if((0,rr.yE)(e,2))return void lo(st,ht);throw ht}return(0,rr.yE)(e,2)&&(n.fF.assert(function(){return Re.name===t},"Event name should be same as the current zone name"),Ie&&_.isObject(Ie)&&Ie.then&&_.isFunction(Ie.then)?Ie.then(function(){lo(st)},function(ht){lo(st,ht)}):(n.fF.assertValue(st,"Decorated method called without a start action"),lo(st))),Ie},o}}function lo(t,e){n.fF.assertValue(t,"Decorated method called without a start action"),t&&(e?t.reject(e):t.resolve())}var sr=ke(8459),Xi=ke(1207),mr=ke(9926),Di=ke(6462),Nr=ke(7735);function uo(t){switch(t){case Xi.GT:return mr.a.satellite;case Xi.j2:return mr.a.night;case Xi.fS:return mr.a.road;case Xi.se:return mr.a.grayscaleLight;case Xi.AB:return mr.a.road}return mr.a.grayscaleLight}function tc(t){return _.clamp(t-1,0,22)}function ps(t,e,r){var a=e[0],o=r[0],p=e[1]-a,x=r[1]-o;if(0===p)throw new Error("Input range size must be greater than 0");return(t-a)/p*x+o}var ua=ke(593),cn=ke(8926),co=ke(3979),Ea=ke(5122),jg=ke(8120);function Pi(t){return t&&!!t.bind}function Ai(t){return t&&!!t.for}function Hg(t){return t&&!!t}function ms(t,e){var r=t.metadata.objects;if(!r||!r.valueAxis||!1!==r.valueAxis.sharedAxis||!0!==r.valueAxis.scaleToFit){var a=t.matrix,i=rc(a.values.select,e),o=a.rows.values;_.isEmpty(o)||i.push.apply(i,rc(o.select,e)),fo(i,{min:!0,max:!0})}}function rc(t,e){return t.filter(function(r){if(!Ai(r))return!1;var a=r.for.in.role;return _.some(e,function(i){return i===a})})}function fo(t,e){for(var r=0,a=t;r<a.length;r++){var s=(0,ta.eD)(a[r]).items;if(!_.isEmpty(s))for(var p=0,x=s;p<x.length;p++){var U=x[p];U.hidden||(U.aggregates=U.aggregates||[]).push(e)}}}function vs(t){var e=t.matrix.rows.select[0].dataReductionAlgorithm;if(e.window){var r=t.metadata&&t.metadata.objects,a=r&&r[Ea.Xi];a&&(e.window.count=(0,Ea.r8)(a.rowCount||Ea.UE,a.columnCount||Ea.ZO))}}function ac(t,e){var r=_.filter(t.metadata.columns,function(a){var i,o,s,p=null===(s=null===(o=null===(i=a.type)||void 0===i?void 0:i.misc)||void 0===o?void 0:o.sparkline)||void 0===s?void 0:s.groupingType;if(!p)return!1;var x=p.temporal||p.dateTime||p.numeric,U=(0,wa.NA)(a.objects,{objectName:"sparklines",propertyName:"chartType"},void 0);return x&&U===jg.$Q});_.forEach(r,function(a){var i=_.find(e,function(o){return a.queryName===o.queryName});i&&(i.sparklineInfo={includeMinGroupingInterval:!0})})}function fn(t){return Ai(t)&&t.for?dn(t.for.in,3):Pi(t)&&t.bind?dn(t.bind.to,3):void 0}function hs(t){return t&&t.scalarKeyInfo&&t.scalarKeyInfo.hasScalarKey||(0,ua.Hx)(t&&t.type)?2:1}function dn(t,e){var r=[];if(!t||t.role===cn.x.tooltips||_.isEmpty(t.items))return r;for(var a=t.activeItems,i=0,o=t.items;i<o.length;i++){var s=o[i];if(!_.some(a)||_.includes(a,s.queryName)){var p=0;t.role===co.Pn.goal&&(p=6),r.push({selectName:s.queryName,kind:e,roleKind:p})}}return r}function ic(t){var a,e=[],r=t.categorical.categories;Ai(r)&&r.for&&r.for.in&&(a=hs(_.first(r.for.in.items)),e.push.apply(e,dn(r.for.in,a)));return e}function ys(t){var e=[],r=t.categorical.values;if(r&&r.group){var a=r.group;if(e.push.apply(e,dn(a.by,1)),a.select)for(var i=0,o=a.select;i<o.length;i++){var p=fn(o[i]);_.isEmpty(p)||e.push.apply(e,p)}}if(r&&r.select)for(var x=0,U=r.select;x<U.length;x++)p=fn(U[x]),_.isEmpty(p)||e.push.apply(e,p);return e}function An(t,e){var r=_.first(t.dataViewMappings);if(!r||!r.categorical||!r.categorical.categories)return{subjectKind:e,error:2,bindings:void 0};var a=ic(r);return a.push.apply(a,ys(r)),_.isEmpty(a)?{subjectKind:e,error:2,bindings:void 0}:{subjectKind:e,error:void 0,bindings:a}}function Qg(t){for(var e=[],r=t.activeItems,a=0,i=t.items;a<i.length;a++){var o=i[a];if(!_.some(r)||_.includes(r,o.queryName)){var s=0;switch(t.role){case"MinValue":s=8;break;case"MaxValue":s=9;break;case"TargetValue":s=6}e.push({selectName:o.queryName,kind:3,roleKind:s})}}return e}function Yg(t,e){var r=[];if(!t||!e)return r;var a,i=0,o=0;switch(t.role){case"MinValue":e.min&&(a=e.min.toString(),i=4,o=8);break;case"MaxValue":e.max&&(a=e.max.toString(),i=4,o=9);break;case"TargetValue":e.target&&(a=e.target.toString(),i=4,o=6)}return a&&r.push({selectName:a,kind:i,roleKind:o}),r}var ri=ke(3374),Ma=ke(7706);function Ta(t){var e={},r=t&&t.categorical&&_.head(t.categorical.categories);return r&&(e.axisType=(0,ua.PX)(t.metadata.objects,Ma.mi.categoryAxis.axisType,r.source.type,void 0,(0,ri.n$)(t))?"scalar":"categorical"),e}function pi(t){return An(t,1)}var Ri=ke(7094);function $i(t){var e=t.dataViewMappings[0];e&&(e.categorical?function(t){var e=t.dataViewMappings[0];if(e.categorical.categories){if(e.categorical.dataVolume=4,(0,ua.iQ)(e,!1)){e.categorical.categories.dataReductionAlgorithm={sample:{}};var a=e.categorical.values;a&&a.group&&(a.group.dataReductionAlgorithm={top:{}})}else(0,ri.XS)([e]);(0,ri.K0)(t.dataViewMappings);var i=Li(t);(0,ri.kV)(t.dataViewMappings,i)}}(t):e.matrix&&function(t){var e=t.dataViewMappings[0];(0,Ea.qO)(e)&&((0,ua.iQ)(e,!0)&&((0,Ea.s5)(e,{sample:{}}),fo([(0,Ea.b8)(e)],{min:!0,max:!0})),ms(e,[Ma.au.y]),vs(e))}(t))}function Li(t){var e=t.dataViewMappings[0];return(0,Ea.qO)(e)?function(t){var e=(0,ua.iQ)(t,!0),r=[Ma.au.rows];return e||r.push(Ma.au.category),r.push(Ma.au.y,Ma.au.tooltips,Ma.au.series),r}(e):function(t){if(!t||!t.categorical||!t.categorical.categories)return null;var r=t.categorical.categories.for.in,a=r.items,i=r.activeItems,o=["Category","Series","Y","Tooltips"];if(!_.isEmpty(a)){var p=void 0;t.metadata&&(p=t.metadata.objects);var x=void 0;if(_.isEmpty(i))x=a[0].type;else if(1===i.length){var U=_.find(a,function(K){return K.queryName===i[0]});n.fF.assert(function(){return!!U},"Item should always be defined"),x=U.type}else if(i.length>1)return o;return(0,ua._K)(p,Ri.zK.categoryAxis.axisType,x)?["Series"]:o}return null}(e)}var Ii=ke(8828);function nc(t){_.isEmpty(t.dataViewMappings)||(t.dataViewMappings[0].matrix?function(t){var e=t.dataViewMappings[0];(0,Ea.qO)(e)&&((0,ua.iQ)(e,!0)&&((0,Ea.s5)(e,{sample:{}}),fo([(0,Ea.b8)(e)],{min:!0,max:!0})),ms(e,[Ii.rJ.y,Ii.rJ.y2]),vs(e))}(t):function(t){var e=!_.isEmpty(t.dataViewMappings)&&t.dataViewMappings[0],r=t.dataViewMappings.length>1&&t.dataViewMappings[1];oc(e,r);var o,a=(0,ua.iQ)(e,!1);(e&&e.categorical&&(e.categorical.dataVolume=4,a)&&(e.categorical.categories.dataReductionAlgorithm={sample:{}},(o=e.categorical.values)&&o.group&&(o.group.dataReductionAlgorithm={top:{}})),r&&r.categorical&&(r.categorical.dataVolume=4,a))&&(r.categorical.categories.dataReductionAlgorithm={sample:{}},(o=r.categorical.values)&&o.group&&(o.group.dataReductionAlgorithm={top:{}}));a||(0,ri.XS)(t.dataViewMappings),(0,ri.K0)(t.dataViewMappings);var s=gs(t);(0,ri.kV)(t.dataViewMappings,s)}(t))}function oc(t,e){if(t&&e){var r=t.categorical&&t.categorical.values,a=r.group&&!_.isEmpty(r.group.select)&&r.group.select[0];_.isEmpty(a.for.in.items)&&(r.group.by.items=void 0)}}function gs(t){if(t&&t.dataViewMappings.length>0){var e=t.dataViewMappings[0];if((0,Ea.qO)(e))return function(t){var e=(0,ua.iQ)(t,!0),r=[Ii.rJ.rows];return e||r.push(Ii.rJ.category),r.push(Ii.rJ.y,Ii.rJ.y2,Ii.rJ.tooltips,Ii.rJ.series),r}(e);if(!(0,ua.iQ)(e,!1))return["Category","Series","Y","Y2","Tooltips"]}return null}function sc(t){if(!t||_.isEmpty(t.dataViewMappings))return{subjectKind:1,error:2,bindings:void 0};var e=t.dataViewMappings[0],r=t.dataViewMappings[1];if(oc(e,r),!(e&&e.categorical&&e.categorical.categories))return{subjectKind:1,error:2,bindings:void 0};var a=ic(e);return a.push.apply(a,ys(e)),r&&r.categorical&&r.categorical.categories&&a.push.apply(a,ys(r)),_.isEmpty(a)?{subjectKind:1,error:2,bindings:void 0}:{subjectKind:1,error:void 0,bindings:a}}var po=ke(646),lc=ke(790),Ka=ke(9886);function uc(t){return An(t,2)}function d0(t){n.fF.assertValue(t,"compiledDataViewMappings");var e=_.first(t),r=e.table,a=e.metadata,i=a.objects,o=_.map(a.columns,function(st){return st.queryName}),s=r.rows,p=s.select[0],x=s.select[1];n.fF.assert(function(){return 1===p.bind.to.items.length},"There should be exactly one analyze item"),n.fF.assert(function(){return x.for.in.items.length>=1},"There should be at least one explain by item");var U="keyDrivers",K=_.first(p.bind.to.items).queryName,ue=_.map(x.for.in.items,function(st){return st.queryName}),ye=_.filter(o,function(st){return K!==st&&ue.indexOf(st)<0}),_e=(0,wa.NA)(i,{objectName:U,propertyName:"targetValue"},void 0),Ie=(0,wa.NA)(i,{objectName:U,propertyName:"selectedNumericAnalysis"},void 0),Re=(0,wa.NA)(i,{objectName:U,propertyName:"numericTargetSelectedKind"},void 0);return void 0!==Re&&0===Re?Re="Increase":void 0!==Re&&1===Re&&(Re="Decrease"),{analyzeQueryName:K,explainByQueryNames:ue,expandByQueryNames:ye,targetValue:_e,numericTargetSelectedKind:Re,selectedNumericAnalysis:Ie}}var cc=ke(9249),p0=ke(460),m0=[{objectProperty:co.xg.indicatorFontFamilyProp,defaultValue:(0,m.fL)(cc.Wn.lightSecondary.family)},{objectProperty:co.xg.goalFontSizeProp,defaultValue:(0,m.cA)(p0.qy)},{objectProperty:co.xg.goalFontFamilyProp,defaultValue:(0,m.fL)(cc.Wn.semibold.family)}],h0=ke(6986),Oa=ke(1431);function bs(t){var e=t.dataViewMappings[0];e&&(e.categorical?function(t){var e=t.dataViewMappings[0],r=null==e?void 0:e.categorical;if(r&&r.categories){r.dataVolume=4;var a=r.categories,i=_.find(t.dataViewMappings,function(U){var K;return!(null===(K=U.usage)||void 0===K||!K.anomalyDetection)});i&&(function(t,e){n.fF.assertValue(t&&t.dataReductionAlgorithm,"categorical dataReductionAlgorithm"),n.fF.assertValue(e&&e.categorical,"anomalyDetection.categorical");var r=t.dataReductionAlgorithm.binnedLineSample;n.fF.assertValue(!r.count,"binnedLineSample.count should be undefined"),n.fF.assertValue(!r.warningCount,"binnedLineSample.warningCount should be undefined"),r.count=4900,r.warningCount=3500,e.categorical.dataReductionAlgorithm={binnedLineSample:{}};var a=e.categorical.dataReductionAlgorithm.binnedLineSample;a.count=r.count,a.warningCount=r.warningCount}(r,i),_.some(t.dataViewMappings,function(U){return(0,h0.el)(U)})||_.remove(t.dataViewMappings,function(U){return U===i}));var o=!1;if((0,ua.$9)(e.metadata.objects,Ri.zK.categoryAxis.axisType)){o=(0,Pn.A9)(e);var s=_.find(t.dataViewMappings,function(U){var K;return!(null===(K=U.usage)||void 0===K||!K.forecast)});(0,po.Sr)(a,{visitRole:function(K){fc(K,s,i,!1)}})}if(!o&&!(0,ua.iQ)(e,!1)){_.remove(t.dataViewMappings,function(U){return U.usage&&(U.usage.forecast||U.usage.anomalyDetection)}),(0,Ri.BX)(e,!1);var p=[e];(0,ri.XS)(p);var x=mo(t);(0,ri.kV)(p,x)}(0,ri.K0)(t.dataViewMappings)}}(t):e.matrix&&function(t){var e=t.dataViewMappings[0];if((0,Ea.qO)(e)){var r=!1;(0,ua.$9)(e.metadata.objects,Ri.zK.categoryAxis.axisType)&&(r=(0,Pn.A9)(e),(0,po.Ay)(e.matrix.rows,{visitRole:function(s){fc(s,void 0,void 0,!0)}}));var a=(0,ua.iQ)(e,!0);r||a?a&&fo([(0,Ea.b8)(e)],{min:!0,max:!0}):(0,Ri.BX)(e,!0),ms(e,[Oa.R.Y,Oa.R.Y2]),vs(e)}}(t))}function fc(t,e,r,a){if(t.role===Oa.R.Category){var i=[Oa.R.Category];a&&i.unshift(Oa.R.Rows);for(var o={data:[(0,su.Yp)(i)]},s=t.items,p=0,x=_.size(s);p<x;p++){var K=s[p].scalarKeyInfo;if(K&&K.hasScalarKey){K.scalarKeyMinProperty=cn.p.scalarKey.scalarKeyMin,K.selector=o,e&&dc(e,o,p),r&&dc(r,o,p);break}}}}function dc(t,e,r){var a;(0,po.Sr)(null===(a=null==t?void 0:t.categorical)||void 0===a?void 0:a.categories,{visitRole:function(o){o.items[r].scalarKeyInfo||(o.items[r].scalarKeyInfo={});var s=o.items[r].scalarKeyInfo;s.scalarKeyMinProperty=cn.p.scalarKey.scalarKeyMin,s.selector=e}})}function mo(t){var e=t.dataViewMappings[0];return(0,Ea.qO)(e)?function(t){var e=(0,ua.iQ)(t,!0),r=[Ma.au.rows];return e||r.push(Ma.au.category),r.push(Ma.au.y,Ma.au.tooltips,Ma.au.series),r}(e):function(t){if(!t||!t.categorical||!t.categorical.categories)return null;var o,s,r=t.categorical.categories.for.in,a=r.items,i=r.activeItems;if(o=["Category","Series","Y","Y2","Tooltips"],s=["Series"],!_.isEmpty(a)){var p=void 0;if(t.metadata&&(p=t.metadata.objects),(0,Pn.A9)(t)&&(0,ua.$9)(p,Ri.zK.categoryAxis.axisType))return s;var x=void 0;if(_.isEmpty(i))x=a[0].type;else if(1===i.length){var U=_.find(a,function(K){return K.queryName===i[0]});n.fF.assert(function(){return!!U},"Item should always be defined"),x=U.type}else if(i.length>1)return o;return(0,ua._K)(p,Ri.zK.categoryAxis.axisType,x)?s:o}return null}(e)}var Ga=ke(3395),R0=ke(8416),k0=[{objectProperty:Ma.gE.valueAxis.showAxisTitle,defaultValue:(0,m.O7)(!1)}],pc=ke(3599),U0=ke(180),Ba=ke(4625);function H0(t){var e;return Pi(t)?e=t.bind.to.role:Ai(t)&&(e=t.for.in.role),e===Ba.TL.x?Ba.TL.x:e===Ba.TL.y?Ba.TL.y:void 0}var en=ke(7259),pn=ke(1306),_i=ke(8502),tn=ke(4834),ai=ke(2578),mi=ke(1456),Z0=ke(1229),Ss=ke(9552),vr=ke(4767),mc={name:"heatMap",capabilities:vr.D.map,create:function(){throw new Error("pluginsNotForOSS.ts: 'Create' function is deprecated")},createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("map").then(ke.bind(ke,5765))];case 1:return[2,new(0,r.sent().Map)({filledMap:!1})]}})})}},vc=ke(1529),gr=function(){throw new Error("plugins.ts: 'Create' function is deprecated")},vi={actionButton:{name:"actionButton",titleKey:(0,sr.V)("Button"),capabilities:vr.D.actionButton,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("actionButton").then(ke.bind(ke,5320))];case 1:return[2,new(0,r.sent().ActionButton)]}})})}},animatedNumber:{name:"animatedNumber",capabilities:vr.D.animatedNumber,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("animatedNumber").then(ke.bind(ke,9164))];case 1:return[2,new(0,r.sent().AnimatedNumber)]}})})}},areaChart:{name:"areaChart",watermarkKey:"area",titleKey:(0,sr.V)("AreaChart_ToolTip"),capabilities:vr.D.areaChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:1,featureSwitches:e.featureSwitches})]}})})},customizeQuery:bs,getSortableRoles:mo,getAdditionalTelemetry:Ta,getNarrativeSummaryBindings:pi},barChart:{name:"barChart",watermarkKey:"bar",titleKey:(0,sr.V)("BarChart_ToolTip"),capabilities:vr.D.barChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:6,featureSwitches:e.featureSwitches})]}})})},customizeQuery:$i,getSortableRoles:Li,getAdditionalTelemetry:Ta,getNarrativeSummaryBindings:pi},basicShape:{name:"basicShape",titleKey:(0,sr.V)("BasicShape_ToolTip"),capabilities:vr.D.basicShape,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("basicShape").then(ke.bind(ke,3349))];case 1:return[2,new(0,r.sent().BasicShape)]}})})}},shape:{name:"shape",titleKey:(0,sr.V)("BasicShape_ToolTip"),capabilities:vr.D.shape,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("shape").then(ke.bind(ke,8597))];case 1:return[2,new(0,r.sent().Shape)]}})})},getCustomizeConvertTo:function(e,r,a){return function(t){var e,r,a,i,o;if("basicShape"===t)return{objects:(e={},e[ai.eM.fill]=(r={},r[ai.Mn.fillColor]={transform:function(p){return null!=p?p:(0,m.$_)(null,"backgroundLight")},transformArgs:[{identifier:_i.O.fill.fillColor}],targetSelector:{id:tn.W6.default}},r[ai.Mn.fillTransparency]={transformArgs:[{identifier:_i.O.fill.transparency}],targetSelector:{id:tn.W6.default}},r),e[ai.eM.outline]=(a={},a[ai.Mn.outlineColor]={transform:function(p){return null!=p?p:(0,m.e7)(2,0)},transformArgs:[{identifier:_i.O.line.lineColor}],targetSelector:{id:tn.W6.default}},a[ai.Mn.outlineWeight]={transform:function(p){return null!=p?p:(0,m.cA)(3)},transformArgs:[{identifier:_i.O.line.weight}],targetSelector:{id:tn.W6.default}},a[ai.Mn.outlineTransparency]={transformArgs:[{identifier:_i.O.line.transparency}],targetSelector:{id:tn.W6.default}},a),e[ai.eM.shape]=(i={},i[ai.Mn.tileShape]={transform:function(p){if(p&&(0,Lr.VC)(p)){var x;switch(p.value){case en.C9:x=pn.m.Rectangle;break;case en.BG:x=pn.m.Oval;break;case en.jv:x=pn.m.Line;break;case en.x7:x=pn.m.Arrow;break;case en.cP:x=pn.m.TriangleIsoc;break;default:x=pn.m.Rectangle}return(0,m.fL)(x)}},transformArgs:[{identifier:_i.O.general.shapeType}]},i[ai.Mn.shapeRounding]={transformArgs:[{identifier:_i.O.line.roundEdge}]},i),e[tn.MI.rotation]=(o={},o[ai.Mn.shapeRotation]={transform:function(p,x){if(void 0===p&&(p=(0,m.cA)(0)),!x)return p;if((0,Lr.VC)(p)&&(0,Lr.VC)(x)){var K,U=p.value;switch(x.value){case en.jv:K=(U+90)%360;break;case en.x7:K=(U+270)%360;break;default:K=U}return(0,m.cA)(K)}n.fF.assertFail("CustomizeConvert shape: unsupported SQExpr type")},transformArgs:[{identifier:_i.O.rotation.angle},{identifier:_i.O.general.shapeType}]},o[tn.B3.rotation]={transform:function(){}},o),e)}}(e)}},card:{name:"card",watermarkKey:"card",titleKey:(0,sr.V)("Card_ToolTip"),capabilities:vr.D.card,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("cardModule").then(ke.bind(ke,7885))];case 1:return[2,(0,r.sent().createCard)(void 0)]}})})},getNarrativeSummaryBindings:function(t){var r=[],i=fn(_.first(t.dataViewMappings).table.rows);return _.isEmpty(i)?{subjectKind:5,error:2,bindings:void 0}:(r.push.apply(r,i),{subjectKind:5,error:void 0,bindings:r})}},cardVisual:{name:"cardVisual",watermarkKey:"cardVisual",titleKey:(0,sr.V)("Card_ToolTip_New"),capabilities:vr.D.cardVisual,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("cardVisual").then(ke.bind(ke,2894))];case 1:return[2,new(0,r.sent().CardVisual)(void 0)]}})})},module:{css:["cardVisual"]},getNarrativeSummaryBindings:function(t){var r=[],i=fn(_.first(t.dataViewMappings).table.rows);return _.isEmpty(i)?{subjectKind:5,error:2,bindings:void 0}:(r.push.apply(r,i),{subjectKind:5,error:void 0,bindings:r})}},multiRowCard:{name:"multiRowCard",watermarkKey:"multiRowCard",titleKey:(0,sr.V)("MultiRowCard_ToolTip"),capabilities:vr.D.multiRowCard,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("multiRowCard").then(ke.bind(ke,5584))];case 1:return[2,new(0,r.sent().MultiRowCard)(void 0)]}})})},getSortableRoles:function(t){if(t&&t.dataViewMappings&&!_.isEmpty(t.dataViewMappings))for(var e=0,r=t.dataViewMappings;e<r.length;e++){var a=r[e];if(a.table){var i=a.table.rows;if(i&&i.for&&i.for.in&&i.for.in.items)return["Values"]}}},getNarrativeSummaryBindings:function(t){var e=_.first(t.dataViewMappings),r=[];if(e&&e.table&&e.table.rows){var i=fn(e.table.rows);return _.isEmpty(i)?{subjectKind:5,error:2,bindings:void 0}:(r.push.apply(r,i),{subjectKind:5,error:void 0,bindings:r})}}},clusteredBarChart:{name:"clusteredBarChart",watermarkKey:"clusteredBar",titleKey:(0,sr.V)("ClusteredBarChart_ToolTip"),capabilities:vr.D.clusteredBarChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:5,featureSwitches:e.featureSwitches})]}})})},customizeQuery:$i,getSortableRoles:Li,getAdditionalTelemetry:Ta,getNarrativeSummaryBindings:pi},clusteredColumnChart:{name:"clusteredColumnChart",watermarkKey:"clusteredColumn",titleKey:(0,sr.V)("ClusteredColumnChart_ToolTip"),capabilities:vr.D.clusteredColumnChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:3,featureSwitches:e.featureSwitches})]}})})},customizeQuery:$i,getSortableRoles:Li,getAdditionalTelemetry:Ta,getNarrativeSummaryBindings:pi},columnChart:{name:"columnChart",watermarkKey:"column",titleKey:(0,sr.V)("ColumnChart_ToolTip"),capabilities:vr.D.columnChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:4,featureSwitches:e.featureSwitches})]}})})},customizeQuery:$i,getSortableRoles:Li,getAdditionalTelemetry:Ta,getNarrativeSummaryBindings:pi},donutChart:{name:"donutChart",watermarkKey:"donut",titleKey:(0,sr.V)("DonutChart_ToolTip"),capabilities:vr.D.donutChart,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("donutChart").then(ke.bind(ke,6152))];case 1:return[2,new(0,r.sent().DonutChart)(void 0)]}})})},getNarrativeSummaryBindings:uc},funnel:{name:"funnel",watermarkKey:"funnel",titleKey:(0,sr.V)("Funnel_ToolTip"),capabilities:vr.D.funnel,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("funnelChart").then(ke.bind(ke,417))];case 1:return[2,new(0,r.sent().FunnelChart)(void 0)]}})})}},gauge:{name:"gauge",watermarkKey:"gauge",titleKey:(0,sr.V)("Gauge_ToolTip"),capabilities:vr.D.gauge,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("gauge").then(ke.bind(ke,3239))];case 1:return[2,new(0,r.sent().Gauge)(void 0,void 0)]}})})},getNarrativeSummaryBindings:function(t){var r=_.first(t.dataViewMappings);if(!r||!r.categorical||!r.categorical.values)return{subjectKind:1,error:2,bindings:void 0};var a=function(t){var e=[];if(!t||!t.categorical||!t.categorical.values)return e;var r=t.categorical.values;if(!r||!r.select)return e;for(var a=0,i=r.select;a<i.length;a++){var o=i[a];if(Pi(o)&&o.bind){var s=o.bind.to;s&&s.items?e.push.apply(e,Qg(s)):s&&void 0===s.items&&t.metadata&&t.metadata.objects&&t.metadata.objects.axis&&e.push.apply(e,Yg(s,t.metadata.objects.axis))}}return e}(r);return _.isEmpty(a)?{subjectKind:5,error:2,bindings:void 0}:{subjectKind:5,error:void 0,bindings:a}}},hundredPercentStackedBarChart:{name:"hundredPercentStackedBarChart",watermarkKey:"100stackedbar",titleKey:(0,sr.V)("HundredPercentStackedBarChart_ToolTip"),capabilities:vr.D.hundredPercentStackedBarChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:7,featureSwitches:e.featureSwitches})]}})})},customizeQuery:$i,getSortableRoles:Li,getAdditionalTelemetry:Ta,getNarrativeSummaryBindings:pi},hundredPercentStackedColumnChart:{name:"hundredPercentStackedColumnChart",watermarkKey:"100stackedcolumn",titleKey:(0,sr.V)("HundredPercentStackedColumnChart_ToolTip"),capabilities:vr.D.hundredPercentStackedColumnChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:8,featureSwitches:e.featureSwitches})]}})})},customizeQuery:$i,getSortableRoles:Li,getAdditionalTelemetry:Ta,getNarrativeSummaryBindings:pi},image:{name:"image",titleKey:(0,sr.V)("Image"),capabilities:vr.D.image,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("imageVisual").then(ke.bind(ke,6518))];case 1:return[2,new(0,r.sent().ImageVisual)]}})})}},lineChart:{name:"lineChart",watermarkKey:"line",titleKey:(0,sr.V)("LineChart_ToolTip"),capabilities:vr.D.lineChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:0,featureSwitches:e.featureSwitches})]}})})},customizeQuery:bs,getSortableRoles:mo,getAdditionalTelemetry:Ta,getNarrativeSummaryBindings:pi,getDataDrivenAlertCapabilities:function(t,e){for(var r,a,i,o=[],s=[],p=[],x=[],U=[],K={xIndex:void 0,yIndex:void 0},ue=0,ye=null==t?void 0:t.selects;ue<ye.length;ue++){var _e=ye[ue];null!=_e&&_e.roles[Oa.R.Series]&&o.push(_e),null!=_e&&_e.roles[Oa.R.Category]&&(s.push(_e),U.push(Je.Ge.fromDescriptor(null==_e?void 0:_e.type))),null!=_e&&_e.roles[Oa.R.Y]&&p.push(_e),null!=_e&&_e.roles[Oa.R.Y2]&&x.push(_e)}if(function(t,e,r){var a,i,o,s,p,x,U=r[0],K=(0,ua.A8)(null===(a=null==U?void 0:U.categorical)||void 0===a?void 0:a.categories[0]),ue=(0,ua.PX)(null===(i=null==U?void 0:U.metadata)||void 0===i?void 0:i.objects,Ri.zK.categoryAxis.axisType,null===(o=t[0])||void 0===o?void 0:o.type,K,(0,ri.n$)(U));return 1===t.length||t.length>1&&ue&&(null===(p=null===(s=t[0])||void 0===s?void 0:s.type)||void 0===p?void 0:p.temporal)&&!(null!==(x=null==e?void 0:e.objects)&&void 0!==x&&x.categoryAxis)}(s,t,e)&&function(t,e,r,a){var i,o,s,p,x=_.first(t);return 1===e.length&&0===r.length&&0===a.length&&((null==x?void 0:x.dateTime)||(null==x?void 0:x.numeric)||(null===(i=null==x?void 0:x.temporal)||void 0===i?void 0:i.day)||(null===(o=null==x?void 0:x.temporal)||void 0===o?void 0:o.year))&&!(null!==(s=null==x?void 0:x.temporal)&&void 0!==s&&s.quarter||null!==(p=null==x?void 0:x.temporal)&&void 0!==p&&p.month)}(U,p,x,o)&&t&&t.roles&&t.roles.ordering){if(t.roles.ordering[Oa.R.Category]&&t.roles.activeItems)for(var Ie=null===(r=_.first(t.roles.activeItems[Oa.R.Category]))||void 0===r?void 0:r.queryRef,Re=0;Re<(null===(a=t.selects)||void 0===a?void 0:a.length);Re++)(null===(i=t.selects[Re])||void 0===i?void 0:i.queryName)===Ie&&(K.xIndex=Re);t.roles.ordering[Oa.R.Y]&&(K.yIndex=_.first(t.roles.ordering[Oa.R.Y]))}return K}},lineStackedColumnComboChart:{name:"lineStackedColumnComboChart",watermarkKey:"combo",titleKey:(0,sr.V)("LineStackedColumnComboChart_ToolTip"),capabilities:vr.D.lineStackedColumnComboChart,customizeQuery:nc,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:13,featureSwitches:e.featureSwitches})]}})})},getSortableRoles:gs,getAdditionalTelemetry:Ta,getNarrativeSummaryBindings:sc},lineClusteredColumnComboChart:{name:"lineClusteredColumnComboChart",watermarkKey:"combo",titleKey:(0,sr.V)("LineClusteredColumnComboChart_ToolTip"),capabilities:vr.D.lineClusteredColumnComboChart,customizeQuery:nc,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:12,featureSwitches:e.featureSwitches})]}})})},getSortableRoles:gs,getAdditionalTelemetry:Ta,getNarrativeSummaryBindings:sc},map:{name:"map",watermarkKey:"map",titleKey:(0,sr.V)("Map_ToolTip"),capabilities:vr.D.map,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("map").then(ke.bind(ke,5765))];case 1:return[2,new(0,r.sent().Map)({filledMap:!1})]}})})},customizeQuery:function(t){var e=t.dataViewMappings[0];if(e.categorical){var r=e.categorical.categories,a=void 0;if(r.select&&(a=e.categorical.values,_.isEmpty(a.group.select[0].bind.to.items))){r.dataReductionAlgorithm=void 0,a.group.dataReductionAlgorithm=void 0;var o={},s=_.find(r.select,function(U){return"X"===U.bind.to.role}),p=_.find(r.select,function(U){return"Y"===U.bind.to.role});o.x=s?{role:s.bind.to}:void 0,o.y=p?{role:p.bind.to}:void 0,e.categorical.dataReductionAlgorithm={overlappingPointsSample:o}}(!a||_.isEmpty(a.group.by.items))&&e.metadata&&e.metadata.objects&&e.metadata.objects.heatMap&&e.metadata.objects.heatMap.show&&(e.categorical.dataVolume=5)}},getNarrativeSummaryBindings:function(t){return An(t,1)}},filledMap:{name:"filledMap",watermarkKey:"filledMap",titleKey:(0,sr.V)("FilledMap_ToolTip"),capabilities:vr.D.filledMap,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("map").then(ke.bind(ke,5765))];case 1:return[2,new(0,r.sent().Map)({filledMap:!0})]}})})}},azureMap:{name:"azureMap",watermarkKey:"azureMap",titleKey:(0,sr.V)("AzureMap_ToolTip"),capabilities:vr.D.azureMap,module:{css:["azureMapVisuals"]},create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("azureMap").then(ke.bind(ke,7978))];case 1:return[2,new(0,r.sent().AzureMap)(void 0)]}})})},getCustomizeConvertTo:function(e,r,a){return function(t,e){if(e.azureMapsConversion){if("map"===t)return function(){var t,e,r,a,i;return{skipRoleMapping:!0,objects:(t={},t[mr.Do.mapControls]=(e={},e[mr.DQ.defaultStyle]={transformArgs:[{identifier:Nr.jM.mapStyles.mapTheme}],transform:function(s){if(!s||!(0,Lr.VC)(s))return(0,m.fL)(uo(Xi.AB));var p=uo(s.value);return(0,m.fL)(p)}},e[mr.DQ.showLabels]={transformArgs:[{identifier:Nr.jM.mapStyles.showLabels}]},e[mr.DQ.autoZoom]={transformArgs:[{identifier:Nr.jM.mapControls.autoZoom}]},e[mr.DQ.zoom]={transformArgs:[{identifier:Nr.jM.mapControls.zoomLevel}],transform:function(s){if(s&&(0,Lr.VC)(s)){var x=tc(s.value);return(0,m.cA)(x)}}},e[mr.DQ.centerLatitude]={transformArgs:[{identifier:Nr.jM.mapControls.centerLatitude}]},e[mr.DQ.centerLongitude]={transformArgs:[{identifier:Nr.jM.mapControls.centerLongitude}]},e[mr.DQ.showStylePicker]={transform:function(){return(0,m.O7)(!1)}},e[mr.DQ.showNavigationControls]={transformArgs:[{identifier:Nr.jM.mapControls.showZoomButtons}],transform:function(s){return s||(0,m.O7)(!1)}},e[mr.DQ.showSelectionControl]={transformArgs:[{identifier:Nr.jM.mapControls.showLassoButton}],transform:function(s){return s||(0,m.O7)(!1)}},e),t.dataPoint={showAllDataPoints:{transformArgs:[{identifier:Nr.jM.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:Nr.jM.dataPoint.fill}]}},t[mr.Do.bubbleLayer]=(r={},r[mr.DQ.show]={transformArgs:[{identifier:Nr.jM.heatMap.show}],transform:function(s){return s&&(0,Lr.VC)(s)&&s.value?(0,m.O7)(!1):(0,m.O7)(!0)}},r[mr.DQ.bubbleRadius]={transformArgs:[{identifier:Nr.jM.bubbles.bubbleSize}],transform:function(s){(!s||!(0,Lr.VC)(s))&&(s=(0,m.cA)(1));var U=ps(s.value,[-30,100],[.6,24]);return(0,m.cA)(Math.round(U))}},r[mr.DQ.minBubbleRadius]={transformArgs:[{identifier:Nr.jM.bubbles.bubbleSize}],transform:function(s){(!s||!(0,Lr.VC)(s))&&(s=(0,m.cA)(1));var p=[-30,50],K=ps(_.clamp(s.value,p[0],p[1]),p,[.6,15]);return(0,m.cA)(Math.round(K))}},r[mr.DQ.maxRadius]={transformArgs:[{identifier:Nr.jM.bubbles.bubbleSize}],transform:function(s){(!s||!(0,Lr.VC)(s))&&(s=(0,m.cA)(1));var p=[-30,50],K=ps(_.clamp(s.value,p[0],p[1]),p,[2,50]);return(0,m.cA)(Math.round(K))}},r[mr.DQ.markerRangeType]={transformArgs:[{identifier:Nr.jM.bubbles.markerRangeType}],transform:function(s){if(s&&(0,Lr.VC)(s)&&s.value)return(0,m.fL)(s.value)}},r[mr.DQ.bubbleStrokeWidth]={transform:function(){return(0,m.cA)(1)}},r[mr.DQ.autoStrokeColor]={transform:function(){return(0,m.O7)(!0)}},r[mr.DQ.layerPosition]={transform:function(){return(0,m.fL)("")}},r),t[mr.Do.categoryLabels]=(a={},a[mr.DQ.show]={transformArgs:[{identifier:Nr.jM.categoryLabels.show},{identifier:Nr.jM.heatMap.show}],transform:function(s,p){return p&&(0,Lr.VC)(p)&&p.value?(0,m.O7)(!1):s}},a.color={transformArgs:[{identifier:Nr.jM.categoryLabels.color}]},a.fontFamily={transformArgs:[{identifier:Nr.jM.categoryLabels.fontFamily}]},a.fontSize={transformArgs:[{identifier:Nr.jM.categoryLabels.fontSize}]},a.bold={transformArgs:[{identifier:Nr.jM.categoryLabels.bold}]},a.italic={transformArgs:[{identifier:Nr.jM.categoryLabels.italic}]},a.underline={transformArgs:[{identifier:Nr.jM.categoryLabels.underline}]},a.enableBackground={transformArgs:[{identifier:Nr.jM.categoryLabels.enableBackground}]},a.backgroundColor={transformArgs:[{identifier:Nr.jM.categoryLabels.backgroundColor}]},a.backgroundTransparency={transformArgs:[{identifier:Nr.jM.categoryLabels.backgroundTransparency}]},a),t[mr.Do.heatMapLayer]=(i={},i[mr.DQ.show]={transformArgs:[{identifier:Nr.jM.heatMap.show}]},i[mr.DQ.heatMapRadius]={transformArgs:[{identifier:Nr.jM.heatMap.filterRadius}]},i[mr.DQ.heatMapRadiusUnit]={transformArgs:[{identifier:Nr.jM.heatMap.unit}]},i[mr.DQ.mapTransparency]={transformArgs:[{identifier:Nr.jM.heatMap.transparency}]},i[mr.DQ.heatMapColorLow]={transformArgs:[{identifier:Nr.jM.heatMap.color0}]},i[mr.DQ.heatMapColorCenter]={transformArgs:[{identifier:Nr.jM.heatMap.color50}]},i[mr.DQ.heatMapColorHigh]={transformArgs:[{identifier:Nr.jM.heatMap.color100}]},i),t)}}();if("filledMap"===t)return function(){var t,e,r,a,i;return{skipRoleMapping:!0,objects:(t={dataPoint:{showAllDataPoints:{transformArgs:[{identifier:Di.Vh.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:Di.Vh.dataPoint.fill}]}}},t[mr.Do.mapControls]=(e={},e[mr.DQ.defaultStyle]={transformArgs:[{identifier:Nr.jM.mapStyles.mapTheme}],transform:function(s){if(!s||!(0,Lr.VC)(s))return(0,m.fL)(uo(Xi.AB));var p=uo(s.value);return(0,m.fL)(p)}},e[mr.DQ.showLabels]={transformArgs:[{identifier:Nr.jM.mapStyles.showLabels}]},e[mr.DQ.autoZoom]={transformArgs:[{identifier:Di.Vh.mapControls.autoZoom}]},e[mr.DQ.zoom]={transformArgs:[{identifier:Di.Vh.mapControls.zoomLevel}],transform:function(s){if(s&&(0,Lr.VC)(s)){var x=tc(s.value);return(0,m.cA)(x)}}},e[mr.DQ.centerLatitude]={transformArgs:[{identifier:Di.Vh.mapControls.centerLatitude}]},e[mr.DQ.centerLongitude]={transformArgs:[{identifier:Di.Vh.mapControls.centerLongitude}]},e[mr.DQ.showStylePicker]={transform:function(){return(0,m.O7)(!1)}},e[mr.DQ.showNavigationControls]={transformArgs:[{identifier:Di.Vh.mapControls.showZoomButtons}],transform:function(s){return s||(0,m.O7)(!1)}},e[mr.DQ.showSelectionControl]={transformArgs:[{identifier:Di.Vh.mapControls.showLassoButton}],transform:function(s){return s||(0,m.O7)(!1)}},e),t[mr.Do.categoryLabels]=(r={},r[mr.DQ.show]={transform:function(){return(0,m.O7)(!1)}},r),t[mr.Do.bubbleLayer]=(a={},a[mr.DQ.show]={transform:function(){return(0,m.O7)(!1)}},a),t[mr.Do.filledMap]=(i={},i[mr.DQ.show]={transform:function(){return(0,m.O7)(!0)}},i[mr.DQ.defaultColor]={transformArgs:[{identifier:Di.Vh.dataPoint.defaultColor}]},i[mr.DQ.mapTransparency]={transform:function(){return(0,m.cA)(40)}},i),t)}}()}}(e,a)}},ribbonChart:{name:"ribbonChart",watermarkKey:"ribbon",titleKey:(0,sr.V)("RibbonChart_ToolTip"),capabilities:vr.D.ribbonChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:9,featureSwitches:e.featureSwitches})]}})})},stampHardcodedDefaultObjects:k0,customizeQuery:$i,getSortableRoles:Li,getAdditionalTelemetry:Ta,getNarrativeSummaryBindings:pi},shapeMap:{name:"shapeMap",watermarkKey:"shapeMap",titleKey:(0,sr.V)("ShapeMap_ToolTip"),capabilities:vr.D.shapeMap,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("shapeMap").then(ke.bind(ke,1577))];case 1:return[2,new(0,r.sent().ShapeMap)(void 0)]}})})}},treemap:{name:"treemap",watermarkKey:"tree",titleKey:(0,sr.V)("Treemap_ToolTip"),capabilities:vr.D.treemap,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("treemap").then(ke.bind(ke,8500))];case 1:return[2,new(0,r.sent().Treemap)(void 0)]}})})}},pieChart:{name:"pieChart",watermarkKey:"pie",titleKey:(0,sr.V)("PieChart_ToolTip"),capabilities:vr.D.pieChart,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("donutChart").then(ke.bind(ke,6152))];case 1:return[2,new(0,r.sent().DonutChart)({sliceWidthRatio:0})]}})})},getNarrativeSummaryBindings:uc},realTimeLineChart:{name:"realTimeLineChart",watermarkKey:"line",titleKey:(0,sr.V)("LineChart_ToolTip"),capabilities:vr.D.realTimeLineChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:14,featureSwitches:e.featureSwitches})]}})})},getAdditionalTelemetry:Ta},scatterChart:{name:"scatterChart",watermarkKey:"scatterplot",titleKey:(0,sr.V)("ScatterChart_ToolTip"),capabilities:vr.D.scatterChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:10,featureSwitches:e.featureSwitches})]}})})},customizeQuery:function(t){var e=t.dataViewMappings[0];if(e&&e.matrix&&e.metadata){var r=e.matrix,a=e.metadata.objects,i=(0,wa.NA)(a,Ba.il.ratioLine.show,!1),o=!1,s=!1,p=!1,x=[],U=r.rows;if(U&&!_.isEmpty(U.select)){n.fF.assert(function(){return!!(U.dataReductionAlgorithm.bottom||U.dataReductionAlgorithm.sample||U.dataReductionAlgorithm.overlappingPointsSample)},"invalid data reduction");for(var K=0,ue=U.select;K<ue.length;K++)for(var ye=ue[K],Re=0,$e=ye.composite?ye.composite:[ye];Re<$e.length;Re++){var st=$e[Re];Pi(st)&&x.push(st.bind.to),Ai(st)&&x.push(st.for.in);var ht=H0(st);ht&&(o=!0,ht===Ba.TL.y&&(s=!0),ht===Ba.TL.x&&(p=!0))}}if(i&&!o){for(var Lt=0,_t=x;Lt<_t.length;Lt++)_t[Lt].subtotalType=2;Ai(r.columns)&&(r.columns.for.in.subtotalType=2)}var Et=r.rows.dataReductionAlgorithm,jt=(0,wa.NA)(a,Ba.il.general.dataVolume,null),Ut=(0,wa.NA)(a,cn.p.categoryAxis.axisType)===U0.Pf,qt=_.find(x,function(Wr){return Wr.role===Ba.TL.x}),ar=qt&&_.filter(qt.items,function(Wr){return _.includes(qt.activeItems,Wr.queryName)}),or=_.size(ar),fr=0===or?void 0:1===or&&_.every(ar,function(Wr){return Wr.type&&(Wr.type.numeric||Wr.type.integer)}),Vr=_.find(r.values.select,function(Wr){return Pi(Wr)&&Wr.bind.to.role===Ba.TL.x}),ra=Vr&&Pi(Vr)&&Vr.bind.to,Na=ra?_.filter(ra.items,function(Wr){return!Wr.hidden}):[],aa=_.size(Na),Or=_.every(Na,function(Wr){return Wr.type&&(Wr.type.numeric||Wr.type.integer)});if(!p&&aa>1)return{error:{code:"DataViewMappingError_ScatterXMismatchType"}};if(s&&or>1)return{error:{code:"DataViewMappingError_ScatterYGroupedXDrilled"}};if(!p&&1===aa&&!Or)return{error:{code:"DataViewMappingError_ScatterXIncorrectAggregate"}};if(o&&(Ut||!1===fr)){if(s)return{error:{code:Ut?"DataViewMappingError_ScatterYGroupedXCategoricalAxis":"DataViewMappingError_ScatterYGroupedXNonScalar"}};r.rows.dataReductionAlgorithm={window:{count:200}};var qa=_.remove(U.select,function(Wr){return Pi(Wr)&&Wr.bind.to.role===Ba.TL.series});n.fF.assert(function(){return 1===qa.length},"series mapping should be removed");var ki=qa[0];ki&&ki.bind&&(r.columns={for:{in:ki.bind.to},dataReductionAlgorithm:{top:{count:60}}})}else null!=Et&&Et.overlappingPointsSample?((0,wa.NA)(a,cn.p.categoryAxis.logAxisScale)&&(Et.overlappingPointsSample.x.transform=1),(0,wa.NA)(a,cn.p.valueAxis.logAxisScale)&&(Et.overlappingPointsSample.y.transform=1),null!=jt&&(Et.overlappingPointsSample.count=jt)):null!=Et&&Et.sample&&null!=jt&&(Et.sample.count=jt)}},getSortableRoles:function(t){if(_.find(t.dataViewMappings,function(r){var a,i,o;return null===(o=null===(i=null===(a=r.matrix)||void 0===a?void 0:a.rows)||void 0===i?void 0:i.dataReductionAlgorithm)||void 0===o?void 0:o.window}))return[Ba.TL.x,Ba.TL.y,Ma.au.series]},getAdditionalTelemetry:function(t){return{hasSize:(0,pc.c5)(t,"Size"),hasPlayAxis:(0,pc.c5)(t,"Play")}},getNarrativeSummaryBindings:function(t){var e=_.first(t.dataViewMappings);return e&&e.matrix?function(t,e){var r=function(t){for(var e=[],a=[],i=[],o=0,s=t.rows.select;o<s.length;o++){var p=s[o];if(Pi(p)&&p.bind&&p.bind.to){var U=hs(_.first(p.bind.to.items));i.push.apply(i,dn(p.bind.to,U))}else if(Hg(p)&&p.composite&&p.composite)for(var K=0,ue=p.composite;K<ue.length;K++){var ye=ue[K];Ai(ye)&&ye.for&&ye.for.in&&(U=hs(_.first(ye.for.in.items)),a.push.apply(a,dn(ye.for.in,U)))}}e.push.apply(e,a),e.push.apply(e,i);var _e=t.values;if(_e&&_e.select)for(var Ie=0,Re=_e.select;Ie<Re.length;Ie++){var st=fn(Re[Ie]);_.isEmpty(st)||e.push.apply(e,st)}return e}(t);return _.isEmpty(r)?{subjectKind:e,error:2,bindings:void 0}:{subjectKind:e,error:void 0,bindings:r}}(e.matrix,3):e&&e.categorical&&e.categorical.categories?An(t,3):{subjectKind:3,error:2,bindings:void 0}}},stackedAreaChart:{name:"stackedAreaChart",watermarkKey:"stackedarea",titleKey:(0,sr.V)("StackedAreaChart_ToolTip"),capabilities:vr.D.stackedAreaChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:2,featureSwitches:e.featureSwitches})]}})})},customizeQuery:bs,getSortableRoles:mo,getAdditionalTelemetry:Ta,getNarrativeSummaryBindings:pi},table:{name:"table",watermarkKey:"table",titleKey:(0,sr.V)("Table_ToolTip"),capabilities:vr.D.table,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("table").then(ke.bind(ke,5232))];case 1:return[2,new(0,r.sent().Table)]}})})},customizeQuery:function(t){var e=t.dataViewMappings[0];e&&e.table&&e.metadata&&(e.table.rows.for.in.subtotalType=Ga.FX.PropGeneralTableTotals.getValue(e.metadata.objects)?1:0)},getSortableRoles:function(t){return["Values"]}},matrix:{name:"matrix",watermarkKey:"matrix",titleKey:(0,sr.V)("Matrix_ToolTip"),capabilities:vr.D.matrix,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("matrix").then(ke.bind(ke,3718))];case 1:return[2,new(0,r.sent().Matrix)]}})})},customizeQuery:function(t){var e=t.dataViewMappings[0];if(e&&e.matrix&&e.metadata){var r=e.matrix;_.isEmpty(r.columns.for.in.items)||(r.rows.dataReductionAlgorithm.window.count=100);var a=e.metadata.objects;r.rows.for.in.subtotalType=Ga.FX.PropGeneralMatrixRowSubtotals.getValue(a)?2:0,r.columns.for.in.subtotalType=Ga.FX.PropGeneralMatrixColumnSubtotals.getValue(a)?2:0}},getSortableRoles:function(t){return["Rows","Values"]}},tableEx:{name:"tableEx",watermarkKey:"table",titleKey:(0,sr.V)("Table_ToolTip"),capabilities:(0,Z0.k)(),create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("tableEx").then(ke.bind(ke,5080))];case 1:return[2,new(0,r.sent().TableEx)(void 0,void 0)]}})})},customizeQuery:function(t){var e=t.dataViewMappings[0];if(e&&e.table&&e.metadata){var r=e.table.rows,a=r.for.in.items;_.some(a,function(o){var s,p;return!(null===(p=null===(s=o.type)||void 0===s?void 0:s.misc)||void 0===p||!p.sparkline)})&&(e.table.rows.dataReductionAlgorithm.window.count=100),r.for.in.subtotalType=Ga.FX.PropTotalTableExTotals.getValue(e.metadata.objects)?1:0,ac(e,a)}},getSortableRoles:function(t){return["Values"]},module:{css:["pivotTableVisuals"]}},pivotTable:{name:"pivotTable",watermarkKey:"matrix",titleKey:(0,sr.V)("Matrix_ToolTip"),capabilities:vr.D.pivotTableCapabilities,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("pivotTable").then(ke.bind(ke,5007))];case 1:return[2,new(0,r.sent().PivotTable)(void 0,void 0)]}})})},customizeQuery:function(t){var e=t.dataViewMappings[0];if(e&&e.matrix&&e.metadata){var r=e.matrix,a=!_.isEmpty(r.columns.for.in.items);a&&(r.rows.dataReductionAlgorithm.window.count=100);var i=r.values;if(i){var o=i.for.in.items;_.some(o,function(s){var p,x;return!(null===(x=null===(p=s.type)||void 0===p?void 0:p.misc)||void 0===x||!x.sparkline)})&&(r.rows.dataReductionAlgorithm.window.count=a?50:100,a&&(r.columns.dataReductionAlgorithm.top.count=25)),ac(e,o)}(function(t,e){var r=t.metadata.objects,a=t.metadata.columns,i=e.rows.for.in.items,o=Ga.FX.PropSubTotalsPivotTableRowSubtotals.getValue(r),s=Ga.FX.PropSubTotalsPivotTableRowSubtotalsPosition.getValue(r)===R0.we?1:2,p=Ga.FX.PropSubTotalsPivotTableRowSubtotalsPerLevel.getValue(r);if(!_.isEmpty(i))for(var x=function(ye,_e){var Ie=i[ye],Re=_.find(a,function(st){return st.queryName===Ie.queryName});if(!Re)return"continue";var $e=Ga.FX.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(Re.objects);Ie.subtotalType=!o||p&&!$e?0:0===ye&&Ga.FX.PropRowsSteppedLayout.getValue(r)?1:s},U=0,K=i.length;U<K;U++)x(U)})(e,r),function(t,e){var r=t.metadata.objects,a=t.metadata.columns,i=e.columns.for.in.items,o=Ga.FX.PropSubTotalsPivotTableColumnSubtotals.getValue(r),s=Ga.FX.PropSubTotalsPivotTableColumnSubtotalsPerLevel.getValue(r);if(!_.isEmpty(i))for(var p=function(ye){var _e=_.find(a,function(Re){return Re.queryName===ye.queryName});if(!_e)return"continue";var Ie=Ga.FX.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(_e.objects);ye.subtotalType=!o||s&&!Ie?0:2},x=0,U=i;x<U.length;x++)p(U[x])}(e,r)}},getSortableRoles:function(t){return["Rows","Values"]},module:{css:["pivotTableVisuals"]}},accessibleTable:{name:"accessibleTable",watermarkKey:"matrix",capabilities:vr.D.accessibleTable,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("accessibleTable").then(ke.bind(ke,8569))];case 1:return[2,new(0,r.sent().AccessibleTable)]}})})},module:{css:["accessibleTableVisual"]}},slicer:{name:"slicer",watermarkKey:"slicer",titleKey:(0,sr.V)("Slicer_ToolTip"),capabilities:vr.D.slicer,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("slicer").then(ke.bind(ke,8882))];case 1:return[2,new(0,r.sent().Slicer)(void 0)]}})})},customizeQuery:mi.Wj,getSortableRoles:mi.ot,shouldIgnoreCrossFilter:mi.vu,mergeObjects:mi.PM,customizeVisualAuthoringOperations:mi.pQ},advancedSlicerVisual:{name:"advancedSlicerVisual",watermarkKey:"buttonSlicer",titleKey:(0,sr.V)("ButtonSlicer_Tooltip"),capabilities:vr.D.advancedSlicer,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("advancedSlicer").then(ke.bind(ke,7683))];case 1:return[2,(0,r.sent().createAdvancedSlicer)(void 0)]}})})},module:{css:["advancedSlicerVisual"]}},pageNavigator:{name:"pageNavigator",titleKey:(0,sr.V)("Visual_PageNavigator"),capabilities:vr.D.pageNavigator,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("navigator").then(ke.bind(ke,5691))];case 1:return[2,(0,r.sent().createNavigator)({navigatorType:"page"})]}})})}},bookmarkNavigator:{name:"bookmarkNavigator",titleKey:(0,sr.V)("Visual_BookmarkNavigator"),capabilities:vr.D.bookmarkNavigator,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("navigator").then(ke.bind(ke,5691))];case 1:return[2,(0,r.sent().createNavigator)({navigatorType:"bookmark"})]}})})}},filterSlicer:{name:"filterSlicer",create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("slicer").then(ke.bind(ke,8882))];case 1:return[2,new(0,r.sent().Slicer)(void 0)]}})})},capabilities:vr.D.slicer,customizeQuery:mi.Wj,getSortableRoles:mi.ot,shouldIgnoreCrossFilter:mi.vu,mergeObjects:mi.PM,customizeVisualAuthoringOperations:mi.pQ},textbox:{name:"textbox",titleKey:(0,sr.V)("Textbox"),capabilities:vr.D.textbox,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("textbox").then(ke.bind(ke,4457))];case 1:return[2,new(0,r.sent().Textbox)(void 0)]}})})},supportsSummarization:!0,summarizationMessage:(0,sr.V)("SmartNarratives_InitializationMessage")},aiNarratives:{name:"aiNarratives",titleKey:(0,sr.V)("Narrative"),capabilities:vr.D.aiNarratives,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("aiNarratives").then(ke.bind(ke,7618))];case 1:return[2,new(0,r.sent().AINarratives)]}})})},module:{css:["aiNarrativesVisual"]},getCustomizeConvertTo:function(e){return function(t){var e,r;if("textbox"===t)return{objects:(e={},e[vc.w$.narrativeSelection.dismissSelectionScreen.objectName]=(r={},r[vc.w$.narrativeSelection.dismissSelectionScreen.propertyName]={transform:function(){return(0,m.O7)(!0)}},r),e)}}(e)}},waterfallChart:{name:"waterfallChart",watermarkKey:"waterfall",titleKey:(0,sr.V)("WaterfallChart_ToolTip"),capabilities:vr.D.waterfallChart,create:gr,createES6:function(e){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return[4,ke.e("cartesianChart").then(ke.bind(ke,5454))];case 1:return[2,new(0,a.sent().CartesianChart)({chartType:11,featureSwitches:e.featureSwitches})]}})})},customizeQuery:function(t){var e=t.dataViewMappings[0];if(e&&e.matrix){var r=e.matrix;r.columns&&r.columns.for&&r.columns.for.in&&(r.columns.for.in.subtotalType=1)}},getSortableRoles:function(t){return[Ss.IT.category,Ss.IT.y,Ss.IT.tooltips]},getAdditionalTelemetry:Ta},scriptVisual:{name:"scriptVisual",watermarkKey:"scriptvisual",titleKey:(0,sr.V)("ScriptVisual_ToolTip"),capabilities:vr.D.scriptVisual,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("scriptVisual").then(ke.bind(ke,1540))];case 1:return[2,new(0,r.sent().ScriptVisual)]}})})}},pythonVisual:{name:"pythonVisual",watermarkKey:"pythonvisual",titleKey:(0,sr.V)("PythonVisual_ToolTip"),capabilities:vr.D.pythonVisual,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("scriptVisual").then(ke.bind(ke,1540))];case 1:return[2,new(0,r.sent().ScriptVisual)]}})})}},kpi:{name:"kpi",watermarkKey:"kpi",titleKey:(0,sr.V)("kpi_Tooltip"),capabilities:vr.D.kpi,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("kpiStatusWithHistory").then(ke.bind(ke,2208))];case 1:return[2,new(0,r.sent().KPIStatusWithHistory)(void 0)]}})})},stampHardcodedDefaultObjects:m0,getNarrativeSummaryBindings:function(t){return An(t,5)}},keyDriversVisual:{name:"keyDriversVisual",watermarkKey:"keyDrivers",titleKey:(0,sr.V)("KeyDriver_Tooltip"),capabilities:vr.D.keyDrivers,create:function(e){return e.module.createAnalysisVisual()},getAnalysisVisualNarrativeSummaryConfiguration:function(t){return!t||_.isEmpty(t.dataViewMappings)?{keyDriversConfiguration:void 0,error:1}:{keyDriversConfiguration:d0(t.dataViewMappings),error:void 0}}},decompositionTreeVisual:{name:"decompositionTreeVisual",watermarkKey:"decompositionTree",titleKey:(0,sr.V)("DecompositionTree_Tooltip"),capabilities:vr.D.decompositionTree,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("decompositionTree").then(ke.bind(ke,1066))];case 1:return[2,new(0,r.sent().DecompositionTree)]}})})},customizeQuery:function(t){var e=t.dataViewMappings[0];e&&e.matrix&&e.metadata&&(function(t,e){var r=t.metadata.columns,a=e.rows.for.in.items;if(!_.isEmpty(a))for(var i=function(x,U){var K=a[x];if(!_.find(r,function(ye){return ye.queryName===K.queryName}))return"continue";K.subtotalType=1},o=0,s=a.length;o<s;o++)i(o)}(e,e.matrix),t.scopedAggregates&&function(t){var r=_.find(t.matrix.values.select,function(ye){return Ai(ye)&&ye.for.in.role===Ka.Fw.analyze}).for.in.items;if(!_.isEmpty(r)){var a=t.matrix.rows.for.in.items;if(!_.isEmpty(a)&&"levelMaximum"===(0,wa.NA)(t.metadata.objects,{objectName:Ka.I8.dataBars,propertyName:Ka.hq.dataBarScalingType},"levelMaximum")){for(var s=0,p=t.metadata.columns;s<p.length;s++){var x=p[s];if(x.discourageAggregationAcrossGroups)return void n.fF.assertFail("Aggregates should not be computed across groups with different values of the column "+x.queryName)}var U=r[0].queryName,K=a.map(function(ye){return ye.queryName});t.scopedAggregates=[{min:!0,max:!0,scope:[K[0]],queryName:U}];for(var ue=0;ue<a.length-1;ue++)a[ue].aggregates=[{min:!0,max:!0,scope:K.slice(0,ue+2),queryName:U}]}}}(e),function(t){var e,r=t.matrix.rows.dataReductionAlgorithm;if(r&&r.topNPerLevel){var a=t.metadata.objects,i=null===(e=(0,wa.NA)(a,{objectName:Ka.I8.tree,propertyName:Ka.hq.responsiveLayout}))||void 0===e||e,o=(0,wa.NA)(a,{objectName:Ka.I8.tree,propertyName:i?Ka.hq.effectiveBarsPerLevel:Ka.hq.barsPerLevel},Ka.bR.defaultValue);(o<Ka.bR.minValue||o>Ka.bR.maxValue)&&(o=Ka.bR.defaultValue),r.topNPerLevel.count=o}}(e))}},qnaVisual:{name:"qnaVisual",capabilities:vr.D.qnaVisual,create:function(e){return e.module.createQnaVisual()},titleKey:(0,sr.V)("Generic_Qna")},scorecard:{name:"scorecard",watermarkKey:"scorecard",titleKey:(0,sr.V)("Scorecard_Visual_Tooltip"),capabilities:vr.D.scorecard,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("scorecard").then(ke.bind(ke,4019))];case 1:return[2,new(0,r.sent().Scorecard)]}})})},module:{css:["scorecardVisual"]}},rdlVisual:{name:"rdlVisual",titleKey:(0,sr.V)("RdlVisual_ToolTip"),capabilities:vr.D.rdlVisual,create:gr,createES6:function(){return(0,ie.mG)(void 0,void 0,void 0,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return[4,ke.e("rdlVisual").then(ke.bind(ke,4893))];case 1:return[2,new(0,r.sent().RdlVisual)]}})})},module:{css:["rdlVisual"]},customizeQuery:function(t){var e=t.dataViewMappings[0];e&&e.table&&(e.table.rows.for.in.subtotalType=1)}},dataQueryVisual:{name:"dataQueryVisual",capabilities:vr.D.dataQueryVisual,create:function(){n.fF.assertFail("This visual should not be created")},customizeQuery:function(t){var e=_.first(t.dataViewMappings);n.fF.assertValue(e,"mapping");var r=(0,wa.NA)(e.metadata.objects,lc.Qw,void 0);null!=r&&(n.fF.assert(function(){return r>0&&_.isInteger(r)},"Invalid data reduction count"),e.table.rows.dataReductionAlgorithm={top:{count:r}});var a=_.groupBy(_.filter(e.metadata.columns,function(i){var o,s;return!(null===(s=null===(o=null==i?void 0:i.objects)||void 0===o?void 0:o.columnOptions)||void 0===s||!s.suppressJoinPredicate)}),function(i){return i.queryName});_.isEmpty(a)||(0,po.vV)(e.table,{visitRole:function(o){if(o.role===lc.KK.values)for(var s=0,p=o.items;s<p.length;s++){var x=p[s];a[x.queryName]&&(x.joinPredicate=0)}}})}}},hc=!1;vi[mc.name]=mc,hc||(window.powerbi||(window.powerbi={}),window.powerbi.visuals||(window.powerbi.visuals={}),window.powerbi.visuals.plugins&&(vi=(0,ie.pi)((0,ie.pi)({},vi),window.powerbi.visuals.plugins)),window.powerbi.visuals.plugins=vi,hc=!0);var ii=function(t){return t[t.CustomVisualJavascript=0]="CustomVisualJavascript",t[t.CustomVisualsCss=1]="CustomVisualsCss",t[t.CustomVisualScreenshot=2]="CustomVisualScreenshot",t[t.CustomVisualIcon=3]="CustomVisualIcon",t[t.CustomVisualWatermark=4]="CustomVisualWatermark",t[t.CustomVisualMetadata=5]="CustomVisualMetadata",t[t.Image=100]="Image",t[t.ShapeMap=200]="ShapeMap",t[t.CustomTheme=201]="CustomTheme",t[t.BaseTheme=202]="BaseTheme",t[t.DashboardTheme=203]="DashboardTheme",t[t.DashboardBaseTheme=204]="DashboardBaseTheme",t[t.HighContrastTheme=205]="HighContrastTheme",t[t.AppNavigation=206]="AppNavigation",t[t.AppTheme=207]="AppTheme",t[t.AppBaseTheme=208]="AppBaseTheme",t}({}),yc="PBI.ApprovedResource.FailLoaded",gc=(Me.cx[yc]=(0,Me.b1)(yc),"PBI.ApprovedResource.SuccessfulLoad"),bc=(Me.cx[gc]=(0,Me.b1)(gc),"PBI.ApprovedResource.EndpointDown"),Sc=(Me.cx[bc]=(0,Me.b1)(bc),"PBI.ApproveResource.LoadResourcePackage"),Cc=(Me.cx[Sc]=(0,Me.b1)(Sc),"PBI.AppSourceResource.EndpointDown"),Vc=(Me.cx[Cc]=(0,Me.b1)(Cc),"PBI.VisualConsent.Register"),Dc=(Me.cx[Vc]=(0,Me.b1)(Vc),"PBI.VisualConsent.Set"),_c=(Me.cx[Dc]=(0,Me.b1)(Dc),"PBI.VisualConsent.Get"),Ec=(Me.cx[_c]=(0,Me.b1)(_c),"PBI.VisualEvent.DownloadContentEvent"),Fc=(Me.cx[Ec]=(0,Me.b1)(Ec),"PBI.TrustedVisual.Load"),Nc=(Me.cx[Fc]=(0,Me.b1)(Fc),"PBI.TrustedVisual.GetConsent"),wc=(Me.cx[Nc]=(0,Me.b1)(Nc),"PBI.VisualAuthentication.GetResourceUrl"),Mc=(Me.cx[wc]=(0,Me.b1)(wc),"PBI.VisualAuthentication.GetAADToken"),Tc=(Me.cx[Mc]=(0,Me.b1)(Mc),"PBI.VisualAuthentication.GetWACToken"),Cs=(Me.cx[Tc]=(0,Me.b1)(Tc),"PBI.LocalResource.LoadResourcePackageItem"),xc=(Me.cx[Cs]=(0,Me.b1)(Cs),"PBI.VisualAuthentication.BlockAccessToken"),Pc=(Me.cx[xc]=(0,Me.b1)(xc),"PBI.AdminControl.Initialized"),Ac=(Me.cx[Pc]=(0,Me.b1)(Pc),"PBI.Pbiviz.UnzipFailed"),Rc=(Me.cx[Ac]=(0,Me.b1)(Ac),"PBI.CustomVisualsLicense.LicensesLoaded"),Lc=(Me.cx[Rc]=(0,Me.b1)(Rc),"PBI.CustomVisualsLicense.GetServicePlansCalled"),Ic=(Me.cx[Lc]=(0,Me.b1)(Lc),"PBI.CustomVisualsLicense.PrefetchServicePlansCalled"),Oc=(Me.cx[Ic]=(0,Me.b1)(Ic),"PBI.VisualEvent.LocalStorageV2Event"),Vs=(Me.cx[Oc]=(0,Me.b1)(Oc),[]);Vs[1]="RegisteredResources",Vs[2]="SharedResources";var mn={};function vo(t,e){var r=Vs[t]||e;return n.fF.assertValue(r,"Invalid package name for resource package"),r}mn[ii.BaseTheme]=function(t){return"BaseThemes/".concat(t,".json")},mn[ii.CustomTheme]=function(t){return"BuiltInThemes/".concat(t,".json")},mn[ii.HighContrastTheme]=function(t){return"HighContrastThemes/".concat(t,".json")},mn[ii.Image]=function(t){return"Images/".concat(t)},mn[ii.ShapeMap]=function(t){return"Shapemaps/".concat(t,".json")};var jc=ke(9921),Mb=["displayName","description","placeHolderText"],Tb={get:function(e){return e},getOptional:function(e){return e},format:function(e){return e}};function ho(t){t.apiVersion?function(t){!function(t){t&&(function(t){for(var e in t){var r=t[e];if(r){var a=r.properties;if(a)for(var i in a){var o=a[i];if(o){var s=o.type;s&&s.enumeration&&(s.enumeration=(0,jc.i)(s.enumeration))}}}}}(t.objects),function(t){for(var e in t){var r=t[e];r&&r.kind&&(r.kind=Hc(r.kind.toString()))}}(t.dataRoles),function(t){for(var e in t){var r=t[e];if(r){var a=r.conditions;if(a)for(var i in a){var o=a[i];if(o)for(var s in o){var p=o[s];p&&p.kind&&(o[s].kind=Hc(p.kind.toString()))}}}}}(t.dataViewMappings))}(t.capabilities)}(t):function(t){!function(t){t&&(function(t){for(var e in t){var r=t[e];if(r){var a=(r=t[e]=_.mapValues(r,yo)).properties;if(a)for(var i in a){var o=a[i];if(o){var s=(o=a[i]=_.mapValues(o,yo)).type;if(s&&s.enumeration&&_.isFunction(s.enumeration.members)){var p=s.enumeration.members().map(function(x){return _.mapValues(x,yo)});s.enumeration=(0,jc.i)(p)}}}}}}(t.objects),function(t){for(var e in t){var r=t[e];r&&(t[e]=_.mapValues(r,yo))}}(t.dataRoles))}(t.capabilities)}(t)}function Hc(t){switch(t.toLowerCase()){case"grouping":case Kr.DW.Grouping.toString():return Kr.DW.Grouping;case"measure":case Kr.DW.Measure.toString():return Kr.DW.Measure;case"groupingormeasure":case Kr.DW.GroupingOrMeasure.toString():return Kr.DW.GroupingOrMeasure}}function yo(t,e){return _.isString(t)||-1===_.indexOf(Mb,e)?t:(0,sr.G)(t,Tb)}function go(t,e,r,a){void 0===r&&(r=!1),void 0===a&&(a=null);var i={major:1,minor:8,patch:0},o=document.createElement("script");o.innerHTML=r?a&&Zi(a,i)||Nu(a,i)?function(t){return"\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ".concat(t,";\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                \t\tif (key ===\"window\" || key === \"self\"){\n                                            Object.defineProperty(newWindow, key, {\n                                                get: (function(newWindow) {\n                                                    return function() {\n                                                        return newWindow;\n                                                    }\n                                                })(newWindow),\n                                                set: function() { }\n                                        });\n                                    } else {\n                                        Object.defineProperty(newWindow, key, {\n                                            get: (function(item) {\n                                                return function() {\n                                                    return item;\n                                                }\n                                            })(item),\n                                            set: function() { }\n                                        });\n                                    }\n                                } else if (typeof item === 'number' || typeof item === 'boolean' || typeof item === 'string') {\n                                      Object.defineProperty(newWindow, key, {\n                                          get: (function(w, keyString) {\n                                              return function() {\n                                                  return w[keyString];\n                                              }\n                                          })(w, key.toString()),\n                                          set: (function(w, keyString) {\n                                              return function(newValue) {\n                                                  w[keyString] = newValue;\n                                              }\n                                          })(w, key.toString())\n                                      });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            ")}(e):function(t){return"\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ".concat(t,";\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                    Object.defineProperty(newWindow, key, {\n                                        get: (function(item) {\n                                            return function() {\n                                                return item;\n                                            }\n                                        })(item),\n                                        set: function() { }\n                                    });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            ")}(e):e,o.id="js-"+t,o.setAttribute("name",t),document.body.appendChild(o)}function bo(t,e){var r=$("<style></style>",{html:e,id:"css-"+t});r.attr("name",t),$("head").append(r)}var Wb=ke(4994);function Rn(t){return!!(t&&t.propertyIdentifier&&t.propertyIdentifier.objectName&&t.propertyIdentifier.propertyName)}function ga(t,e){var r;if(e)return t&&(r=t[e.propertyIdentifier.objectName]),(0,Wb.N)(r,e.propertyIdentifier.propertyName,e.defaultValue)}function Jb(t,e){var r=t.capabilities,a=So(t,e)||So(t,"en-US");return r&&a&&Qc(r,a),t}function So(t,e){var r=function(t){return{ar:"ar-SA",bg:"bg-BG",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR","en-US":"en-US",es:"es-ES",et:"et-EE",eu:"eu-ES",fi:"fi-FI",fr:"fr-FR",gl:"gl-ES",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",id:"id-ID",it:"it-IT",ja:"ja-JP",kk:"kk-KZ",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ms:"ms-MY",no:"nb-NO",nl:"nl-NL",pl:"pl-PL",br:"pt-BR",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",si:"sl-SI","sr-Cyrl":"sr-Cyrl-RS","sr-Latn":"sr-Latn-RS",sv:"sv-SE",th:"th-TH",tr:"tr-TR",uk:"uk-UA",vi:"vi-VN","zh-Hans":"zh-CN","zh-Hant":"zh-TW"}[t]||t||navigator.language}(e);return t&&t.stringResources?t.stringResources[r]:null}function Qc(t,e){for(var r in t)t.hasOwnProperty(r)&&("object"==typeof t[r]?Qc(t[r],e):"displayNameKey"===r&&t.displayName?t.displayName=Ns(e,t.displayNameKey)||t.displayName:"descriptionKey"===r&&t.description?t.description=Ns(e,t.descriptionKey)||t.description:"placeHolderTextKey"===r&&t.placeHolderText&&(t.placeHolderText=Ns(e,t.placeHolderTextKey)||t.placeHolderText))}function Ns(t,e){return t[e]}function eS(t,e,r){return new rS(t,e,r||new tS(t.promiseFactory))}var tS=function(){function t(e){this.promiseFactory=e}return t.prototype.get=function(e,r,a){return n.fF.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()},t.prototype.getBlob=function(e,r,a){return n.fF.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()},t}(),rS=function(){function t(e,r,a){this.provider=r,this.sharedResourceItemProxy=a,this.promiseFactory=e&&e.promiseFactory,this.locale=e&&e.locale,this.telemetryV2Enabled=e&&e.telemetryV2Enabled}return t.prototype.loadTrustedResourcePackages=function(e){return n.fF.assertFail("Not supported"),this.promiseFactory.reject()},t.prototype.loadResourcePackages=function(e){n.fF.assertValue(e,"resourcePackages");for(var r=[],a=0,i=e;a<i.length;a++)r.push(this.loadResourcePackage(i[a]));return this.promiseFactory.all(r)},t.prototype.loadResourcePackage=function(e){n.fF.assertValue(e,"resourcePackage");var r=[];if(e&&e.items)for(var a=0,i=e.items;a<i.length;a++)r.push(this.loadCustomVisualResourcePackageItem(i[a],e));return this.promiseFactory.all(r)},t.prototype.loadResourcePackageItem=function(e,r){var a=function(t,e){return n.fF.assertAnyValue(t,"It's possible it doesn't exist, lodash returns undefined for us."),_.find(t&&t.items,function(r){return r.name===e})}(e,r);return a?a.content?this.promiseFactory.resolve(a.content):this.loadBlob(e.id,e.name,a):(nn.f.warning("loadResourcePackageItem: item not found in package"),this.promiseFactory.resolve(null))},t.prototype.loadSharedResource=function(e,r){return r===ii.Image?this.sharedResourceItemProxy.getBlob(null,vo(2),e,{retries:1}):this.sharedResourceItemProxy.get(null,vo(2),e,{retries:1})},t.prototype.loadVisualPlugin=function(e){var r=this;n.fF.assertValue(e,"resourcePackage");var a=this.promiseFactory.defer();return e&&e.items&&e.items.length>0?this.loadResourcePackage(e).then(function(){var i=vi[e.name];i?(i.iconUrl=r.getIconUrl(e),a.resolve(i)):a.reject("Unable to load visual plugin from resource package")}).catch(function(){a.reject("failed to resolve all promises")}):a.resolve(null),a.promise},t.prototype.destroy=function(){},t.prototype.loadVisualPlugins=function(e){n.fF.assertValue(e,"resourcePackages");var r=[];if(e)for(var a=0,i=e;a<i.length;a++)r.push(this.loadVisualPlugin(i[a]));return this.promiseFactory.all(r)},t.prototype.getIconUrl=function(e){var a=$("#css-"+e.name)[0],i=_.find(document.styleSheets,function(p){return p.ownerNode===a});if(!i)return"";for(var o=0;o<i.cssRules.length;o++){var s=i.cssRules[o];if(s.selectorText&&s.selectorText===".visual-icon."+e.name)return s.style.backgroundImage}return""},t.prototype.loadCustomVisualResourcePackageItem=function(e,r){switch(e.type){case ii.CustomVisualJavascript:return this.loadCustomVisualJS(r.id,r.name,e);case ii.CustomVisualsCss:return this.loadCustomVisualCss(r.id,r.name,e);case ii.CustomVisualMetadata:return this.loadCustomVisualMetadata(r.id,r.name,e)}},t.prototype.loadCustomVisualJS=function(e,r,a){var i=this,o=this.promiseFactory.defer();return a.content?(go(r,a.content),o.resolve(a.content)):(n.fF.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(e,r,a.path,{retries:1}).then(function(s){go(r,s),a.content=s,i.transformPlugin(r).then(function(){return o.resolve(s)},function(p){return o.reject(p)})}).catch(function(s){o.reject(s)})),o.promise},t.prototype.transformPlugin=function(e){var r=vi[e];return r?(ho(r),this.promiseFactory.resolve()):this.promiseFactory.reject("Unable to load visual plugin from resource package: "+e)},t.prototype.loadCustomVisualCss=function(e,r,a){var i=this.promiseFactory.defer();return a.content?(bo(r,a.content),i.resolve(a.content)):(n.fF.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(e,r,a.path,{retries:1}).then(function(o){bo(r,o),a.content=o,i.resolve(o)}).catch(function(o){i.reject(o)})),i.promise},t.prototype.loadCustomVisualMetadata=function(e,r,a){var i=this,o=this.promiseFactory.defer();try{a.content?o.resolve(this.createPlugin(r,a.content)):this.provider.get(e,r,a.path,{retries:1}).then(function(s){a.content=s,o.resolve(i.createPlugin(r,s))}).catch(function(s){o.reject(s)})}catch(s){o.reject(s)}return o.promise},t.prototype.createPlugin=function(e,r){n.fF.assertAnyValue(r,"pbivizJsonString");var a=r;"object"!=typeof r&&(a=JSON.parse(r));var i=function(t,e,r){n.fF.assertAnyValue(t,"pbivizjson"),n.fF.assertAnyValue(t.content,"content"),n.fF.assertAnyValue(t.content.iconBase64,"iconBase64"),t=e?Jb(t,e):t;var a=e?So(t,e):null,i=So(t,"en-US"),s={name:t.visual.guid,apiVersion:t.apiVersion,class:t.visual.visualClassName,displayName:t.visual.displayName,capabilities:t.capabilities,custom:!0,iconUrl:'url("'+t.content.iconBase64+'")',content:t.content,version:t.visual.version,create:function(){return null},customizeQuery:function(x){return null},localizationResources:a||i?{enUSStrings:i,localizedStrings:a}:null,supportUrl:t.visual.supportUrl,source:0,publisher:t.author?t.author.name:void 0};return t.capabilities&&(t.capabilities.subtotals||t.capabilities.dataReductionCustomization)&&(s.customizeQuery=function(p){return function(t,e){e&&e.subtotals&&e.subtotals.matrix&&function(t){return t&&function(t){return t&&Rn(t.columnSubtotals)&&Rn(t.columnSubtotalsPerLevel)&&Rn(t.levelSubtotalEnabled)&&Rn(t.rowSubtotals)&&Rn(t.rowSubtotalsPerLevel)}(t.matrix)}(e.subtotals)&&function(t,e){n.fF.assert(function(){return!!t},"options not defined"),n.fF.assert(function(){return!!t.dataViewMappings},"dataViewMappings not defined");var r=t.dataViewMappings[0];if(r&&r.matrix&&r.metadata){var a=r.matrix;(function(t,e,r){var a=t.metadata.objects,i=t.metadata.columns,o=e.rows.for.in.items,s=ga(a,r.rowSubtotals),p=2,x=ga(a,r.rowSubtotalsPerLevel);if(null!=r.rowSubtotalsType&&"Top"===ga(a,r.rowSubtotalsType)&&(p=1),!_.isEmpty(o))for(var K=function(Ie,Re){var $e=o[Ie],st=_.find(i,function(Lt){return Lt.queryName===$e.queryName});if(!st)return"continue";var ht=ga(st.objects,r.levelSubtotalEnabled);$e.subtotalType=!s||x&&!ht?0:p},ue=0,ye=o.length;ue<ye;ue++)K(ue)})(r,a,e),function(t,e,r){var a=t.metadata.objects,i=t.metadata.columns,o=e.columns.for.in.items,s=ga(a,r.columnSubtotals),p=ga(a,r.columnSubtotalsPerLevel);if(!_.isEmpty(o))for(var x=function(_e){var Ie=_.find(i,function($e){return $e.queryName===_e.queryName});if(!Ie)return"continue";var Re=ga(Ie.objects,r.levelSubtotalEnabled);_e.subtotalType=!s||p&&!Re?0:2},U=0,K=o;U<K.length;U++)x(K[U])}(r,a,e)}}(t,e.subtotals.matrix),e&&e.dataReductionCustomization&&function(t,e){var r,a,i,o,s,p,x,U,K,ue,ye,_e,Ie,Re=null===(r=null==t?void 0:t.dataViewMappings)||void 0===r?void 0:r[0],$e=null===(a=null==Re?void 0:Re.metadata)||void 0===a?void 0:a.objects,st=(0,ta._1)(t.dataViewMappings);if(function(t,e,r){var a=!0;if(!e||!e.dataReductionCustomization)return!1;switch(t){case 2:if(r.matrix){var i=ga(e,r.matrix.rowCount),o=ga(e,r.matrix.columnCount);void 0!==i&&(a=a&&i>=15&&i<=3e4),void 0!==o&&(a=a&&o>=1&&o<=2e3)}break;case 8:r.table&&void 0!==(i=ga(e,r.table.rowCount))&&(a=a&&i>=15&&i<=3e4);break;case 1:if(r.categorical){var s=ga(e,r.categorical.categoryCount),p=ga(e,r.categorical.groupedValuesCount);void 0!==s&&(a=a&&s>=15&&s<=3e4),void 0!==p&&(a=a&&p>=1&&p<=2e3)}}return a}(st,$e,e))switch(st){case 2:var Lt=ga($e,e.matrix.rowCount),_t=ga($e,e.matrix.columnCount),Nt=null===(o=null===(i=Re.matrix)||void 0===i?void 0:i.columns)||void 0===o?void 0:o.dataReductionAlgorithm,Et=null===(p=null===(s=Re.matrix)||void 0===s?void 0:s.rows)||void 0===p?void 0:p.dataReductionAlgorithm;_t&&Nt&&(Nt[(0,ta.Xs)(Nt)].count=_t),Lt&&Et&&(Et[(0,ta.Xs)(Et)].count=Lt);break;case 8:Lt=ga($e,e.table.rowCount),Et=null===(U=null===(x=null==Re?void 0:Re.table)||void 0===x?void 0:x.rows)||void 0===U?void 0:U.dataReductionAlgorithm,Lt&&Et&&(Et[(0,ta.Xs)(Et)].count=Lt);break;case 1:var qt=ga($e,e.categorical.categoryCount),ar=ga($e,e.categorical.groupedValuesCount);Nt=null===(ye=null===(ue=null===(K=null==Re?void 0:Re.categorical)||void 0===K?void 0:K.values)||void 0===ue?void 0:ue.group)||void 0===ye?void 0:ye.dataReductionAlgorithm,Et=null===(Ie=null===(_e=null==Re?void 0:Re.categorical)||void 0===_e?void 0:_e.categories)||void 0===Ie?void 0:Ie.dataReductionAlgorithm,ar&&Nt&&(Nt[(0,ta.Xs)(Nt)].count=ar),qt&&Et&&(Et[(0,ta.Xs)(Et)].count=qt)}}(t,e.dataReductionCustomization)}(p,t.capabilities)}),s}(a,this.locale);ho(i);var o=vi[i.name];return o&&!o.custom&&(i.custom=!1),o&&(i.favoriteId=o.favoriteId,i.isOutOfBox=o.isOutOfBox),vi[i.name]=i,i},t.prototype.loadBlob=function(e,r,a){var i=this.promiseFactory.defer(this.telemetryV2Enabled);return a.contentBlob?i.resolve(a.contentBlob):a.promise?a.promise.then(function(o){return i.resolve(o)}):(a.promise=this.provider.getBlob(e,r,a.path,{retries:1}),a.promise.then(function(o){a.contentBlob=o,i.resolve(o)}).catch(function(o){i.reject(o)}).finally(function(){delete a.promise})),i.promise},(0,ie.gn)([zg(Cs),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object,String]),(0,ie.w6)("design:returntype",Object)],t.prototype,"loadResourcePackageItem",null),t}();function vn(t){return n.fF.assertValue(t,"instances"),0===t.length?[]:_.map(t,iS)}function aS(t,e){return n.fF.assertValue(t,"containers"),_.map(t,function(r){return{displayName:(0,sr.G)(r.displayName,e)}})}function iS(t){return{objectName:t.objectName,displayName:t.displayName,properties:oS(t.properties),selector:sn(t.selector),altConstantValueSelector:sn(t.altConstantValueSelector),validValues:t.validValues,containerIdx:t.containerIdx,propertyInstanceKind:t.propertyInstanceKind}}function oS(t){var e={};for(var r in t)e[r]=lS(t[r]);return e}function lS(t){return t instanceof Jn.yl?pr.serializeFilter(t):void 0===t?null:t}function fS(t){var e={selector:sn(t.selector),altStaticSelector:sn(t.altStaticSelector),objects:t.objects};return void 0!==t.allowOverrideSubtotalMatching&&(e.allowOverrideSubtotalMatching=t.allowOverrideSubtotalMatching),e}var za=ke(2589);function vS(t){return{dataColors:yS(t.dataColors),foreground:t.foreground,foregroundLight:t.foregroundLight,foregroundDark:t.foregroundDark,foregroundNeutralLight:t.foregroundNeutralLight,foregroundNeutralDark:t.foregroundNeutralDark,foregroundNeutralSecondary:t.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:t.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:t.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:t.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:t.foregroundNeutralTertiaryAlt,foregroundSelected:t.foregroundSelected,foregroundButton:t.foregroundButton,background:t.background,backgroundLight:t.backgroundLight,backgroundNeutral:t.backgroundNeutral,backgroundDark:t.backgroundDark,hyperlink:t.hyperlink,visitedHyperlink:t.visitedHyperlink,mapPushpin:t.mapPushpin,shapeStroke:t.shapeStroke,disabledText:t.disabledText,tableAccent:t.tableAccent,selection:t.selection,separator:t.separator}}function yS(t){return new za.fJ(t.colors,t.sentimentColors,t.gradientColors)}var ws="message",Yc="message",qc="onMessageProxyAsyncComplete";function Zc(t,e){return new gS(t,e)}var gS=function(){function t(e,r){var a=this;this.promiseFactory=e,this._queue=[],this._allowSameWindow=!1,this.handlers={message:[],error:[]},this.isFlushing=!1,r&&(this._contentWindow=r),this.deferredCache={},this.windowMessageHandler=function(i){return a.onMessageReceived(i.originalEvent)},$(window).on(Yc,this.windowMessageHandler)}return Object.defineProperty(t.prototype,"allowSameWindow",{get:function(){return this._allowSameWindow},set:function(r){this._allowSameWindow=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"contentWindow",{get:function(){return this._contentWindow},set:function(r){n.fF.assertValue(r,"value"),this._contentWindow=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"queue",{get:function(){return jQuery.extend([],this._queue)},enumerable:!1,configurable:!0}),t.prototype.postMessage=function(e){this.contentWindow?this.sendMessage(e):this.queueMessage(e)},t.prototype.postMessageAsync=function(e){var r=this,a=this.promiseFactory.defer(),i=this.createRandomString();return this.deferredCache[i]=a,e.id=i,this.postMessage(e),a.promise.finally(function(){delete r.deferredCache[i]}),a.promise},t.prototype.queueMessage=function(e,r){void 0===r&&(r=this._queue.length);var a=this.prepareMessage(e);this._queue.splice(r,0,a)},t.prototype.on=function(e,r){n.fF.assertValue(e,"type"),n.fF.assertValue(r,"handler"),this.handlers[e]&&(this.handlers[e].indexOf(r)>-1||this.handlers[e].push(r))},t.prototype.off=function(e,r){if(n.fF.assertValue(e,"type"),this.handlers[e]){if(!r)return void(this.handlers[e].length=0);var a=this.handlers[e].indexOf(r);a>-1&&this.handlers[e].splice(a,1)}},t.prototype.flushQueue=function(){this.isFlushing||!this.contentWindow||(this.isFlushing=!0,this.contentWindow.postMessage&&this.contentWindow.postMessage(this._queue,"*"),this._queue.length=0,this.isFlushing=!1)},t.prototype.sendMessage=function(e){var r=this.prepareMessage(e);this.contentWindow?this.contentWindow.postMessage&&this.contentWindow.postMessage(r,"*"):n.fF.assertFail("contentWindow not set")},t.prototype.prepareMessage=function(e){var r;try{r=JSON.stringify(e)}catch(a){throw r=null,E.b$.ensureError(a)}return r},t.prototype.onMessageReceived=function(e){if(this.allowSameWindow||e.source!==window){var r;try{r="string"==typeof e.data?JSON.parse(e.data):e.data}catch(U){r=null}if(r)for(var i=0,o=jQuery.isArray(r)?r:[r];i<o.length;i++){var s=o[i],p=void 0,x=void 0;try{"string"==typeof s?(p=JSON.parse(s),x=s.length):(p=s,x=e.data.length)}catch(U){p=null}if(!p)return;this.dispatchMessage(e,p,x)}}},t.prototype.dispatchMessage=function(e,r,a){var i={message:r,source:e.source,origin:e.origin,packedSize:a};if(r.id&&(r.eventName===qc||r.result||r.error)){var o=this.deferredCache[r.id];return o?r.error?o.reject(r.error):o.resolve(r.result):void 0}for(var p=0,x=r.error?this.handlers.error:this.handlers.message;p<x.length;p++)this.invokeHandler(x[p],i)},t.prototype.invokeHandler=function(e,r){var i,o,a=this;r.message.id&&(o={id:r.message.id,eventName:qc,arguments:[]});try{i=e.call(null,r),o&&this.promiseFactory.when(i).then(function(s){o.result=s,a.postMessage(o)}).catch(function(s){o.error=s,a.postMessage(o)})}catch(s){o&&(o.error={message:s.message},this.postMessage(o))}},t.prototype.createRandomString=function(){return(Math.random()+1).toString(36).substring(7)},t.prototype.destroy=function(){this.handlers.message.length=0,this.handlers.error.length=0,$(window).off(Yc,this.windowMessageHandler),this.windowMessageHandler=null},t}();function Oi(t){var e=t.type||Kr.EP.Data;return e&Kr.EP.Resize&&2===t.resizeMode&&(e|=Kr.EP.ResizeEnd),e}var _S={version:"1.0.0",overloads:function(e,r){return{update:function(i){e.update&&e.update({viewport:i.viewport,dataViews:i.dataViews,viewMode:i.viewMode,type:Oi(i)})},destroy:function(){e.destroy&&e.destroy()},enumerateObjectInstances:function(i){return e.enumerateObjectInstances&&e.enumerateObjectInstances(i)||[]}}},hostAdapter:function(e){return{}}};function Qa(t,e){for(var r,a=e.split(".");r=a.shift();){if(!t||null==t[r])return!1;t=t[r]}return!0}var ba=function(){function t(e,r){void 0===r&&(r=!1),this.dataPointObjectName="dataPoint",this.filterPropertyIdentifier={objectName:"general",propertyName:"filter"},this.hostServices=e.hostServices,this.apiVersion=e.apiVersion,this.selectedIds=[],this.promiseFactory=this.hostServices.promiseFactory(),this.noIframe=r}return t.prototype.select=function(e,r){void 0===r&&(r=!1);var a=this.promiseFactory.defer();return e?(e instanceof Array||(e=[e]),this.hostServices.shouldRetainSelection()?this.sendSelectionToHost(e,r):(this.selectInternal(e,r),this.sendSelectionToHost(this.selectedIds,r)),a.resolve(this.selectedIds),a.promise):(a.reject(),a.promise)},t.prototype.showContextMenu=function(e,r,a){var i=this.promiseFactory.defer();return e||(e={}),this.sendContextMenuToHost(e,r,a),i.resolve(null),i.promise},t.prototype.toggleExpandCollapse=function(e,r){var a=this.promiseFactory.defer();return this.sendExpandCollapseToHost(e,!0===r),a.resolve(null),a.promise},t.prototype.hasSelection=function(){return this.selectedIds.length>0},t.prototype.clear=function(){var e=this.promiseFactory.defer();return this.selectedIds=[],this.sendSelectionToHost([]),e.resolve(null),e.promise},t.prototype.getSelectionIds=function(){return this.selectedIds},t.prototype.setSelectionIds=function(e){this.selectedIds=e},t.prototype.sendSelectionToHost=function(e,r){if(this.noIframe||!this.apiVersion||xi(this.apiVersion,"2.0.0")){var a=this.dataPointObjectName,i={type:0,visualObjects:_.chain(e).filter(function(s){return s.hasIdentity()}).map(function(s){return{objectName:a,selectorsByColumn:s.getSelectorsByColumn()}}).value(),selectors:void 0,selectionMode:r?3:0},o=!1;_.isEmpty(e)||(o=e[0].getSelector()&&!e[0].getSelectorsByColumn()),o&&(i.selectors=_.chain(e).filter(function(s){return s.hasIdentity()}).map(function(s){return s.getSelector()}).value()),this.hostServices.onSelect(i)}else this.hostServices.sendSelectionIdsToHost(this.prepareCustomVisualSelectEventArgs(e,r))},t.prototype.sendContextMenuToHost=function(e,r,a){e&&r&&this.hostServices.customVisualOnContextMenu({data:[e],position:r,dataRoles:a?[a]:void 0})},t.prototype.sendExpandCollapseToHost=function(e,r){e&&null!=e.nodeIsCollapsed&&this.hostServices.customVisualOnExpandCollapse({data:e,entireLevel:r})},t.prototype.selectInternal=function(e,r){var a=this;e.length<1||(e.length>1?this.selectedIds=r?e.filter(function(i){return!a.selectedIds.some(function(o){return o.equals(i)})}).concat(this.selectedIds.filter(function(i){return!e.some(function(o){return o.equals(i)})})):e:t.containsSelection(this.selectedIds,e[0])?this.selectedIds=r?this.selectedIds.filter(function(i){return!e[0].equals(i)}):this.selectedIds.length>1?e:[]:r?this.selectedIds.push(e[0]):this.selectedIds=e)},t.containsSelection=function(e,r){return e.some(function(a){return r.equals(a)})},t.getSelectorsByColumn=function(e){return e&&e[0]instanceof Ar?e:_(e).filter(function(r){return r&&r.hasIdentity}).map(function(r){return r.getSelectorsByColumn()}).compact().value()},t.createChangeForFilterProperty=function(e,r){var a={},i={objectName:e.objectName,selector:void 0,properties:a};return null==r?(a[e.propertyName]={},{remove:[i]}):(a[e.propertyName]=r,{merge:[i]})},t.prototype.getFilterFromSelectors=function(){if(this.hasSelection()){var e=_.chain(this.selectedIds).filter(function(r){return r.hasIdentity()}).map(function(r){return r.getSelector()}).value();return(0,xr.mV)(e,!1)}},t.prototype.prepareCustomVisualSelectEventArgs=function(e,r){var a={selectionIds:[],multiSelect:r};if(e&&e[0]&&(e[0].dataMap||e[0].measures))for(var i=0,o=e;i<o.length;i++)a.selectionIds.push(o[i]);return a},t.prototype.applySelectionFilter=function(){this.hostServices.persistProperties(t.createChangeForFilterProperty(this.filterPropertyIdentifier,this.getFilterFromSelectors()))},t.prototype.registerOnSelectCallback=function(e){this.onSelectCallback=e},t.prototype.invokeOnSelectCallback=function(e){_.isFunction(this.onSelectCallback)&&this.onSelectCallback(e)},t}(),NS={version:"1.1.0",overloads:function(e,r){return{update:function(i){if(e.update){var o={viewport:i.viewport,dataViews:i.dataViews,viewMode:i.viewMode,type:Oi(i)},s=e.constructor.__transform__;_.isFunction(s)?e.update(o,s(o.dataViews)):e.update(o)}}}},hostAdapter:function(e){return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){return new ba({hostServices:e.host})},colors:Qa(e,"style.colorPalette.dataColors.getAllColors")?e.style.colorPalette.dataColors.getAllColors():za.ng.getDefaultColors()}}};function Ya(t){return new $c(t)}function Ir(t){return new wS(t)}var $c=function(){function t(e){this.colorPalette={},this.colorIndex=0,this.colors=e}return t.prototype.getColor=function(e){var r=this.colorPalette[e];if(r)return r;var a=this.colors;return r=this.colorPalette[e]=a[this.colorIndex++],this.colorIndex>=a.length&&(this.colorIndex=0),r},t.prototype.reset=function(){return this.colorIndex=0,this.colorPalette={},this},t}(),wS=function(t){function e(r){var a=this,i=r.colorPalette.dataColors;(a=t.call(this,i.getAllColors())||this).isHighContrast=r.isHighContrast,a.foreground=r.colorPalette.foreground,a.foregroundLight=r.colorPalette.foregroundLight,a.foregroundDark=r.colorPalette.foregroundDark,a.foregroundNeutralLight=r.colorPalette.foregroundNeutralLight,a.foregroundNeutralDark=r.colorPalette.foregroundNeutralDark,a.foregroundNeutralSecondary=r.colorPalette.foregroundNeutralSecondary,a.foregroundNeutralSecondaryAlt=r.colorPalette.foregroundNeutralSecondaryAlt,a.foregroundNeutralSecondaryAlt2=r.colorPalette.foregroundNeutralSecondaryAlt2,a.foregroundNeutralTertiary=r.colorPalette.foregroundNeutralTertiary,a.foregroundNeutralTertiaryAlt=r.colorPalette.foregroundNeutralTertiaryAlt,a.foregroundSelected=r.colorPalette.foregroundSelected,a.foregroundButton=r.colorPalette.foregroundButton,a.background=r.colorPalette.background,a.backgroundLight=r.colorPalette.backgroundLight,a.backgroundNeutral=r.colorPalette.backgroundNeutral,a.backgroundDark=r.colorPalette.backgroundDark,a.hyperlink=r.colorPalette.hyperlink,a.visitedHyperlink=r.colorPalette.visitedHyperlink,a.mapPushpin=r.colorPalette.mapPushpin,a.shapeStroke=r.colorPalette.shapeStroke;var o=i.getSentimentColors();a.bad=o.bad,a.neutral=o.neutral,a.good=o.good;var s=i.getGradientColors();return a.minimum=s.minColor,a.center=s.midColor,a.maximium=s.maxColor,a.null=s.nullColor,a.negative=o.bad,a.positive=o.good,a.selection=r.colorPalette.selection,a.separator=r.colorPalette.separator,a}return(0,ie.ZT)(e,t),e}($c),xS={version:"1.2.0",overloads:function(e,r){return{update:function(i){if(e.update){var o={viewport:i.viewport,dataViews:i.dataViews,viewMode:i.viewMode,type:Oi(i)};r.colorPalette.reset();var s=e.constructor.__transform__;_.isFunction(s)?e.update(o,s(o.dataViews)):e.update(o)}}}},hostAdapter:function(e){return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){return new ba({hostServices:e.host})},colorPalette:Ya(Qa(e,"style.colorPalette.dataColors.getAllColors")?e.style.colorPalette.dataColors.getAllColors():za.ng.getDefaultColors()),persistProperties:function(i){return e.host.persistProperties(i)}}}};function ka(t){return new PS(t)}var PS=function(){function t(e){this.hostServices=e.hostServices,this.tooltipService=this.hostServices.tooltips()}return t.prototype.enabled=function(){return this.tooltipService&&this.tooltipService.enabled()},t.prototype.show=function(e){if(this.enabled()){var r={coordinates:e.coordinates,dataItems:e.dataItems,isTouchEvent:e.isTouchEvent,identities:ba.getSelectorsByColumn(e.identities)};this.tooltipService.show(r)}},t.prototype.move=function(e){if(this.enabled()){var r={coordinates:e.coordinates,dataItems:e.dataItems,isTouchEvent:e.isTouchEvent,identities:ba.getSelectorsByColumn(e.identities)};this.tooltipService.move(r)}},t.prototype.hide=function(e){this.enabled()&&this.tooltipService.hide(e)},t}(),RS={version:"1.3.0",hostAdapter:function(e){return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){return new ba({hostServices:e.host})},colorPalette:Ya(Qa(e,"style.colorPalette.dataColors.getAllColors")?e.style.colorPalette.dataColors.getAllColors():za.ng.getDefaultColors()),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:ka({hostServices:e.host})}}},IS={version:"1.4.0",hostAdapter:function(e){return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){return new ba({hostServices:e.host})},colorPalette:Ya(Qa(e,"style.colorPalette.dataColors.getAllColors")?e.style.colorPalette.dataColors.getAllColors():za.ng.getDefaultColors()),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:ka({hostServices:e.host}),locale:e.host.locale()}}},BS={version:"1.5.0",hostAdapter:function(e){return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){return new ba({hostServices:e.host})},colorPalette:Ya(Qa(e,"style.colorPalette.dataColors.getAllColors")?e.style.colorPalette.dataColors.getAllColors():za.ng.getDefaultColors()),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:ka({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive}}},US={version:"1.6.0",overloads:function(e,r){return{update:function(i){if(e.update){var o={viewport:i.viewport,dataViews:i.dataViews,viewMode:i.viewMode,editMode:i.editMode,type:Oi(i)};r.colorPalette.reset();var s=e.constructor.__transform__;_.isFunction(s)?e.update(o,s(o.dataViews)):e.update(o)}}}},hostAdapter:function(e){return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){return new ba({hostServices:e.host})},colorPalette:Ya(Qa(e,"style.colorPalette.dataColors.getAllColors")?e.style.colorPalette.dataColors.getAllColors():za.ng.getDefaultColors()),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:ka({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive}}};function Fr(t){return new WS(t)}var WS=function(){function t(e){this.hostServices=e.hostServices,this.telemetryService=this.hostServices&&this.hostServices.telemetry&&this.hostServices.telemetry(),this.instanceId=this.telemetryService&&this.telemetryService.instanceId}return t.prototype.trace=function(e,r){this.telemetryService&&this.telemetryService.trace(e,r)},t}();function jS(t){switch(t){case 3:return"VisualEventError";case 2:return"VisualEventTrace";case 0:return"VisualEventRenderStarted";case 1:return"VisualEventRenderCompleted";default:return void n.fF.assertFail("Unknown VisualEventType: "+t)}}var KS={version:"1.7.0",hostAdapter:function(e){return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){return new ba({hostServices:e.host})},colorPalette:Ya(Qa(e,"style.colorPalette.dataColors.getAllColors")?e.style.colorPalette.dataColors.getAllColors():za.ng.getDefaultColors()),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:ka({hostServices:e.host}),telemetry:Fr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s){if(i){var p=[];p.push(i),e.host.applyJsonFilter(p,o,s)}else e.host.applyJsonFilter(null,o,s)}}}},QS={version:"1.8.0",hostAdapter:function(e){return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){return new ba({hostServices:e.host})},colorPalette:Ya(Qa(e,"style.colorPalette.dataColors.getAllColors")?e.style.colorPalette.dataColors.getAllColors():za.ng.getDefaultColors()),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:ka({hostServices:e.host}),telemetry:Fr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i){var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()}}}};function wr(t){return new YS(t)}var YS=function(){function t(e){this.hostServices=e.hostServices,this.authenticationService=this.hostServices&&this.hostServices.authenticationService&&this.hostServices.authenticationService(),this.promiseFactory=this.hostServices.promiseFactory()}return t.prototype.getResourceUrl=function(){return this.authenticationService?this.authenticationService.getResourceUrl():this.promiseFactory.reject()},t.prototype.getAADAuthenticationToken=function(){return this.authenticationService?this.authenticationService.getAADAuthenticationToken():this.promiseFactory.reject()},t.prototype.getAADToken=function(){return this.authenticationService?this.authenticationService.getAADToken():this.promiseFactory.reject()},t.prototype.getWACToken=function(e,r){return this.authenticationService?this.authenticationService.getWACToken(e,r):this.promiseFactory.reject()},t.prototype.getSignedInAccessToken=function(){return this.promiseFactory.reject()},t.prototype.getClusterInfo=function(){return this.promiseFactory.reject()},t}(),ZS={version:"1.9.0",hostAdapter:function(e){return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){return new ba({hostServices:e.host})},colorPalette:Ya(Qa(e,"style.colorPalette.dataColors.getAllColors")?e.style.colorPalette.dataColors.getAllColors():za.ng.getDefaultColors()),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:ka({hostServices:e.host}),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i){var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()}}}},Pr=function(){function t(e){this.localizationResources=e}return t.prototype.getDisplayName=function(e){var r=this.localizationResources;return r&&r.localizedStrings&&r.localizedStrings.hasOwnProperty(e)?r.localizedStrings[e]:r&&r.enUSStrings&&r.enUSStrings.hasOwnProperty(e)?r.enUSStrings[e]:e},t}(),XS={version:"1.10.0",hostAdapter:function(e){return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){return new ba({hostServices:e.host})},colorPalette:Ya(Qa(e,"style.colorPalette.dataColors.getAllColors")?e.style.colorPalette.dataColors.getAllColors():za.ng.getDefaultColors()),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:ka({hostServices:e.host}),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i){var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)}}}},eC={version:"1.11.0",hostAdapter:function(e){return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){var i=e.host;return i.selectionManager=new ba({hostServices:i}),i.selectionManager},colorPalette:Ya(Qa(e,"style.colorPalette.dataColors.getAllColors")?e.style.colorPalette.dataColors.getAllColors():za.ng.getDefaultColors()),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:ka({hostServices:e.host}),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i){var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)}}}},aC={version:"1.12.0",overloads:function(e,r){return{update:function(i){if(e.update){var o={viewport:i.viewport,dataViews:i.dataViews,viewMode:i.viewMode,editMode:i.editMode,operationKind:i.operationKind,type:Oi(i)};r.colorPalette.reset();var s=e.constructor.__transform__;_.isFunction(s)?e.update(o,s(o.dataViews)):e.update(o)}}}},hostAdapter:function(e){var r=e.host;return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){return r.selectionManager=new ba({hostServices:r}),r.selectionManager},colorPalette:Ya(Qa(e,"style.colorPalette.dataColors.getAllColors")?e.style.colorPalette.dataColors.getAllColors():za.ng.getDefaultColors()),persistProperties:function(o){return e.host.persistProperties(o)},tooltipService:ka({hostServices:e.host}),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(o,s,p,x){if(o){var U=[];U.push(o),e.host.applyJsonFilter(U,s,p,x)}else e.host.applyJsonFilter(null,s,p,x)},launchUrl:function(o){return e.host.launchUrl(o)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(){return r.fetchMoreData()}}}},nC={version:"1.13.0",hostAdapter:function(e){var r=e.host;return{createSelectionIdBuilder:function(){return new ca.dw},createSelectionManager:function(){return r.selectionManager=new ba({hostServices:r}),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:ka({hostServices:e.host}),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i){var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(){return r.fetchMoreData()}}}},Ms="2.0.0",sC={version:Ms,hostAdapter:function(e){var r=e.host;return r.apiVersion=Ms,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return r.selectionManager=new ba({hostServices:r,apiVersion:Ms}),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:ka({hostServices:e.host}),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i){var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(){return r.fetchMoreData()}}}},Ts="2.1.0",cC={version:Ts,overloads:function(e,r){return{update:function(i){if(e.update){var o={viewport:i.viewport,dataViews:i.dataViews,viewMode:i.viewMode,editMode:i.editMode,operationKind:i.operationKind,type:Oi(i),jsonFilters:i.jsonFilters};r.colorPalette.reset();var s=e.constructor.__transform__;_.isFunction(s)?e.update(o,s(o.dataViews)):e.update(o)}}}},hostAdapter:function(e){var r=e.host;return r.apiVersion=Ts,{createSelectionIdBuilder:function(){return r.createSelectionIdBuilder()},createSelectionManager:function(){return r.selectionManager=r.createSelectionManager(Ts),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:r.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i){var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(){return r.fetchMoreData()}}}},xs="2.2.0",dC={version:xs,hostAdapter:function(e){var r=e.host;return r.apiVersion=xs,{createSelectionIdBuilder:function(){return r.createSelectionIdBuilder()},createSelectionManager:function(){return r.selectionManager=r.createSelectionManager(xs),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:r.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i){var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(){return r.fetchMoreData()}}}};function Gr(t){return new pC(t)}var pC=function(){function t(e){this.eventService=e&&e.eventService&&e.eventService()}return t.prototype.renderingStarted=function(e){this.eventService&&this.eventService.renderingStarted(e)},t.prototype.renderingFinished=function(e){this.eventService&&this.eventService.renderingFinished(e)},t.prototype.renderingFailed=function(e,r){this.eventService&&this.eventService.renderingFailed(e,r)},t}();function Qr(t){return new mC(t)}var mC=function(){function t(e){this.storageService=e&&e.localStorageService&&e.localStorageService(),this.promiseFactory=e.promiseFactory()}return t.prototype.status=function(){return null!=this.storageService?this.storageService.getStorageStatus():this.promiseFactory.resolve(2)},t.prototype.get=function(e){return null!=this.storageService&&e?this.storageService.getStorageData(e):this.promiseFactory.reject()},t.prototype.set=function(e,r){return null!=this.storageService&&e&&r?this.storageService.setStorageData(e,r):this.promiseFactory.reject()},t.prototype.remove=function(e){null!=this.storageService&&e&&this.storageService.removeStorageData(e)},t}(),Ps="2.3.0",yC={version:Ps,overloads:function(e,r){return{update:function(i){if(e.update){var o={viewport:i.viewport,dataViews:i.dataViews,viewMode:i.viewMode,editMode:i.editMode,operationKind:i.operationKind,jsonFilters:i.jsonFilters,type:Oi(i),updateId:i.updateId};r.colorPalette.reset();var s=e.constructor.__transform__;_.isFunction(s)?e.update(o,s(o.dataViews)):e.update(o)}}}},hostAdapter:function(e){var r=e.host;return r.apiVersion=Ps,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return r.selectionManager=r.createSelectionManager(Ps),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:r.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i)if(Array.isArray(i))e.host.applyJsonFilter(i,o,s,p);else{var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(){return r.fetchMoreData()},storageService:Qr(r),eventService:Gr(r)}}},As="2.4.0",bC={version:As,hostAdapter:function(e){var r=e.host;return r.apiVersion=As,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return r.selectionManager=r.createSelectionManager(As),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:r.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i)if(Array.isArray(i))e.host.applyJsonFilter(i,o,s,p);else{var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(){return r.fetchMoreData()},storageService:Qr(r),eventService:Gr(r)}}},Rs="2.5.0",CC={version:Rs,hostAdapter:function(e){var r=e.host;return r.apiVersion=Rs,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return r.selectionManager=r.createSelectionManager(Rs),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:r.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i)if(Array.isArray(i))e.host.applyJsonFilter(i,o,s,p);else{var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(){return r.fetchMoreData()},storageService:Qr(r),eventService:Gr(r)}}},Ls="2.6.0",_C={version:Ls,overloads:function(e,r){return{update:function(i){if(e.update){var o={viewport:i.viewport,dataViews:i.dataViews,viewMode:i.viewMode,editMode:i.editMode,isInFocus:!!i.isInFocus,operationKind:i.operationKind,jsonFilters:i.jsonFilters,type:Oi(i),updateId:i.updateId};r.colorPalette.reset();var s=e.constructor.__transform__;_.isFunction(s)?e.update(o,s(o.dataViews)):e.update(o)}}}},hostAdapter:function(e){var r=e.host;return r.apiVersion=Ls,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return r.selectionManager=r.createSelectionManager(Ls),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:r.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i)if(Array.isArray(i))e.host.applyJsonFilter(i,o,s,p);else{var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(){return r.fetchMoreData()},storageService:Qr(r),eventService:Gr(r),switchFocusModeState:function(i){return r.switchFocusModeState(i)}}}},Is="3.2.0",FC={version:Is,hostAdapter:function(e){var r=e.host;return r.apiVersion=Is,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return r.selectionManager=r.createSelectionManager(Is),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:r.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i)if(Array.isArray(i))e.host.applyJsonFilter(i,o,s,p);else{var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(){return r.fetchMoreData()},storageService:Qr(r),eventService:Gr(r),switchFocusModeState:function(i){return r.switchFocusModeState(i)},hostEnv:e.hostEnv}}},Os="3.3.0",wC={version:Os,hostAdapter:function(e){var r=e.host;return r.apiVersion=Os,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return r.selectionManager=r.createSelectionManager(Os),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:r.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i)if(Array.isArray(i))e.host.applyJsonFilter(i,o,s,p);else{var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(){return r.fetchMoreData()},storageService:Qr(r),eventService:Gr(r),switchFocusModeState:function(i){return r.switchFocusModeState(i)},hostEnv:e.hostEnv}}},Bs="3.4.0",TC={version:Bs,hostAdapter:function(e){var r=e.host;return r.apiVersion=Bs,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return r.selectionManager=r.createSelectionManager(Bs),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:r.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i)if(Array.isArray(i))e.host.applyJsonFilter(i,o,s,p);else{var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(i){return r.fetchMoreData(i)},storageService:Qr(r),eventService:Gr(r),switchFocusModeState:function(i){return r.switchFocusModeState(i)},hostEnv:e.hostEnv}}},zs="3.5.0",PC={version:zs,hostAdapter:function(e){var r=e.host;return r.apiVersion=zs,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return r.selectionManager=r.createSelectionManager(zs),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:r.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i)if(Array.isArray(i))e.host.applyJsonFilter(i,o,s,p);else{var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(i){return r.fetchMoreData(i)},storageService:Qr(r),eventService:Gr(r),switchFocusModeState:function(i){return r.switchFocusModeState(i)},hostEnv:e.hostEnv}}},ks="3.6.0",RC={version:ks,hostAdapter:function(e){var r=e.host;return r.apiVersion=ks,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return r.selectionManager=r.createSelectionManager(ks),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:r.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i)if(Array.isArray(i))e.host.applyJsonFilter(i,o,s,p);else{var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(i){return r.fetchMoreData(i)},storageService:Qr(r),eventService:Gr(r),switchFocusModeState:function(i){return r.switchFocusModeState(i)},hostEnv:e.hostEnv}}},Us="3.7.0",IC={version:Us,hostAdapter:function(e){var r=e.host;return r.apiVersion=Us,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return r.selectionManager=r.createSelectionManager(Us),r.selectionManager},colorPalette:Ir(e.style),persistProperties:function(i){return e.host.persistProperties(i)},tooltipService:r.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),allowInteractions:!(!e||!e.interactivity)&&e.interactivity.isVisualInteractive,applyJsonFilter:function(i,o,s,p){if(i)if(Array.isArray(i))e.host.applyJsonFilter(i,o,s,p);else{var x=[];x.push(i),e.host.applyJsonFilter(x,o,s,p)}else e.host.applyJsonFilter(null,o,s,p)},launchUrl:function(i){return e.host.launchUrl(i)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(i){return r.fetchMoreData(i)},storageService:Qr(r),eventService:Gr(r),switchFocusModeState:function(i){return r.switchFocusModeState(i)},hostEnv:e.hostEnv,displayWarningIcon:function(i,o){return r.displayWarningIcon(i,o)}}}},Ws="3.8.0",BC={version:Ws,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=Ws,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(Ws),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)}}}};function Va(t){return new zC(t)}var zC=function(){function t(e){this.downloadService=e&&e.downloadService&&e.downloadService(),this.promiseFactory=e.promiseFactory()}return t.prototype.exportStatus=function(){return null!=this.downloadService?this.downloadService.getExportStatus():this.promiseFactory.resolve(2)},t.prototype.exportVisualsContent=function(e,r,a,i){return null!=this.downloadService?this.downloadService.exportVisualsContent(e,r,a,i).then(function(o){return o.downloadCompleted}):this.promiseFactory.reject()},t.prototype.exportVisualsContentExtended=function(e,r,a,i){return null!=this.downloadService?this.downloadService.exportVisualsContent(e,r,a,i):this.promiseFactory.reject()},t}(),js="3.9.0",UC={version:js,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=js,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(js),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)}}}},Hs="4.0.0",jC={version:Hs,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=Hs,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(Hs),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)}}}},Ks="4.1.0",KC={version:Ks,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=Ks,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(Ks),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)}}}},Gs="4.2.0",QC={version:Gs,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=Gs,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(Gs),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)}}}},Qs="4.3.0",qC={version:Qs,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=Qs,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(Qs),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)}}}};function ni(t){return new ZC(t)}var ZC=function(){function t(e){this.licenseManagerService=e&&e.licenseManagerService&&e.licenseManagerService(),this.promiseFactory=e.promiseFactory()}return t.prototype.getAvailableServicePlans=function(){return this.licenseManagerService?this.licenseManagerService.getAvailableServicePlans():this.promiseFactory.reject()},t.prototype.notifyLicenseRequired=function(e){return this.licenseManagerService?this.licenseManagerService.notifyLicenseRequired(e):this.promiseFactory.reject()},t.prototype.notifyFeatureBlocked=function(e){return this.licenseManagerService?this.licenseManagerService.notifyFeatureBlocked(e):this.promiseFactory.reject()},t.prototype.clearLicenseNotification=function(){return this.licenseManagerService?this.licenseManagerService.clearLicenseNotification():this.promiseFactory.reject()},t}(),Ys="4.4.0",XC={version:Ys,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=Ys,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(Ys),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)},licenseManager:ni(i)}}},qs="4.5.0",eV={version:qs,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=qs,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(qs),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)},licenseManager:ni(i)}}};function Fi(t){return new tV(t)}var tV=function(){function t(e){this.webAccessService=e&&e.webAccessService&&e.webAccessService(),this.promiseFactory=e.promiseFactory()}return t.prototype.webAccessStatus=function(e){return null!=this.webAccessService?this.webAccessService.getWebAccessStatus(e):this.promiseFactory.resolve(2)},t}(),Zs="4.6.0",aV={version:Zs,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=Zs,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(Zs),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)},licenseManager:ni(i),webAccessService:Fi(i)}}},Js="4.7.0",nV={version:Js,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=Js,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(Js),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)},licenseManager:ni(i),webAccessService:Fi(i),drill:function(s){return i.drill(s)}}}},Xs="5.0.0",sV={version:Xs,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=Xs,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(Xs),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)},licenseManager:ni(i),webAccessService:Fi(i),drill:function(s){return i.drill(s)}}}},$s="5.1.0",uV={version:$s,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=$s,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager($s),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)},licenseManager:ni(i),webAccessService:Fi(i),drill:function(s){return i.drill(s)},applyCustomSort:function(s){return i.applyCustomSort(s)}}}},el="5.2.0",fV={version:el,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=el,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(el),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)},licenseManager:ni(i),webAccessService:Fi(i),drill:function(s){return i.drill(s)},applyCustomSort:function(s){return i.applyCustomSort(s)}}}},tl="5.3.0",pV={version:tl,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=tl,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(tl),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)},licenseManager:ni(i),webAccessService:Fi(i),drill:function(s){return i.drill(s)},applyCustomSort:function(s){return i.applyCustomSort(s)}}}},rl="5.4.0",vV={version:rl,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=rl,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(rl),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)},licenseManager:ni(i),webAccessService:Fi(i),drill:function(s){return i.drill(s)},applyCustomSort:function(s){return i.applyCustomSort(s)}}}};function ef(t){return new hV(t)}var hV=function(){function t(e){this.storageV2Service=e&&e.localStorageV2Service&&e.localStorageV2Service(),this.promiseFactory=e.promiseFactory()}return t.prototype.status=function(){return null!=this.storageV2Service?this.storageV2Service.getStorageStatus():this.promiseFactory.resolve(2)},t.prototype.get=function(e){return null!=this.storageV2Service&&e?this.storageV2Service.getStorageData(e):this.promiseFactory.reject()},t.prototype.set=function(e,r){return null!=this.storageV2Service&&e&&r?this.storageV2Service.setStorageData(e,r):this.promiseFactory.reject()},t.prototype.remove=function(e){null!=this.storageV2Service&&e&&this.storageV2Service.removeStorageData(e)},t}(),al="5.5.0",gV={version:al,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=al,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(al),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)},licenseManager:ni(i),webAccessService:Fi(i),drill:function(s){return i.drill(s)},applyCustomSort:function(s){return i.applyCustomSort(s)},storageV2Service:ef(i)}}};function bV(t){return new SV(t)}var SV=function(){function t(e){this.acquireAADTokenService=e&&e.acquireAADTokenService&&e.acquireAADTokenService(),this.promiseFactory=e.promiseFactory()}return t.prototype.acquireAADToken=function(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.acquireAADToken():this.promiseFactory.reject()},t.prototype.acquireAADTokenstatus=function(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.getAcquireAADTokenStatus():this.promiseFactory.resolve(2)},t}(),il="5.6.0",DV=[_S,NS,xS,RS,IS,BS,US,KS,QS,ZS,XS,eC,aC,nC,sC,cC,dC,yC,bC,CC,_C,FC,wC,TC,PC,RC,IC,BC,UC,jC,KC,QC,qC,XC,eV,aV,nV,sV,uV,fV,pV,vV,gV,{version:il,hostAdapter:function(e){var r,a,i=e.host;return i.apiVersion=il,{createSelectionIdBuilder:function(){return new Ar},createSelectionManager:function(){return i.selectionManager=i.createSelectionManager(il),i.selectionManager},colorPalette:Ir(e.style),persistProperties:function(s){return e.host.persistProperties(s)},tooltipService:i.createTooltipService(),telemetry:Fr({hostServices:e.host}),authenticationService:wr({hostServices:e.host}),locale:e.host.locale(),hostCapabilities:{allowInteractions:!(null===(r=e.interactivity)||void 0===r||!r.isVisualInteractive),allowModalDialog:!(null===(a=e.interactivity)||void 0===a||!a.allowModalDialog)},applyJsonFilter:function(s,p,x,U){if(s)if(Array.isArray(s))e.host.applyJsonFilter(s,p,x,U);else{var K=[];K.push(s),e.host.applyJsonFilter(K,p,x,U)}else e.host.applyJsonFilter(null,p,x,U)},launchUrl:function(s){return e.host.launchUrl(s)},instanceId:e.host.instanceId,refreshHostData:function(){return e.host.refreshHostData()},createLocalizationManager:function(){return new Pr(e.localizationResources)},fetchMoreData:function(s){return i.fetchMoreData(s)},storageService:Qr(i),downloadService:Va(i),eventService:Gr(i),switchFocusModeState:function(s){return i.switchFocusModeState(s)},hostEnv:e.hostEnv,openModalDialog:function(s,p,x){return i.openModalDialog(s,p,x)},displayWarningIcon:function(s,p){return i.displayWarningIcon(s,p)},licenseManager:ni(i),webAccessService:Fi(i),drill:function(s){return i.drill(s)},applyCustomSort:function(s){return i.applyCustomSort(s)},storageV2Service:ef(i),acquireAADTokenService:bV(i)}}}],_V=function(){function t(e,r){var a=this;this.wrappedVisual=e,this.run=r,n.fF.assertValue(r,"run must be defined in VisualOutsideZoneAdapter"),e.update&&(this.update=function(i){return a.apply(a.wrappedVisual.update,i)}),e.onResizing&&(this.onResizing=function(i,o){a.apply(a.wrappedVisual.onResizing,i,o)}),e.onDataChanged&&(this.onDataChanged=function(i){a.apply(a.wrappedVisual.onDataChanged,i)}),e.onSelectionStateChanged&&(this.onSelectionStateChanged=function(i){a.apply(function(){return a.wrappedVisual.onSelectionStateChanged(i)})})}return t.prototype.init=function(e){return this.apply(this.wrappedVisual.init,e)},t.prototype.destroy=function(){this.apply(this.wrappedVisual.destroy)},t.prototype.onViewModeChanged=function(e){this.apply(this.wrappedVisual.onViewModeChanged,e)},t.prototype.onClearSelection=function(){this.apply(this.wrappedVisual.onClearSelection)},t.prototype.onRestoreSelection=function(e){return this.apply(this.wrappedVisual.onRestoreSelection,e)},t.prototype.canResizeTo=function(e){return this.apply(this.wrappedVisual.canResizeTo,e)},t.prototype.enumerateObjectInstances=function(e){return this.apply(this.wrappedVisual.enumerateObjectInstances,e)},t.prototype.enumerateObjectInstancesAsync=function(e){return this.apply(this.wrappedVisual.enumerateObjectInstancesAsync,e)},t.prototype.enumerateObjectRepetition=function(){return this.apply(this.wrappedVisual.enumerateObjectRepetition)},t.prototype.enumerateObjectRepetitionAsync=function(){return this.apply(this.wrappedVisual.enumerateObjectRepetitionAsync)},t.prototype.visualHasMethod=function(e){return this.apply(this.wrappedVisual.visualHasMethod,e)},t.prototype.unwrap=function(){var e=this.wrappedVisual;return e.unwrap?e.unwrap():e},Object.defineProperty(t.prototype,"sandbox",{get:function(){var r;return null===(r=this.wrappedVisual)||void 0===r?void 0:r.sandbox},enumerable:!1,configurable:!0}),t.prototype.getTelemetryInformation=function(){return this.apply(this.wrappedVisual.getTelemetryInformation)},t.prototype.getFormattingModel=function(){return this.apply(this.wrappedVisual.getFormattingModel)},t.prototype.getFormattingModelAsync=function(){return this.apply(this.wrappedVisual.getFormattingModelAsync)},t.prototype.resolveFormattingPlaceholder=function(e){var r=this;return this.run(function(){return r.wrappedVisual.resolveFormattingPlaceholder(e)})},t.prototype.getSubSelectionStyles=function(e){var r=this;return this.run(function(){return r.wrappedVisual.getSubSelectionStyles(e)})},t.prototype.getSubSelectionShortcuts=function(e,r){var a=this;return this.run(function(){return a.wrappedVisual.getSubSelectionShortcuts(e,r)})},t.prototype.getSubSelectables=function(e){var r=this;return this.run(function(){return r.wrappedVisual.getSubSelectables(e)})},t.prototype.getNextSubSelectable=function(e,r){var a=this;return this.run(function(){return a.wrappedVisual.getNextSubSelectable(e,r)})},t.prototype.onDataViewObjectChanged=function(e,r){return this.apply(this.wrappedVisual.onDataViewObjectChanged,e,r)},t.prototype.apply=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var i=this.wrappedVisual;return this.run(function(){return e.apply(i,r)})},t}();function EV(t){try{if(!t)return;var e=t.stack;if(!e)return;var r=e.indexOf("\n");return-1===r?void 0:e=(e=e.substring(r+1)).replace(/\s*((ms-pbi|https):\/\/\S*|\(.*?\))/g,function(a){var i=a.match(/([\w\.-]+\.(js|html)(:\d+:\d+)?)/);return null!=i?" (".concat(i[1],")"):""})}catch(a){return"Error at cleanExceptionStack"}}function FV(t){var e;try{if(t instanceof TypeError||t instanceof ReferenceError)return t.message;if(t)return"Error of type ".concat(t.name," had a ").concat(null===(e=t.message)||void 0===e?void 0:e.length," characters long message")}catch(r){return"Error at cleanExceptionMessage"}}var tf="BaseEvent",rf=(Me.cx[tf]=(0,Me.b1)(tf),"TimedEvent"),af=(Me.cx[rf]=(0,Me.b1)(rf),"Verbose"),nf=(Me.cx[af]=(0,Me.b1)(af),"VerboseTimedEvent"),lf=(Me.cx[nf]=(0,Me.b1)(nf),Me.cx.Trace=(0,Me.b1)("Trace"),Me.cx.Error=(0,Me.b1)("Error"),"ErrorWithStackTrace"),uf=(Me.cx[lf]=(0,Me.b1)(lf),"ErrorWithStackTraceAndSourceDetails"),cf=(Me.cx[uf]=(0,Me.b1)(uf),"CustomerAction"),ff=(Me.cx[cf]=(0,Me.b1)(cf),"PBI.Dashboard.RootSession"),df=(Me.cx[ff]=(0,Me.b1)(ff),"PBI.WFE.Error"),pf=(Me.cx[df]=(0,Me.b1)(df),"PBI.Dashboard.ErrorDialog"),mf=(Me.cx[pf]=(0,Me.b1)(pf),"PBI.Dashboard.UnhandledAngularException"),vf=(Me.cx[mf]=(0,Me.b1)(mf),"PBI.Data.Exception"),nl=(Me.cx[vf]=(0,Me.b1)(vf),"PBI.Visual.Exception"),hf=Me.cx[nl]=(0,Me.b1)(nl),yf="PBI.Dashboard.UnhandledException",gf=(Me.cx[yf]=(0,Me.b1)(yf),"PBI.HandledException"),bf=(Me.cx[gf]=(0,Me.b1)(gf),"PBI.Dashboard.ReportTilePopulateException"),Sf=(Me.cx[bf]=(0,Me.b1)(bf),"PBI.Dashboard.UnhandledStacklessException"),Cf=(Me.cx[Sf]=(0,Me.b1)(Sf,{logRatio:1e-4}),"PBI.Visual.Error"),Vf=(Me.cx[Cf]=(0,Me.b1)(Cf),"PBI.WFE.ReopenUserAccount"),Df=(Me.cx[Vf]=(0,Me.b1)(Vf),"PBI.WFE.AccountClosedPage"),_f=(Me.cx[Df]=(0,Me.b1)(Df),"PBI.WFE.AbtSignoutRedirectPage"),Ef=(Me.cx[_f]=(0,Me.b1)(_f),"PBI.Visual.Warning"),ol=(Me.cx[Ef]=(0,Me.b1)(Ef),"PBI.Visual.ApiUsage"),Ff=Me.cx[ol]=(0,Me.b1)(ol),Nf="PBI.Visual.CustomVisualsGenericEvent",wf=(Me.cx[Nf]=(0,Me.b1)(Nf),"PBI.EX.CopyActionClicked"),Mf=(Me.cx[wf]=(0,Me.b1)(wf),"StartActivity"),Tf=(Me.cx[Mf]=(0,Me.b1)(Mf),"EndActivity"),xf=(Me.cx[Tf]=(0,Me.b1)(Tf),"PBI.App.SignInError"),Pf=(Me.cx[xf]=(0,Me.b1)(xf),"PBI.App.TokenRefreshError"),Af=(Me.cx[Pf]=(0,Me.b1)(Pf),"PBI.Storytelling.BrowserNotSupportedLoaded"),NV=(Me.cx[Af]=(0,Me.b1)(Af),function(){function t(e,r,a,i,o,s,p){this.wrappedVisual=e,this.visualPlugin=r,this.promiseFactory=a,this.telemetryService=i,this.isPluginInError=o,this.certifiedEventsService=s,this.silent=p,this.initCalled=!1,this.visualLoadStartTime=(0,I.z)(),this.startTimeISO=(new Date).toISOString()}return t.prototype.init=function(e){var r=this;if(this.initCalled=!0,e&&e.host&&e.host.telemetry){var a=e.host.telemetry();this.visualName=a&&a.visualName,this.instanceId=a&&a.instanceId}if(this.wrappedVisual.init)return this.executeSafelyAsync(function(){return r.wrappedVisual.init(e)})},t.prototype.checkInit=function(){return!!this.initCalled||(nn.f.assertFail("Another visual method was called before init"),!1)},t.prototype.destroy=function(){var e=this;this.wrappedVisual.destroy&&this.executeSafely(function(){return e.wrappedVisual.destroy()})},t.prototype.update=function(e){var r=this;if(this.checkInit(),this.wrappedVisual.update)return this.executeSafelyAsync(function(){return(0,ie.mG)(r,void 0,La.J,function(){var a,i,o,s,p,x,U,K,ue,ye,_e;return(0,ie.Jh)(this,function(Ie){switch(Ie.label){case 0:return[4,this.wrappedVisual.update(e)];case 1:return Ie.sent(),this.telemetryService&&this.startTimeISO&&this.visualPlugin.custom&&(i=(a=this.visualPlugin).version,o=a.apiVersion,s=(new Date).toISOString(),this.telemetryService.logEvent(Ff,{name:this.visualPlugin.name,apiVersion:o,custom:!!this.visualPlugin.custom,visualVersion:i,visualName:this.visualName,instanceId:this.instanceId,start:this.startTimeISO,end:s,isError:this.isPluginInError,errorSource:"User"}),this.startTimeISO=null,this.visualLoadStartTime&&(null===(p=this.certifiedEventsService)||void 0===p||p.logTimedStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:o&&(null===(x=fi(o))||void 0===x?void 0:x.major),apiMinorVersion:o&&(null===(U=fi(o))||void 0===U?void 0:U.minor),visualMajorVersion:i&&(null===(K=fi(i))||void 0===K?void 0:K.major),visualMinorVersion:i&&(null===(ue=fi(i))||void 0===ue?void 0:ue.minor)},activityName:ol,correlationId:null===(_e=null===(ye=this.telemetryService)||void 0===ye?void 0:ye.root)||void 0===_e?void 0:_e.id,operationEndTime:(0,I.z)(),operationStartTime:this.visualLoadStartTime,visualId:this.visualPlugin.name}),this.visualLoadStartTime=null)),[2]}})})})},t.prototype.onResizing=function(e,r){var a=this;this.checkInit(),this.wrappedVisual.onResizing&&this.executeSafely(function(){return a.wrappedVisual.onResizing(e,r)})},t.prototype.onDataChanged=function(e){var r=this;this.checkInit(),this.wrappedVisual.onDataChanged&&this.executeSafely(function(){return r.wrappedVisual.onDataChanged(e)})},t.prototype.onViewModeChanged=function(e){var r=this;this.checkInit(),this.wrappedVisual.onViewModeChanged&&this.executeSafely(function(){return r.wrappedVisual.onViewModeChanged(e)})},t.prototype.onSelectionStateChanged=function(e){var r=this;this.checkInit(),this.wrappedVisual.onSelectionStateChanged&&this.executeSafely(function(){return r.wrappedVisual.onSelectionStateChanged(e)})},t.prototype.onClearSelection=function(){var e=this;this.checkInit(),this.wrappedVisual.onClearSelection&&this.executeSafely(function(){return e.wrappedVisual.onClearSelection()})},t.prototype.onRestoreSelection=function(e){var r=this;return this.checkInit(),!!this.wrappedVisual.onRestoreSelection&&this.executeSafely(function(){return r.wrappedVisual.onRestoreSelection(e)})},t.prototype.canResizeTo=function(e){var r=this;if(this.checkInit(),this.wrappedVisual.canResizeTo)return this.executeSafely(function(){return r.wrappedVisual.canResizeTo(e)})},t.prototype.enumerateObjectInstances=function(e){var r=this;if(this.checkInit(),this.wrappedVisual.enumerateObjectInstances)return this.executeSafely(function(){return r.wrappedVisual.enumerateObjectInstances(e)})},t.prototype.enumerateObjectRepetition=function(){var e=this;if(this.checkInit(),this.wrappedVisual.enumerateObjectRepetition)return this.executeSafely(function(){return e.wrappedVisual.enumerateObjectRepetition()})},t.prototype.enumerateObjectInstancesAsync=function(e){var r=this;return this.checkInit(),this.visualAdapter.enumerateObjectInstancesAsync?this.executeSafely(function(){return r.visualAdapter.enumerateObjectInstancesAsync(e)}):this.promiseFactory.resolve(this.enumerateObjectInstances(e))},t.prototype.enumerateObjectRepetitionAsync=function(){var e=this;return this.checkInit(),this.visualAdapter.enumerateObjectRepetitionAsync?this.executeSafely(function(){return e.visualAdapter.enumerateObjectRepetitionAsync()}):this.promiseFactory.resolve(this.enumerateObjectRepetition())},Object.defineProperty(t.prototype,"sandbox",{get:function(){return this.visualAdapter&&this.visualAdapter.sandbox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visualAdapter",{get:function(){return this.wrappedVisual},enumerable:!1,configurable:!0}),t.prototype.unwrap=function(){var e=this.wrappedVisual;return e.unwrap?e.unwrap():e},t.prototype.visualHasMethod=function(e){var r=this.wrappedVisual;return r&&r.visualHasMethod(e)},t.prototype.getTelemetryInformation=function(){var e=this;if(this.checkInit(),this.wrappedVisual.getTelemetryInformation)return this.executeSafely(function(){return e.wrappedVisual.getTelemetryInformation()})},t.prototype.getFormattingModel=function(){var e=this;if(this.checkInit(),this.wrappedVisual.getFormattingModel)return this.executeSafely(function(){return e.wrappedVisual.getFormattingModel()})},t.prototype.getFormattingModelAsync=function(){var e=this;return this.checkInit(),this.visualAdapter.getFormattingModelAsync?this.executeSafely(function(){return e.visualAdapter.getFormattingModelAsync()}):this.promiseFactory.resolve(this.getFormattingModel())},t.prototype.resolveFormattingPlaceholder=function(e){var r=this;if(this.checkInit(),this.wrappedVisual.resolveFormattingPlaceholder)return this.executeSafely(function(){return r.wrappedVisual.resolveFormattingPlaceholder(e)})},t.prototype.getSubSelectionStyles=function(e){var r=this;if(this.checkInit(),this.wrappedVisual.getSubSelectionStyles)return this.executeSafely(function(){return r.wrappedVisual.getSubSelectionStyles(e)})},t.prototype.getSubSelectionShortcuts=function(e,r){var a=this;if(this.checkInit(),this.wrappedVisual.getSubSelectionShortcuts)return this.executeSafely(function(){return a.wrappedVisual.getSubSelectionShortcuts(e,r)})},t.prototype.getSubSelectables=function(e){var r=this;if(this.checkInit(),this.wrappedVisual.getSubSelectables)return this.executeSafely(function(){return r.wrappedVisual.getSubSelectables(e)})},t.prototype.getNextSubSelectable=function(e,r){var a=this;if(this.checkInit(),this.wrappedVisual.getNextSubSelectable)return this.executeSafely(function(){return a.wrappedVisual.getNextSubSelectable(e,r)})},t.prototype.onDataViewObjectChanged=function(e,r){var a=this;if(this.checkInit(),this.visualAdapter.onDataViewObjectChanged)return this.executeSafely(function(){return a.wrappedVisual.onDataViewObjectChanged(e,r)})},t.prototype.executeSafely=function(e){try{return e()}catch(r){this.telemetryService&&this.logVisualExceptionEvent(r)}},t.prototype.executeSafelyAsync=function(e){return(0,ie.mG)(this,void 0,La.J,function(){var r;return(0,ie.Jh)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,e()];case 1:return[2,a.sent()];case 2:return r=a.sent(),this.telemetryService&&this.logVisualExceptionEvent(r),[3,3];case 3:return[2]}})})},t.prototype.logVisualExceptionEvent=function(e){var r,a,i,o,s,p,x,U=!!this.visualPlugin.custom,K=this.visualPlugin,ue=K.version,ye=K.apiVersion;this.telemetryService.logEvent(hf,{visualType:this.visualPlugin.name,isCustom:U,apiVersion:ye,visualName:this.visualName,instanceId:this.instanceId,isDeprecated:!!this.visualPlugin.isDeprecated,source:e.fileName,lineNumber:e.lineNumber,columnNumber:e.columnNumber,message:U?void 0:FV(e),stack:U?void 0:EV(e)}),U&&(null===(r=this.certifiedEventsService)||void 0===r||r.logStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:ye&&(null===(a=fi(ye))||void 0===a?void 0:a.major),apiMinorVersion:ye&&(null===(i=fi(ye))||void 0===i?void 0:i.minor),visualMajorVersion:ue&&(null===(o=fi(ue))||void 0===o?void 0:o.major),visualMinorVersion:ue&&(null===(s=fi(ue))||void 0===s?void 0:s.minor),isDeprecated:!!this.visualPlugin.isDeprecated},activityName:nl,activityStatus:"Failed",correlationId:null===(x=null===(p=this.telemetryService)||void 0===p?void 0:p.root)||void 0===x?void 0:x.id,visualId:this.visualPlugin.name}))},t}()),wV=function(){function t(e){var r=this;this.wrappedVisual=e,e.update&&(this.update=function(a){return r.trackVisualTime(function(){return r.wrappedVisual.update(a)},function(){return a&&a.parentContextActivity?a.parentContextActivity.createChildActivity({name:"Visual Update"}):void 0})}),e.onResizing&&(this.onResizing=function(a,i){r.trackVisualTime(function(){return r.wrappedVisual.onResizing(a,i)})}),e.onDataChanged&&(this.onDataChanged=function(a){r.trackVisualTime(function(){return r.wrappedVisual.onDataChanged(a)})}),e.onSelectionStateChanged&&(this.onSelectionStateChanged=function(a){r.trackVisualTime(function(){return r.wrappedVisual.onSelectionStateChanged(a)})})}return t.prototype.init=function(e){var r=this;if(this.wrappedVisual.init)return this.trackVisualTime(function(){return r.wrappedVisual.init(e)})},t.prototype.destroy=function(){var e=this;this.wrappedVisual.destroy&&this.trackVisualTime(function(){return e.wrappedVisual.destroy()})},t.prototype.onViewModeChanged=function(e){var r=this;this.wrappedVisual.onViewModeChanged&&this.trackVisualTime(function(){return r.wrappedVisual.onViewModeChanged(e)})},t.prototype.onClearSelection=function(){var e=this;this.wrappedVisual.onClearSelection&&this.trackVisualTime(function(){return e.wrappedVisual.onClearSelection()})},t.prototype.onRestoreSelection=function(e){var r=this;return!!this.wrappedVisual.onRestoreSelection&&this.trackVisualTime(function(){return r.wrappedVisual.onRestoreSelection(e)})},t.prototype.canResizeTo=function(e){var r=this;if(this.wrappedVisual.canResizeTo)return this.trackVisualTime(function(){return r.wrappedVisual.canResizeTo(e)})},t.prototype.enumerateObjectInstances=function(e){var r=this;if(this.wrappedVisual.enumerateObjectInstances)return this.trackVisualTime(function(){return r.wrappedVisual.enumerateObjectInstances(e)})},t.prototype.enumerateObjectRepetition=function(){var e=this;if(this.wrappedVisual.enumerateObjectRepetition)return this.trackVisualTime(function(){return e.wrappedVisual.enumerateObjectRepetition()})},t.prototype.enumerateObjectInstancesAsync=function(e){var r=this;return this.visualAdapter.enumerateObjectInstancesAsync?this.trackVisualTime(function(){return r.visualAdapter.enumerateObjectInstancesAsync(e)}):La.J.resolve(this.enumerateObjectInstances(e))},t.prototype.enumerateObjectRepetitionAsync=function(){var e=this;return this.visualAdapter.enumerateObjectRepetitionAsync?this.trackVisualTime(function(){return e.visualAdapter.enumerateObjectRepetitionAsync()}):La.J.resolve(this.enumerateObjectRepetition())},Object.defineProperty(t.prototype,"sandbox",{get:function(){return this.visualAdapter&&this.visualAdapter.sandbox},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visualAdapter",{get:function(){return this.wrappedVisual},enumerable:!1,configurable:!0}),t.prototype.unwrap=function(){var e=this.wrappedVisual;return e.unwrap?e.unwrap():e},t.prototype.visualHasMethod=function(e){var r=this.wrappedVisual;return r&&r.visualHasMethod(e)},t.prototype.getTelemetryInformation=function(){var e=this;if(this.wrappedVisual.getTelemetryInformation)return this.trackVisualTime(function(){return e.wrappedVisual.getTelemetryInformation()})},t.prototype.getFormattingModel=function(){var e=this;if(this.wrappedVisual.getFormattingModel)return this.trackVisualTime(function(){return e.wrappedVisual.getFormattingModel()})},t.prototype.getFormattingModelAsync=function(){var e=this;return this.visualAdapter.getFormattingModelAsync?this.trackVisualTime(function(){return e.visualAdapter.getFormattingModelAsync()}):La.J.resolve(this.getFormattingModel())},t.prototype.resolveFormattingPlaceholder=function(e){var r=this;if(this.wrappedVisual.resolveFormattingPlaceholder)return this.trackVisualTime(function(){return r.wrappedVisual.resolveFormattingPlaceholder(e)})},t.prototype.getSubSelectionStyles=function(e){var r=this;if(this.wrappedVisual.getSubSelectionStyles)return this.trackVisualTime(function(){return r.wrappedVisual.getSubSelectionStyles(e)})},t.prototype.getSubSelectionShortcuts=function(e,r){var a=this;if(this.wrappedVisual.getSubSelectionShortcuts)return this.trackVisualTime(function(){return a.wrappedVisual.getSubSelectionShortcuts(e,r)})},t.prototype.getSubSelectables=function(e){var r=this;if(this.wrappedVisual.getSubSelectables)return this.trackVisualTime(function(){return r.wrappedVisual.getSubSelectables(e)})},t.prototype.getNextSubSelectable=function(e,r){var a=this;if(this.wrappedVisual.getNextSubSelectable)return this.trackVisualTime(function(){return a.wrappedVisual.getNextSubSelectable(e,r)})},t.prototype.onDataViewObjectChanged=function(e,r){var a=this;if(this.wrappedVisual.onDataViewObjectChanged)return this.trackVisualTime(function(){return a.wrappedVisual.onDataViewObjectChanged(e,r)})},t.prototype.trackVisualTime=function(e,r){var a=r&&r();try{return e()}finally{a&&a.resolve()}},t}(),sl=[];function Cr(){return function(t,e,r){Object.defineProperty(r.value,"approvedMessage",{value:!0})}}function Ln(){return sl}DV.forEach(function(t){return function(t){Ln().push(t)}(t)});var Rf=function(){function t(r,a,i,o,s,p){this.plugin=r,this.creator=a,this.promiseFactory=i,this.telemetryService=o,this.module=s,this.certifiedEventsService=p,this.initialized=!1,this.isPluginInError=!1,n.fF.assertValue(r,"plugin"),n.fF.assertValue(a||this.plugin.createES6,"creator"),n.fF.assertValue(i,"promiseFactory"),n.fF.assertAnyValue(this.telemetryService,"telemetryService"),n.fF.assertAnyValue(s,"module"),n.fF.assertAnyValue(this.certifiedEventsService,"certifiedEventsService");var x=r.apiVersion,U=this.getVersionIndex(x);x?U>-1?(this.apiVersionIndex=U,this.legacy=!1):(n.fF.assertFail("The API version '"+x+"' is invalid."),this.isPluginInError=!0):this.legacy=!0}var e;return t.prototype.init=function(r){return(0,ie.mG)(this,void 0,La.J,function(){return(0,ie.Jh)(this,function(a){return this.initializedPromise=this.initImpl(r),[2,this.initializedPromise]})})},t.prototype.initImpl=function(r){return(0,ie.mG)(this,void 0,La.J,function(){var a,i,o,s,p=this;return(0,ie.Jh)(this,function(x){switch(x.label){case 0:return n.fF.assert(function(){return!p.initialized},"Unexpected `init` after already initialized"),n.fF.assertValue(r.element,"options.element"),n.fF.assertValue(r.host,"options.host"),r.element.empty(),r=(0,Dt.ED)(r),this.legacy?(o={module:this.module,featureSwitches:r.featureSwitches},this.plugin.createES6?(a=this,[4,this.plugin.createES6(o)]):[3,2]):[3,5];case 1:return a.visual=x.sent(),[3,3];case 2:this.visual=this.creator(o),x.label=3;case 3:return[4,this.visualLegacy.init(r)];case 4:return x.sent(),[3,9];case 5:return i=this.host=sl[this.apiVersionIndex].hostAdapter(r),o={element:r.element.get(0),host:i,module:this.module,featureSwitches:r.featureSwitches},this.plugin.createES6?(s=this,[4,this.plugin.createES6(o)]):[3,7];case 6:return s.visual=x.sent(),[3,8];case 7:this.visual=this.creator(o),x.label=8;case 8:this.overloadMethods(),x.label=9;case 9:return this.initialized=!0,[2]}})})},t.prototype.update=function(r){return(0,ie.mG)(this,void 0,La.J,function(){var a,i=this;return(0,ie.Jh)(this,function(o){switch(o.label){case 0:return n.fF.assertValue(function(){return i.initialized},"Expected `init` before `update`"),a=this.initializedPromise,[4,this.initializedPromise];case 1:return o.sent(),n.fF.assert(function(){return i.initializedPromise===a},"Unexpected re-initialize during update"),this.initialized?(this.plugin.systemVisual||((r=(0,Dt.ED)(r)).visualDefinitionData=void 0,r.dataTransforms=void 0),(r.type&Kr.EP.Resize)===Kr.EP.Resize&&this.visualHasMethod("onResizing")?this.plugin.custom&&this.visualHasMethod("update")?[4,this.visualLegacy.update(r)]:[3,3]:[3,4]):[2];case 2:o.sent(),o.label=3;case 3:return this.onResizing(r.viewport,r.resizeMode),[3,7];case 4:return this.visualHasMethod("update")?[4,this.visualLegacy.update(r)]:[3,6];case 5:return o.sent(),[3,7];case 6:(!r.type||r.type&Kr.EP.Data)&&this.onDataChanged(_.pick(r,["dataViews","operationKind"])),r.type&Kr.EP.ViewMode&&this.onViewModeChanged(r.viewMode),o.label=7;case 7:return[2]}})})},t.prototype.destroy=function(){this.visualHasMethod("destroy")&&this.visualLegacy.destroy(),this.initialized=!1},t.prototype.enumerateObjectInstances=function(r){if(this.visualHasMethod("enumerateObjectInstances"))return this.visualLegacy.enumerateObjectInstances(r)},t.prototype.enumerateObjectRepetition=function(){if(this.visualHasMethod("enumerateObjectRepetition"))return this.visualLegacy.enumerateObjectRepetition()},t.prototype.enumerateObjectInstancesAsync=function(r){return this.visualHasMethod("enumerateObjectInstancesAsync")?this.visualAdapter.enumerateObjectInstancesAsync(r):this.promiseFactory.resolve(this.enumerateObjectInstances(r))},t.prototype.enumerateObjectRepetitionAsync=function(){return this.visualHasMethod("enumerateObjectRepetitionAsync")?this.visualAdapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve(this.enumerateObjectRepetition())},Object.defineProperty(t.prototype,"sandbox",{get:function(){return this.visualAdapter&&this.visualAdapter.sandbox},enumerable:!1,configurable:!0}),t.prototype.onResizing=function(r,a){this.visualHasMethod("onResizing")&&this.visualLegacy.onResizing(r,a)},t.prototype.onDataChanged=function(r){this.visualHasMethod("onDataChanged")&&this.visualLegacy.onDataChanged(r)},t.prototype.onViewModeChanged=function(r){this.visualHasMethod("onViewModeChanged")&&this.visualLegacy.onViewModeChanged(r)},t.prototype.onSelectionStateChanged=function(r){this.visualHasMethod("onSelectionStateChanged")&&this.visualLegacy.onSelectionStateChanged(r)},t.prototype.onClearSelection=function(){this.visualHasMethod("onClearSelection")&&this.visualLegacy.onClearSelection()},t.prototype.onRestoreSelection=function(r){if(this.visualHasMethod("onRestoreSelection"))return this.visualLegacy.onRestoreSelection(r)},t.prototype.canResizeTo=function(r){if(this.visualHasMethod("canResizeTo"))return this.visualLegacy.canResizeTo(r)},t.prototype.unwrap=function(){return this.visual},t.prototype.getTelemetryInformation=function(){if(this.visualHasMethod("getTelemetryInformation"))return this.visualLegacy.getTelemetryInformation()},t.prototype.getFormattingModel=function(){if(this.visualHasMethod("getFormattingModel"))return this.visualAdapter.getFormattingModel()},t.prototype.getFormattingModelAsync=function(){return this.visualHasMethod("getFormattingModelAsync")?this.visualAdapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())},t.prototype.resolveFormattingPlaceholder=function(r){if(this.visualHasMethod("resolveFormattingPlaceholder"))return this.visualLegacy.resolveFormattingPlaceholder(r)},t.prototype.getSubSelectionStyles=function(r){if(this.visualHasMethod("getSubSelectionStyles"))return this.visualLegacy.getSubSelectionStyles(r)},t.prototype.getSubSelectionShortcuts=function(r,a){if(this.visualHasMethod("getSubSelectionShortcuts"))return this.visualLegacy.getSubSelectionShortcuts(r,a)},t.prototype.getSubSelectables=function(r){if(this.visualHasMethod("getSubSelectables"))return this.visualLegacy.getSubSelectables(r)},t.prototype.getNextSubSelectable=function(r,a){if(this.visualHasMethod("getNextSubSelectable"))return this.visualLegacy.getNextSubSelectable(r,a)},t.prototype.onDataViewObjectChanged=function(r,a){if(this.visualHasMethod("onDataViewObjectChanged"))return this.visualAdapter.onDataViewObjectChanged(r,a)},Object.defineProperty(t.prototype,"visualNew",{get:function(){if(!this.legacy)return this.visual},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visualLegacy",{get:function(){if(this.legacy)return this.visual},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visualAdapter",{get:function(){return this.visual},enumerable:!1,configurable:!0}),t.prototype.visualHasMethod=function(r){var a=this.legacy?this.visualLegacy:this.visualNew;return function(t){var e;return t&&t===(null===(e=vi.debugVisual)||void 0===e?void 0:e.name)}(this.plugin.name)?a&&_.isFunction(a[r])&&a.visualHasMethod(r):a&&_.isFunction(a[r])},t.prototype.getVersionIndex=function(r){if(r)for(var a=Ln().length,i=0;i<a;i++)if(Ln()[i].version===r)return i;return-1},t.prototype.overloadMethods=function(){var r=this.getCompiledOverloads();for(var a in r)this[a]=r[a]},t.prototype.getCompiledOverloads=function(){for(var r={},a=this.apiVersionIndex,i=this.visualNew,o=0;o<=a;o++){var s=Ln()[o].overloads;_.isFunction(s)&&_.assign(r,s(i,this.host))}return r},(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",Object)],t.prototype,"enumerateObjectInstancesAsync",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[]),(0,ie.w6)("design:returntype",Object)],t.prototype,"enumerateObjectRepetitionAsync",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object,Number]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"onResizing",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"onDataChanged",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Number]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"onViewModeChanged",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Boolean]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"onSelectionStateChanged",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"onClearSelection",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",Boolean)],t.prototype,"canResizeTo",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[]),(0,ie.w6)("design:returntype",Object)],t.prototype,"getTelemetryInformation",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[]),(0,ie.w6)("design:returntype",Object)],t.prototype,"getFormattingModelAsync",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",["function"==typeof(e="undefined"!=typeof TFormattingPlaceholder&&TFormattingPlaceholder)?e:Object]),(0,ie.w6)("design:returntype",Object)],t.prototype,"resolveFormattingPlaceholder",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Array]),(0,ie.w6)("design:returntype",Object)],t.prototype,"getSubSelectionStyles",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Array,String]),(0,ie.w6)("design:returntype",Array)],t.prototype,"getSubSelectionShortcuts",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Number]),(0,ie.w6)("design:returntype",Array)],t.prototype,"getSubSelectables",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object,Boolean]),(0,ie.w6)("design:returntype",Object)],t.prototype,"getNextSubSelectable",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Array,Number]),(0,ie.w6)("design:returntype",Array)],t.prototype,"onDataViewObjectChanged",null),t}(),In=ke(255);function Co(t,e){n.fF.assertValue(t,"fill"),t.solid&&t.solid.color?e.visitExpr(t.solid.color):n.fF.assertFail("Unsupported FillDefinition")}var zV=ke(9149),ll=ke(643),UV=ke(3943);function WV(t,e,r,a){var i=Lf(t,e,r,a);return i&&i.expressions}function jV(t,e,r,a){return n.fF.assertValue(t,"propDefn"),Lf(t,e,r,a)}function Lf(t,e,r,a){var o,s,i=new wn.S;return(0,Rr.er)(t)?((o=new ul(e,r,a,t.context)).propertyVisitor=s,(s=new ll._(o,i)).visitExpr(t.value)):(0,Rr.Rc)(t)?(o=new ul(e,r,a),s=new ll._(o,i),o.propertyVisitor=s,s.visitExpr(t)):(o=new ul(e,r,a),s=new ll._(o,i),o.propertyVisitor=s,(0,UV.RL)(t,o)),{expressions:o.exprs,references:i.references}}var ul=function(t){function e(r,a,i,o){var s=t.call(this)||this;return s.selector=r,s.querySelects=a,s.context=o,s.exprs=[],s.inputExpr=s.resolveSelectRef(i),s}return(0,ie.ZT)(e,t),e.prototype.resolveSelectRef=function(r){return r&&(0,Lr.NH)(r)?this.getSelectByRef(r):r},e.prototype.add=function(r){this.context&&(r.context=this.context),null!=this.relatedProjectionQueryName&&(r.targetsQueryName=[this.relatedProjectionQueryName]),this.exprs.push(r)},e.prototype.visitMeasureRef=function(r){this.add({expr:r,selector:this.selector})},e.prototype.visitArithmetic=function(r){this.add({expr:r,selector:this.selector})},e.prototype.visitAggr=function(r){if((0,Lr.NH)(r.arg)){var i={expr:this.getSelectByRef(r.arg),selector:this.selector,aggregates:this.getAggregates(r.func)};this.add(i)}else this.add({expr:r,selector:this.selector})},e.prototype.checkIfOrdinal=function(r){},e.prototype.getAggregates=function(r){switch(r){case 4:return{max:!0};case 3:return{min:!0};case 6:return{median:!0};case 1:return{average:!0};default:n.fF.assertFail("Unsupported Projection Aggregate")}},e.prototype.visitPercentile=function(r){if((0,Lr.NH)(r.arg)){var i={expr:this.getSelectByRef(r.arg),selector:this.selector,aggregates:{percentiles:[{k:r.k,exclusive:r.exclusive}]}};this.add(i)}else this.add({expr:r,selector:this.selector})},e.prototype.visitColumnRef=function(r){this.add({expr:r,selector:this.selector})},e.prototype.visitContains=function(r){this.checkIfOrdinal(r),t.prototype.visitContains.call(this,r)},e.prototype.visitStartsWith=function(r){this.checkIfOrdinal(r),t.prototype.visitStartsWith.call(this,r)},e.prototype.visitCompare=function(r){this.checkIfOrdinal(r),t.prototype.visitCompare.call(this,r)},e.prototype.visitHierarchyLevel=function(r){this.add({expr:r,selector:this.selector})},e.prototype.visitNativeMeasure=function(r){this.add({expr:r,selector:this.selector})},e.prototype.visitSelectRef=function(r){var a=this.getSelectByRef(r);a&&this.add({expr:a,selector:this.selector})},e.prototype.getSelectByRef=function(r){var a=this.querySelects.withName(r.expressionName);return a&&a.expr},e.prototype.visitScopedEval=function(r){var a=r.decomposeGlobalAggregateOfScopedExpr();if(a){var i={expr:this.resolveSelectRef(a.source),selector:this.selector,aggregates:this.getAggregates(a.func)};this.add(i)}else r.hasGlobalScope()?this.add(i={expr:r.expression,selector:null}):(i={expr:r,selector:{data:[(0,lu.Ue)()]}},this.add(i))},e.prototype.visitFillRule=function(r){r.input.accept(this),this.inputExpr=this.resolveSelectRef(r.input),this.visitFillRuleDefinition(r.rule)},e.prototype.visitFillDefinition=function(r){Co(r,this.propertyVisitor)},e.prototype.visitFillRuleDefinition=function(r){n.fF.assertValue(r,"fillRule"),n.fF.assertAnyValue(this.inputExpr,"inputExpr can end up being undefined if it was a non-matching SelectRef");var a=r.linearGradient2||r.linearGradient3;n.fF.assertValue(a,"fillRule needs either linearGradient2 or linearGradient3"),n.fF.assertValue(a.min,"gradient.min"),n.fF.assertValue(a.max,"gradient.max");var i={};a.min.value||(i.min=!0),a.max.value||(i.max=!0),(i.min||i.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:i}),(0,zV.RL)(r,this.propertyVisitor))},e.prototype.visitDataBarsDefinition=function(r){n.fF.assertValue(this.inputExpr,"Databars without an input Expr"),n.fF.assertValue(r,"dataBars");var a={};r.minValue||(a.min=!0),r.maxValue||(a.max=!0),(a.min||a.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:a}),function(t,e){n.fF.assertValue(t,"dataBars"),t.minValue&&e.visitExpr(t.minValue),t.maxValue&&e.visitExpr(t.maxValue),Co(t.positiveColor,e),Co(t.negativeColor,e),Co(t.axisColor,e),e.visitExpr(t.reverseDirection),e.visitExpr(t.hideText)}(r,this.propertyVisitor))},e.prototype.visitIconDefinition=function(r){!function(t,e){n.fF.assertValue(t,"fillRule"),t.layout&&e.visitExpr(t.layout),t.verticalAlignment&&e.visitExpr(t.verticalAlignment),t.value&&e.visitExpr(t.value)}(r,this.propertyVisitor)},e.prototype.visitParagraphs=function(r){(0,Nn.RL)(r,this.propertyVisitor)},e.prototype.visitErrorRangeDefinition=function(r){var a=this;n.fF.assert(function(){return null!=a.selector.metadata},"Error range should have a target"),this.relatedProjectionQueryName=this.selector.metadata,function(t,e){t.explicit?function(t,e){e.visitExpr(t.isRelative),t.lowerBound&&e.visitExpr(t.lowerBound),t.upperBound&&e.visitExpr(t.upperBound)}(t.explicit,e):t.symmetricalExplicit?e.visitExpr(t.symmetricalExplicit.delta):t.standardDeviation?function(t,e){t.visitExpr(e.value),t.visitExpr(e.multiplier)}(e,t.standardDeviation):t.percentage?function(t,e){e.visitExpr(t.lowerBoundDelta),e.visitExpr(t.upperBoundDelta)}(t.percentage,e):t.percentile?function(t,e){e.visitExpr(t.lowerBound),e.visitExpr(t.upperBound)}(t.percentile,e):n.fF.assertFail("Unsupported ErrorRangeDefinition")}(r,this.propertyVisitor),this.relatedProjectionQueryName=void 0},e}(R.PA),Sa=ke(1589),fa=ke(338),HV=ke(7280);function Vo(){return window.powerbi||(window.powerbi={}),window.powerbi}var QV=function(t){return t[t.merge=0]="merge",t[t.remove=1]="remove",t}({});var If=new Set(["powerbi.bab","powerbi.common.cultureInfo","powerbi.common.formattingLocale","powerbi.data.DataViewScopeIdentity","powerbi.ExtendedType","powerbi.extensibility.data","powerbi.extensibility.utils.axisType","powerbi.extensibility.utils.CartesianHelper","powerbi.extensibility.utils.chart.dataLabel","powerbi.extensibility.utils.chart.legend","powerbi.extensibility.utils.chart","powerbi.extensibility.utils.color","powerbi.extensibility.utils.ColumnUtil","powerbi.extensibility.utils.dataview.converterHelper","powerbi.extensibility.utils.dataview.DataRoleHelper","powerbi.extensibility.utils.dataview.DataViewObject","powerbi.extensibility.utils.dataview.DataViewObjects","powerbi.extensibility.utils.dataview.validationHelper","powerbi.extensibility.utils.dataview","powerbi.extensibility.utils.filter","powerbi.extensibility.utils.formatting.DateTimeUnit","powerbi.extensibility.utils.formatting.dateUtils","powerbi.extensibility.utils.formatting.DisplayUnitSystemType","powerbi.extensibility.utils.formatting.font","powerbi.extensibility.utils.formatting.numberFormat","powerbi.extensibility.utils.formatting.stringExtensions","powerbi.extensibility.utils.formatting.textMeasurementService","powerbi.extensibility.utils.formatting.TextProperties","powerbi.extensibility.utils.formatting.textUtil","powerbi.extensibility.utils.formatting.valueFormatter","powerbi.extensibility.utils.formatting.wordBreaker","powerbi.extensibility.utils.formatting","powerbi.extensibility.utils.interactivity.interactivityUtils","powerbi.extensibility.utils.interactivity","powerbi.extensibility.utils.MessageBox","powerbi.extensibility.utils.objects","powerbi.extensibility.utils.parser","powerbi.extensibility.utils.selection","powerbi.extensibility.utils.svg.CssConstants","powerbi.extensibility.utils.svg.shapes","powerbi.extensibility.utils.svg.touch","powerbi.extensibility.utils.svg","powerbi.extensibility.utils.telemetry","powerbi.extensibility.utils.test.dataViewBuilder","powerbi.extensibility.utils.test.helpers","powerbi.extensibility.utils.test.mocks","powerbi.extensibility.utils.test","powerbi.extensibility.utils.tooltip","powerbi.extensibility.utils.type.ArrayExtensions","powerbi.extensibility.utils.type.EnumExtensions","powerbi.extensibility.utils.type.ExtendedType","powerbi.extensibility.utils.type.JsonComparer","powerbi.extensibility.utils.type.LogicExtensions","powerbi.extensibility.utils.type.PixelConverter","powerbi.extensibility.utils.type.PrimitiveType","powerbi.extensibility.utils.type.Prototype","powerbi.extensibility.utils.type.RegExpExtensions","powerbi.extensibility.utils.type.StringExtensions","powerbi.extensibility.utils.type.TextSizeDefaults","powerbi.extensibility.utils.type.ValueUtil","powerbi.extensibility.utils.type","powerbi.extensibility.utils.yAxisPosition","powerbi.extensibility.utils","powerbi.extensibility.visual.Color","powerbi.extensibility.visual.FormatUtils","powerbi.extensibility.visual.LinkColorType","powerbi.extensibility.visual.LinkType","powerbi.extensibility.visual.Month","powerbi.extensibility.visual.PositionType","powerbi.extensibility.visual","powerbi.extensibility.visualApiVersions","powerbi.extensibility.VisualPlugin","powerbi.extensibility","powerbi.FilterAction","powerbi.formattingService._currentCulture","powerbi.formattingService._currentCultureSelector","powerbi.PrivilegeStatus","powerbi.reportServerHost","powerbi.SelectionIdBuilder","powerbi.session.userInfo","powerbi.session","powerbi.SortDirection","powerbi.VisualEventType","powerbi.VisualObjectInstance","powerbi.VisualObjectInstanceEnumerationObject","powerbi.visuals.DataEntrySlicers.Slicers.Page","powerbi.visuals.DataEntrySlicers.Slicers.URL","powerbi.visuals.DataEntrySlicers.Slicers","powerbi.visuals.DataEntrySlicers","powerbi.visuals.dataLabelUtils","powerbi.visuals.DateUtil","powerbi.visuals.DonutChart","powerbi.visuals.DonutChartWebBehavior","powerbi.visuals.filter","powerbi.visuals.plugins.debugVisual","powerbi.visuals.plugins","powerbi.visuals.SelectionIdBuilder","powerbi.visuals.valueFormatter","powerbi.VisualUpdateType.36"]);function Of(t,e){var r={get:function(i,o){var s=i[o],p="".concat(t,".").concat(o.toString());return void 0===s?If.has(p)||(function(t){var r=JSON.stringify({eventName:"onGlobalUndefinedGet",arguments:[t]});window.parent.postMessage(r,"*")}(p),If.add(p)):s&&"object"==typeof s&&e>0&&(s=new Proxy(s,Of(p,e-1))),s},set:function(i,o,s){return i[o]=s,!0}};return r}function XV(){window.powerbi=function(t,e){return new Proxy(t,Of("powerbi",3))}((0,In.wg)())}var eD={get:function(e){return e},getOptional:function(e){return e},format:function(e){return e}};function rD(t,e){if(t){var r={properties:{}};for(var a in t.displayName&&(r.displayName=(0,sr.G)(t.displayName,e)),t.description&&(r.description=(0,sr.G)(t.description,e)),t.properties)r.properties[a]=iD(t.properties[a],e);return r}}function iD(t,e){var r={type:oD(t.type,e)};return t.rule&&(r.rule=t.rule),t.displayName&&(r.displayName=(0,sr.G)(t.displayName,e)),t.description&&(r.description=(0,sr.G)(t.description,e)),t.placeHolderText&&(r.placeHolderText=(0,sr.G)(t.placeHolderText,e)),r}function oD(t,e){var r=Je.Ge.fromDescriptor(t);return r&&r.enum?{enumeration:Bf(r.enum,e)}:null!=r&&r.flagsEnum?{flagsEnumeration:Bf(r.flagsEnum,e)}:t}function Bf(t,e){return _.map(t.members(),function(r){return function(t,e){return{displayName:(0,sr.G)(t.displayName,e),value:t.value}}(r,e)})}function pD(){var t=(0,di.p)(),r={messageProxy:Zc(t,window.parent),promiseFactory:t,resourceProvider:{get:function(i){return i},getOptional:function(i){return i},format:function(i){return i}}};return new mD(r)}var mD=function(){function t(e){var r=this;n.fF.assertValue(e.messageProxy,"messageProxy"),n.fF.assertValue(e.promiseFactory,"promiseFactory"),this.messageProxy=e.messageProxy,this.promiseFactory=e.promiseFactory,this.resourceProvider=e.resourceProvider,this.messageProxy.on(ws,function(a){return r.onMessageReceived(a)}),this.hostOrigin=new URL(window.location.href).origin}return t.prototype.onMessageReceived=function(e){if(e.source===parent&&e.origin===this.hostOrigin&&"loadVisualPluginWithContent"===e.message.eventName)return this.loadVisualPluginWithContent.apply(this,e.message.arguments)},t.prototype.loadVisualPluginWithContent=function(e){var r=this.promiseFactory.defer(),a=e.pluginName,i=e.mappedPluginContent,o=i[ii.CustomVisualJavascript].content,s=i[ii.CustomVisualsCss].content;try{go(a,o),bo(a,s);var p=vi[a];p.iconUrl=function(t){var r=$("#css-"+t)[0],a=_.find(document.styleSheets,function(s){return s.ownerNode===r});if(a&&a.cssRules)for(var i=0;i<a.cssRules.length;i++){var o=a.cssRules[i];if(o.selectorText&&o.selectorText===".visual-icon."+t)return o.style.backgroundImage}return""}(a),p.content={js:o,css:s,iconBase64:p.iconUrl},ho(p),p.capabilities.objects=function(t,e){n.fF.assertValue(t,"objectDescriptors");var r={};for(var a in t)r[a]=rD(t[a],e||eD);return r}(p.capabilities.objects,this.resourceProvider),r.resolve(p)}catch(x){r.reject(x)}return r.promise},t}();function kf(){if(!Uf){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var t=pD;window.powerbi.visualSandbox.createResourceLoaderHost=function(){return t()},Uf=!0}}var Uf=!1;kf();var oi,wi,hD=function(){function t(e){this.windowMessageProxy=e}return t.prototype.logStandardizedFeatureEvent=function(e){this.windowMessageProxy.postMessage({eventName:"logStandardizedFeatureEvent",arguments:[e]})},t.prototype.logTimedStandardizedFeatureEvent=function(e){this.windowMessageProxy.postMessage({eventName:"logTimedStandardizedFeatureEvent",arguments:[e]})},t.prototype.startTimedStandardizedFeatureEvent=function(e){return new yD(this,e)},t}(),yD=function(){function t(e,r){this.certifiedEventsService=e,this.event=_.cloneDeep(r),this.event.operationStartTime=(0,I.z)()}return t.prototype.setAttributes=function(e){this.event.activityAttributes=(0,ie.pi)({},e)},t.prototype.setAttribute=function(e,r){this.event.activityAttributes[e]=r},t.prototype.getAttributes=function(){return this.event.activityAttributes},t.prototype.complete=function(e,r){this.event.resultCode=r,this.event.activityStatus=e,this.event.operationEndTime=(0,I.z)(),this.certifiedEventsService.logTimedStandardizedFeatureEvent(this.event)},t}(),CD=function(){function t(e){this.windowMessageProxy=e}return t.prototype.getOpenActivityById=function(e){},t.prototype.suspend=function(){},t.prototype.resume=function(){},t.prototype.flush=function(){},t.prototype.restart=function(){},t.prototype.stopActivity=function(e,r,a){},t.prototype.startPerfEventDeprecated=function(e,r){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];var s={info:{}};return new hi(s)},t.prototype.logEvent=function(e,r){return n.fF.assert(function(){return!_.isArray(r)},"Parameters has to be an object and instance of some telemetry factory arguments"),e===Ff?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualApiUsage",r]}):e===hf?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualException",r]}):n.fF.assertFail("Unknown eventFactory name ["+e+"]: sandboxTelemetryProxyService.ts#logEvent"),null},t.prototype.logTelemetryData=function(e,r,a){return null},t.prototype.logChildEvent=function(e,r){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i]},t.prototype.startActivity=function(e,r){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];var s={info:{}};return new hi(s)},t.prototype.startChildActivity=function(e,r){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i]},t.prototype.startEvent=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var o={info:{}};return new hi(o)},t.prototype.startMonitoredActivity=function(e,r,a){var o={info:{}};return{activityEvent:o,activityDeferred:new hi(o)}},t.prototype.startChildEvent=function(e,r){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];var s={info:{}};return new hi(s)},t.prototype.logTrace=function(e){},Object.defineProperty(t.prototype,"sessionId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appInstanceId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){},enumerable:!1,configurable:!0}),t.prototype.setHostInfo=function(e,r){},t.prototype.getHostData=function(){},t.prototype.setExpAssignmentContext=function(e){},t}(),hi=function(){function t(e){var r=this;n.fF.assertValue(e,"event"),this.event=e,this.promise=new La.J(function(a,i){r.onResolve=a,r.onReject=i})}return t.prototype.resolve=function(){this.isEnded=!0,this.onResolve()},t.prototype.cancel=function(e){return e?this.resolve():this.reject({isCancelled:!0,errorCode:"non-ignorable cancellation of deferred telemety event"})},t.prototype.reject=function(e){this.isEnded=!0,this.onReject()},t.prototype.isActive=function(){return!this.isEnded},t}(),DD=function(){function t(){}return t.prototype.getOpenActivityById=function(e){},t.prototype.suspend=function(){},t.prototype.resume=function(){},t.prototype.flush=function(){},t.prototype.restart=function(){},t.prototype.stopActivity=function(e,r,a){},t.prototype.startPerfEventDeprecated=function(e,r){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];var s={info:{}};return new hi(s)},t.prototype.logEvent=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return null},t.prototype.logTelemetryData=function(e,r,a){return null},t.prototype.logChildEvent=function(e,r){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i]},t.prototype.startActivity=function(e,r){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];var s={info:{}};return new hi(s)},t.prototype.startChildActivity=function(e,r){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i]},t.prototype.startEvent=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var o={info:{}};return new hi(o)},t.prototype.startMonitoredActivity=function(e,r,a){var o={info:{}};return{activityEvent:o,activityDeferred:new hi(o)}},t.prototype.startChildEvent=function(e,r){for(var a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];var s={info:{}};return new hi(s)},t.prototype.logTrace=function(e){},Object.defineProperty(t.prototype,"sessionId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"appInstanceId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){},enumerable:!1,configurable:!0}),t.prototype.setHostInfo=function(e,r){},t.prototype.getHostData=function(){},t.prototype.setExpAssignmentContext=function(e){},t}(),Er=ke(628),Ni=ke(7262),cl=ke(8364),Fa={Continent:"Continent",Sovereign:"Sovereign",CountryRegion:"CountryRegion",AdminDivision1:"AdminDivision1",AdminDivision2:"AdminDivision2",PopulatedPlace:"PopulatedPlace",Postcode:"Postcode",Postcode1:"Postcode1",Neighborhood:"Neighborhood",Address:"Address"},On="2022-12-01-preview",Wf="https://platform.bing.com/geo/spatial/v1/public/Geodata",jf="https://dev.virtualearth.net/REST/v1/Locations",Hf="https://atlas.microsoft.com/geocode",Kf="https://atlas.microsoft.com/search/polygon",MD={adminDistrict:"AdminDistrict",locality:"Locality",postalCode:"PostalCode",addressLine:"AddressLine",countryRegion:"CountryRegion"},TD={AdminDistrict:"adminDistrict",Locality:"locality",PostalCode:"postalCode",AddressLine:"addressLine",CountryRegion:"countryRegion"};function Do(t){return oi||((oi={})[Er.yV.Continent.toLowerCase()]=Fa.Continent,oi[Er.yV.CountryRegion.toLowerCase()]=Fa.Sovereign,oi[Er.yV.StateOrProvince.toLowerCase()]=Fa.AdminDivision1,oi[Er.yV.County.toLowerCase()]=Fa.AdminDivision2,oi[Er.yV.City.toLowerCase()]=Fa.PopulatedPlace,oi[Er.yV.PostalCode.toLowerCase()]=Fa.Postcode,oi[Er.yV.Address.toLowerCase()]=Fa.Address),t&&oi[t.toLowerCase()]||""}function _o(t){return wi||((wi={})[Er.yV.CountryRegion.toLowerCase()]=Fa.CountryRegion,wi[Er.yV.StateOrProvince.toLowerCase()]=Fa.AdminDivision1,wi[Er.yV.County.toLowerCase()]=Fa.AdminDivision2,wi[Er.yV.City.toLowerCase()]=Fa.PopulatedPlace,wi[Er.yV.PostalCode.toLowerCase()]=Fa.Postcode1),t&&wi[t.toLowerCase()]||""}function Bn(){var e=function(t){switch(t.toLowerCase()){case"fr":return"fr-FR";case"de":return"de-DE";case"da":return"da-DK";case"es":return"es-ES";case"it":return"it-IT";case"nl":return"nl-BE";case"af":case"am":case"ar-sa":case"as":case"az-atn":case"be":case"bg":case"bn-bd":case"bn-in":case"bs":case"ca":case"ca-es-valencia":case"cs":case"cy":case"de-de":case"el":case"en-gb":case"en-us":case"es-es":case"es-us":case"es-mx":case"et":case"eu":case"fa":case"fi":case"fil-latn":case"fr-fr":case"fr-ca":case"ga":case"gd-latn":case"gl":case"gu":case"ha-latn":case"he":case"hi":case"hr":case"hu":case"hy":case"id":case"ig-latn":case"is":case"it-it":case"ja":case"ka":case"kk":case"km":case"kn":case"ko":case"kok":case"ku-arab":case"ky-cyrl":case"lb":case"lt":case"lv":case"mi-latn":case"mk":case"ml":case"mn-cyrl":case"mr":case"ms":case"mt":case"nb":case"ne":case"nl-be":case"nn":case"nso":case"or":case"pa":case"pa-arab":case"pl":case"prs-arab":case"pt-br":case"pt-pt":case"qut-latn":case"quz":case"ro":case"ru":case"rw":case"sd-arab":case"si":case"sk":case"sl":case"sq":case"sr-cryl-ba":case"sr-cryl-rs":case"sr-latn-rs":case"sv":case"sw":case"ta":case"te":case"tg-cyrl":case"th":case"ti":case"tk-latn":case"tn":case"tr":case"tt-cyrl":case"ug-arab":case"uk":case"ur":case"uz-latn":case"vi":case"wo":case"xh":case"yo-latn":case"zh-hans":case"zh-hant":case"zh-cn":case"zu":return t;default:return null}}(kl.M.getLanguage());return e}function Gf(t){return!Qf(t,"UpHierarchy")}function Qf(t,e){return _.some(t,function(r){return r===e})}function Eo(t){nn.f.information("georequest",void 0,t)}var gn,RD=((gn={})[jf]="G",gn[Wf]="S",gn[Hf]="AG",gn[Kf]="AS",gn),Yf={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},qf={Sovereign:"countryRegionSet",CountryRegion:"countryRegionSet",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},Zf={Continent:"continent",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict2",AdminDivision3:"adminDistrict3",PopulatedPlace:"locality",Postcode1:"postalCode",Postcode2:"postalCode2",Postcode3:"postalCode3",Postcode4:"postalCode4",Neighborhood:"neighborhood"},zn=function(){function t(e,r,a,i){this.location=e,r&&(a&&i&&(r=this.removeRegion(r)),this.key=((r=RD[r]||r)+";"+_.map(this.location.components,function(o){return(o.query||"")+"/"+(o.category||"")}).join("&")).toLowerCase(),e.culture&&(this.key+="&c=".concat(e.culture)))}return t.prototype.removeRegion=function(e){return n.fF.assert(function(){return!!e&&e.indexOf("atlas.microsoft.com")>0},"should be a valid azure maps url, but received ".concat(e)),e.slice(0,8)+e.slice(e.indexOf("atlas.microsoft.com"))},t.prototype.getKey=function(){return this.key},t.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"jsonp",jsonp:"jsonp"}},t}(),Fo=function(t){function e(r,a,i){var o=t.call(this,a,r)||this;return o.credentials=i,o}return(0,ie.ZT)(e,t),e.prototype.getCulture=function(){return this.location.culture},e.prototype.getBingEntity=function(){return Do(_.last(this.location.components).category)},e.prototype.validate=function(){return null!=this.getEntity()},e.prototype.getEntity=function(){var r=this.getGeocodingParameters();if(_.some(r,function(ue){return!ue.key})){var a=_.chain(r).map(function(ue){return ue.value}).filter(function(ue){return ue}).reverse().value().join(", ");return a?{Query:a}:void 0}for(var i={Address:{}},o=i.Address,s=0,p=r;s<p.length;s++){var x=p[s],U=x.value;if(!U||!(U=U.trim()))return;var K=x.key;"adminDistrict"===K&&o.AdminDistrict?o.AdminDistrict=x.value+", "+o.AdminDistrict:o[MD[K]]=x.value}return i},e.prototype.getUrl=function(r){var a={key:this.credentials||Er.Zr.BingKey},i=this.getEntity();if(i){var o=i.Address;if(o)for(var s in o)a[TD[s]]=o[s];else a.q=i.Query;var p=this.location.culture||Bn();return p&&(a.c=p),a.maxRes="10",(0,Ni.fS)(r,a,!0)}},e.prototype.getGeocodingParameters=function(){var r=this.location.components;return r.length>=2&&r[0].category===Er.yV.Continent&&r[1].category===Er.yV.CountryRegion&&(r=_.tail(r)),_.map(r,function(i){var o=Do(i.category),s="";o in Yf&&(s=Yf[o]);var p=i.query;return o===Fa.Sovereign&&p&&(p=e.Iso3166Substitutions[p]||p),{key:s,value:p}})},e.prototype.isGeneralQuery=function(){return _.some(this.getGeocodingParameters(),function(r){return!r.key})},e.prototype.getResult=function(r){var a=this,i=this.isGeneralQuery(),o=Jf(r,function(x){return a.locationQuality(x,i)});if(o){var s=o.point.coordinates;return{coordinates:{latitude:s&&s[0],longitude:s&&s[1],entityType:o.entityType}}}return{error:new Error("Geocode result is empty.")}},e.prototype.shouldDoFullGeocoding=function(r){var a=r&&r.resourceSets&&r.resourceSets[0]&&r.resourceSets[0].resources&&r.resourceSets[0].resources[0];if(!a||function(t){return!Qf(t,"Ambiguous")}(a.matchCodes))return!1;var i=this.getBingEntity().toLowerCase(),o=a.entityType&&a.entityType.toLowerCase();return"admindivision1"===i&&"admindivision2"===o||"admindivision2"===i&&"admindivision1"===o},e.prototype.extractSingleResult=function(r,a){return r&&r.resourceSets&&r.resourceSets.length>a?{resourceSets:[r.resourceSets[a]]}:void 0},e.prototype.locationQuality=function(r,a){if(!a&&r.matchCodes&&!Gf(r.matchCodes))return-1;var i=0;if(1===this.location.components.length&&this.location.components[0].category===Er.yV.CountryRegion){var o=r.address&&r.address.countryRegionIso2;if(o){var s=this.location.components[0].query.toLowerCase();2===s.length&&s===o.toLowerCase()&&(i+=2)}}return r.entityType&&r.entityType.toLowerCase()===this.getBingEntity().toLowerCase()&&(i+=1),i},e.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF"},e}(zn),No=function(t){function e(r,a,i,o,s,p,x){void 0===x&&(x="subscriptionKey");var U=t.call(this,a,r,i,o)||this;return U.apiVersion=s,U.credentials=p,U.credentialType=x,n.fF.assert(function(){return"subscriptionKey"===x||!!p},"credentials must be provided when using Azure Maps SAS Token"),U}return(0,ie.ZT)(e,t),e.prototype.getCulture=function(){return this.location.culture},e.prototype.validate=function(){return null!=this.getEntity()},e.prototype.getEntity=function(){var r=this.getGeocodingParameters();if(_.some(r,function(K){return!K.key})){var a=_.chain(r).map(function(K){return K.value}).filter(function(K){return K}).reverse().value().join(", ");return a?{query:a}:void 0}for(var i={},o=0,s=r;o<s.length;o++){var p=s[o],x=p.value;if(!x||!(x=x.trim()))return;var U=p.key;"adminDistrict"===U&&i.adminDistrict?i.adminDistrict=p.value+", "+i.adminDistrict:i[U]=p.value}return i},e.prototype.getUrl=function(r){var a={},i=this.getEntity();if(!_.isEmpty(i)){for(var o in i)a[o]=i[o];return a.top="10",a["api-version"]=this.apiVersion,(0,Ni.fS)(r,a,!0)}},e.prototype.getGeocodingParameters=function(){var r=this.location.components;return r.length>=2&&r[0].category===Er.yV.Continent&&r[1].category===Er.yV.CountryRegion&&(r=_.tail(r)),_.map(r,function(i){var o=Do(i.category),s="";o in qf&&(s=qf[o]);var p=i.query;return o===Fa.Sovereign&&p&&(p=e.Iso3166Substitutions[p]||p),{key:s,value:p}})},e.prototype.isGeneralQuery=function(){return _.some(this.getGeocodingParameters(),function(r){return!r.key})},e.prototype.getResult=function(r){var o,a=this,i=r&&!_.isEmpty(r.features)&&r.features;if(Array.isArray(i)){var s=_.chain(i).map(function(K){return{feature:K,value:a.locationQuality(K,a.isGeneralQuery())}}).filter(function(K){return K.value>=0}).maxBy(function(K){return K.value}).value();o=s&&s.feature}if(o){var p=o.geometry,x=o.properties;return{coordinates:{latitude:p&&p.coordinates[1],longitude:p&&p.coordinates[0],entityType:x&&x.type}}}return{error:new Error("Azure Maps Geocode result is empty.")}},e.prototype.extractSingleResult=function(r,a){return r&&r.batchItems&&r.batchItems.length>a?r.batchItems[a]:void 0},e.prototype.getBingEntity=function(){return Do(_.last(this.location.components).category)},e.prototype.locationQuality=function(r,a){var i;if(!a&&r.properties&&r.properties.matchCodes&&!Gf(r.properties.matchCodes))return-1;var o=0;if("High"===(null===(i=r.properties)||void 0===i?void 0:i.confidence)&&(o+=3),1===this.location.components.length&&this.location.components[0].category===Er.yV.CountryRegion){var s=r.properties&&r.properties.address&&r.properties.address.countryRegion&&r.properties.address.countryRegion.ISO;if(s){var p=this.location.components[0].query.toLowerCase();2===p.length&&p===s.toLowerCase()&&(o+=2)}}return r.properties&&r.properties.type&&r.properties.type.toLowerCase()===this.getBingEntity().toLowerCase()&&(o+=1),o},e.prototype.getHeaders=function(){var r;r="sasToken"===this.credentialType?{Authorization:"jwt-sas ".concat(this.credentials)}:{"subscription-key":this.credentials||cl.R.AzureKey};var a=this.getCulture()||Bn();return a&&(r["Accept-Language"]=a),r},e.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"json"}},e.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF"},e}(zn);function Jf(t,e){var r=t&&!_.isEmpty(t.resourceSets)&&t.resourceSets[0].resources;if(Array.isArray(r)){var a=_.chain(r).map(function(i){return{location:i,value:e(i)}}).filter(function(i){return i.value>=0}).maxBy(function(i){return i.value}).value();return a&&a.location}}var da,Zr,Un,LD=function(t){function e(r,a,i,o,s){var p=t.call(this,{components:[{query:[a,i].join(),category:"Point"}]})||this;return p.credentials=s,p.latitude=a,p.longitude=i,p.entities=o,p}return(0,ie.ZT)(e,t),e.prototype.validate=function(){return!0},e.prototype.getUrl=function(r){var a=this;n.fF.assert(function(){return a.entities.every(function(p){return!!_.findKey(Fa,function(x){return x===p})})},"All entities should match one of the allowed BingEntities");var i=(0,Ni.oB)(r),o=_.endsWith(i.baseUrl,"/")?i.baseUrl:i.baseUrl+"/";o+=[this.latitude,this.longitude].join();var s={key:this.credentials||Er.Zr.BingKey,include:"ciso2"};return _.isEmpty(this.entities)||(s.includeEntityTypes=this.entities.join()),(0,Ni.fS)(o,s,!0)},e.prototype.getResult=function(r){var a=this,i=Jf(r,function(U){return-1===a.entities.indexOf(U.entityType)?0:1});if(i){var o=i.point.coordinates,s=i.address||{};return{coordinates:{latitude:o[0],longitude:o[1],addressLine:s.addressLine,locality:s.locality,neighborhood:s.neighborhood,adminDistrict:s.adminDistrict,adminDistrict2:s.adminDistrict2,formattedAddress:s.formattedAddress,postalCode:s.postalCode,countryRegionIso2:s.countryRegionIso2,countryRegion:s.countryRegion,landmark:s.landmark,name:i.name}}}return{coordinates:null}},e}(zn),wo=function(t){function e(r,a,i,o,s,p,x,U){void 0===p&&(p=3);var K=t.call(this,{components:[{query:[a,i,s,p].join(",")+(x!==_o(o)?","+x:""),category:o}]},r)||this;return K.credentials=U,K.latitude=a,K.longitude=i,K.levelOfDetail=s,K.maxGeoData=p,K.entityType=x,K}return(0,ie.ZT)(e,t),e.prototype.getBingEntity=function(){return _o(_.last(this.location.components).category)},e.prototype.validate=function(){return!(!this.entityType&&!this.getBingEntity())},e.prototype.getUrl=function(r){var a=this.entityType||this.getBingEntity();if(!a)return null;var i=(0,Ni.oB)(r),o=i.baseUrl,s=i.queryParameters;s||(s={});var p=s.c||s.culture,x=p||"",U=p&&function(t){switch(t=t.toUpperCase()){case"ZH-HANS":case"ZH-HANT":return"CN"}var e=t.split("-",2);return e.length>1?e[1]:""}(p)||"";return s.key=this.credentials||Er.Zr.BingKey,s.$format="json",s.SpatialFilter="GetBoundary("+[this.latitude,this.longitude,this.levelOfDetail,"'"+a+"'",1,0,"'"+x+"'","'"+U+"'"].join(", ")+")",delete s.c,delete s.culture,(0,Ni.fS)(o,s,!0)},e.prototype.getResult=function(r){var a=r;if(a&&a.d&&Array.isArray(a.d.results)&&a.d.results.length>0){var o=a.d.results[0].Primitives;if(o&&o.length>0){var s={latitude:this.latitude,longitude:this.longitude,locations:[]};o.sort(function(ye,_e){return ye.Shape.length<_e.Shape.length?1:ye.Shape.length>_e.Shape.length?-1:0});for(var p=Math.min(o.length,this.maxGeoData),x=0;x<p;x++)for(var K=o[x].Shape.split(","),ue=1;ue<K.length;ue++)s.locations.push({nativeBing:K[ue]});return{coordinates:s}}}return{error:new Error("Geocode result is empty.")}},e}(zn),Mo=function(t){function e(r,a,i,o,s,p,x,U,K,ue,ye,_e){void 0===K&&(K=3),void 0===_e&&(_e="subscriptionKey");var Ie=t.call(this,{components:[{query:[p,x,U,K].join(",")+(ue!==_o(a)?","+ue:""),category:a}]},r,i,o)||this;return Ie.apiVersion=s,Ie.latitude=p,Ie.longitude=x,Ie.levelOfDetail=U,Ie.maxGeoData=K,Ie.entityType=ue,Ie.credentials=ye,Ie.credentialType=_e,n.fF.assert(function(){return"subscriptionKey"===_e||!!ye},"credentials must be provided when using Azure Maps SAS Token"),Ie}return(0,ie.ZT)(e,t),e.prototype.getBingEntity=function(){return _o(_.last(this.location.components).category)},e.prototype.getResolution=function(){switch(this.levelOfDetail){case 3:return"huge";case 2:return"large";case 1:return"medium";default:return"small"}},e.prototype.validate=function(){return!(!this.entityType&&!this.getBingEntity())},e.prototype.getUrl=function(r){var a,i,o=null!==(a=this.entityType)&&void 0!==a?a:this.getBingEntity();if(""!==o&&o in Zf&&(i=Zf[o]),!i)return null;var p={coordinates:"".concat(this.longitude,",").concat(this.latitude),view:"".concat("Auto"),resultType:i,resolution:"".concat(this.getResolution()),"api-version":this.apiVersion};return(0,Ni.fS)(r,p,!0)},e.prototype.getResult=function(r){var a=r;if(a&&a.geometry&&Array.isArray(a.geometry.geometries)&&a.geometry.geometries.length>0){var i=a.geometry.geometries,o=function(p,x){return p+x.length};return i.sort(function(s,p){var x=s.coordinates.reduce(o,0);return p.coordinates.reduce(o,0)-x}),this.maxGeoData<i.length&&(i=i.slice(0,this.maxGeoData)),{coordinates:{latitude:this.latitude,longitude:this.longitude,geoJsonPolygons:i}}}return{error:new Error("Azure Maps Geo-boundary result is empty.")}},e.prototype.getHeaders=function(){var r;(r="sasToken"===this.credentialType?{Authorization:"jwt-sas ".concat(this.credentials)}:{"subscription-key":this.credentials||cl.R.AzureKey}).Accept="application/json";var a=Bn();return a&&(r["Accept-Language"]=a),r},e.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"json"}},e}(zn),ID=ke(775),OD=/^V:[12]-|^g:.* s:|(address|city|continent|country|county|postalcode|stateorprovince)$/;function $f(t,e){return"`"+t+"-"+e}function Wn(t,e){return"``"+t+"-"+e}!function(t){da=ID.DU,Zr=t,Un={}}();var WD=function(){function t(e,r,a){this.cacheName=e,this.maxSpace=r,this.maxAge=a,this.disabled=!1}return t.prototype.getData=function(e){if(!this.disabled){var r=$f(this.cacheName,e),a=da.getData(r),i=a&&a.id;if(null!=i){var o=Wn(this.cacheName,i),s=Zr.caches[this.cacheName];if(xo(s.added)-a.added<=this.maxAge)return da.getData(o);s.size-=a.size,Bi(),da.setData(o,void 0),da.setData(r,void 0)}}},t.prototype.setData=function(e,r){if(!this.disabled){if(!(Zr=fl()))return void(this.disabled=!0);var a=$f(this.cacheName,e),i=da.getData(a);void 0===r?this.removeEntry(a,i):this.setEntry(a,i,r)}},t.prototype.removeEntry=function(e,r){if(r){var a=r.size;null!=a&&(Zr.caches[this.cacheName].size-=a,Bi());var i=r.id;null!=i&&da.setData(Wn(this.cacheName,i),void 0)}da.setData(e,void 0)},t.prototype.setEntry=function(e,r,a){var i=Zr.caches[this.cacheName];if(!i)return this.disabled=!0,void zi("error","Did't find cache metadata for ".concat(this.cacheName," in directory ").concat(JSON.stringify(Zr)));var o=xo(i.added),s=r&&r.id;s?(r.added=o,i.size-=r.size):r={id:s=i.nextId++,added:o,size:0};var p=Wn(this.cacheName,s),x=JSON.stringify(a);r.size=x.length+e.length+p.length,r.size+=JSON.stringify(r).length,r.size+=1,i.size+=r.size,i.size>this.maxSpace&&(dl(this.cacheName),i.added=Date.now(),i.nextId=2,r.added=xo(i.added),r.id=1,p=Wn(this.cacheName,r.id),r.size=x.length+e.length+p.length,r.size+=JSON.stringify(r).length,r.size+=1,i.size=r.size),Bi(),da.setData(e,r),da.setJSONData(p,x)},t}();function xo(t){return Math.floor((Date.now()-t)/6e4)}function td(){if(Zr=fl()){if("2"===Zr.version)return;zi("information","Clearing old verion ".concat(Zr.version," localStorage entries")),pl(function(t){return t.length>0&&"`"===t[0]})}else zi("information","Clearing obsolete localStorage entries"),pl(function(t){return OD.test(t)});Zr={version:"2",caches:{}},Bi(),rd()}function Bi(){da.setData("``",Zr)}function fl(){return da.getData("``")}function rd(){try{var t=fl();_.isEqual(t,Zr)||zi("warning","Cache directory different after save: saved=".concat(JSON.stringify(Zr)," reloaded=").concat(JSON.stringify(t)))}catch(e){zi("error","Error checking cache directory after save: ".concat(e&&e.stack?e.stack:JSON.stringify(e)))}}function dl(t){var e=function(t){return new RegExp("^`"+t+"-")}(t),r=function(t){return new RegExp("^``"+t+"-")}(t);pl(function(a){return e.test(a)||r.test(a)})}function pl(t){var e=[];da.forEach(function(o){t(o)&&e.push(o)});for(var r=0,a=e;r<a.length;r++)da.setData(a[r],void 0);return e.length}function zi(t,e){var r=window.jsCommon;!r||!r.Trace||nn.f[t]("localStorageCache: "+e)}var Po,GD=function(){function t(e,r,a){this.localStorageCache=a,this.geocodeCache={},this.geocodeCacheCount=0,this.maxCacheSize=e,this.maxCacheSizeOverflow=r,this.localStorageCache=a}return t.prototype.clear=function(){(function(t){dl(t),td();var e=Zr.caches.G;e&&(Un.G?Zr.caches.G={version:e.version,size:0,nextId:1,added:Date.now()}:delete Zr.caches.G,Bi())})("G"),this.geocodeCache={},this.geocodeCacheCount=0},t.prototype.getCoordinates=function(e,r){var a=e.getKey(),i=this.geocodeCache[a];if(i)return++i.hitCount,i.coordinate;var o=this.localStorageCache.getData(a);if(o)return r.logFirstQueryHit(e),this.registerInMemory(a,o,r),o;void 0===i&&(r.logFirstQueryMiss(e),this.markPendingInMemory(a))},t.prototype.registerCoordinates=function(e,r,a){this.registerInMemory(e,r,a),this.registerInStorage(e,r)},t.prototype.markPendingInMemory=function(e){this.geocodeCache[e]=null},t.prototype.registerInMemory=function(e,r,a){var i=this.geocodeCache,o=this.maxCacheSize,s=o+this.maxCacheSizeOverflow;if(this.geocodeCacheCount>=s){a.disableFirstQueryLogging();var p=Object.keys(i),x=p.length;if(p.sort(function(ue,ye){var _e=i[ue],Ie=i[ye];return(Ie?Ie.hitCount:0)-(_e?_e.hitCount:0)}),x<2*s)for(var U=o-1;U<x;U++)i[p[U]]=void 0;else{var K={};for(U=o-1;U-- >0;)K[p[U]]=i[p[U]];i=this.geocodeCache=K}this.geocodeCacheCount=o}i[e]={coordinate:r,hitCount:1},++this.geocodeCacheCount},t.getCoordinateToCache=function(e){var r=e.locations;if(!r||!t.hasRuntimeBoundaryData(r))return e;var a={latitude:e.latitude,longitude:e.longitude,locations:_.map(r,function(i){return{nativeBing:i.nativeBing}})};return e.entityType&&(a.entityType=e.entityType),a},t.hasRuntimeBoundaryData=function(e){for(var r=0,a=e;r<a.length;r++){var i=a[r];for(var o in i)if("nativeBing"!==o)return!0}return!1},t.prototype.registerInStorage=function(e,r){this.localStorageCache.setData(e,t.getCoordinateToCache(r))},t}();function ml(){return Po||(Po=function(t,e,r,a,i){return new GD(t,e,function(t,e,r,a){td();var i=Un.G;if(!i){zi("information","ensuring localStorageCache ".concat(t));var o=Zr.caches.G;o&&o.version!==e&&(zi("information","Clearing old version cache ".concat(t)),dl(t),delete Zr.caches.G,Bi(),o=void 0),i=new WD(t,r,a),Un.G=i,o||(zi("information","Adding initial cache metadata for ".concat(t)),Zr.caches.G={version:e,size:0,nextId:1,added:Date.now()},Bi(),rd())}return i}("G",i,r,a))}(Er.Zr.MaxCacheSize,Er.Zr.MaxCacheSizeOverflow,Er.Zr.MaxPersistedSpace,Er.Zr.MaxAge,"4")),Po}function jn(t,e){if(t.getKey())return ml().getCoordinates(t,e)}function id(t,e,r){if(t)return ml().registerCoordinates(t,e,r)}var nd=function(){function t(){}return t.setMapsAjaxCall=function(e){t.MapsAjaxCall=e},t.MapsAjaxCall=$.ajax,t}();function Hn(t,e,r){t&&(e instanceof Fo?t.logGeocodeImmediate(e,r):e instanceof wo?t.logGeocodeBoundaryImmediate(e,r):e instanceof No?t.logAzureMapsGeocodeImmediate(e):e instanceof Mo&&t.logAzureMapsGeocodeBoundaryImmediate(e))}function Ao(t,e,r,a,i){t&&(e instanceof Fo?t.logGeocodeResult(e,r,a,i):e instanceof wo?t.logGeocodeBoundaryResult(e,r,a,i):e instanceof No?t.logAzureMapsGeocodeResult(e,r,a,i):e instanceof Mo&&t.logAzureMapsGeocodeBoundaryResult(e,r,a,i))}var YD=function(){function t(e,r){this.useBatchGeocoding=e,this.bypassGeocodingCache=r}return t.prototype.geocodeBaseUrl=function(e){switch(e){case 4:case 6:return this.azureMapsGeocodingUrl();case 5:return this.azureMapsBoundaryUrl();case 1:return this.bingSpatialDataUrl();default:return this.bingGeocodingUrl()}},t.prototype.geocodeQueueType=function(e){return 1===e?this.useBatchGeocoding()?6:4:this.useBatchGeocoding()?3:0},t.prototype.geocode=function(e,r,a,i){n.fF.assert(function(){return 1===r||"sasToken"!==(null==a?void 0:a.credentialType)},"SASToken credential type is only supported for Azure Maps");var o=(0,di.p)().defer(),s=this.geocodeQueueType(r),p=1===r?new No(this.azureMapsGeocodingUrl(),e,!0,i,On,a&&a.credentials,a&&a.credentialType):new Fo(this.bingGeocodingUrl(),e,a&&a.credentials);return this.geocodeCore(s,p,a).pipe(function(x){return o.resolve(x)},function(x){return o.reject(x)}),o.promise},t.prototype.geocodeBoundary=function(e,r,a,i){n.fF.assert(function(){return 1===r||"sasToken"!==(null==a?void 0:a.credentialType)},"SASToken credential type is only supported for Azure Maps");var o=e.latitude,s=e.longitude,p=e.category,x=void 0===p?"":p,U=e.levelOfDetail,K=void 0===U?2:U,ue=e.maxGeoData,ye=void 0===ue?3:ue,_e=e.entityType,Ie=1===r?5:1,Re=1===r?new Mo(this.azureMapsBoundaryUrl(),x,!0,i,On,o,s,K,ye,_e,a&&a.credentials,a&&a.credentialType):new wo(this.bingSpatialDataUrl(),o,s,x,K,ye,_e,a&&a.credentials);return this.geocodeCore(Ie,Re,a)},t.prototype.geocodePoint=function(e,r,a,i){return this.geocodeCore(2,new LD(this.bingGeocodingUrl(),e,r,a,i&&i.credentials),i)},t.prototype.tryGeocodeImmediate=function(e,r,a){if(!this.bypassGeocodingCache()){var i=1===r?new No(this.azureMapsGeocodingUrl(),e,!0,a,On):new Fo(this.bingGeocodingUrl(),e),o=this.bingGeocodingLogger(),s=jn(i,o);return Hn(o,i,s),s}},t.prototype.tryGeocodeBoundaryImmediate=function(e,r,a){if(!this.bypassGeocodingCache()){var i=e.latitude,o=e.longitude,s=e.category,p=e.levelOfDetail,x=e.maxGeoData,U=void 0===x?3:x,K=e.entityType,ue=1===r?new Mo(this.azureMapsBoundaryUrl(),s,!0,a,On,i,o,p,U,K):new wo(this.bingSpatialDataUrl(),i,o,s,p,U,K),ye=this.bingGeocodingLogger(),_e=jn(ue,ye);return Hn(ye,ue,_e),_e}},t.prototype.geocodeCore=function(e,r,a){var i=$.Deferred();if(r.validate()){var o=this.bingGeocodingLogger(),s=a&&null!=a.bypassCache?a.bypassCache:this.bypassGeocodingCache(),p=!s&&jn(r,o);if(p)Hn(o,r,p),i.resolve(p);else{var x=a&&a.timeout,U=3===e||6===e,K=function(t,e,r,a,i){var o=t.toString()+e+(r||"");(3===t||6===t)&&i&&(o+=i);var p=Kn[o];if(!p){var x=(0,Ni.oB)(e),U=x.queryParameters;switch("/"===(e=x.baseUrl)[e.length-1]&&(e=e.substring(0,e.length-1)),t){case 6:p=new od("".concat(e,"/").concat("batch"),r,{batchGeocodeCulture:i,batchSize:50,batchRequest:function(ue){return JSON.stringify({batchItems:_.map(ue,function(ye){return ye.getEntity()})})},batchHeaders:function(ue,ye){var _e={"Accept-Language":ye||Bn()};return"sasToken"===a?_e.Authorization="jwt-sas ".concat(ue):_e["subscription-key"]=ue||cl.R.AzureKey,_e},batchQueryParameters:function(ue,ye){return(0,ie.pi)((0,ie.pi)({},U),{"api-version":On})},geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;case 3:p=new od("".concat(e,"/").concat("multigeocode"),r,{batchGeocodeCulture:i,batchSize:30,batchRequest:function(ue){return JSON.stringify({GeocodeEntities:_.map(ue,function(ye){return ye.getEntity()})})},batchHeaders:function(ue,ye){return{}},batchQueryParameters:function(ue,ye){return(0,ie.pi)((0,ie.pi)({},U),{culture:ye||Bn(),output:"json",key:ue})}});break;case 4:case 5:p=new sd(e,r,{geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;default:p=new sd(e,r,{})}Kn[o]=p}return p}(e,this.geocodeBaseUrl(e),a&&a.credentials,a&&a.credentialType,U&&r.getCulture?r.getCulture():void 0),ue={timeout:x,geocoder:this,query:r,deferred:i,logger:this.bingGeocodingLogger(),bypassCache:s};K.enqueue(ue),x&&a.timeout.finally(function(){ue.deferred.state()===di.O[di.O.pending]&&ue.deferred.reject()})}}else i.reject();return i},t}(),qD=function(t){function e(r,a,i){void 0===r&&(r=function(){return!1}),void 0===a&&(a=function(){return!1});var o=t.call(this,r,a)||this;return o.logger=i,o}return(0,ie.ZT)(e,t),e.prototype.bingSpatialDataUrl=function(){return Wf},e.prototype.bingGeocodingUrl=function(){return jf},e.prototype.bingGeocodingLogger=function(){return this.logger},e.prototype.azureMapsGeocodingUrl=function(){return Hf},e.prototype.azureMapsBoundaryUrl=function(){return Kf},e}(YD),od=function(){function t(e,r,a){this.baseUrl=e,this.credentials=r,this.entries=[],this.activeEntries=[],this.activeBatches=0,this.inDequeue=!1,this.culture=a.batchGeocodeCulture,this.batchSize=a.batchSize,this.batchRequest=a.batchRequest,this.batchHeaders=a.batchHeaders,this.batchQueryParameters=a.batchQueryParameters,this.geocodeRetryOptions=a.geocodeRetryOptions}return t.prototype.getGeocodeBatchSize=function(){return this.batchSize},t.prototype.setGeocodeBatchSize=function(e){n.fF.assert(function(){return e>0&&_.isInteger(e)},"Invalid geocode batch size"),this.batchSize=e},t.prototype.reset=function(){var e=this.dequeueTimeout;e&&(this.dequeueTimeout=void 0,clearTimeout(e));for(var r=0,a=this.entries.concat(this.activeEntries);r<a.length;r++)this.cancel(a[r]);this.entries=[],this.activeEntries=[]},t.prototype.enqueue=function(e){var r=this,a={item:e};this.entries.push(a),e.deferred.always(function(){r.cancel(a)}),this.inDequeue||this.entries.length<this.batchSize||this.activeBatches>=Er.Zr.MaxBingRequest?this.scheduleDequeue():(this.dequeueTimeout&&(clearTimeout(this.dequeueTimeout),this.dequeueTimeout=void 0),this.dequeue())},t.prototype.dequeue=function(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeBatches<Er.Zr.MaxBingRequest;){for(var e=[];0!==this.entries.length&&e.length<this.batchSize;){var r=this.entries.shift();if(!r.isCompleted){var a=!r.item.bypassCache&&jn(r.item.query,r.item.logger);a?(Hn(r.item.logger,r.item.query,a),this.complete(r,{coordinates:a},!0)):e.push(r)}}e.length&&(this.geocodeRetryOptions?this.makeRequest(e,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(e))}}finally{this.inDequeue=!1}},t.prototype.scheduleDequeue=function(){var e=this;!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(function(){e.dequeueTimeout=void 0,e.dequeue()}))},t.prototype.cancel=function(e){var r=e.batch;if(r){var a=r.request;a&&--r.uncancelledCount<=0&&(r.request=null,a.abort())}this.complete(e,{error:new Error("cancelled")})},t.prototype.complete=function(e,r,a){e.isCompleted||(e.isCompleted=!0,e.item.deferred.state()===di.O[di.O.pending]&&(!r||r.error?e.item.deferred.reject(r&&r.error||new Error("cancelled")):(!e.item.bypassCache&&r.coordinates&&!a&&id(e.item.query.getKey(),r.coordinates,e.item.logger),e.item.deferred.resolve(r.coordinates)))),this.scheduleDequeue()},t.prototype.makeRequest=function(e,r,a){var i=this;if(!_.isEmpty(e)){var o={type:"POST",dataType:"json",contentType:"application/json",data:this.batchRequest(e.map(function(Re){return Re.item.query}))},s=this.batchHeaders&&this.batchHeaders(this.credentials,this.culture);_.isEmpty(s)||(o.headers=s);for(var p=this.batchQueryParameters(this.credentials,this.culture),x=(0,Ni.fS)(this.baseUrl,p),U={uncancelledCount:e.length,request:nd.MapsAjaxCall(x,o)},K=0,ue=e;K<ue.length;K++){var ye=ue[K];ye.batch=U,this.activeEntries.push(ye)}++this.activeBatches;var _e=U.request;_e.always(function(){--i.activeBatches;for(var Re=0,$e=e;Re<$e.length;Re++)_.pull(i.activeEntries,$e[Re])});var Ie=_.head(e).item.bypassCache;_e.pipe(function(Re){Ie&&Eo({url:x,request:o.data,response:JSON.stringify(Re)});for(var $e=function(Lt){var _t=e[Lt];_t.batch=null;var Et,Nt=_t.item,jt=Nt.query.extractSingleResult&&Nt.query.extractSingleResult(Re,Lt);if(Nt.geocoder&&Nt.query.shouldDoFullGeocoding&&Nt.query.shouldDoFullGeocoding(jt))Nt.geocoder.geocodeCore(0,Nt.query,{bypassCache:!0,timeout:Nt.timeout}).then(function(Ut){Et={coordinates:Ut}},function(Ut){Et={error:Ut}}).done(function(){i.complete(_t,Et)});else{if(jt)try{Et=Nt.query.getResult(jt)}catch(Ut){Et={error:Ut}}else Et={error:new Error("no data")};Ao(Nt.logger,Nt.query,jt,Et,!0),i.complete(_t,Et)}},st=0;st<e.length;++st)$e(st)},function(Re){if(Ie&&Eo({url:x,request:o.data,error:JSON.stringify(Re)}),i.shouldRetry(Re?Re.status:void 0,r)){var st=Math.random()*a+a;a*=2,setTimeout(function(){r++,i.makeRequest(e,r,a)},st)}else for(var ht=0,Lt=e;ht<Lt.length;ht++){var _t=Lt[ht];_t.batch=null;var Nt={error:new Error(Re&&Re.statusText||"cancelled")};Ao(_t.item.logger,_t.item.query,void 0,Nt,!0),i.complete(_t,Nt)}})}},t.prototype.shouldRetry=function(e,r){if(!this.geocodeRetryOptions)return!1;var a=this.geocodeRetryOptions,o=a.maxRetryAttempts;return a.retryOnStatusCodes.includes(e)&&r<o},t}(),sd=function(){function t(e,r,a){this.baseUrl=e,this.credentials=r,this.entries=[],this.activeEntries=[],this.inDequeue=!1,this.geocodeRetryOptions=a.geocodeRetryOptions}return t.prototype.reset=function(){var e=this.dequeueTimeout;e&&(this.dequeueTimeout=void 0,clearTimeout(e));for(var r=0,a=this.entries.concat(this.activeEntries);r<a.length;r++)this.cancel(a[r]);this.entries=[],this.activeEntries=[]},t.prototype.enqueue=function(e){var r=this,a={item:e};this.entries.push(a),e.deferred.always(function(){r.cancel(a)}),this.dequeue()},t.prototype.dequeue=function(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeEntries.length<Er.Zr.MaxBingRequest;){var e=this.entries.shift();e.isCompleted||(this.geocodeRetryOptions?this.makeRequest(e,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(e))}}finally{this.inDequeue=!1}},t.prototype.scheduleDequeue=function(){var e=this;!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(function(){e.dequeueTimeout=void 0,e.dequeue()}))},t.prototype.cancel=function(e){if(!e.jsonp){var r=e.request;r&&(e.request=null,r.abort())}this.complete(e,{error:new Error("cancelled")})},t.prototype.complete=function(e,r,a){e.isCompleted||(e.isCompleted=!0,e.item.deferred.state()===di.O[di.O.pending]&&(!r||r.error?e.item.deferred.reject(r&&r.error||new Error("cancelled")):(!e.item.bypassCache&&r.coordinates&&!a&&id(e.item.query.getKey(),r.coordinates,e.item.logger),e.item.deferred.resolve(r.coordinates)))),this.scheduleDequeue()},t.prototype.makeRequest=function(e,r,a){var i=this,o=!e.item.bypassCache&&jn(e.item.query,e.item.logger);if(o)return Hn(e.item.logger,e.item.query,o),void this.complete(e,{coordinates:o},!0);var s=e.item.query.getAjaxConfig();s.jsonp&&(e.jsonp=!0);var p=e.item.query.getHeaders&&e.item.query.getHeaders();_.isEmpty(p)||(s.headers=p);var x=e.item.query.getUrl(this.baseUrl);x?(this.activeEntries.push(e),e.request=nd.MapsAjaxCall(x,s),e.request.always(function(){_.pull(i.activeEntries,e)}),e.request.pipe(function(U){var K;e.item.bypassCache&&Eo({url:x,response:JSON.stringify(U)}),e.request=null;try{K=e.item.query.getResult(U)}catch(ue){K={error:ue}}Ao(e.item.logger,e.item.query,U,K,!1),i.complete(e,K)},function(U){if(e.item.bypassCache&&Eo({url:x,error:JSON.stringify(U)}),i.shouldRetry(U?U.status:void 0,r)){var ue=Math.random()*a+a;a*=2,setTimeout(function(){r++,i.makeRequest(e,r,a)},ue)}else{e.request=null;var ye={error:new Error(U&&U.statusText||"cancelled")};Ao(e.item.logger,e.item.query,void 0,ye,!1),i.complete(e,ye)}})):this.complete(e,{error:new Error("Unsupported query.")})},t.prototype.shouldRetry=function(e,r){if(!this.geocodeRetryOptions)return!1;var a=this.geocodeRetryOptions,o=a.maxRetryAttempts;return a.retryOnStatusCodes.includes(e)&&r<o},t}(),Kn={},ld=ke(6189),t_=function(){function t(e,r,a){this.messageProxy=e,this.promiseFactory=r,this.sandboxPromiseHandler=a}return t.prototype.acquireAADToken=function(){var e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"acquireAADToken",arguments:[e.id]}),e.deferred.promise},t.prototype.getAcquireAADTokenStatus=function(){var e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAcquireAADTokenStatus",arguments:[e.id]}),e.deferred.promise},t}(),a_=function(){function t(e,r,a){n.fF.assertValue(e,"messageProxy"),n.fF.assertValue(r,"promiseFactory"),this.messageProxy=e,this.promiseFactory=r,this.sandboxPromiseHandler=a}return t.prototype.getResourceUrl=function(){var e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getResourceUrl",arguments:[e.id]}),e.deferred.promise},t.prototype.getAADAuthenticationToken=function(){var e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADAuthenticationToken",arguments:[e.id]}),e.deferred.promise},t.prototype.getAADToken=function(){var e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADToken",arguments:[e.id]}),e.deferred.promise},t.prototype.getWACToken=function(e,r){var a=this.sandboxPromiseHandler.CreatePromise2(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWACToken",arguments:[{resourceEtag:r,resourceSiteUrl:e,promiseId:a.id}]}),a.deferred.promise},t.prototype.getSignedInAccessToken=function(){return this.promiseFactory.reject()},t.prototype.getClusterInfo=function(){return this.promiseFactory.reject()},t}(),n_=function(){function t(e,r,a){n.fF.assertValue(e,"messageProxy"),n.fF.assertValue(r,"promiseFactory"),this.messageProxy=e,this.promiseFactory=r,this.sandboxPromiseHandler=a}return t.prototype.downloadFile=function(e,r,a,i){throw new Error("Not implemented")},t.prototype.getExportStatus=function(){var e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"exportVisualsContentStatus",arguments:[e.id]}),e.deferred.promise},t.prototype.exportVisualsContent=function(e,r,a,i){var o=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return e&&r&&a&&i?this.messageProxy.postMessage({eventName:"exportVisualsContent",arguments:[e,r,a,i,o.id]}):o.deferred.reject(),o.deferred.promise},t}(),s_=function(){function t(e,r){this.messageProxy=e,this.instanceId=r,n.fF.assertValue(e,"messageProxy")}return t.prototype.renderingStarted=function(e){this.messageProxy.postMessage({eventName:"renderingStarted",arguments:[this.instanceId,e.updateId]})},t.prototype.renderingFinished=function(e){this.messageProxy.postMessage({eventName:"renderingFinished",arguments:[this.instanceId,e.updateId]})},t.prototype.renderingFailed=function(e,r){this.messageProxy.postMessage({eventName:"renderingFailed",arguments:[this.instanceId,e.updateId,r]})},t}(),u_=function(){function t(e,r,a){this.messageProxy=e,this.promiseFactory=r,this.sandboxPromiseHandler=a,n.fF.assertValue(e,"messageProxy"),n.fF.assertValue(r,"promiseFactory")}return t.prototype.getAvailableServicePlans=function(){var e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAvailableServicePlans",arguments:[e.id]}),e.deferred.promise},t.prototype.notifyLicenseRequired=function(e){var r=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyLicenseRequired",arguments:[e,r.id]}),r.deferred.promise},t.prototype.notifyFeatureBlocked=function(e){var r=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyFeatureBlocked",arguments:[e,r.id]}),r.deferred.promise},t.prototype.clearLicenseNotification=function(){var e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"clearLicenseNotification",arguments:[e.id]}),e.deferred.promise},t}(),f_=function(){function t(e,r,a){n.fF.assertValue(e,"messageProxy"),n.fF.assertValue(r,"promiseFactory"),this.messageProxy=e,this.promiseFactory=r,this.sandboxPromiseHandler=a}return t.prototype.getStorageStatus=function(){var e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageStatus",arguments:[e.id]}),e.deferred.promise},t.prototype.getStorageData=function(e){var r=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageData",arguments:[e,r.id]}),r.deferred.promise},t.prototype.setStorageData=function(e,r){var a=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageData",arguments:[e,r,a.id]}),a.deferred.promise},t.prototype.removeStorageData=function(e){this.messageProxy.postMessage({eventName:"removeStorageData",arguments:[e]})},t}(),p_=function(){function t(e,r,a){n.fF.assertValue(e,"messageProxy"),n.fF.assertValue(r,"promiseFactory"),this.messageProxy=e,this.promiseFactory=r,this.sandboxPromiseHandler=a}return t.prototype.getStorageStatus=function(){var e=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Status",arguments:[e.id]}),e.deferred.promise},t.prototype.getStorageData=function(e){var r=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Data",arguments:[e,r.id]}),r.deferred.promise},t.prototype.setStorageData=function(e,r){var a=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageV2Data",arguments:[e,r,a.id]}),a.deferred.promise},t.prototype.removeStorageData=function(e){this.messageProxy.postMessage({eventName:"removeStorageV2Data",arguments:[e]})},t}(),v_=function(){function t(e,r){this.messageProxy=e,n.fF.assertValue(e,"messageProxy"),this.instanceId=r}return t.prototype.trace=function(e,r){this.messageProxy.postMessageAsync({eventName:"logVisualEvent",arguments:[jS(e),{instanceId:this.instanceId,payload:r}]})},t.prototype.logStandardizedFeatureEvent=function(){},t}(),y_=function(){function t(e){n.fF.assertValue(e,"messageProxy"),this.messageProxy=e,this.rootElement=window.document.body}return t.prototype.serializeIdentities=function(e){return e&&e[0]instanceof Ar?e:e&&_(e).map(function(a){return io(a)}).compact().value()},t.prototype.show=function(e){var r=e&&{coordinates:e.coordinates,dataItems:e.dataItems,identities:this.serializeIdentities(e.identities),isTouchEvent:e.isTouchEvent};this.messageProxy.postMessage({eventName:"showTooltip",arguments:[r]})},t.prototype.move=function(e){var r=e&&{coordinates:e.coordinates,dataItems:e.dataItems,identities:this.serializeIdentities(e.identities),isTouchEvent:e.isTouchEvent};this.messageProxy.postMessage({eventName:"moveTooltip",arguments:[r]})},t.prototype.hide=function(e){this.messageProxy.postMessage({eventName:"hideTooltip",arguments:[e]})},t.prototype.visible=function(){return!1},t.prototype.isTouchOptimized=function(){return!1},t.prototype.container=function(){return this.rootElement},t.prototype.enabled=function(){return!0},t}(),b_=function(){function t(e,r,a){n.fF.assertValue(e,"messageProxy"),n.fF.assertValue(r,"promiseFactory"),this.messageProxy=e,this.promiseFactory=r,this.sandboxPromiseHandler=a}return t.prototype.getWebAccessStatus=function(e){var r=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWebAccessStatus",arguments:[e,r.id]}),r.deferred.promise},t}(),S_={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},xa={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Decrease:"Decrease",Increase:"Increase",Waterfall_TotalLabel:"Total",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},ud=function(){function t(e,r){this.messageProxy=e,this.sandboxPromiseHandler=r,this.loadMoreDataEnabled=!0,n.fF.assertValue(e,"messageProxy"),this.visualHostTooltipService=function(t){return new y_(t)}(e),this.queryDictionary=t.parseUrlParameters(),this.authService=function(t,e,r){return new a_(t,e,r)}(e,this.promiseFactory(),r),this.storageService=function(t,e,r){return new f_(t,e,r)}(e,this.promiseFactory(),r),this.hostWebAccessService=function(t,e,r){return new b_(t,e,r)}(e,this.promiseFactory(),r),this.contentDownloadService=function(t,e,r){return new n_(t,e,r)}(e,this.promiseFactory(),r),this.licensesManagerService=function(t,e,r){return new u_(t,e,r)}(e,this.promiseFactory(),r),this.acquireTokenService=function(t,e,r){return new t_(t,e,r)}(e,this.promiseFactory(),r),this.storageV2Service=function(t,e,r){return new p_(t,e,r)}(e,this.promiseFactory(),r),this.dialogPromiseFactory=this.promiseFactory()}return t.prototype.initInstanceId=function(e){this._instanceId=e,this.telemetryService=function(t,e){return new v_(t,e)}(this.messageProxy,e),this.eventsService=function(t,e){return new s_(t,e)}(this.messageProxy,e)},t.initialize=function(){ld.I6&&(ld.I6.localizationOptions=t.createTooltipLocaleOptions())},t.createLocaleOptions=function(){return{null:xa.NullValue,true:xa.BooleanTrue,false:xa.BooleanFalse,NaN:xa.NaNValue,infinity:xa.InfinityValue,negativeInfinity:xa.NegativeInfinityValue,beautify:function(r){return t.beautify(r)},describe:function(r){return t.describeUnit(r)},restatementComma:xa.Restatement_Comma,restatementCompoundAnd:xa.Restatement_CompoundAnd,restatementCompoundOr:xa.Restatement_CompoundOr}},t.createTooltipLocaleOptions=function(){return{highlightedValueDisplayName:xa.Tooltip_HighlightedValueDisplayName}},t.prototype.getLocalizedString=function(e){return xa[e]},t.prototype.onSelecting=function(e){e.action=0},t.prototype.onSelect=function(e){var r;if(function(t){var r=null!=t.data||null!=t.selectors,a=_.some(t.visualObjects,function(i){return i.selectorsByColumn&&i.selectorsByColumn.metadata&&!_.isArray(i.selectorsByColumn.metadata)});return r||a}(e)){var a=e;r={data:mu(a.data),data2:io(a.data2),selectors:mu(a.selectors)}}else r={type:e.type,visualObjects:rh(e.visualObjects)};this.messageProxy.postMessage({eventName:"onSelect",arguments:[r]})},t.prototype.customVisualOnContextMenu=function(e){this.messageProxy.postMessage({eventName:"onCustomVisualContextMenu",arguments:[e]})},t.prototype.customVisualOnExpandCollapse=function(e){this.messageProxy.postMessage({eventName:"onCustomVisualExpandCollapse",arguments:[e]})},t.prototype.switchFocusModeState=function(e){this.messageProxy.postMessage({eventName:"onSwitchFocusModeState",arguments:[e]})},t.prototype.displayWarningIcon=function(e,r){null!=e&&null!=r&&this.messageProxy.postMessage({eventName:"onDisplayWarningIcon",arguments:[e,r]})},t.prototype.persistProperties=function(e){var r,a=e;r=this.apiVersion&&(Zi(this.apiVersion,"2.0.0")||Nu(this.apiVersion,"2.0.0"))?e:a.merge||a.remove||a.replace?{merge:a.merge?vn(a.merge):null,replace:a.replace?vn(a.replace):null,remove:a.remove?vn(a.remove):null}:vn(e),this.messageProxy.postMessage({eventName:"persistProperties",arguments:[r]})},t.prototype.sendSelectionIdsToHost=function(e){this.messageProxy.postMessage({eventName:"transformCvSelectionIdsAndSelect",arguments:[e]})},t.prototype.loadMoreData=function(){this.fetchMoreData(!0)},t.prototype.loadWindow=function(e){},t.prototype.fetchMoreData=function(e){return!!this.loadMoreDataEnabled&&(!1!==e&&(e=!0),this.messageProxy.postMessage({eventName:"loadMoreData",arguments:[e]}),!0)},t.prototype.launchUrl=function(e){this.messageProxy.postMessage({eventName:"launchUrl",arguments:[e]})},t.prototype.drill=function(e){this.messageProxy.postMessage({eventName:"drill",arguments:[e]})},t.prototype.openModalDialog=function(e,r,a){var i=this.sandboxPromiseHandler.CreatePromise(this.dialogPromiseFactory.defer());return this.messageProxy.postMessage({eventName:"openModalDialog",arguments:[e,r,a,i.id]}),i.deferred.promise},t.prototype.tooltips=function(){return this.visualHostTooltipService},t.prototype.telemetry=function(){return this.telemetryService},t.prototype.authenticationService=function(){return this.authService},t.prototype.localStorageService=function(){return this.storageService},t.prototype.localStorageV2Service=function(){return this.storageV2Service},t.prototype.eventService=function(){return this.eventsService},t.prototype.licenseManagerService=function(){return this.licensesManagerService},t.prototype.acquireAADTokenService=function(){return this.acquireTokenService},t.prototype.visualTimeSynchronization=function(){return this.visualTimeSynchronizationService},t.prototype.networkAvailability=function(){return this.networkAvailabilityService},t.prototype.webAccessService=function(){return this.hostWebAccessService},t.prototype.getSectionsMetadata$=function(){},t.prototype.getBookmarksMetadata$=function(){},t.prototype.downloadService=function(){return this.contentDownloadService},t.prototype.artifactService=function(){},t.prototype.getQueryStringValue=function(e){return this.queryDictionary&&this.queryDictionary[e]},t.prototype.locale=function(){var e=this.queryDictionary&&this.queryDictionary.locale;return n.fF.assert(function(){return!!e},"custom visual locale parameter is not valid"),e||navigator.language},t.prototype.loader=function(){var e=this;return{require:function(){return e.promiseFactory().reject()}}},t.prototype.applyJsonFilter=function(e,r,a,i){var o=[e,r,a];return i&&o.push(i),this.messageProxy.postMessage({eventName:"applyJsonFilter",arguments:o}),!0},t.prototype.applyIdentityFilter=function(e,r,a,i){var o=[e,r,a];return i&&o.push(i),this.messageProxy.postMessage({eventName:"applyIdentityFilter",arguments:o}),!0},t.prototype.getJSONFilter=function(e,r){return this.promiseFactory().reject()},t.parseUrlParameters=function(e){void 0===e&&(e=window.location.search);var r={},a=e;if(a&&"?"===a.substr(0,1))for(var o=0,s=a.substr(1).split("&");o<s.length;o++){var p=s[o],x=p&&p.split("=");x&&2===x.length&&(r[decodeURIComponent(x[0])]=decodeURIComponent(x[1]))}return r},t.prototype.destroy=function(){this.messageProxy.destroy(),this.messageProxy=null},t.prototype.refreshHostData=function(){this.messageProxy.postMessage({eventName:"refreshHostData",arguments:null})},t.prototype.createSelectionIdBuilder=function(){return new Ar},t.prototype.createTooltipService=function(){return ka({hostServices:this})},t.prototype.createSelectionManager=function(e){return new ba({hostServices:this,apiVersion:e})},t.prototype.applyCustomSort=function(e){this.messageProxy.postMessage({eventName:"applyCustomSort",arguments:[e]})},t.prototype.alertScreenReader=function(e){},t.prototype.alertWithDebounce=function(e,r){},t.prototype.requestFocus=function(){},t.prototype.setShouldDeferData=function(){},t.prototype.onDragStart=function(){},t.prototype.onContextMenu=function(){},t.prototype.onSwitchFocusModeState=function(){},t.prototype.onDisplayWarningIcon=function(){},t.prototype.onClearCustomizedWarningIcon=function(){},t.prototype.getVisualLinkProperties=function(){},t.prototype.canSelect=function(){return!1},t.prototype.canExpandCollapse=function(e){return!1},t.prototype.setNodeExpansionState=function(e){},t.prototype.setLevelExpansionState=function(e){},t.prototype.onCustomSort=function(e){},t.prototype.getViewMode=function(){return 0},t.prototype.getEditMode=function(){return 0},t.prototype.setWarnings=function(e){},t.prototype.getWarnings$=function(){},t.prototype.setToolbar=function(e){},t.prototype.shouldRetainSelection=function(){return!1},t.prototype.geocoder=function(){return new qD},t.prototype.geolocation=function(){n.fF.assertFail("Not being used anywhere")},t.prototype.promiseFactory=function(){return(0,di.p)()},t.prototype.ignoreDefaultFilter=function(){return!1},t.prototype.getIdentityDisplayNames=function(e){},t.prototype.setIdentityDisplayNames=function(e){},t.prototype.setFilterExpressionMetadata=function(){},t.prototype.getFilterExpressionMetadata=function(){},t.prototype.getUIComponentFactory=function(){},t.prototype.onHyperlinkClick=function(e,r){},t.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},t.prototype.dataMultiSelectMode=function(){return 0},t.prototype.dropdown=function(){},t.prototype.setAriaMetadata=function(e){},t.prototype.onNotifyLicense=function(e){},t.prototype.onClearLicenseNotification=function(){},t.prototype.onNotifyFeatureBlocked=function(e){},t.prototype.getSubSelectionService=function(){},t.prototype.getAzureMapToken=function(){},t.prototype.azureMapsEndpoint=function(){},t.prototype.triggerUpdate=function(){},t.prototype.isScreenshotWorkload=function(){return!1},t.prototype.dateTimeFormatService=function(){},Object.defineProperty(t.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!1,configurable:!0}),t.beautify=function(e){var r=S_[e];return r&&xa[r]||e},t.describeUnit=function(e){var r=-1===e?"Auto":e.toString(),a=xa["DisplayUnitSystem_E"+r+"_Title"],i=e<=0?"{0}":xa["DisplayUnitSystem_E"+r+"_LabelFormat"];if(a||i)return{title:a,format:i}},t.prototype.enableLoadMoreData=function(e){this.loadMoreDataEnabled=e},t}(),vl="children",D_=function(){function t(){this.serializeDataViewFromScrathTimes=0,this.initializeFields()}return t.prototype.serializeDataViewForCv=function(e,r,a,i,o,s){var p=this;if(void 0===s&&(s=!1),a||(this.initializeFields(),this.serializeDataViewFromScrathTimes=(this.serializeDataViewFromScrathTimes+1)%11617),e){e=this.filterDataViewsType(e,r),this.isExpandCollapseSupported=!!e.matrix&&!!r.expandCollapse,this.isExpandCollapseSupported&&(a&&(n.fF.assert(function(){return!_.isEmpty(o)},"lastNodeIndex should be defined and not empty when we load more data"),this.lastNodeIndex=o),e.matrix.rows.levels.forEach(function(ue,ye){ue.sources&&ue.sources[0]&&ue.sources[0].queryName&&(p.rowsLevel.length>ye?p.rowsLevel[ye]=ue.sources[0].queryName:p.rowsLevel.push(ue.sources[0].queryName))}));var x=this.getValueSource(e),U=this.getValueGroups(e);this.shouldShareIdentityIndexStrategy=s&&!!e.matrix;var K=JSON.stringify(e,function(ue,ye){return p.replacer(ue,ye,i)});return n.fF.assert(function(){return _.isEmpty(p.stackNodeIndex)},"stackNodeIndex should be empty"),{valueSource:x,valueGroups:U,stringifiedDataView:K}}},t.prototype.serializeDataViewMetadata=function(e){var r=this;return e.metadata?JSON.stringify(e.metadata,function(a,i){return r.replacer(a,i)}):null},t.prototype.deserializeDataView=function(e,r,a,i,o){var p,s=this;return void 0===a&&(a=!1),void 0===i&&(i=[]),void 0===o&&(o=!1),this.isExpandCollapseSupported=a,this.lastNodeIndex=i,p=r||this.isExpandCollapseSupported&&o?JSON.parse(e.stringifiedDataView,function(x,U){return s.deserializeDataViewHelper(x,U,o)}):JSON.parse(e.stringifiedDataView),this.reconstructValuesGroups(p,e),this.reconstructValuesSource(p,e),p},t.prototype.convertOpaqueIdentitiesToScopeIds=function(e){var r=[];if(e&&e.length>0)for(var a=0,i=e;a<i.length;a++){var o=i[a],s=this.replaceOpaqueIndexWithScopeIds(o);s&&(s.opaqueIdentity={identityIndex:o},r.push(s))}return r},t.prototype.convertCVSelectionIdToPowerbiSelctionId=function(e){var r=this,a=JSON.parse(JSON.stringify(e),function(i,o){return r.replaceOpaqueIdentitiesWithDataViewScopeIdentities(i,o)});return ca.l0.createWithSelectorForColumnAndMeasures(a.dataMap,a.measures)},t.prototype.restoreIdentitiesIndexesFromSelectionId=function(e){var r=this,a={serializedDataMap:{},measures:e.metadata};return _.map(e.dataMap,function(i,o){n.fF.assert(function(){return i.length<=1},"dataMap can only have one selector per column"),a.serializedDataMap[o]=[{identityIndex:r.getIndexOfIdentity(i[0])}]}),a},t.prototype.getNodeIndexOfSelectionId=function(e){var r,a=[];if(e&&e.dataMap){if(null!==(r=e.nodeIndexes)&&void 0!==r&&r.length)return e.nodeIndexes;for(var i in e.dataMap){var o=_.first(e.dataMap[i]).identityIndex;null!=this.identityNodeIndexArray[o]&&a.push(this.identityNodeIndexArray[o])}}return a},t.prototype.sortSelectionIdAccordingToRows=function(e){var r=this;if(!e||!e.dataMap)return!1;var a=Object.keys(e.dataMap),i=Object.keys(e.dataMap).sort(function(p,x){return r.rowsLevel.indexOf(p)-r.rowsLevel.indexOf(x)}),o=!_.isEmpty(i)&&!_.isEmpty(this.rowsLevel)&&i.length<=this.rowsLevel.length&&i.every(function(p,x){return p===r.rowsLevel[x]});if(o){var s=e.nodeIndexes;null!=s&&s.length&&s.length===a.length&&(e.nodeIndexes=Object.entries(s).sort(function(p,x){var K=x[0];return r.rowsLevel.indexOf(a[Number(p[0])])-r.rowsLevel.indexOf(a[Number(K)])}).map(function(p){return p[1]})),e.dataMap=i.reduce(function(p,x){return p[x]=e.dataMap[x],p},{})}return o},t.prototype.deserializeVisualObjectInstance=function(e){var r=this;return JSON.parse(JSON.stringify(e,function(a,i){return r.replaceOpaqueIdentities(i)}))},t.prototype.deserializeOpaqueIdentity=function(e){var r=this;null!=e&&e.data&&(e.data=e.data.map(function(a){return r.replaceOpaqueIdentities(a)}))},t.prototype.flushIdentitiesArray=function(){!this.identitiesArray||0===this.identitiesArray.length||this.identitiesArray.forEach(function(e){e.opaqueIdentity=void 0,e.serializeDataViewFromScrathTimes=void 0})},t.prototype.getValueGroups=function(e){var r=this;if(e&&e.categorical&&e.categorical.values&&e.categorical.values.grouped){var a=e.categorical.values.grouped();return JSON.stringify(a,function(i,o){return r.replacer(i,o)})}return null},t.prototype.getValueSource=function(e){return e&&e.categorical&&e.categorical.values&&e.categorical.values.source?e.categorical.values.source:null},t.prototype.deserializeDataViewHelper=function(e,r,a){var i,o,s;if(r&&(a&&this.isExpandCollapseSupported&&!isNaN(parseInt(e,10))&&null!=(null===(i=r.identity)||void 0===i?void 0:i.identityIndex)&&(r.nodeIndex=null!==(o=r.nodeIndex)&&void 0!==o?o:parseInt(e,10)),e===vl&&r instanceof Array)){if(a&&this.isExpandCollapseSupported&&!_.isEmpty(r)&&_.first(r).isMerge&&!_.isEmpty(this.lastNodeIndex))for(var p in r){var x=r[p];x.identity&&(x.nodeIndex=null!==(s=x.nodeIndex)&&void 0!==s?s:Number(p),x.nodeIndex+=this.lastNodeIndex[x.level])}for(var U=0;U<r.length;U++)if(r[U]&&(r[U].isDate&&(r[U].value=new Date(r[U].value)),r[U].values))for(var K in r[U].values)r[U].values[K].isDate&&(r[U].values[K].value=new Date(r[U].values[K].value))}return r},t.prototype.replacer=function(e,r,a){var i=this;if(r){if(!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&!isNaN(parseInt(e,10))&&r.identity&&this.isDataViewScopeIdentity(r.identity)&&(this.stackNodeIndex.push(parseInt(e,10)+this.getNodeIndexOffset(r)),r.needOffset&&delete r.needOffset),this.isDataViewScopeIdentity(r)){if(r.serializeDataViewFromScrathTimes===this.serializeDataViewFromScrathTimes&&r.opaqueIdentity&&null!=r.opaqueIdentity.identityIndex){if(this.stackNodeIndex.length){var o=this.stackNodeIndex.pop();null==this.identityNodeIndexArray[r.opaqueIdentity.identityIndex]&&(this.identityNodeIndexArray[r.opaqueIdentity.identityIndex]=o)}return{identityIndex:r.opaqueIdentity.identityIndex}}n.fF.assert(function(){return _.isEmpty(i.lastNodeIndex)||!_.isEmpty(i.lastNodeIndex)&&null==r.opaqueIdentity},"The new segment's values should not have opaqueIdentity"),r.serializeDataViewFromScrathTimes=this.serializeDataViewFromScrathTimes;var s=-1;return this.shouldShareIdentityIndexStrategy&&(s=this.getIndexOfIdentity(r))>-1?r.opaqueIdentity={identityIndex:s}:(r.opaqueIdentity={identityIndex:this.identitiesArray.length},this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[r.key]=this.identitiesArray.length),this.identitiesArray.push(r)),this.stackNodeIndex.length&&(this.identityNodeIndexArray[r.opaqueIdentity.identityIndex]=this.stackNodeIndex.pop()),r.opaqueIdentity}if(r instanceof Array){var p=[];if(!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&e===vl&&!_.isEmpty(r)&&_.first(r).isMerge)for(var x=0,U=r;x<U.length;x++){var K=U[x];K.identity&&(K.needOffset=!0)}if(a&&e===vl)for(var ue=0;ue<r.length;ue++)if(r[ue]&&(r[ue].value&&r[ue].value instanceof Date&&(r[ue].isDate=!0),r[ue].values))for(var ye in r[ue].values)r[ue].values[ye].value&&r[ue].values[ye].value instanceof Date&&(r[ue].values[ye].isDate=!0);return p.push.apply(p,r||[]),p}if("object"==typeof r&&!this.dontNeedToClone(r)){var _e={};for(var Ie in r)_e[Ie]=r[Ie];return _e}}return r},t.prototype.replaceOpaqueIdentities=function(e){if(e){var r=e.identityIndex;if(void 0!==r&&r>=0&&r<this.identitiesArray.length)return Ko(this.identitiesArray[e.identityIndex])}return e},t.prototype.getNodeIndexOffset=function(e){var r=this;return this.isExpandCollapseSupported&&!_.isEmpty(this.lastNodeIndex)&&e.needOffset?(n.fF.assert(function(){return e.level<r.lastNodeIndex.length},"node's level is too high"),this.lastNodeIndex[e.level]):0},t.prototype.getIndexOfIdentity=function(e){if(this.shouldShareIdentityIndexStrategy){var r=this.identitiesIndexesMapper[e.key];return null!=r?r:-1}return _.findIndex(this.identitiesArray,function(a){return(0,Pt.fS)(a,e)})},t.prototype.replaceOpaqueIdentitiesWithDataViewScopeIdentities=function(e,r){return r&&void 0!==r.identityIndex?this.identitiesArray[r.identityIndex]:r},t.prototype.filterDataViewsType=function(e,r){return r.dataViewMappings&&(r.dataViewMappings[0].categorical||(e.categorical=null),r.dataViewMappings[0].matrix||(e.matrix=null),r.dataViewMappings[0].table||(e.table=null),r.dataViewMappings[0].tree||(e.tree=null),r.dataViewMappings[0].single||(e.single=null)),e},t.prototype.dontNeedToClone=function(e){return e._proto_===Object.prototype||e instanceof Date},t.prototype.isDataViewScopeIdentity=function(e){return!!(e&&e.expr&&e.key&&e.kind)},t.prototype.reconstructValuesSource=function(e,r){r&&r.valueSource&&(e.categorical.values.source=r.valueSource)},t.prototype.reconstructValuesGroups=function(e,r){e&&e.categorical&&e.categorical.values&&e.categorical.values[0]&&(e.categorical.values.grouped=function(){return JSON.parse(r.valueGroups)})},t.prototype.replaceOpaqueIndexWithScopeIds=function(e){return e<this.identitiesArray.length?this.identitiesArray[e]:null},t.prototype.initializeFields=function(){this.identitiesArray=[],this.identityNodeIndexArray={},this.stackNodeIndex=[],this.rowsLevel=[],this.lastNodeIndex=[],this.identitiesIndexesMapper={},this.shouldShareIdentityIndexStrategy=!1},t}(),__=function(t){return t.Click="click",t.MouseUp="mouseup",t.MSPointerUp="MSPointerUp",t.PointerUp="pointerup",t}({}),E_=function(t){return t.Tap="tap",t.TouchCancel="touchcancel",t.Touchend="touchend",t}({}),F_=function(t){return t.KeyDown="keydown",t}({}),cd=Object.values(__),fd=Object.values(E_),hl=Object.values(F_),yl=cd.concat(fd),gl=["type","bubbles","which","buttons","button","ctrlKey","altKey","metaKey","shiftKey","x","y","clientX","clientY","pageX","pageY","movementX","movementY","layerX","layerY","changedTouches","keyCode","code","key","cancelable","composed"],N_=["Escape"],dd=function(){function t(e){this.id=++t.counter,this.deferred=e}return t.getLastId=function(){return t.counter},t.counter=0,t}(),pd=function(){function t(e){this.id=++t.counter,this.deferred=e}return t.getLastId=function(){return t.counter},t.counter=0,t}(),md=function(){function t(){this.promises={},this.promises2={}}return t.prototype.CreatePromise=function(e){var r=new dd(e);return this.promises[r.id]=r,r},t.prototype.ResolvePromise=function(e,r){var a=this.promises[e];a&&(a.deferred.resolve(r),this.promises[e]=null)},t.prototype.RejectPromise=function(e,r){var a=this.promises[e];a&&(a.deferred.reject(r),this.promises[e]=null)},t.prototype.CreatePromise2=function(e){var r=new pd(e);return this.promises2[r.id]=r,r},t.prototype.ResolvePromise2=function(e,r){var a=this.promises2[e];a&&(a.deferred.resolve(r),this.promises2[e]=null)},t.prototype.RejectPromise2=function(e,r){var a=this.promises2[e];a&&(a.deferred.reject(r),this.promises2[e]=null)},t}();function bn(){return window.powerbi.visuals.plugins}function vd(t){var r=JSON.stringify({eventName:"onSecurityPolicyViolation",arguments:[t.blockedURI,t.violatedDirective,t.originalPolicy]});window.parent.postMessage(r,"*")}function hd(t,e){void 0===e&&(e=!1);var r=(0,di.p)(),a=Zc(r);ud.initialize(),ec.s.getQueryStringValue("pbiglobals")&&function(){var t=(0,In.wg)();t.FilterAction=QV,t.VisualDataRoleKind=Kr.DW,t.VisualDataChangeOperationKind=Kr.su,t.VisualUpdateType=Kr.EP,t.VisualPermissions=Kr.NI,t.formattingService=Aa.dx;var e=function(){var t=Vo();return t.data||(t.data={}),t.data}();m.nw&&(e.SQExprBuilder={},e.SQExprBuilder.entity=m.nw,e.SQExprBuilder.subqueryRef=m.v5,e.SQExprBuilder.namedQueryRef=m.kD,e.SQExprBuilder.columnRef=m.Oh,e.SQExprBuilder.measureRef=m.mv,e.SQExprBuilder.nativeMeasure=m.PB,e.SQExprBuilder.nativeColumn=m.sl,e.SQExprBuilder.aggregate=m.m_,e.SQExprBuilder.selectRef=m.xA,e.SQExprBuilder.percentile=m.Pe,e.SQExprBuilder.rangePercent=m.Mj,e.SQExprBuilder.arithmetic=m.Y8,e.SQExprBuilder.floor=m.GW,e.SQExprBuilder.scopedEval=m.ed,e.SQExprBuilder.filteredEval=m.Xw,e.SQExprBuilder.withRef=m.Oe,e.SQExprBuilder.groupRef=m.Wp,e.SQExprBuilder.hierarchy=m.bT,e.SQExprBuilder.propertyVariationSource=m.yU,e.SQExprBuilder.hierarchyLevel=m.os,e.SQExprBuilder.transformTableRef=m.GB,e.SQExprBuilder.transformOutputRoleRef=m.hu,e.SQExprBuilder.roleRef=m.Wu,e.SQExprBuilder.summaryValueRef=m.bO,e.SQExprBuilder.allRolesRef=m.lI,e.SQExprBuilder.and=m.xD,e.SQExprBuilder.between=m.vX,e.SQExprBuilder.inValues=m.Sh,e.SQExprBuilder.inTable=m.dY,e.SQExprBuilder.or=m.or,e.SQExprBuilder.compare=m.qu,e.SQExprBuilder.conditional=m.u7,e.SQExprBuilder.contains=m.r3,e.SQExprBuilder.exists=m.Gg,e.SQExprBuilder.equal=m.Dg,e.SQExprBuilder.not=m.ff,e.SQExprBuilder.startsWith=m.Ny,e.SQExprBuilder.nullConstant=m.IF,e.SQExprBuilder.emptyString=m.$t,e.SQExprBuilder.now=m.zO,e.SQExprBuilder.defaultValue=m.LS,e.SQExprBuilder.anyValue=m.n7,e.SQExprBuilder.boolean=m.O7,e.SQExprBuilder.dateAdd=m.sO,e.SQExprBuilder.dateTime=m.CQ,e.SQExprBuilder.dateSpan=m.uQ,e.SQExprBuilder.decimal=m.gH,e.SQExprBuilder.double=m.tx,e.SQExprBuilder.integer=m.cA,e.SQExprBuilder.text=m.fL,e.SQExprBuilder.typedConstant=m.kQ,e.SQExprBuilder.fromRawValue=m.f7,e.SQExprBuilder.sparklineData=m.Zy,e.SQExprBuilder.setAggregate=m.k6,e.SQExprBuilder.removeAggregate=m.nI,e.SQExprBuilder.setPercentOfGrandTotal=m.Fl,e.SQExprBuilder.removePercentOfGrandTotal=m.HU,e.SQExprBuilder.setPercentOfRoleTotal=m.zZ,e.SQExprBuilder.removePercentOfRoleTotal=m.EW,e.SQExprBuilder.removeEntityVariables=m.p7,e.SQExprBuilder.setVisualCalcExpression=m.eu,e.SQExprBuilder.fillRule=m.x5,e.SQExprBuilder.themeDataColor=m.e7,e.SQExprBuilder.resourcePackageItem=m.nF,e.SQExprBuilder.discretize=m.h5,e.SQExprBuilder.member=m.fP,e.SQExprBuilder.color=m.$_,e.SQExprBuilder.nativeVisualCalc=m.YU,e.SQExprBuilder.fieldExpr=HV.B,e.SQExprBuilder.fromColumnAggr=fa.dR,e.SQExprBuilder.fromColumn=fa.tg,e.SQExprBuilder.fromGroupingColumnAggr=fa.ym,e.SQExprBuilder.fromGroupingColumn=fa.Gk,e.SQExprBuilder.fromEntity=fa.TI,e.SQExprBuilder.fromEntityAggr=fa.R$,e.SQExprBuilder.fromColumnHierarchyVariation=fa.qP,e.SQExprBuilder.fromColumnHierarchyLevelVariation=fa.$x,e.SQExprBuilder.fromColumnSubquery=fa.W2,e.SQExprBuilder.fromColumnAggrSubquery=fa.vH,e.SQExprBuilder.fromColumnTransformRef=fa.U5,e.SQExprBuilder.fromHierarchyLevelAggr=fa.vf,e.SQExprBuilder.fromHierarchyLevel=fa.lH,e.SQExprBuilder.fromHierarchy=fa.Ig,e.SQExprBuilder.fromArithmetic=fa.jS,e.SQExprBuilder.fromConstant=fa.Bn,e.SQExprBuilder.fromSparklineData=fa.a4,e.SQExprBuilder.fromNativeVisualCalc=fa.Sr),e.Selector={},e.Selector.AllEncompasingKey=xr.xO,e.Selector.isScopeIdentity=xr.yN,e.Selector.isScopeWildcard=xr.QV,e.Selector.isScopeTotal=xr.tQ,e.Selector.isRoleWildcard=xr.j9,e.Selector.isWildcard=xr.qm,e.Selector.isWildcardSelector=xr.N6,e.Selector.toScopeIdentities=xr.CT,e.Selector.getScopeIdentities=xr.gU,e.Selector.filterFromSelector=xr.mV,e.Selector.filterFromSelectorsByColumn=xr.k_,e.Selector.filterExprsFromSelectors=xr.Li,e.Selector.hasIdentities=xr.Yw,e.Selector.equals=xr.fS,e.Selector.equalsDataArray=xr.hp,e.Selector.equalsSelectorsByColumn=xr.Ic,e.Selector.equalsSelectorsByColumnArray=xr.Or,e.Selector.equalsData=xr.cY,e.Selector.getKey=xr.km,e.Selector.getDecomposedKeys=xr.AZ,e.Selector.containsWildcard=xr.GT,e.Selector.hasRoleWildcard=xr._Q,e.Selector.convertSelectorsByColumnToSelector=xr.tV,e.Selector.getSelectorTargetExpr=xr.AV,e.Selector.normalizeSelector=xr.fd,e.Selector.clone=xr.d9,e.SQCompareExpr=m.wU,e.createDataViewScopeIdentity=Pt.TZ,e.createDisplayNameGetter=sr.V,e.DataViewObjectDefinitions={},e.DataViewObjectDefinitions.allPropertiesAreEqual=Rr.Pg,e.DataViewObjectDefinitions.clone=Rr.d9,e.DataViewObjectDefinitions.cloneDefinitions=Rr.dn,e.DataViewObjectDefinitions.deleteObjectDefinition=Rr.AV,e.DataViewObjectDefinitions.deleteProperties=Rr.Gc,e.DataViewObjectDefinitions.deleteProperty=Rr.E2,e.DataViewObjectDefinitions.encodePropertyValue=Rr.Lo,e.DataViewObjectDefinitions.ensure=Rr.zx,e.DataViewObjectDefinitions.extend=Rr.l7,e.DataViewObjectDefinitions.getDataBoundExprs=WV,e.DataViewObjectDefinitions.getDataBoundExprsAndValueRef=jV,e.DataViewObjectDefinitions.getObjectDefinition=Rr.my,e.DataViewObjectDefinitions.getObjectDefinitions=Rr.GQ,e.DataViewObjectDefinitions.getPropertyContainer=Rr.ug,e.DataViewObjectDefinitions.getUnequalProperties=Rr.hu,e.DataViewObjectDefinitions.getValue=Rr.NA,e.DataViewObjectDefinitions.getValueFormatting=Rr.hO,e.DataViewObjectDefinitions.isEmpty=Rr.xb,e.DataViewObjectDefinitions.isObjectPropertySQExpr=Rr.Rc,e.DataViewObjectDefinitions.isObjectPropertySQExprWithContext=Rr.er,e.DataViewObjectDefinitions.isPropertyDefinition=Rr.e4,e.DataViewObjectDefinitions.moveProperty=Rr.TX,e.DataViewObjectDefinitions.propertiesAreEqual=Rr.ES,e.DataViewObjectDefinitions.reduce=Rr.u4,e.DataViewObjectDefinitions.setValue=Rr.sO,e.DataViewObjectDefinitions.setValueFormatting=Rr.On,e.DataViewObjectDefinitions.updateSelector=Rr.xl,e.DataViewObjectDefinitions.visitPropertyDefinitions=Rr.rQ,e.DataViewObjectDefinitions.visitPropertyExprs=Rr.Vj;var r=function(){var t=Vo();return t.extensibility||(t.extensibility={}),t.extensibility}();r.createColorPalette=Ya,r.createExtendedColorPalette=Ir,r.getVisualApiVersions=Ln;var a=(0,In.Z7)();a.buildValueDetailsForColumnValue=ca.Y,a.SelectionId=ca.l0,a.SelectionIdBuilder=ca.dw;var i=function(){var t=(0,In.Z7)();return t.valueFormatter||(t.valueFormatter={}),t.valueFormatter}();i.beautifyTrace=Sa.J6,i.allowFormatBeautificationTraced=Sa.CH,i.getLocalizedString=Sa.Z,i.getFormatMetadata=Sa.G2,i.setLocaleOptions=Sa.X0,i.createDefaultFormatter=Sa.E3,i.create=Sa.Ue,i.format=Sa.WU,i.formatVariantMeasureValueWithDataPointObjects=Sa.kA,i.createDisplayUnitSystem=Sa.Ym,i.getDisplayUnits=Sa.p$,i.getFormatString=Sa.EO,i.getDefaultFormatString=Sa.v1,i.getLabelPrecision=Sa.h1,i.getFormatStringWithDataPointObjects=Sa.eU,i.formatListAnd=Sa.aY,i.formatListOr=Sa.KF}(),(0,In.Z7)().plugins={},XV();var o={promiseFactory:r},s=function(t){return new CD(t)}(a),p=function(t){return new hD(t)}(a),x=new md,U=function(t,e){return n.fF.assertValue(t,"messageProxy"),new ud(t,e)}(a,x),ye={$element:t,hostServices:U,hostServicesControl:U,dataProxy:M_(r),promiseFactory:r,messageProxy:a,resourceLoader:eS(o,null),resourceProvider:{get:function(Re){return Re},getOptional:function(Re){return Re},format:function(Re){return Re}},telemetryProxyService:s,certifiedEventsProxyService:p,instanceId:"",sandboxPromiseHandler:x},_e=U.getQueryStringValue("cspiframe");return a.contentWindow=_e?window.parent.parent:window.parent,new gd(ye,e)}function M_(t){var e=new DD,a={promiseFactory:function(){return t}},i=function(t,e){return new Y(t,e)}(function(t,e){return new V(t,{})}({dsr:{name:"dsr",reader:function(s){return new cv(s,{execute:function(){return t.reject()}},e,{dsrV2:!1},null,void 0,void 0)}}}),a);return function(t,e,r){return new vv(t,e,r)}(t,i,e)}function yd(t,e,r){var o,a=t.content,i=t.hasBeenInjected||bn()&&bn().hasOwnProperty(t.name)&&bn()[t.name].hasBeenInjected;return(!e||!i)&&(go(t.name,a.js,r,t.apiVersion),bo(t.name,a.css)),!t.apiVersion||xi(t.apiVersion,{major:3,minor:0,patch:0})?(n.fF.assertValue(bn()[t.name],"Visual does not have a plugin"),o=bn()[t.name]):(n.fF.assertValue(window[t.name],"Visual does not have a plugin"),o=window[t.name].default),t.apiVersion&&(o.iconUrl=t.iconUrl,o.capabilities=t.capabilities,o.localizationResources=t.localizationResources,o.isDeprecated=t.isDeprecated,o.version=t.version),e&&(o.hasBeenInjected=!0,o.approvedForNoIframe=!0,bn()[t.name]=o),o}var gd=function(){function t(e,r){void 0===r&&(r=!1);var a=this;this.isolate=r,this.isVisualInitialized=!1,this.messageQueue=[],this.relayUIEventListener=function(i){var o=_.pick(i.originalEvent,gl);a.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[o]})},this.relayKeyboardEventListener=function(i){var o=_.pick(i.originalEvent,gl);_.includes(N_,i.key)&&a.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[o]})},this.container=e.$element,this.hostServices=e.hostServices,this.hostServicesControl=e.hostServicesControl,this.dataProxy=e.dataProxy,this.promiseFactory=e.promiseFactory,this.messageProxy=e.messageProxy,this.resourceLoader=e.resourceLoader,this.resourceProvider=e.resourceProvider,this.telemetryProxyService=e.telemetryProxyService,this.certifiedEventsProxyService=e.certifiedEventsProxyService,this.sandboxPromiseHandler=e.sandboxPromiseHandler,this.aggregatedDataViewSize=0,this.dataViewSerializer=new D_,this.skipRedundantResize=!1,this.hostOrigin=new URL(window.location.href).origin,this.messageProxy.on(ws,function(i){return a.onMessageReceived(i)})}return Object.defineProperty(t.prototype,"visual",{get:function(){return this._visual},enumerable:!1,configurable:!0}),t.prototype.init=function(e){this.hostServices.initInstanceId(e.instanceId),this.hostServicesControl.initInstanceId(e.instanceId),this.style=function(t){return{colorPalette:vS(t.colorPalette),isHighContrast:t.isHighContrast,icons:t.icons}}(e.style);var r={animation:e.animation,element:this.container,host:this.hostServices,interactivity:e.interactivity,style:this.style,viewport:e.viewport,localizationResources:this.plugin.localizationResources,hostEnv:e.hostEnv,dataMultiSelectMode:e.dataMultiSelectMode};return this.featureSwitches=e.featureSwitches,this.skipRedundantResize=this.featureSwitches&&this.featureSwitches.cvSkipExtraResize,this.attachRelayUIEventListener(),this.attachWindowResizeListener(),this.visual.init(r)},t.prototype.destroy=function(){this.detachRelayUIEventListener(),this.detachWindowResizeListener(),this.messageProxy.off(ws),this.messageProxy.destroy(),this.visual&&this.visual.destroy&&this.visual.destroy()},t.prototype.categoriesExists=function(e){return!!(e&&e.dataViews&&e.dataViews.length>0&&e.dataViews[0].categorical&&e.dataViews[0].categorical.categories&&e.dataViews[0].categorical.categories.length>0&&e.dataViews[0].categorical.categories[0]&&e.dataViews[0].categorical.categories[0].values)},t.prototype.getHostCategoriesValues=function(e,r,a){try{if(e){if(a)for(var i=0;i<e.length;i++)e[i]&&(e[i]=new Date(e[i]));r.dataViews[0].categorical.categories[0].values=e}}catch(o){this.sendError(o)}return r},t.prototype.update=function(e){var i,r=this,a=e.message.arguments[0];if(this.plugin&&this.plugin.apiVersion&&!xi(this.plugin.apiVersion,"2.0.0")){this.stringifiedDataView=a.serializedDataView?a.serializedDataView.stringifiedDataView:null;var o=!(!this.plugin.capabilities.expandCollapse||!this.plugin.capabilities.dataViewMappings[0].matrix),s=a.serializedDataView?[this.dataViewSerializer.deserializeDataView(a.serializedDataView,Zi(this.plugin.apiVersion,"3.5.9"),o,[],Fu(this.plugin.apiVersion,"5.3.0"))]:[],p=this.lastVisualUpdateOptions={dataViews:s,suppressAnimations:a.suppressAnimations,viewMode:a.viewMode,editMode:a.editMode,viewport:a.viewport,type:a.type,operationKind:Kr.su.Create,resizeMode:a.resizeMode,isInFocus:a.isInFocus,jsonFilters:a.jsonFilters?a.jsonFilters:null,updateId:a.updateId};this.plugin&&this.plugin.apiVersion&&!xi(this.plugin.apiVersion,"3.5.0")?(this.onRestoreCvSelectionIds(a.selections,!Zi(this.plugin.apiVersion,"2.4.0")),this.fixUpdateOptionsAndUpdateVisual(p,e,a)):(this.fixUpdateOptionsAndUpdateVisual(p,e,a),this.onRestoreCvSelectionIds(a.selections,!Zi(this.plugin.apiVersion,"2.4.0")))}else a.dataTransforms&&(i=Eu.deserializeDataViewTransformActions(a.dataTransforms,this.plugin.capabilities||{})),this.transformDataViewSource(a.dataViewSource,i,!0).then(function(x){var U=r.lastVisualUpdateOptions={dataViews:x.dataViews,suppressAnimations:a.suppressAnimations,viewMode:a.viewMode,editMode:a.editMode,viewport:a.viewport,type:a.type,operationKind:Kr.su.Create,resizeMode:a.resizeMode,isInFocus:a.isInFocus,jsonFilters:a.jsonFilters?a.jsonFilters:null,updateId:a.updateId};r.visualHasNullFilter(i)&&r.onRestoreSelection(null),r.fixUpdateOptionsAndUpdateVisual(U,e,a)}).catch(function(x){return r.sendError(x)})},t.prototype.visualHasNullFilter=function(e){var r,a,i,o,s,p,x;if(null!==(s=null===(o=null===(i=null===(a=null===(r=this.plugin)||void 0===r?void 0:r.capabilities)||void 0===a?void 0:a.objects)||void 0===i?void 0:i.general)||void 0===o?void 0:o.properties)&&void 0!==s&&s.filter){var U=null===(p=null==e?void 0:e.objects)||void 0===p?void 0:p.general;if(U&&U.length>0&&null!==(x=U[0])&&void 0!==x&&x.properties&&!U[0].properties.filter)return!0}return!1},t.prototype.updateWithCachedData=function(e){var a,i,o,r=e.message.arguments[0];if(this.plugin&&this.plugin.apiVersion&&!xi(this.plugin.apiVersion,"2.0.0")){if(this.lastVisualUpdateOptions.dataViews&&this.lastVisualUpdateOptions.dataViews[0]&&this.lastVisualUpdateOptions.dataViews[0].metadata){var s=this.lastVisualUpdateOptions.dataViews[0].metadata.segment;this.lastVisualUpdateOptions.dataViews[0].metadata=r.dataViewMetadata?JSON.parse(r.dataViewMetadata):void 0,this.lastVisualUpdateOptions.dataViews[0].metadata.segment=s}i=this.lastVisualUpdateOptions.dataViews,o=!0}else r.dataTransforms&&(a=Eu.deserializeDataViewTransformActions(r.dataTransforms,this.plugin.capabilities||{})),this.lastDataViewTransformApplyOptions.transforms=a,i=ss(this.lastDataViewTransformApplyOptions).dataViews;var p=this.lastVisualUpdateOptions={dataViews:i,suppressAnimations:r.suppressAnimations,viewMode:r.viewMode,editMode:r.editMode,viewport:r.viewport,type:r.type,operationKind:Kr.su.Create,resizeMode:r.resizeMode,isInFocus:r.isInFocus,jsonFilters:r.jsonFilters?r.jsonFilters:null,updateId:r.updateId};this.fixUpdateOptionsAndUpdateVisual(p,e,r,o)},t.prototype.loadResourcePackage=function(e){var r=this;n.fF.assertValue(e,"resourcePackage"),this.resourceLoader.loadVisualPlugin(e).then(function(a){r.plugin=a,r.createAdapter()}).catch(function(){var a=new Error("Unable to load plugin, resource package id: "+e.id);return r.sendError(a)})},t.prototype.createAdapter=function(){var e=this.plugin;if(this.container.addClass("visual-"+e.name),this._visual=function(t,e,r,a,i,o,s){var p=new Rf(t,e,r,a,i,s),x=function(t,e){return t&&(t=new wV(t),e&&(t=new _V(t,e))),t}(p,o);return new NV(x,t,r,a,p.isPluginInError,s)}(e,e.create,this.promiseFactory,this.telemetryProxyService,void 0,void 0,this.certifiedEventsProxyService),!e||!this.visual){var r=new Error("Unable to create visual from plugin "+e.name);return this.sendError(r)}this.flushQueue(),this.isVisualInitialized=!0,this.sendSandboxReady()},t.prototype.loadWithoutResourcePackage=function(e){if(this.plugin)this.sendError(new Error("Plugin is already loaded"));else{var a=e.apiVersion?this.isolate&&xi(e.apiVersion,"3.0.0"):this.isolate;this.plugin=yd(e,!1,a),ho(this.plugin),this.createAdapter()}},t.prototype.enumerateObjectInstances=function(e){if(this.visual.enumerateObjectInstances){var r=this.visual.enumerateObjectInstances(e);if(r){var a=r,i=this.plugin&&this.plugin.apiVersion&&!xi(this.plugin.apiVersion,"2.0.0");return a&&a.instances?i?{instances:a.instances,containers:a.containers}:{instances:vn(a.instances),containers:a.containers?aS(a.containers,this.resourceProvider):null}:i?r:vn(r)}}},t.prototype.enumerateObjectRepetition=function(){if(this.visual.enumerateObjectRepetition){var e=this.visual.enumerateObjectRepetition();return e?function(t){return n.fF.assertValue(t,"repetitions"),_.isEmpty(t)?[]:_.map(t,fS)}(e):void 0}},t.prototype.getFormattingModel=function(){var e,r;return null===(r=(e=this.visual).getFormattingModel)||void 0===r?void 0:r.call(e)},t.prototype.sendUpdateResult=function(){var e=this.container.children("*").length;this.messageProxy.postMessage({eventName:"onUpdateResult",arguments:[e]})},t.prototype.sendSandboxReady=function(){this.messageProxy.postMessage({eventName:"onPluginReady",arguments:[]})},t.prototype.flushQueue=function(){for(;this.messageQueue.length>0;){var e=this.messageQueue.shift();this.executeMessage(e)}},t.prototype.sendError=function(e,r){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{id:r?r.id:null,eventName:r?r.eventName:null,name:e.name,message:e.message,pluginName:this.plugin.name}})},t.prototype.sendErrorMessage=function(e,r){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{eventName:e,message:r,pluginName:this.plugin.name}})},t.prototype.onMessageReceived=function(e){if(this.isVisualInitialized||"loadResourcePackage"===e.message.eventName||"loadWithoutResourcePackage"===e.message.eventName)return this.executeMessage(e);this.messageQueue.push(e)},t.prototype.validateSandboxHostMessage=function(e){var a=this[e.message.eventName];return a?"function"!=typeof a?{error:"not a function"}:a.approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}},t.prototype.validateVisualMessage=function(e){var r=e.message;if(!this.visual)return{error:"unset visual"};var a=this.visual[r.eventName];return a?"function"!=typeof a?{error:"not a function"}:Rf.prototype[r.eventName].approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}},t.prototype.executeMessage=function(e){var a,i,r=e.message,o="SandboxHost.executeMessage rejected message:";if(e.source===window||e.source.parent!==window){if(e.source!==this.messageProxy.contentWindow)return this.sendErrorMessage(r.eventName,"".concat(o," invalid source"));if(e.origin!==this.hostOrigin)return this.sendErrorMessage(r.eventName,"".concat(o," invalid origin"));try{if((a=this.validateSandboxHostMessage(e)).ok)return"update"===r.eventName||"updateWithCachedData"===r.eventName||"handleLoadMoreDataResult"===r.eventName?this[r.eventName].call(this,e):this[r.eventName].apply(this,r.arguments);if((i=this.validateVisualMessage(e)).ok)return this.visual[r.eventName].apply(this.visual,r.arguments)}catch(s){return void this.sendError(s,r)}this.sendErrorMessage(r.eventName,"".concat(o," ").concat(null==a?void 0:a.error,", ").concat(null==i?void 0:i.error))}},t.prototype.transformDataViewSource=function(e,r,a){var i=this,o=this.promiseFactory.defer();return(e?this.createDataView(e):this.promiseFactory.resolve({dataView:null})).then(function(p){var x=ss(i.lastDataViewTransformApplyOptions={prototype:p.dataView,objectDescriptors:i.plugin.capabilities?i.plugin.capabilities.objects:void 0,dataViewMappings:i.plugin.capabilities?i.plugin.capabilities.dataViewMappings:void 0,dataRoles:i.plugin.capabilities?i.plugin.capabilities.dataRoles:void 0,drillCapabilities:i.plugin.capabilities&&i.plugin.capabilities.drilldown,expandCollapseCapabilties:i.plugin.capabilities&&i.plugin.capabilities.expandCollapse,transforms:r,colorAllocatorFactory:(0,Ah.V)(),bypassConcatenation:a,visualStyle:i.style,keepAllMetadataColumnsCapability:!!i.plugin.capabilities&&i.plugin.capabilities.keepAllMetadataColumns,featureSwitches:i.featureSwitches}).dataViews;o.resolve({dataViews:x})}).catch(function(p){return i.sendError(p)}),o.promise},t.prototype.createDataView=function(e){var r=this;n.fF.assertValue(e,"dataViewSource");var a=this.promiseFactory.defer();return this.dataProxy.execute({type:e.type,query:{dataSources:null,command:e.data}}).then(function(o){var p=(0,Jr.ul)(o&&o.dataReaderResult?o.dataReaderResult.dataView:null,r.plugin.capabilities?r.plugin.capabilities.dataViewMappings:null);a.resolve({dataView:p.dataView})}).catch(function(o){return r.sendError(o)}),a.promise},t.prototype.attachWindowResizeListener=function(){$(window).on("resize",this.windowResizeListener.bind(this)),$(window).trigger("resize")},t.prototype.detachWindowResizeListener=function(){$(window).off("resize")},t.prototype.windowResizeListener=function(){if(this.lastVisualUpdateOptions){var e=$(window).height(),r=$(window).width();if(!(this.skipRedundantResize&&this.lastVisualUpdateOptions.viewport&&this.lastVisualUpdateOptions.viewport.width&&this.lastVisualUpdateOptions.viewport.height&&Math.abs(r-this.lastVisualUpdateOptions.viewport.width)<=1&&Math.abs(e-this.lastVisualUpdateOptions.viewport.height)<=1)){var a=(0,Dt.ED)(this.lastVisualUpdateOptions);a.viewport={width:r,height:e,scale:this.lastVisualUpdateOptions.viewport.scale},a.type=Kr.EP.Resize,a.resizeMode=1,this.visual.update(a)}}},t.prototype.attachRelayUIEventListener=function(){$(window).on(hl.join(" "),this.relayKeyboardEventListener),this.container.on(yl.join(" "),this.relayUIEventListener)},t.prototype.detachRelayUIEventListener=function(){$(window).off(hl.join(" "),this.relayKeyboardEventListener),this.container.off(yl.join(" "),this.relayUIEventListener)},t.prototype.handleLoadMoreDataResult=function(e){return(0,ie.mG)(this,void 0,La.J,function(){var r,a,i,o,s,p,x,K=this;return(0,ie.Jh)(this,function(ue){switch(ue.label){case 0:return r=e.message.arguments[1],this.plugin&&this.plugin.apiVersion&&!xi(this.plugin.apiVersion,"2.0.0")?(i=e.message.arguments[2],(a=e.message.arguments[0])&&this.stringifiedDataView!==a.stringifiedDataView?(this.stringifiedDataView=a.stringifiedDataView,o=!(!this.plugin.capabilities.expandCollapse||!this.plugin.capabilities.dataViewMappings[0].matrix),s=[this.dataViewSerializer.deserializeDataView(a,Zi(this.plugin.apiVersion,"3.5.9"),o,i,Fu(this.plugin.apiVersion,"5.3.0"))],this.lastVisualUpdateOptions.type=Kr.EP.Data,r?(Xu(this.lastVisualUpdateOptions.dataViews[0],s[0]),this.lastVisualUpdateOptions.operationKind=Kr.su.Append,[4,this.aggregateDataViewSizeAndUpdateVisual(e.packedSize)]):[3,2]):[3,4]):[3,5];case 1:return ue.sent(),[3,4];case 2:return this.lastVisualUpdateOptions.dataViews[0]=s[0],this.lastVisualUpdateOptions.operationKind=Kr.su.Segment,[4,this.visual.update(this.lastVisualUpdateOptions)];case 3:ue.sent(),ue.label=4;case 4:return[3,9];case 5:return n.fF.assert(function(){return K.lastDataViewTransformApplyOptions&&!!K.lastDataViewTransformApplyOptions.prototype},"Expected to have previous segment already"),(x=(p=e.message.arguments[0])?p.dataReaderResult.dataView:null)?(this.lastVisualUpdateOptions.type=Kr.EP.Data,r?(Xu(this.lastDataViewTransformApplyOptions.prototype,x),this.lastVisualUpdateOptions.dataViews=ss(this.lastDataViewTransformApplyOptions).dataViews,this.lastVisualUpdateOptions.operationKind=Kr.su.Append,[4,this.aggregateDataViewSizeAndUpdateVisual(e.packedSize)]):[3,7]):[3,9];case 6:return ue.sent(),[3,9];case 7:return this.lastVisualUpdateOptions.dataViews[0]=x,this.lastVisualUpdateOptions.operationKind=Kr.su.Segment,[4,this.visual.update(this.lastVisualUpdateOptions)];case 8:ue.sent(),ue.label=9;case 9:return this.messageProxy.postMessage({eventName:"stopProgressBar",arguments:[]}),[2]}})})},t.prototype.aggregateDataViewSizeAndUpdateVisual=function(e){return(0,ie.mG)(this,void 0,La.J,function(){return(0,ie.Jh)(this,function(r){switch(r.label){case 0:return this.aggregatedDataViewSize+=e,this.hostServicesControl.enableLoadMoreData(!(this.aggregatedDataViewSize>=104857600)),[4,this.visual.update(this.lastVisualUpdateOptions)];case 1:return r.sent(),[2]}})})},t.prototype.handleGetResourceUrlResult=function(e){e.isError?this.sandboxPromiseHandler.RejectPromise(e.promiseId,e.payload):this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.payload)},t.prototype.handleGetAADAuthenticationTokenResult=function(e){e.isError?this.sandboxPromiseHandler.RejectPromise(e.promiseId,e.payload):this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e)},t.prototype.handleGetAADTokenResult=function(e){e.isError?this.sandboxPromiseHandler.RejectPromise(e.promiseId,e.payload):this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.payload)},t.prototype.handleGetWACTokenResult=function(e){e.isError?this.sandboxPromiseHandler.RejectPromise2(e.promiseId,e.payload?e.payload:""):this.sandboxPromiseHandler.ResolvePromise2(e.promiseId,e.wacToken)},t.prototype.handleGetStorageStatus=function(e){this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.status)},t.prototype.handleGetStorageData=function(e){e.data?this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.data):this.sandboxPromiseHandler.RejectPromise(e.promiseId)},t.prototype.handleSetStorageData=function(e){e.isError?this.sandboxPromiseHandler.RejectPromise(e.promiseId):this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.freeSpace)},t.prototype.handleGetStorageV2Data=function(e){e.isError||!e.data?this.sandboxPromiseHandler.RejectPromise(e.promiseId):this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.data)},t.prototype.handleSetStorageV2Data=function(e){e.isError?this.sandboxPromiseHandler.RejectPromise(e.promiseId):this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.resultInfo)},t.prototype.handleExportVisualsContentStatus=function(e){void 0!==e.status?this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.status):this.sandboxPromiseHandler.RejectPromise(e.promiseId)},t.prototype.handleExportVisualsContent=function(e){void 0!==e.data?this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.data):this.sandboxPromiseHandler.RejectPromise(e.promiseId)},t.prototype.handleGetWebAccessStatus=function(e){void 0!==e.status?this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.status):this.sandboxPromiseHandler.RejectPromise(e.promiseId)},t.prototype.handleModalDialogResult=function(e){e.isError?this.sandboxPromiseHandler.RejectPromise(e.promiseId,e.data):this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.data)},t.prototype.handleAcquireAADTokenResult=function(e){this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.data)},t.prototype.handleGetAcquireAADTokenStatus=function(e){this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.status)},t.prototype.handleLicenseResult=function(e){e.licenseInfoResult?this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.licenseInfoResult):this.sandboxPromiseHandler.RejectPromise(e.promiseId)},t.prototype.handleLicenseNotificationResult=function(e){null==e.licenseNotificationResult?this.sandboxPromiseHandler.RejectPromise(e.promiseId):this.sandboxPromiseHandler.ResolvePromise(e.promiseId,e.licenseNotificationResult)},t.prototype.onRestoreSelection=function(e){var r=this.hostServices.selectionManager;if(r)if(e&&e.selection){var a=e.selection.map(function(i){return ca.l0.fromSelectorsByColumn(function(t){if(n.fF.assertAnyValue(t,"input"),t){var e={};if(t.dataMap)for(var r in e.dataMap={},t.dataMap)e.dataMap[r]=_.chain(t.dataMap[r]).map(function(a){return yu(a)}).filter(function(a){return null!=a}).value();return t.metadata&&(e.metadata=t.metadata),t.id&&(e.id=t.id),e}}(i))});r.setSelectionIds(a),r.invokeOnSelectCallback(a)}else r.setSelectionIds([]),r.invokeOnSelectCallback([])},t.prototype.onRestoreCvSelectionIds=function(e,r){void 0===r&&(r=!0);var a=this.hostServices.selectionManager;if(a){var i=[];e?(i=_.map(e,function(o){return new Ar(o.serializedDataMap,o.measures)}),a.setSelectionIds(i)):a.setSelectionIds([]),r&&a.invokeOnSelectCallback(i)}},t.prototype.fixUpdateOptionsAndUpdateVisual=function(e,r,a,i){void 0===i&&(i=!1),i||(e=this.categoriesExists(e)?this.getHostCategoriesValues(a.categoriesValues,e,a.isCategoryDate):e,this.hostServicesControl.enableLoadMoreData(!0),this.aggregatedDataViewSize=r.packedSize),this.visual.update(e),this.sendUpdateResult()},(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",Object)],t.prototype,"init",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"destroy",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"update",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"updateWithCachedData",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"loadWithoutResourcePackage",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",Object)],t.prototype,"enumerateObjectInstances",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[]),(0,ie.w6)("design:returntype",Array)],t.prototype,"enumerateObjectRepetition",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[]),(0,ie.w6)("design:returntype",Object)],t.prototype,"getFormattingModel",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",La.J)],t.prototype,"handleLoadMoreDataResult",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleGetResourceUrlResult",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleGetAADAuthenticationTokenResult",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleGetAADTokenResult",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleGetWACTokenResult",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleGetStorageStatus",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleGetStorageData",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleSetStorageData",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleGetStorageV2Data",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleSetStorageV2Data",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleExportVisualsContentStatus",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleExportVisualsContent",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleGetWebAccessStatus",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleModalDialogResult",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleAcquireAADTokenResult",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleGetAcquireAADTokenStatus",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleLicenseResult",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"handleLicenseNotificationResult",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"onRestoreSelection",null),(0,ie.gn)([Cr(),(0,ie.w6)("design:type",Function),(0,ie.w6)("design:paramtypes",[Array,Object]),(0,ie.w6)("design:returntype",void 0)],t.prototype,"onRestoreCvSelectionIds",null),t}();function bd(){if(!Sd){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var t=hd;window.powerbi.visualSandbox.createSandboxHost=function(e,r){return void 0===r&&(r=!1),t(e,r)},Sd=!0}}var Sd=!1;function Cd(){if(!Vd){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var t=vd;window.powerbi.visualSandbox.onSecurityPolicyViolation=function(e){return t(e)},Vd=!0}}bd();var Vd=!1;Cd(),kf()})(),window.customVisualsHost=Lo}();